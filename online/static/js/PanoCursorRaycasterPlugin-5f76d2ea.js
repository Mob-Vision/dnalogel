var y=Object.defineProperty;var v=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var f=(o,t,e)=>t in o?y(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,g=(o,t)=>{for(var e in t||(t={}))B.call(t,e)&&f(o,e,t[e]);if(v)for(var e of v(t))E.call(t,e)&&f(o,e,t[e]);return o};import{g as _,w as h}from"./mockData-9599b365.js";import{r,a as A,u as T,H as k,q as z,b as c,B as S,j as n,t as w,I as O,J as L,k as l,v as M,w as m,x as N,y as W,c as j,z as D,p as I,F as H,R as q}from"./vendor-0e0b86ae.js";function P(){return{width:window.innerWidth,height:window.innerHeight}}function G(){const[o,t]=r.exports.useState(P);return r.exports.useEffect(()=>{const e=()=>t(P());return window.addEventListener("resize",e,!1),()=>window.removeEventListener("resize",e,!1)}),o}const x={STOP:"\u505C\u6B62\u9009\u70B9",START:"\u8FDB\u5165\u9009\u70B9",CLEAR:"\u6E05\u7406"},$=o=>{const e=A().plugins.panoCursorRaycasterPlugin,[d,F]=T(),u=k(),[a,b]=r.exports.useState(!1),[p,C]=r.exports.useState(),R=()=>{b(!a)};return z("wantsTapGesture",()=>{if(u!=="Loaded"){console.warn("five model not ready!");return}if(!a){console.warn("not allow to select point");return}const s=e.intersection();if(!s)return;console.log(s),e.pointAxesHelper(s.point);const i=p||[];return i.push(s.point),C(i),!1},[a,u]),c(S,{children:[n(w,{sx:{position:"fixed",top:"10px",right:"10px",backgroundColor:"transparent"},children:n(O,{size:"large","aria-label":"large button group",orientation:"vertical",children:n(L,{onClick:R,disabled:u!=="Loaded"||d.mode!==l.Mode.Panorama,children:a?x.STOP:x.START})})}),n(w,{sx:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"transparent"},children:c(M,{showLabels:!0,value:d.mode,onChange:(s,i)=>{F({mode:i})},children:[n(m,{label:"\u5168\u666F\u6F2B\u6E38",icon:n(N,{}),value:l.Mode.Panorama}),n(m,{label:"\u7A7A\u95F4\u603B\u89C8",icon:n(W,{}),value:l.Mode.Floorplan})]})})]})},J=j({onlyRenderIfNeeds:!0,plugins:[[_,"panoCursorRaycasterPlugin"]]}),U=()=>{const o=G(),t=D.memo(()=>n(S,{className:"plugin-full-screen-container",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),()=>!0);return h&&c(J,{initialWork:I(h),ref:e=>Object.assign(window,{$five:e==null?void 0:e.five}),children:[n(H,g({},o)),n(t,{}),n($,{})]})};q.render(n(U,{}),document.querySelector("#app"));
