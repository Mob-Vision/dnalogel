function _mergeNamespaces(va,_a){return _a.forEach(function(eo){eo&&typeof eo!="string"&&!Array.isArray(eo)&&Object.keys(eo).forEach(function(to){if(to!=="default"&&!(to in va)){var ro=Object.getOwnPropertyDescriptor(eo,to);Object.defineProperty(va,to,ro.get?ro:{enumerable:!0,get:function(){return eo[to]}})}})}),Object.freeze(va)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(va){if(va.__esModule)return va;var _a=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(va).forEach(function(eo){var to=Object.getOwnPropertyDescriptor(va,eo);Object.defineProperty(_a,eo,to.get?to:{enumerable:!0,get:function(){return va[eo]}})}),_a}var reactDom={exports:{}},reactDom_production_min={},react$1={exports:{}},react_production_min={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(va){if(va==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(va)}function shouldUseNative(){try{if(!Object.assign)return!1;var va=new String("abc");if(va[5]="de",Object.getOwnPropertyNames(va)[0]==="5")return!1;for(var _a={},eo=0;eo<10;eo++)_a["_"+String.fromCharCode(eo)]=eo;var to=Object.getOwnPropertyNames(_a).map(function(no){return _a[no]});if(to.join("")!=="0123456789")return!1;var ro={};return"abcdefghijklmnopqrst".split("").forEach(function(no){ro[no]=no}),Object.keys(Object.assign({},ro)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(va,_a){for(var eo,to=toObject(va),ro,no=1;no<arguments.length;no++){eo=Object(arguments[no]);for(var io in eo)hasOwnProperty.call(eo,io)&&(to[io]=eo[io]);if(getOwnPropertySymbols){ro=getOwnPropertySymbols(eo);for(var ao=0;ao<ro.length;ao++)propIsEnumerable.call(eo,ro[ao])&&(to[ro[ao]]=eo[ro[ao]])}}return to};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=objectAssign,n$6=60103,p$5=60106;react_production_min.Fragment=60107;react_production_min.StrictMode=60108;react_production_min.Profiler=60114;var q$4=60109,r$7=60110,t$5=60112;react_production_min.Suspense=60113;var u$4=60115,v$5=60116;if(typeof Symbol=="function"&&Symbol.for){var w$5=Symbol.for;n$6=w$5("react.element"),p$5=w$5("react.portal"),react_production_min.Fragment=w$5("react.fragment"),react_production_min.StrictMode=w$5("react.strict_mode"),react_production_min.Profiler=w$5("react.profiler"),q$4=w$5("react.provider"),r$7=w$5("react.context"),t$5=w$5("react.forward_ref"),react_production_min.Suspense=w$5("react.suspense"),u$4=w$5("react.memo"),v$5=w$5("react.lazy")}var x$4=typeof Symbol=="function"&&Symbol.iterator;function y$6(va){return va===null||typeof va!="object"?null:(va=x$4&&va[x$4]||va["@@iterator"],typeof va=="function"?va:null)}function z$3(va){for(var _a="https://reactjs.org/docs/error-decoder.html?invariant="+va,eo=1;eo<arguments.length;eo++)_a+="&args[]="+encodeURIComponent(arguments[eo]);return"Minified React error #"+va+"; visit "+_a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A$5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$4={};function C$4(va,_a,eo){this.props=va,this.context=_a,this.refs=B$4,this.updater=eo||A$5}C$4.prototype.isReactComponent={};C$4.prototype.setState=function(va,_a){if(typeof va!="object"&&typeof va!="function"&&va!=null)throw Error(z$3(85));this.updater.enqueueSetState(this,va,_a,"setState")};C$4.prototype.forceUpdate=function(va){this.updater.enqueueForceUpdate(this,va,"forceUpdate")};function D$4(){}D$4.prototype=C$4.prototype;function E$5(va,_a,eo){this.props=va,this.context=_a,this.refs=B$4,this.updater=eo||A$5}var F$4=E$5.prototype=new D$4;F$4.constructor=E$5;l$6(F$4,C$4.prototype);F$4.isPureReactComponent=!0;var G$4={current:null},H$4=Object.prototype.hasOwnProperty,I$4={key:!0,ref:!0,__self:!0,__source:!0};function J$2(va,_a,eo){var to,ro={},no=null,io=null;if(_a!=null)for(to in _a.ref!==void 0&&(io=_a.ref),_a.key!==void 0&&(no=""+_a.key),_a)H$4.call(_a,to)&&!I$4.hasOwnProperty(to)&&(ro[to]=_a[to]);var ao=arguments.length-2;if(ao===1)ro.children=eo;else if(1<ao){for(var oo=Array(ao),so=0;so<ao;so++)oo[so]=arguments[so+2];ro.children=oo}if(va&&va.defaultProps)for(to in ao=va.defaultProps,ao)ro[to]===void 0&&(ro[to]=ao[to]);return{$$typeof:n$6,type:va,key:no,ref:io,props:ro,_owner:G$4.current}}function K$2(va,_a){return{$$typeof:n$6,type:va.type,key:_a,ref:va.ref,props:va.props,_owner:va._owner}}function L$3(va){return typeof va=="object"&&va!==null&&va.$$typeof===n$6}function escape$1(va){var _a={"=":"=0",":":"=2"};return"$"+va.replace(/[=:]/g,function(eo){return _a[eo]})}var M$3=/\/+/g;function N$4(va,_a){return typeof va=="object"&&va!==null&&va.key!=null?escape$1(""+va.key):_a.toString(36)}function O$4(va,_a,eo,to,ro){var no=typeof va;(no==="undefined"||no==="boolean")&&(va=null);var io=!1;if(va===null)io=!0;else switch(no){case"string":case"number":io=!0;break;case"object":switch(va.$$typeof){case n$6:case p$5:io=!0}}if(io)return io=va,ro=ro(io),va=to===""?"."+N$4(io,0):to,Array.isArray(ro)?(eo="",va!=null&&(eo=va.replace(M$3,"$&/")+"/"),O$4(ro,_a,eo,"",function(so){return so})):ro!=null&&(L$3(ro)&&(ro=K$2(ro,eo+(!ro.key||io&&io.key===ro.key?"":(""+ro.key).replace(M$3,"$&/")+"/")+va)),_a.push(ro)),1;if(io=0,to=to===""?".":to+":",Array.isArray(va))for(var ao=0;ao<va.length;ao++){no=va[ao];var oo=to+N$4(no,ao);io+=O$4(no,_a,eo,oo,ro)}else if(oo=y$6(va),typeof oo=="function")for(va=oo.call(va),ao=0;!(no=va.next()).done;)no=no.value,oo=to+N$4(no,ao++),io+=O$4(no,_a,eo,oo,ro);else if(no==="object")throw _a=""+va,Error(z$3(31,_a==="[object Object]"?"object with keys {"+Object.keys(va).join(", ")+"}":_a));return io}function P$4(va,_a,eo){if(va==null)return va;var to=[],ro=0;return O$4(va,to,"","",function(no){return _a.call(eo,no,ro++)}),to}function Q$2(va){if(va._status===-1){var _a=va._result;_a=_a(),va._status=0,va._result=_a,_a.then(function(eo){va._status===0&&(eo=eo.default,va._status=1,va._result=eo)},function(eo){va._status===0&&(va._status=2,va._result=eo)})}if(va._status===1)return va._result;throw va._result}var R$4={current:null};function S$3(){var va=R$4.current;if(va===null)throw Error(z$3(321));return va}var T$2={ReactCurrentDispatcher:R$4,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$4,IsSomeRendererActing:{current:!1},assign:l$6};react_production_min.Children={map:P$4,forEach:function(va,_a,eo){P$4(va,function(){_a.apply(this,arguments)},eo)},count:function(va){var _a=0;return P$4(va,function(){_a++}),_a},toArray:function(va){return P$4(va,function(_a){return _a})||[]},only:function(va){if(!L$3(va))throw Error(z$3(143));return va}};react_production_min.Component=C$4;react_production_min.PureComponent=E$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$2;react_production_min.cloneElement=function(va,_a,eo){if(va==null)throw Error(z$3(267,va));var to=l$6({},va.props),ro=va.key,no=va.ref,io=va._owner;if(_a!=null){if(_a.ref!==void 0&&(no=_a.ref,io=G$4.current),_a.key!==void 0&&(ro=""+_a.key),va.type&&va.type.defaultProps)var ao=va.type.defaultProps;for(oo in _a)H$4.call(_a,oo)&&!I$4.hasOwnProperty(oo)&&(to[oo]=_a[oo]===void 0&&ao!==void 0?ao[oo]:_a[oo])}var oo=arguments.length-2;if(oo===1)to.children=eo;else if(1<oo){ao=Array(oo);for(var so=0;so<oo;so++)ao[so]=arguments[so+2];to.children=ao}return{$$typeof:n$6,type:va.type,key:ro,ref:no,props:to,_owner:io}};react_production_min.createContext=function(va,_a){return _a===void 0&&(_a=null),va={$$typeof:r$7,_calculateChangedBits:_a,_currentValue:va,_currentValue2:va,_threadCount:0,Provider:null,Consumer:null},va.Provider={$$typeof:q$4,_context:va},va.Consumer=va};react_production_min.createElement=J$2;react_production_min.createFactory=function(va){var _a=J$2.bind(null,va);return _a.type=va,_a};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(va){return{$$typeof:t$5,render:va}};react_production_min.isValidElement=L$3;react_production_min.lazy=function(va){return{$$typeof:v$5,_payload:{_status:-1,_result:va},_init:Q$2}};react_production_min.memo=function(va,_a){return{$$typeof:u$4,type:va,compare:_a===void 0?null:_a}};react_production_min.useCallback=function(va,_a){return S$3().useCallback(va,_a)};react_production_min.useContext=function(va,_a){return S$3().useContext(va,_a)};react_production_min.useDebugValue=function(){};react_production_min.useEffect=function(va,_a){return S$3().useEffect(va,_a)};react_production_min.useImperativeHandle=function(va,_a,eo){return S$3().useImperativeHandle(va,_a,eo)};react_production_min.useLayoutEffect=function(va,_a){return S$3().useLayoutEffect(va,_a)};react_production_min.useMemo=function(va,_a){return S$3().useMemo(va,_a)};react_production_min.useReducer=function(va,_a,eo){return S$3().useReducer(va,_a,eo)};react_production_min.useRef=function(va){return S$3().useRef(va)};react_production_min.useState=function(va){return S$3().useState(va)};react_production_min.version="17.0.2";react$1.exports=react_production_min;var React=react$1.exports,React$1=Object.freeze(_mergeNamespaces({__proto__:null,[Symbol.toStringTag]:"Module",default:React},[react$1.exports])),scheduler={exports:{}},scheduler_production_min={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(va){var _a,eo,to,ro;if(typeof performance=="object"&&typeof performance.now=="function"){var no=performance;va.unstable_now=function(){return no.now()}}else{var io=Date,ao=io.now();va.unstable_now=function(){return io.now()-ao}}if(typeof window>"u"||typeof MessageChannel!="function"){var oo=null,so=null,uo=function(){if(oo!==null)try{var Fo=va.unstable_now();oo(!0,Fo),oo=null}catch(Ko){throw setTimeout(uo,0),Ko}};_a=function(Fo){oo!==null?setTimeout(_a,0,Fo):(oo=Fo,setTimeout(uo,0))},eo=function(Fo,Ko){so=setTimeout(Fo,Ko)},to=function(){clearTimeout(so)},va.unstable_shouldYield=function(){return!1},ro=va.unstable_forceFrameRate=function(){}}else{var co=window.setTimeout,fo=window.clearTimeout;if(typeof console<"u"){var po=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof po!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var vo=!1,go=null,mo=-1,lo=5,ho=0;va.unstable_shouldYield=function(){return va.unstable_now()>=ho},ro=function(){},va.unstable_forceFrameRate=function(Fo){0>Fo||125<Fo?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lo=0<Fo?Math.floor(1e3/Fo):5};var yo=new MessageChannel,Ao=yo.port2;yo.port1.onmessage=function(){if(go!==null){var Fo=va.unstable_now();ho=Fo+lo;try{go(!0,Fo)?Ao.postMessage(null):(vo=!1,go=null)}catch(Ko){throw Ao.postMessage(null),Ko}}else vo=!1},_a=function(Fo){go=Fo,vo||(vo=!0,Ao.postMessage(null))},eo=function(Fo,Ko){mo=co(function(){Fo(va.unstable_now())},Ko)},to=function(){fo(mo),mo=-1}}function Eo(Fo,Ko){var $s=Fo.length;Fo.push(Ko);e:for(;;){var au=$s-1>>>1,Ks=Fo[au];if(Ks!==void 0&&0<Co(Ks,Ko))Fo[au]=Ko,Fo[$s]=Ks,$s=au;else break e}}function To(Fo){return Fo=Fo[0],Fo===void 0?null:Fo}function No(Fo){var Ko=Fo[0];if(Ko!==void 0){var $s=Fo.pop();if($s!==Ko){Fo[0]=$s;e:for(var au=0,Ks=Fo.length;au<Ks;){var Gs=2*(au+1)-1,qs=Fo[Gs],lu=Gs+1,ou=Fo[lu];if(qs!==void 0&&0>Co(qs,$s))ou!==void 0&&0>Co(ou,qs)?(Fo[au]=ou,Fo[lu]=$s,au=lu):(Fo[au]=qs,Fo[Gs]=$s,au=Gs);else if(ou!==void 0&&0>Co(ou,$s))Fo[au]=ou,Fo[lu]=$s,au=lu;else break e}}return Ko}return null}function Co(Fo,Ko){var $s=Fo.sortIndex-Ko.sortIndex;return $s!==0?$s:Fo.id-Ko.id}var Io=[],Mo=[],wo=1,xo=null,bo=3,So=!1,Do=!1,Oo=!1;function Bo(Fo){for(var Ko=To(Mo);Ko!==null;){if(Ko.callback===null)No(Mo);else if(Ko.startTime<=Fo)No(Mo),Ko.sortIndex=Ko.expirationTime,Eo(Io,Ko);else break;Ko=To(Mo)}}function $o(Fo){if(Oo=!1,Bo(Fo),!Do)if(To(Io)!==null)Do=!0,_a(Vo);else{var Ko=To(Mo);Ko!==null&&eo($o,Ko.startTime-Fo)}}function Vo(Fo,Ko){Do=!1,Oo&&(Oo=!1,to()),So=!0;var $s=bo;try{for(Bo(Ko),xo=To(Io);xo!==null&&(!(xo.expirationTime>Ko)||Fo&&!va.unstable_shouldYield());){var au=xo.callback;if(typeof au=="function"){xo.callback=null,bo=xo.priorityLevel;var Ks=au(xo.expirationTime<=Ko);Ko=va.unstable_now(),typeof Ks=="function"?xo.callback=Ks:xo===To(Io)&&No(Io),Bo(Ko)}else No(Io);xo=To(Io)}if(xo!==null)var Gs=!0;else{var qs=To(Mo);qs!==null&&eo($o,qs.startTime-Ko),Gs=!1}return Gs}finally{xo=null,bo=$s,So=!1}}var Ho=ro;va.unstable_IdlePriority=5,va.unstable_ImmediatePriority=1,va.unstable_LowPriority=4,va.unstable_NormalPriority=3,va.unstable_Profiling=null,va.unstable_UserBlockingPriority=2,va.unstable_cancelCallback=function(Fo){Fo.callback=null},va.unstable_continueExecution=function(){Do||So||(Do=!0,_a(Vo))},va.unstable_getCurrentPriorityLevel=function(){return bo},va.unstable_getFirstCallbackNode=function(){return To(Io)},va.unstable_next=function(Fo){switch(bo){case 1:case 2:case 3:var Ko=3;break;default:Ko=bo}var $s=bo;bo=Ko;try{return Fo()}finally{bo=$s}},va.unstable_pauseExecution=function(){},va.unstable_requestPaint=Ho,va.unstable_runWithPriority=function(Fo,Ko){switch(Fo){case 1:case 2:case 3:case 4:case 5:break;default:Fo=3}var $s=bo;bo=Fo;try{return Ko()}finally{bo=$s}},va.unstable_scheduleCallback=function(Fo,Ko,$s){var au=va.unstable_now();switch(typeof $s=="object"&&$s!==null?($s=$s.delay,$s=typeof $s=="number"&&0<$s?au+$s:au):$s=au,Fo){case 1:var Ks=-1;break;case 2:Ks=250;break;case 5:Ks=1073741823;break;case 4:Ks=1e4;break;default:Ks=5e3}return Ks=$s+Ks,Fo={id:wo++,callback:Ko,priorityLevel:Fo,startTime:$s,expirationTime:Ks,sortIndex:-1},$s>au?(Fo.sortIndex=$s,Eo(Mo,Fo),To(Io)===null&&Fo===To(Mo)&&(Oo?to():Oo=!0,eo($o,$s-au))):(Fo.sortIndex=Ks,Eo(Io,Fo),Do||So||(Do=!0,_a(Vo))),Fo},va.unstable_wrapCallback=function(Fo){var Ko=bo;return function(){var $s=bo;bo=Ko;try{return Fo.apply(this,arguments)}finally{bo=$s}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=react$1.exports,m$5=objectAssign,r$6=scheduler.exports;function y$5(va){for(var _a="https://reactjs.org/docs/error-decoder.html?invariant="+va,eo=1;eo<arguments.length;eo++)_a+="&args[]="+encodeURIComponent(arguments[eo]);return"Minified React error #"+va+"; visit "+_a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa$1)throw Error(y$5(227));var ba$1=new Set,ca$1={};function da$1(va,_a){ea$1(va,_a),ea$1(va+"Capture",_a)}function ea$1(va,_a){for(ca$1[va]=_a,va=0;va<_a.length;va++)ba$1.add(_a[va])}var fa$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia$1=Object.prototype.hasOwnProperty,ja={},ka={};function la(va){return ia$1.call(ka,va)?!0:ia$1.call(ja,va)?!1:ha$1.test(va)?ka[va]=!0:(ja[va]=!0,!1)}function ma(va,_a,eo,to){if(eo!==null&&eo.type===0)return!1;switch(typeof _a){case"function":case"symbol":return!0;case"boolean":return to?!1:eo!==null?!eo.acceptsBooleans:(va=va.toLowerCase().slice(0,5),va!=="data-"&&va!=="aria-");default:return!1}}function na(va,_a,eo,to){if(_a===null||typeof _a>"u"||ma(va,_a,eo,to))return!0;if(to)return!1;if(eo!==null)switch(eo.type){case 3:return!_a;case 4:return _a===!1;case 5:return isNaN(_a);case 6:return isNaN(_a)||1>_a}return!1}function B$3(va,_a,eo,to,ro,no,io){this.acceptsBooleans=_a===2||_a===3||_a===4,this.attributeName=to,this.attributeNamespace=ro,this.mustUseProperty=eo,this.propertyName=va,this.type=_a,this.sanitizeURL=no,this.removeEmptyString=io}var D$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(va){D$3[va]=new B$3(va,0,!1,va,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(va){var _a=va[0];D$3[_a]=new B$3(_a,1,!1,va[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(va){D$3[va]=new B$3(va,2,!1,va.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(va){D$3[va]=new B$3(va,2,!1,va,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(va){D$3[va]=new B$3(va,3,!1,va.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(va){D$3[va]=new B$3(va,3,!0,va,null,!1,!1)});["capture","download"].forEach(function(va){D$3[va]=new B$3(va,4,!1,va,null,!1,!1)});["cols","rows","size","span"].forEach(function(va){D$3[va]=new B$3(va,6,!1,va,null,!1,!1)});["rowSpan","start"].forEach(function(va){D$3[va]=new B$3(va,5,!1,va.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(va){return va[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(va){var _a=va.replace(oa,pa);D$3[_a]=new B$3(_a,1,!1,va,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(va){var _a=va.replace(oa,pa);D$3[_a]=new B$3(_a,1,!1,va,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(va){var _a=va.replace(oa,pa);D$3[_a]=new B$3(_a,1,!1,va,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(va){D$3[va]=new B$3(va,1,!1,va.toLowerCase(),null,!1,!1)});D$3.xlinkHref=new B$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(va){D$3[va]=new B$3(va,1,!1,va.toLowerCase(),null,!0,!0)});function qa(va,_a,eo,to){var ro=D$3.hasOwnProperty(_a)?D$3[_a]:null,no=ro!==null?ro.type===0:to?!1:!(!(2<_a.length)||_a[0]!=="o"&&_a[0]!=="O"||_a[1]!=="n"&&_a[1]!=="N");no||(na(_a,eo,ro,to)&&(eo=null),to||ro===null?la(_a)&&(eo===null?va.removeAttribute(_a):va.setAttribute(_a,""+eo)):ro.mustUseProperty?va[ro.propertyName]=eo===null?ro.type===3?!1:"":eo:(_a=ro.attributeName,to=ro.attributeNamespace,eo===null?va.removeAttribute(_a):(ro=ro.type,eo=ro===3||ro===4&&eo===!0?"":""+eo,to?va.setAttributeNS(to,_a,eo):va.setAttribute(_a,eo))))}var ra=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if(typeof Symbol=="function"&&Symbol.for){var E$4=Symbol.for;sa=E$4("react.element"),ta=E$4("react.portal"),ua=E$4("react.fragment"),wa=E$4("react.strict_mode"),xa=E$4("react.profiler"),ya=E$4("react.provider"),za=E$4("react.context"),Aa=E$4("react.forward_ref"),Ba=E$4("react.suspense"),Ca=E$4("react.suspense_list"),Da=E$4("react.memo"),Ea=E$4("react.lazy"),Fa=E$4("react.block"),E$4("react.scope"),Ga=E$4("react.opaque.id"),Ha=E$4("react.debug_trace_mode"),Ia=E$4("react.offscreen"),Ja=E$4("react.legacy_hidden")}var Ka=typeof Symbol=="function"&&Symbol.iterator;function La(va){return va===null||typeof va!="object"?null:(va=Ka&&va[Ka]||va["@@iterator"],typeof va=="function"?va:null)}var Ma;function Na(va){if(Ma===void 0)try{throw Error()}catch(eo){var _a=eo.stack.trim().match(/\n( *(at )?)/);Ma=_a&&_a[1]||""}return`
`+Ma+va}var Oa=!1;function Pa(va,_a){if(!va||Oa)return"";Oa=!0;var eo=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_a)if(_a=function(){throw Error()},Object.defineProperty(_a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_a,[])}catch(oo){var to=oo}Reflect.construct(va,[],_a)}else{try{_a.call()}catch(oo){to=oo}va.call(_a.prototype)}else{try{throw Error()}catch(oo){to=oo}va()}}catch(oo){if(oo&&to&&typeof oo.stack=="string"){for(var ro=oo.stack.split(`
`),no=to.stack.split(`
`),io=ro.length-1,ao=no.length-1;1<=io&&0<=ao&&ro[io]!==no[ao];)ao--;for(;1<=io&&0<=ao;io--,ao--)if(ro[io]!==no[ao]){if(io!==1||ao!==1)do if(io--,ao--,0>ao||ro[io]!==no[ao])return`
`+ro[io].replace(" at new "," at ");while(1<=io&&0<=ao);break}}}finally{Oa=!1,Error.prepareStackTrace=eo}return(va=va?va.displayName||va.name:"")?Na(va):""}function Qa(va){switch(va.tag){case 5:return Na(va.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return va=Pa(va.type,!1),va;case 11:return va=Pa(va.type.render,!1),va;case 22:return va=Pa(va.type._render,!1),va;case 1:return va=Pa(va.type,!0),va;default:return""}}function Ra(va){if(va==null)return null;if(typeof va=="function")return va.displayName||va.name||null;if(typeof va=="string")return va;switch(va){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if(typeof va=="object")switch(va.$$typeof){case za:return(va.displayName||"Context")+".Consumer";case ya:return(va._context.displayName||"Context")+".Provider";case Aa:var _a=va.render;return _a=_a.displayName||_a.name||"",va.displayName||(_a!==""?"ForwardRef("+_a+")":"ForwardRef");case Da:return Ra(va.type);case Fa:return Ra(va._render);case Ea:_a=va._payload,va=va._init;try{return Ra(va(_a))}catch{}}return null}function Sa(va){switch(typeof va){case"boolean":case"number":case"object":case"string":case"undefined":return va;default:return""}}function Ta(va){var _a=va.type;return(va=va.nodeName)&&va.toLowerCase()==="input"&&(_a==="checkbox"||_a==="radio")}function Ua(va){var _a=Ta(va)?"checked":"value",eo=Object.getOwnPropertyDescriptor(va.constructor.prototype,_a),to=""+va[_a];if(!va.hasOwnProperty(_a)&&typeof eo<"u"&&typeof eo.get=="function"&&typeof eo.set=="function"){var ro=eo.get,no=eo.set;return Object.defineProperty(va,_a,{configurable:!0,get:function(){return ro.call(this)},set:function(io){to=""+io,no.call(this,io)}}),Object.defineProperty(va,_a,{enumerable:eo.enumerable}),{getValue:function(){return to},setValue:function(io){to=""+io},stopTracking:function(){va._valueTracker=null,delete va[_a]}}}}function Va(va){va._valueTracker||(va._valueTracker=Ua(va))}function Wa(va){if(!va)return!1;var _a=va._valueTracker;if(!_a)return!0;var eo=_a.getValue(),to="";return va&&(to=Ta(va)?va.checked?"true":"false":va.value),va=to,va!==eo?(_a.setValue(va),!0):!1}function Xa(va){if(va=va||(typeof document<"u"?document:void 0),typeof va>"u")return null;try{return va.activeElement||va.body}catch{return va.body}}function Ya(va,_a){var eo=_a.checked;return m$5({},_a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:eo??va._wrapperState.initialChecked})}function Za(va,_a){var eo=_a.defaultValue==null?"":_a.defaultValue,to=_a.checked!=null?_a.checked:_a.defaultChecked;eo=Sa(_a.value!=null?_a.value:eo),va._wrapperState={initialChecked:to,initialValue:eo,controlled:_a.type==="checkbox"||_a.type==="radio"?_a.checked!=null:_a.value!=null}}function $a(va,_a){_a=_a.checked,_a!=null&&qa(va,"checked",_a,!1)}function ab(va,_a){$a(va,_a);var eo=Sa(_a.value),to=_a.type;if(eo!=null)to==="number"?(eo===0&&va.value===""||va.value!=eo)&&(va.value=""+eo):va.value!==""+eo&&(va.value=""+eo);else if(to==="submit"||to==="reset"){va.removeAttribute("value");return}_a.hasOwnProperty("value")?bb(va,_a.type,eo):_a.hasOwnProperty("defaultValue")&&bb(va,_a.type,Sa(_a.defaultValue)),_a.checked==null&&_a.defaultChecked!=null&&(va.defaultChecked=!!_a.defaultChecked)}function cb(va,_a,eo){if(_a.hasOwnProperty("value")||_a.hasOwnProperty("defaultValue")){var to=_a.type;if(!(to!=="submit"&&to!=="reset"||_a.value!==void 0&&_a.value!==null))return;_a=""+va._wrapperState.initialValue,eo||_a===va.value||(va.value=_a),va.defaultValue=_a}eo=va.name,eo!==""&&(va.name=""),va.defaultChecked=!!va._wrapperState.initialChecked,eo!==""&&(va.name=eo)}function bb(va,_a,eo){(_a!=="number"||Xa(va.ownerDocument)!==va)&&(eo==null?va.defaultValue=""+va._wrapperState.initialValue:va.defaultValue!==""+eo&&(va.defaultValue=""+eo))}function db(va){var _a="";return aa$1.Children.forEach(va,function(eo){eo!=null&&(_a+=eo)}),_a}function eb(va,_a){return va=m$5({children:void 0},_a),(_a=db(_a.children))&&(va.children=_a),va}function fb(va,_a,eo,to){if(va=va.options,_a){_a={};for(var ro=0;ro<eo.length;ro++)_a["$"+eo[ro]]=!0;for(eo=0;eo<va.length;eo++)ro=_a.hasOwnProperty("$"+va[eo].value),va[eo].selected!==ro&&(va[eo].selected=ro),ro&&to&&(va[eo].defaultSelected=!0)}else{for(eo=""+Sa(eo),_a=null,ro=0;ro<va.length;ro++){if(va[ro].value===eo){va[ro].selected=!0,to&&(va[ro].defaultSelected=!0);return}_a!==null||va[ro].disabled||(_a=va[ro])}_a!==null&&(_a.selected=!0)}}function gb(va,_a){if(_a.dangerouslySetInnerHTML!=null)throw Error(y$5(91));return m$5({},_a,{value:void 0,defaultValue:void 0,children:""+va._wrapperState.initialValue})}function hb(va,_a){var eo=_a.value;if(eo==null){if(eo=_a.children,_a=_a.defaultValue,eo!=null){if(_a!=null)throw Error(y$5(92));if(Array.isArray(eo)){if(!(1>=eo.length))throw Error(y$5(93));eo=eo[0]}_a=eo}_a==null&&(_a=""),eo=_a}va._wrapperState={initialValue:Sa(eo)}}function ib(va,_a){var eo=Sa(_a.value),to=Sa(_a.defaultValue);eo!=null&&(eo=""+eo,eo!==va.value&&(va.value=eo),_a.defaultValue==null&&va.defaultValue!==eo&&(va.defaultValue=eo)),to!=null&&(va.defaultValue=""+to)}function jb(va){var _a=va.textContent;_a===va._wrapperState.initialValue&&_a!==""&&_a!==null&&(va.value=_a)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(va){switch(va){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(va,_a){return va==null||va==="http://www.w3.org/1999/xhtml"?lb(_a):va==="http://www.w3.org/2000/svg"&&_a==="foreignObject"?"http://www.w3.org/1999/xhtml":va}var nb,ob=function(va){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_a,eo,to,ro){MSApp.execUnsafeLocalFunction(function(){return va(_a,eo,to,ro)})}:va}(function(va,_a){if(va.namespaceURI!==kb.svg||"innerHTML"in va)va.innerHTML=_a;else{for(nb=nb||document.createElement("div"),nb.innerHTML="<svg>"+_a.valueOf().toString()+"</svg>",_a=nb.firstChild;va.firstChild;)va.removeChild(va.firstChild);for(;_a.firstChild;)va.appendChild(_a.firstChild)}});function pb(va,_a){if(_a){var eo=va.firstChild;if(eo&&eo===va.lastChild&&eo.nodeType===3){eo.nodeValue=_a;return}}va.textContent=_a}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(va){rb.forEach(function(_a){_a=_a+va.charAt(0).toUpperCase()+va.substring(1),qb[_a]=qb[va]})});function sb(va,_a,eo){return _a==null||typeof _a=="boolean"||_a===""?"":eo||typeof _a!="number"||_a===0||qb.hasOwnProperty(va)&&qb[va]?(""+_a).trim():_a+"px"}function tb(va,_a){va=va.style;for(var eo in _a)if(_a.hasOwnProperty(eo)){var to=eo.indexOf("--")===0,ro=sb(eo,_a[eo],to);eo==="float"&&(eo="cssFloat"),to?va.setProperty(eo,ro):va[eo]=ro}}var ub=m$5({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(va,_a){if(_a){if(ub[va]&&(_a.children!=null||_a.dangerouslySetInnerHTML!=null))throw Error(y$5(137,va));if(_a.dangerouslySetInnerHTML!=null){if(_a.children!=null)throw Error(y$5(60));if(!(typeof _a.dangerouslySetInnerHTML=="object"&&"__html"in _a.dangerouslySetInnerHTML))throw Error(y$5(61))}if(_a.style!=null&&typeof _a.style!="object")throw Error(y$5(62))}}function wb(va,_a){if(va.indexOf("-")===-1)return typeof _a.is=="string";switch(va){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(va){return va=va.target||va.srcElement||window,va.correspondingUseElement&&(va=va.correspondingUseElement),va.nodeType===3?va.parentNode:va}var yb=null,zb=null,Ab=null;function Bb(va){if(va=Cb(va)){if(typeof yb!="function")throw Error(y$5(280));var _a=va.stateNode;_a&&(_a=Db(_a),yb(va.stateNode,va.type,_a))}}function Eb(va){zb?Ab?Ab.push(va):Ab=[va]:zb=va}function Fb(){if(zb){var va=zb,_a=Ab;if(Ab=zb=null,Bb(va),_a)for(va=0;va<_a.length;va++)Bb(_a[va])}}function Gb(va,_a){return va(_a)}function Hb(va,_a,eo,to,ro){return va(_a,eo,to,ro)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){(zb!==null||Ab!==null)&&(Ib(),Fb())}function Nb(va,_a,eo){if(Lb)return va(_a,eo);Lb=!0;try{return Jb(va,_a,eo)}finally{Lb=!1,Mb()}}function Ob(va,_a){var eo=va.stateNode;if(eo===null)return null;var to=Db(eo);if(to===null)return null;eo=to[_a];e:switch(_a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(to=!to.disabled)||(va=va.type,to=!(va==="button"||va==="input"||va==="select"||va==="textarea")),va=!to;break e;default:va=!1}if(va)return null;if(eo&&typeof eo!="function")throw Error(y$5(231,_a,typeof eo));return eo}var Pb=!1;if(fa$1)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch{Pb=!1}function Rb(va,_a,eo,to,ro,no,io,ao,oo){var so=Array.prototype.slice.call(arguments,3);try{_a.apply(eo,so)}catch(uo){this.onError(uo)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(va){Sb=!0,Tb=va}};function Xb(va,_a,eo,to,ro,no,io,ao,oo){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(va,_a,eo,to,ro,no,io,ao,oo){if(Xb.apply(this,arguments),Sb){if(Sb){var so=Tb;Sb=!1,Tb=null}else throw Error(y$5(198));Ub||(Ub=!0,Vb=so)}}function Zb(va){var _a=va,eo=va;if(va.alternate)for(;_a.return;)_a=_a.return;else{va=_a;do _a=va,(_a.flags&1026)!==0&&(eo=_a.return),va=_a.return;while(va)}return _a.tag===3?eo:null}function $b(va){if(va.tag===13){var _a=va.memoizedState;if(_a===null&&(va=va.alternate,va!==null&&(_a=va.memoizedState)),_a!==null)return _a.dehydrated}return null}function ac(va){if(Zb(va)!==va)throw Error(y$5(188))}function bc(va){var _a=va.alternate;if(!_a){if(_a=Zb(va),_a===null)throw Error(y$5(188));return _a!==va?null:va}for(var eo=va,to=_a;;){var ro=eo.return;if(ro===null)break;var no=ro.alternate;if(no===null){if(to=ro.return,to!==null){eo=to;continue}break}if(ro.child===no.child){for(no=ro.child;no;){if(no===eo)return ac(ro),va;if(no===to)return ac(ro),_a;no=no.sibling}throw Error(y$5(188))}if(eo.return!==to.return)eo=ro,to=no;else{for(var io=!1,ao=ro.child;ao;){if(ao===eo){io=!0,eo=ro,to=no;break}if(ao===to){io=!0,to=ro,eo=no;break}ao=ao.sibling}if(!io){for(ao=no.child;ao;){if(ao===eo){io=!0,eo=no,to=ro;break}if(ao===to){io=!0,to=no,eo=ro;break}ao=ao.sibling}if(!io)throw Error(y$5(189))}}if(eo.alternate!==to)throw Error(y$5(190))}if(eo.tag!==3)throw Error(y$5(188));return eo.stateNode.current===eo?va:_a}function cc(va){if(va=bc(va),!va)return null;for(var _a=va;;){if(_a.tag===5||_a.tag===6)return _a;if(_a.child)_a.child.return=_a,_a=_a.child;else{if(_a===va)break;for(;!_a.sibling;){if(!_a.return||_a.return===va)return null;_a=_a.return}_a.sibling.return=_a.return,_a=_a.sibling}}return null}function dc(va,_a){for(var eo=va.alternate;_a!==null;){if(_a===va||_a===eo)return!0;_a=_a.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(va,_a,eo,to,ro){return{blockedOn:va,domEventName:_a,eventSystemFlags:eo|16,nativeEvent:ro,targetContainers:[to]}}function sc(va,_a){switch(va){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(_a.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(_a.pointerId)}}function tc(va,_a,eo,to,ro,no){return va===null||va.nativeEvent!==no?(va=rc(_a,eo,to,ro,no),_a!==null&&(_a=Cb(_a),_a!==null&&fc(_a)),va):(va.eventSystemFlags|=to,_a=va.targetContainers,ro!==null&&_a.indexOf(ro)===-1&&_a.push(ro),va)}function uc(va,_a,eo,to,ro){switch(_a){case"focusin":return kc=tc(kc,va,_a,eo,to,ro),!0;case"dragenter":return lc=tc(lc,va,_a,eo,to,ro),!0;case"mouseover":return mc=tc(mc,va,_a,eo,to,ro),!0;case"pointerover":var no=ro.pointerId;return nc.set(no,tc(nc.get(no)||null,va,_a,eo,to,ro)),!0;case"gotpointercapture":return no=ro.pointerId,oc.set(no,tc(oc.get(no)||null,va,_a,eo,to,ro)),!0}return!1}function vc(va){var _a=wc(va.target);if(_a!==null){var eo=Zb(_a);if(eo!==null){if(_a=eo.tag,_a===13){if(_a=$b(eo),_a!==null){va.blockedOn=_a,hc(va.lanePriority,function(){r$6.unstable_runWithPriority(va.priority,function(){gc(eo)})});return}}else if(_a===3&&eo.stateNode.hydrate){va.blockedOn=eo.tag===3?eo.stateNode.containerInfo:null;return}}}va.blockedOn=null}function xc(va){if(va.blockedOn!==null)return!1;for(var _a=va.targetContainers;0<_a.length;){var eo=yc(va.domEventName,va.eventSystemFlags,_a[0],va.nativeEvent);if(eo!==null)return _a=Cb(eo),_a!==null&&fc(_a),va.blockedOn=eo,!1;_a.shift()}return!0}function zc(va,_a,eo){xc(va)&&eo.delete(_a)}function Ac(){for(ic=!1;0<jc.length;){var va=jc[0];if(va.blockedOn!==null){va=Cb(va.blockedOn),va!==null&&ec(va);break}for(var _a=va.targetContainers;0<_a.length;){var eo=yc(va.domEventName,va.eventSystemFlags,_a[0],va.nativeEvent);if(eo!==null){va.blockedOn=eo;break}_a.shift()}va.blockedOn===null&&jc.shift()}kc!==null&&xc(kc)&&(kc=null),lc!==null&&xc(lc)&&(lc=null),mc!==null&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(va,_a){va.blockedOn===_a&&(va.blockedOn=null,ic||(ic=!0,r$6.unstable_scheduleCallback(r$6.unstable_NormalPriority,Ac)))}function Cc(va){function _a(ro){return Bc(ro,va)}if(0<jc.length){Bc(jc[0],va);for(var eo=1;eo<jc.length;eo++){var to=jc[eo];to.blockedOn===va&&(to.blockedOn=null)}}for(kc!==null&&Bc(kc,va),lc!==null&&Bc(lc,va),mc!==null&&Bc(mc,va),nc.forEach(_a),oc.forEach(_a),eo=0;eo<pc.length;eo++)to=pc[eo],to.blockedOn===va&&(to.blockedOn=null);for(;0<pc.length&&(eo=pc[0],eo.blockedOn===null);)vc(eo),eo.blockedOn===null&&pc.shift()}function Dc(va,_a){var eo={};return eo[va.toLowerCase()]=_a.toLowerCase(),eo["Webkit"+va]="webkit"+_a,eo["Moz"+va]="moz"+_a,eo}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};fa$1&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(va){if(Fc[va])return Fc[va];if(!Ec[va])return va;var _a=Ec[va],eo;for(eo in _a)if(_a.hasOwnProperty(eo)&&eo in Gc)return Fc[va]=_a[eo];return va}var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(va,_a){for(var eo=0;eo<va.length;eo+=2){var to=va[eo],ro=va[eo+1];ro="on"+(ro[0].toUpperCase()+ro.slice(1)),Nc.set(to,_a),Mc.set(to,ro),da$1(ro,[to])}}var Qc=r$6.unstable_now;Qc();var F$3=8;function Rc(va){if((1&va)!==0)return F$3=15,1;if((2&va)!==0)return F$3=14,2;if((4&va)!==0)return F$3=13,4;var _a=24&va;return _a!==0?(F$3=12,_a):(va&32)!==0?(F$3=11,32):(_a=192&va,_a!==0?(F$3=10,_a):(va&256)!==0?(F$3=9,256):(_a=3584&va,_a!==0?(F$3=8,_a):(va&4096)!==0?(F$3=7,4096):(_a=4186112&va,_a!==0?(F$3=6,_a):(_a=62914560&va,_a!==0?(F$3=5,_a):va&67108864?(F$3=4,67108864):(va&134217728)!==0?(F$3=3,134217728):(_a=805306368&va,_a!==0?(F$3=2,_a):(1073741824&va)!==0?(F$3=1,1073741824):(F$3=8,va))))))}function Sc(va){switch(va){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(va){switch(va){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y$5(358,va))}}function Uc(va,_a){var eo=va.pendingLanes;if(eo===0)return F$3=0;var to=0,ro=0,no=va.expiredLanes,io=va.suspendedLanes,ao=va.pingedLanes;if(no!==0)to=no,ro=F$3=15;else if(no=eo&134217727,no!==0){var oo=no&~io;oo!==0?(to=Rc(oo),ro=F$3):(ao&=no,ao!==0&&(to=Rc(ao),ro=F$3))}else no=eo&~io,no!==0?(to=Rc(no),ro=F$3):ao!==0&&(to=Rc(ao),ro=F$3);if(to===0)return 0;if(to=31-Vc(to),to=eo&((0>to?0:1<<to)<<1)-1,_a!==0&&_a!==to&&(_a&io)===0){if(Rc(_a),ro<=F$3)return _a;F$3=ro}if(_a=va.entangledLanes,_a!==0)for(va=va.entanglements,_a&=to;0<_a;)eo=31-Vc(_a),ro=1<<eo,to|=va[eo],_a&=~ro;return to}function Wc(va){return va=va.pendingLanes&-1073741825,va!==0?va:va&1073741824?1073741824:0}function Xc(va,_a){switch(va){case 15:return 1;case 14:return 2;case 12:return va=Yc(24&~_a),va===0?Xc(10,_a):va;case 10:return va=Yc(192&~_a),va===0?Xc(8,_a):va;case 8:return va=Yc(3584&~_a),va===0&&(va=Yc(4186112&~_a),va===0&&(va=512)),va;case 2:return _a=Yc(805306368&~_a),_a===0&&(_a=268435456),_a}throw Error(y$5(358,va))}function Yc(va){return va&-va}function Zc(va){for(var _a=[],eo=0;31>eo;eo++)_a.push(va);return _a}function $c(va,_a,eo){va.pendingLanes|=_a;var to=_a-1;va.suspendedLanes&=to,va.pingedLanes&=to,va=va.eventTimes,_a=31-Vc(_a),va[_a]=eo}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(va){return va===0?32:31-(bd(va)/cd|0)|0}var dd=r$6.unstable_UserBlockingPriority,ed=r$6.unstable_runWithPriority,fd=!0;function gd(va,_a,eo,to){Kb||Ib();var ro=hd,no=Kb;Kb=!0;try{Hb(ro,va,_a,eo,to)}finally{(Kb=no)||Mb()}}function id(va,_a,eo,to){ed(dd,hd.bind(null,va,_a,eo,to))}function hd(va,_a,eo,to){if(fd){var ro;if((ro=(_a&4)===0)&&0<jc.length&&-1<qc.indexOf(va))va=rc(null,va,_a,eo,to),jc.push(va);else{var no=yc(va,_a,eo,to);if(no===null)ro&&sc(va,to);else{if(ro){if(-1<qc.indexOf(va)){va=rc(no,va,_a,eo,to),jc.push(va);return}if(uc(no,va,_a,eo,to))return;sc(va,to)}jd(va,_a,to,null,eo)}}}}function yc(va,_a,eo,to){var ro=xb(to);if(ro=wc(ro),ro!==null){var no=Zb(ro);if(no===null)ro=null;else{var io=no.tag;if(io===13){if(ro=$b(no),ro!==null)return ro;ro=null}else if(io===3){if(no.stateNode.hydrate)return no.tag===3?no.stateNode.containerInfo:null;ro=null}else no!==ro&&(ro=null)}}return jd(va,_a,to,ro,eo),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var va,_a=ld,eo=_a.length,to,ro="value"in kd?kd.value:kd.textContent,no=ro.length;for(va=0;va<eo&&_a[va]===ro[va];va++);var io=eo-va;for(to=1;to<=io&&_a[eo-to]===ro[no-to];to++);return md=ro.slice(va,1<to?1-to:void 0)}function od(va){var _a=va.keyCode;return"charCode"in va?(va=va.charCode,va===0&&_a===13&&(va=13)):va=_a,va===10&&(va=13),32<=va||va===13?va:0}function pd(){return!0}function qd(){return!1}function rd(va){function _a(eo,to,ro,no,io){this._reactName=eo,this._targetInst=ro,this.type=to,this.nativeEvent=no,this.target=io,this.currentTarget=null;for(var ao in va)va.hasOwnProperty(ao)&&(eo=va[ao],this[ao]=eo?eo(no):no[ao]);return this.isDefaultPrevented=(no.defaultPrevented!=null?no.defaultPrevented:no.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return m$5(_a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var eo=this.nativeEvent;eo&&(eo.preventDefault?eo.preventDefault():typeof eo.returnValue!="unknown"&&(eo.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var eo=this.nativeEvent;eo&&(eo.stopPropagation?eo.stopPropagation():typeof eo.cancelBubble!="unknown"&&(eo.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_a}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(va){return va.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m$5({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m$5({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(va){return va.relatedTarget===void 0?va.fromElement===va.srcElement?va.toElement:va.fromElement:va.relatedTarget},movementX:function(va){return"movementX"in va?va.movementX:(va!==yd&&(yd&&va.type==="mousemove"?(wd=va.screenX-yd.screenX,xd=va.screenY-yd.screenY):xd=wd=0,yd=va),wd)},movementY:function(va){return"movementY"in va?va.movementY:xd}}),Bd=rd(Ad),Cd=m$5({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m$5({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m$5({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m$5({},sd,{clipboardData:function(va){return"clipboardData"in va?va.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m$5({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(va){var _a=this.nativeEvent;return _a.getModifierState?_a.getModifierState(va):(va=Od[va])?!!_a[va]:!1}function zd(){return Pd}var Qd=m$5({},ud,{key:function(va){if(va.key){var _a=Md[va.key]||va.key;if(_a!=="Unidentified")return _a}return va.type==="keypress"?(va=od(va),va===13?"Enter":String.fromCharCode(va)):va.type==="keydown"||va.type==="keyup"?Nd[va.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(va){return va.type==="keypress"?od(va):0},keyCode:function(va){return va.type==="keydown"||va.type==="keyup"?va.keyCode:0},which:function(va){return va.type==="keypress"?od(va):va.type==="keydown"||va.type==="keyup"?va.keyCode:0}}),Rd=rd(Qd),Sd=m$5({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m$5({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m$5({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m$5({},Ad,{deltaX:function(va){return"deltaX"in va?va.deltaX:"wheelDeltaX"in va?-va.wheelDeltaX:0},deltaY:function(va){return"deltaY"in va?va.deltaY:"wheelDeltaY"in va?-va.wheelDeltaY:"wheelDelta"in va?-va.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=fa$1&&"CompositionEvent"in window,be$1=null;fa$1&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=fa$1&&"TextEvent"in window&&!be$1,de$1=fa$1&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(va,_a){switch(va){case"keyup":return $d.indexOf(_a.keyCode)!==-1;case"keydown":return _a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(va){return va=va.detail,typeof va=="object"&&"data"in va?va.data:null}var ie$1=!1;function je$1(va,_a){switch(va){case"compositionend":return he$1(_a);case"keypress":return _a.which!==32?null:(fe$1=!0,ee$1);case"textInput":return va=_a.data,va===ee$1&&fe$1?null:va;default:return null}}function ke$1(va,_a){if(ie$1)return va==="compositionend"||!ae$1&&ge$1(va,_a)?(va=nd(),md=ld=kd=null,ie$1=!1,va):null;switch(va){case"paste":return null;case"keypress":if(!(_a.ctrlKey||_a.altKey||_a.metaKey)||_a.ctrlKey&&_a.altKey){if(_a.char&&1<_a.char.length)return _a.char;if(_a.which)return String.fromCharCode(_a.which)}return null;case"compositionend":return de$1&&_a.locale!=="ko"?null:_a.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(va){var _a=va&&va.nodeName&&va.nodeName.toLowerCase();return _a==="input"?!!le$1[va.type]:_a==="textarea"}function ne$1(va,_a,eo,to){Eb(to),_a=oe$1(_a,"onChange"),0<_a.length&&(eo=new td("onChange","change",null,eo,to),va.push({event:eo,listeners:_a}))}var pe$1=null,qe$1=null;function re$1(va){se$1(va,0)}function te$1(va){var _a=ue$1(va);if(Wa(_a))return va}function ve$1(va,_a){if(va==="change")return _a}var we$1=!1;if(fa$1){var xe$1;if(fa$1){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(va){if(va.propertyName==="value"&&te$1(qe$1)){var _a=[];if(ne$1(_a,qe$1,va,xb(va)),va=re$1,Kb)va(_a);else{Kb=!0;try{Gb(va,_a)}finally{Kb=!1,Mb()}}}}function Ce$1(va,_a,eo){va==="focusin"?(Ae$1(),pe$1=_a,qe$1=eo,pe$1.attachEvent("onpropertychange",Be$1)):va==="focusout"&&Ae$1()}function De$1(va){if(va==="selectionchange"||va==="keyup"||va==="keydown")return te$1(qe$1)}function Ee$1(va,_a){if(va==="click")return te$1(_a)}function Fe$1(va,_a){if(va==="input"||va==="change")return te$1(_a)}function Ge$1(va,_a){return va===_a&&(va!==0||1/va===1/_a)||va!==va&&_a!==_a}var He$1=typeof Object.is=="function"?Object.is:Ge$1,Ie$1=Object.prototype.hasOwnProperty;function Je$1(va,_a){if(He$1(va,_a))return!0;if(typeof va!="object"||va===null||typeof _a!="object"||_a===null)return!1;var eo=Object.keys(va),to=Object.keys(_a);if(eo.length!==to.length)return!1;for(to=0;to<eo.length;to++)if(!Ie$1.call(_a,eo[to])||!He$1(va[eo[to]],_a[eo[to]]))return!1;return!0}function Ke$1(va){for(;va&&va.firstChild;)va=va.firstChild;return va}function Le$1(va,_a){var eo=Ke$1(va);va=0;for(var to;eo;){if(eo.nodeType===3){if(to=va+eo.textContent.length,va<=_a&&to>=_a)return{node:eo,offset:_a-va};va=to}e:{for(;eo;){if(eo.nextSibling){eo=eo.nextSibling;break e}eo=eo.parentNode}eo=void 0}eo=Ke$1(eo)}}function Me$1(va,_a){return va&&_a?va===_a?!0:va&&va.nodeType===3?!1:_a&&_a.nodeType===3?Me$1(va,_a.parentNode):"contains"in va?va.contains(_a):va.compareDocumentPosition?!!(va.compareDocumentPosition(_a)&16):!1:!1}function Ne$1(){for(var va=window,_a=Xa();_a instanceof va.HTMLIFrameElement;){try{var eo=typeof _a.contentWindow.location.href=="string"}catch{eo=!1}if(eo)va=_a.contentWindow;else break;_a=Xa(va.document)}return _a}function Oe$1(va){var _a=va&&va.nodeName&&va.nodeName.toLowerCase();return _a&&(_a==="input"&&(va.type==="text"||va.type==="search"||va.type==="tel"||va.type==="url"||va.type==="password")||_a==="textarea"||va.contentEditable==="true")}var Pe$1=fa$1&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(va,_a,eo){var to=eo.window===eo?eo.document:eo.nodeType===9?eo:eo.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(to)||(to=Qe$1,"selectionStart"in to&&Oe$1(to)?to={start:to.selectionStart,end:to.selectionEnd}:(to=(to.ownerDocument&&to.ownerDocument.defaultView||window).getSelection(),to={anchorNode:to.anchorNode,anchorOffset:to.anchorOffset,focusNode:to.focusNode,focusOffset:to.focusOffset}),Se$1&&Je$1(Se$1,to)||(Se$1=to,to=oe$1(Re$1,"onSelect"),0<to.length&&(_a=new td("onSelect","select",null,_a,eo),va.push({event:_a,listeners:to}),_a.target=Qe$1)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve$1="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We$1=0;We$1<Ve$1.length;We$1++)Nc.set(Ve$1[We$1],0);ea$1("onMouseEnter",["mouseout","mouseover"]);ea$1("onMouseLeave",["mouseout","mouseover"]);ea$1("onPointerEnter",["pointerout","pointerover"]);ea$1("onPointerLeave",["pointerout","pointerover"]);da$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);da$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe$1));function Ze$1(va,_a,eo){var to=va.type||"unknown-event";va.currentTarget=eo,Yb(to,_a,void 0,va),va.currentTarget=null}function se$1(va,_a){_a=(_a&4)!==0;for(var eo=0;eo<va.length;eo++){var to=va[eo],ro=to.event;to=to.listeners;e:{var no=void 0;if(_a)for(var io=to.length-1;0<=io;io--){var ao=to[io],oo=ao.instance,so=ao.currentTarget;if(ao=ao.listener,oo!==no&&ro.isPropagationStopped())break e;Ze$1(ro,ao,so),no=oo}else for(io=0;io<to.length;io++){if(ao=to[io],oo=ao.instance,so=ao.currentTarget,ao=ao.listener,oo!==no&&ro.isPropagationStopped())break e;Ze$1(ro,ao,so),no=oo}}}if(Ub)throw va=Vb,Ub=!1,Vb=null,va}function G$3(va,_a){var eo=$e$1(_a),to=va+"__bubble";eo.has(to)||(af(_a,va,2,!1),eo.add(to))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(va){va[bf]||(va[bf]=!0,ba$1.forEach(function(_a){Ye$1.has(_a)||df(_a,!1,va,null),df(_a,!0,va,null)}))}function df(va,_a,eo,to){var ro=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,no=eo;if(va==="selectionchange"&&eo.nodeType!==9&&(no=eo.ownerDocument),to!==null&&!_a&&Ye$1.has(va)){if(va!=="scroll")return;ro|=2,no=to}var io=$e$1(no),ao=va+"__"+(_a?"capture":"bubble");io.has(ao)||(_a&&(ro|=4),af(no,va,ro,_a),io.add(ao))}function af(va,_a,eo,to){var ro=Nc.get(_a);switch(ro===void 0?2:ro){case 0:ro=gd;break;case 1:ro=id;break;default:ro=hd}eo=ro.bind(null,_a,eo,va),ro=void 0,!Pb||_a!=="touchstart"&&_a!=="touchmove"&&_a!=="wheel"||(ro=!0),to?ro!==void 0?va.addEventListener(_a,eo,{capture:!0,passive:ro}):va.addEventListener(_a,eo,!0):ro!==void 0?va.addEventListener(_a,eo,{passive:ro}):va.addEventListener(_a,eo,!1)}function jd(va,_a,eo,to,ro){var no=to;if((_a&1)===0&&(_a&2)===0&&to!==null)e:for(;;){if(to===null)return;var io=to.tag;if(io===3||io===4){var ao=to.stateNode.containerInfo;if(ao===ro||ao.nodeType===8&&ao.parentNode===ro)break;if(io===4)for(io=to.return;io!==null;){var oo=io.tag;if((oo===3||oo===4)&&(oo=io.stateNode.containerInfo,oo===ro||oo.nodeType===8&&oo.parentNode===ro))return;io=io.return}for(;ao!==null;){if(io=wc(ao),io===null)return;if(oo=io.tag,oo===5||oo===6){to=no=io;continue e}ao=ao.parentNode}}to=to.return}Nb(function(){var so=no,uo=xb(eo),co=[];e:{var fo=Mc.get(va);if(fo!==void 0){var po=td,vo=va;switch(va){case"keypress":if(od(eo)===0)break e;case"keydown":case"keyup":po=Rd;break;case"focusin":vo="focus",po=Fd;break;case"focusout":vo="blur",po=Fd;break;case"beforeblur":case"afterblur":po=Fd;break;case"click":if(eo.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":po=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":po=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":po=Vd;break;case Ic:case Jc:case Kc:po=Hd;break;case Lc:po=Xd;break;case"scroll":po=vd;break;case"wheel":po=Zd;break;case"copy":case"cut":case"paste":po=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":po=Td}var go=(_a&4)!==0,mo=!go&&va==="scroll",lo=go?fo!==null?fo+"Capture":null:fo;go=[];for(var ho=so,yo;ho!==null;){yo=ho;var Ao=yo.stateNode;if(yo.tag===5&&Ao!==null&&(yo=Ao,lo!==null&&(Ao=Ob(ho,lo),Ao!=null&&go.push(ef(ho,Ao,yo)))),mo)break;ho=ho.return}0<go.length&&(fo=new po(fo,vo,null,eo,uo),co.push({event:fo,listeners:go}))}}if((_a&7)===0){e:{if(fo=va==="mouseover"||va==="pointerover",po=va==="mouseout"||va==="pointerout",fo&&(_a&16)===0&&(vo=eo.relatedTarget||eo.fromElement)&&(wc(vo)||vo[ff]))break e;if((po||fo)&&(fo=uo.window===uo?uo:(fo=uo.ownerDocument)?fo.defaultView||fo.parentWindow:window,po?(vo=eo.relatedTarget||eo.toElement,po=so,vo=vo?wc(vo):null,vo!==null&&(mo=Zb(vo),vo!==mo||vo.tag!==5&&vo.tag!==6)&&(vo=null)):(po=null,vo=so),po!==vo)){if(go=Bd,Ao="onMouseLeave",lo="onMouseEnter",ho="mouse",(va==="pointerout"||va==="pointerover")&&(go=Td,Ao="onPointerLeave",lo="onPointerEnter",ho="pointer"),mo=po==null?fo:ue$1(po),yo=vo==null?fo:ue$1(vo),fo=new go(Ao,ho+"leave",po,eo,uo),fo.target=mo,fo.relatedTarget=yo,Ao=null,wc(uo)===so&&(go=new go(lo,ho+"enter",vo,eo,uo),go.target=yo,go.relatedTarget=mo,Ao=go),mo=Ao,po&&vo)t:{for(go=po,lo=vo,ho=0,yo=go;yo;yo=gf(yo))ho++;for(yo=0,Ao=lo;Ao;Ao=gf(Ao))yo++;for(;0<ho-yo;)go=gf(go),ho--;for(;0<yo-ho;)lo=gf(lo),yo--;for(;ho--;){if(go===lo||lo!==null&&go===lo.alternate)break t;go=gf(go),lo=gf(lo)}go=null}else go=null;po!==null&&hf(co,fo,po,go,!1),vo!==null&&mo!==null&&hf(co,mo,vo,go,!0)}}e:{if(fo=so?ue$1(so):window,po=fo.nodeName&&fo.nodeName.toLowerCase(),po==="select"||po==="input"&&fo.type==="file")var Eo=ve$1;else if(me$1(fo))if(we$1)Eo=Fe$1;else{Eo=De$1;var To=Ce$1}else(po=fo.nodeName)&&po.toLowerCase()==="input"&&(fo.type==="checkbox"||fo.type==="radio")&&(Eo=Ee$1);if(Eo&&(Eo=Eo(va,so))){ne$1(co,Eo,eo,uo);break e}To&&To(va,fo,so),va==="focusout"&&(To=fo._wrapperState)&&To.controlled&&fo.type==="number"&&bb(fo,"number",fo.value)}switch(To=so?ue$1(so):window,va){case"focusin":(me$1(To)||To.contentEditable==="true")&&(Qe$1=To,Re$1=so,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(co,eo,uo);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(co,eo,uo)}var No;if(ae$1)e:{switch(va){case"compositionstart":var Co="onCompositionStart";break e;case"compositionend":Co="onCompositionEnd";break e;case"compositionupdate":Co="onCompositionUpdate";break e}Co=void 0}else ie$1?ge$1(va,eo)&&(Co="onCompositionEnd"):va==="keydown"&&eo.keyCode===229&&(Co="onCompositionStart");Co&&(de$1&&eo.locale!=="ko"&&(ie$1||Co!=="onCompositionStart"?Co==="onCompositionEnd"&&ie$1&&(No=nd()):(kd=uo,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),To=oe$1(so,Co),0<To.length&&(Co=new Ld(Co,va,null,eo,uo),co.push({event:Co,listeners:To}),No?Co.data=No:(No=he$1(eo),No!==null&&(Co.data=No)))),(No=ce$1?je$1(va,eo):ke$1(va,eo))&&(so=oe$1(so,"onBeforeInput"),0<so.length&&(uo=new Ld("onBeforeInput","beforeinput",null,eo,uo),co.push({event:uo,listeners:so}),uo.data=No))}se$1(co,_a)})}function ef(va,_a,eo){return{instance:va,listener:_a,currentTarget:eo}}function oe$1(va,_a){for(var eo=_a+"Capture",to=[];va!==null;){var ro=va,no=ro.stateNode;ro.tag===5&&no!==null&&(ro=no,no=Ob(va,eo),no!=null&&to.unshift(ef(va,no,ro)),no=Ob(va,_a),no!=null&&to.push(ef(va,no,ro))),va=va.return}return to}function gf(va){if(va===null)return null;do va=va.return;while(va&&va.tag!==5);return va||null}function hf(va,_a,eo,to,ro){for(var no=_a._reactName,io=[];eo!==null&&eo!==to;){var ao=eo,oo=ao.alternate,so=ao.stateNode;if(oo!==null&&oo===to)break;ao.tag===5&&so!==null&&(ao=so,ro?(oo=Ob(eo,no),oo!=null&&io.unshift(ef(eo,oo,ao))):ro||(oo=Ob(eo,no),oo!=null&&io.push(ef(eo,oo,ao)))),eo=eo.return}io.length!==0&&va.push({event:_a,listeners:io})}function jf(){}var kf=null,lf=null;function mf(va,_a){switch(va){case"button":case"input":case"select":case"textarea":return!!_a.autoFocus}return!1}function nf(va,_a){return va==="textarea"||va==="option"||va==="noscript"||typeof _a.children=="string"||typeof _a.children=="number"||typeof _a.dangerouslySetInnerHTML=="object"&&_a.dangerouslySetInnerHTML!==null&&_a.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(va){va.nodeType===1?va.textContent="":va.nodeType===9&&(va=va.body,va!=null&&(va.textContent=""))}function rf(va){for(;va!=null;va=va.nextSibling){var _a=va.nodeType;if(_a===1||_a===3)break}return va}function sf(va){va=va.previousSibling;for(var _a=0;va;){if(va.nodeType===8){var eo=va.data;if(eo==="$"||eo==="$!"||eo==="$?"){if(_a===0)return va;_a--}else eo==="/$"&&_a++}va=va.previousSibling}return null}var tf=0;function uf(va){return{$$typeof:Ga,toString:va,valueOf:va}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(va){var _a=va[wf];if(_a)return _a;for(var eo=va.parentNode;eo;){if(_a=eo[ff]||eo[wf]){if(eo=_a.alternate,_a.child!==null||eo!==null&&eo.child!==null)for(va=sf(va);va!==null;){if(eo=va[wf])return eo;va=sf(va)}return _a}va=eo,eo=va.parentNode}return null}function Cb(va){return va=va[wf]||va[ff],!va||va.tag!==5&&va.tag!==6&&va.tag!==13&&va.tag!==3?null:va}function ue$1(va){if(va.tag===5||va.tag===6)return va.stateNode;throw Error(y$5(33))}function Db(va){return va[xf]||null}function $e$1(va){var _a=va[yf];return _a===void 0&&(_a=va[yf]=new Set),_a}var zf=[],Af=-1;function Bf(va){return{current:va}}function H$3(va){0>Af||(va.current=zf[Af],zf[Af]=null,Af--)}function I$3(va,_a){Af++,zf[Af]=va.current,va.current=_a}var Cf={},M$2=Bf(Cf),N$3=Bf(!1),Df=Cf;function Ef(va,_a){var eo=va.type.contextTypes;if(!eo)return Cf;var to=va.stateNode;if(to&&to.__reactInternalMemoizedUnmaskedChildContext===_a)return to.__reactInternalMemoizedMaskedChildContext;var ro={},no;for(no in eo)ro[no]=_a[no];return to&&(va=va.stateNode,va.__reactInternalMemoizedUnmaskedChildContext=_a,va.__reactInternalMemoizedMaskedChildContext=ro),ro}function Ff(va){return va=va.childContextTypes,va!=null}function Gf(){H$3(N$3),H$3(M$2)}function Hf(va,_a,eo){if(M$2.current!==Cf)throw Error(y$5(168));I$3(M$2,_a),I$3(N$3,eo)}function If(va,_a,eo){var to=va.stateNode;if(va=_a.childContextTypes,typeof to.getChildContext!="function")return eo;to=to.getChildContext();for(var ro in to)if(!(ro in va))throw Error(y$5(108,Ra(_a)||"Unknown",ro));return m$5({},eo,to)}function Jf(va){return va=(va=va.stateNode)&&va.__reactInternalMemoizedMergedChildContext||Cf,Df=M$2.current,I$3(M$2,va),I$3(N$3,N$3.current),!0}function Kf(va,_a,eo){var to=va.stateNode;if(!to)throw Error(y$5(169));eo?(va=If(va,_a,Df),to.__reactInternalMemoizedMergedChildContext=va,H$3(N$3),H$3(M$2),I$3(M$2,va)):H$3(N$3),I$3(N$3,eo)}var Lf=null,Mf=null,Nf=r$6.unstable_runWithPriority,Of=r$6.unstable_scheduleCallback,Pf=r$6.unstable_cancelCallback,Qf=r$6.unstable_shouldYield,Rf=r$6.unstable_requestPaint,Sf=r$6.unstable_now,Tf=r$6.unstable_getCurrentPriorityLevel,Uf=r$6.unstable_ImmediatePriority,Vf=r$6.unstable_UserBlockingPriority,Wf=r$6.unstable_NormalPriority,Xf=r$6.unstable_LowPriority,Yf=r$6.unstable_IdlePriority,Zf={},$f=Rf!==void 0?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O$3=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y$5(332))}}function fg(va){switch(va){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y$5(332))}}function gg(va,_a){return va=fg(va),Nf(va,_a)}function hg(va,_a,eo){return va=fg(va),Of(va,_a,eo)}function ig(){if(bg!==null){var va=bg;bg=null,Pf(va)}jg()}function jg(){if(!cg&&ag!==null){cg=!0;var va=0;try{var _a=ag;gg(99,function(){for(;va<_a.length;va++){var eo=_a[va];do eo=eo(!0);while(eo!==null)}}),ag=null}catch(eo){throw ag!==null&&(ag=ag.slice(va+1)),Of(Uf,ig),eo}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(va,_a){if(va&&va.defaultProps){_a=m$5({},_a),va=va.defaultProps;for(var eo in va)_a[eo]===void 0&&(_a[eo]=va[eo]);return _a}return _a}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(va){var _a=mg.current;H$3(mg),va.type._context._currentValue=_a}function sg(va,_a){for(;va!==null;){var eo=va.alternate;if((va.childLanes&_a)===_a){if(eo===null||(eo.childLanes&_a)===_a)break;eo.childLanes|=_a}else va.childLanes|=_a,eo!==null&&(eo.childLanes|=_a);va=va.return}}function tg(va,_a){ng=va,pg=og=null,va=va.dependencies,va!==null&&va.firstContext!==null&&((va.lanes&_a)!==0&&(ug=!0),va.firstContext=null)}function vg(va,_a){if(pg!==va&&_a!==!1&&_a!==0)if((typeof _a!="number"||_a===1073741823)&&(pg=va,_a=1073741823),_a={context:va,observedBits:_a,next:null},og===null){if(ng===null)throw Error(y$5(308));og=_a,ng.dependencies={lanes:0,firstContext:_a,responders:null}}else og=og.next=_a;return va._currentValue}var wg=!1;function xg(va){va.updateQueue={baseState:va.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(va,_a){va=va.updateQueue,_a.updateQueue===va&&(_a.updateQueue={baseState:va.baseState,firstBaseUpdate:va.firstBaseUpdate,lastBaseUpdate:va.lastBaseUpdate,shared:va.shared,effects:va.effects})}function zg(va,_a){return{eventTime:va,lane:_a,tag:0,payload:null,callback:null,next:null}}function Ag(va,_a){if(va=va.updateQueue,va!==null){va=va.shared;var eo=va.pending;eo===null?_a.next=_a:(_a.next=eo.next,eo.next=_a),va.pending=_a}}function Bg(va,_a){var eo=va.updateQueue,to=va.alternate;if(to!==null&&(to=to.updateQueue,eo===to)){var ro=null,no=null;if(eo=eo.firstBaseUpdate,eo!==null){do{var io={eventTime:eo.eventTime,lane:eo.lane,tag:eo.tag,payload:eo.payload,callback:eo.callback,next:null};no===null?ro=no=io:no=no.next=io,eo=eo.next}while(eo!==null);no===null?ro=no=_a:no=no.next=_a}else ro=no=_a;eo={baseState:to.baseState,firstBaseUpdate:ro,lastBaseUpdate:no,shared:to.shared,effects:to.effects},va.updateQueue=eo;return}va=eo.lastBaseUpdate,va===null?eo.firstBaseUpdate=_a:va.next=_a,eo.lastBaseUpdate=_a}function Cg(va,_a,eo,to){var ro=va.updateQueue;wg=!1;var no=ro.firstBaseUpdate,io=ro.lastBaseUpdate,ao=ro.shared.pending;if(ao!==null){ro.shared.pending=null;var oo=ao,so=oo.next;oo.next=null,io===null?no=so:io.next=so,io=oo;var uo=va.alternate;if(uo!==null){uo=uo.updateQueue;var co=uo.lastBaseUpdate;co!==io&&(co===null?uo.firstBaseUpdate=so:co.next=so,uo.lastBaseUpdate=oo)}}if(no!==null){co=ro.baseState,io=0,uo=so=oo=null;do{ao=no.lane;var fo=no.eventTime;if((to&ao)===ao){uo!==null&&(uo=uo.next={eventTime:fo,lane:0,tag:no.tag,payload:no.payload,callback:no.callback,next:null});e:{var po=va,vo=no;switch(ao=_a,fo=eo,vo.tag){case 1:if(po=vo.payload,typeof po=="function"){co=po.call(fo,co,ao);break e}co=po;break e;case 3:po.flags=po.flags&-4097|64;case 0:if(po=vo.payload,ao=typeof po=="function"?po.call(fo,co,ao):po,ao==null)break e;co=m$5({},co,ao);break e;case 2:wg=!0}}no.callback!==null&&(va.flags|=32,ao=ro.effects,ao===null?ro.effects=[no]:ao.push(no))}else fo={eventTime:fo,lane:ao,tag:no.tag,payload:no.payload,callback:no.callback,next:null},uo===null?(so=uo=fo,oo=co):uo=uo.next=fo,io|=ao;if(no=no.next,no===null){if(ao=ro.shared.pending,ao===null)break;no=ao.next,ao.next=null,ro.lastBaseUpdate=ao,ro.shared.pending=null}}while(1);uo===null&&(oo=co),ro.baseState=oo,ro.firstBaseUpdate=so,ro.lastBaseUpdate=uo,Dg|=io,va.lanes=io,va.memoizedState=co}}function Eg(va,_a,eo){if(va=_a.effects,_a.effects=null,va!==null)for(_a=0;_a<va.length;_a++){var to=va[_a],ro=to.callback;if(ro!==null){if(to.callback=null,to=eo,typeof ro!="function")throw Error(y$5(191,ro));ro.call(to)}}}var Fg=new aa$1.Component().refs;function Gg(va,_a,eo,to){_a=va.memoizedState,eo=eo(to,_a),eo=eo==null?_a:m$5({},_a,eo),va.memoizedState=eo,va.lanes===0&&(va.updateQueue.baseState=eo)}var Kg={isMounted:function(va){return(va=va._reactInternals)?Zb(va)===va:!1},enqueueSetState:function(va,_a,eo){va=va._reactInternals;var to=Hg(),ro=Ig(va),no=zg(to,ro);no.payload=_a,eo!=null&&(no.callback=eo),Ag(va,no),Jg(va,ro,to)},enqueueReplaceState:function(va,_a,eo){va=va._reactInternals;var to=Hg(),ro=Ig(va),no=zg(to,ro);no.tag=1,no.payload=_a,eo!=null&&(no.callback=eo),Ag(va,no),Jg(va,ro,to)},enqueueForceUpdate:function(va,_a){va=va._reactInternals;var eo=Hg(),to=Ig(va),ro=zg(eo,to);ro.tag=2,_a!=null&&(ro.callback=_a),Ag(va,ro),Jg(va,to,eo)}};function Lg(va,_a,eo,to,ro,no,io){return va=va.stateNode,typeof va.shouldComponentUpdate=="function"?va.shouldComponentUpdate(to,no,io):_a.prototype&&_a.prototype.isPureReactComponent?!Je$1(eo,to)||!Je$1(ro,no):!0}function Mg(va,_a,eo){var to=!1,ro=Cf,no=_a.contextType;return typeof no=="object"&&no!==null?no=vg(no):(ro=Ff(_a)?Df:M$2.current,to=_a.contextTypes,no=(to=to!=null)?Ef(va,ro):Cf),_a=new _a(eo,no),va.memoizedState=_a.state!==null&&_a.state!==void 0?_a.state:null,_a.updater=Kg,va.stateNode=_a,_a._reactInternals=va,to&&(va=va.stateNode,va.__reactInternalMemoizedUnmaskedChildContext=ro,va.__reactInternalMemoizedMaskedChildContext=no),_a}function Ng(va,_a,eo,to){va=_a.state,typeof _a.componentWillReceiveProps=="function"&&_a.componentWillReceiveProps(eo,to),typeof _a.UNSAFE_componentWillReceiveProps=="function"&&_a.UNSAFE_componentWillReceiveProps(eo,to),_a.state!==va&&Kg.enqueueReplaceState(_a,_a.state,null)}function Og(va,_a,eo,to){var ro=va.stateNode;ro.props=eo,ro.state=va.memoizedState,ro.refs=Fg,xg(va);var no=_a.contextType;typeof no=="object"&&no!==null?ro.context=vg(no):(no=Ff(_a)?Df:M$2.current,ro.context=Ef(va,no)),Cg(va,eo,ro,to),ro.state=va.memoizedState,no=_a.getDerivedStateFromProps,typeof no=="function"&&(Gg(va,_a,no,eo),ro.state=va.memoizedState),typeof _a.getDerivedStateFromProps=="function"||typeof ro.getSnapshotBeforeUpdate=="function"||typeof ro.UNSAFE_componentWillMount!="function"&&typeof ro.componentWillMount!="function"||(_a=ro.state,typeof ro.componentWillMount=="function"&&ro.componentWillMount(),typeof ro.UNSAFE_componentWillMount=="function"&&ro.UNSAFE_componentWillMount(),_a!==ro.state&&Kg.enqueueReplaceState(ro,ro.state,null),Cg(va,eo,ro,to),ro.state=va.memoizedState),typeof ro.componentDidMount=="function"&&(va.flags|=4)}var Pg=Array.isArray;function Qg(va,_a,eo){if(va=eo.ref,va!==null&&typeof va!="function"&&typeof va!="object"){if(eo._owner){if(eo=eo._owner,eo){if(eo.tag!==1)throw Error(y$5(309));var to=eo.stateNode}if(!to)throw Error(y$5(147,va));var ro=""+va;return _a!==null&&_a.ref!==null&&typeof _a.ref=="function"&&_a.ref._stringRef===ro?_a.ref:(_a=function(no){var io=to.refs;io===Fg&&(io=to.refs={}),no===null?delete io[ro]:io[ro]=no},_a._stringRef=ro,_a)}if(typeof va!="string")throw Error(y$5(284));if(!eo._owner)throw Error(y$5(290,va))}return va}function Rg(va,_a){if(va.type!=="textarea")throw Error(y$5(31,Object.prototype.toString.call(_a)==="[object Object]"?"object with keys {"+Object.keys(_a).join(", ")+"}":_a))}function Sg(va){function _a(mo,lo){if(va){var ho=mo.lastEffect;ho!==null?(ho.nextEffect=lo,mo.lastEffect=lo):mo.firstEffect=mo.lastEffect=lo,lo.nextEffect=null,lo.flags=8}}function eo(mo,lo){if(!va)return null;for(;lo!==null;)_a(mo,lo),lo=lo.sibling;return null}function to(mo,lo){for(mo=new Map;lo!==null;)lo.key!==null?mo.set(lo.key,lo):mo.set(lo.index,lo),lo=lo.sibling;return mo}function ro(mo,lo){return mo=Tg(mo,lo),mo.index=0,mo.sibling=null,mo}function no(mo,lo,ho){return mo.index=ho,va?(ho=mo.alternate,ho!==null?(ho=ho.index,ho<lo?(mo.flags=2,lo):ho):(mo.flags=2,lo)):lo}function io(mo){return va&&mo.alternate===null&&(mo.flags=2),mo}function ao(mo,lo,ho,yo){return lo===null||lo.tag!==6?(lo=Ug(ho,mo.mode,yo),lo.return=mo,lo):(lo=ro(lo,ho),lo.return=mo,lo)}function oo(mo,lo,ho,yo){return lo!==null&&lo.elementType===ho.type?(yo=ro(lo,ho.props),yo.ref=Qg(mo,lo,ho),yo.return=mo,yo):(yo=Vg(ho.type,ho.key,ho.props,null,mo.mode,yo),yo.ref=Qg(mo,lo,ho),yo.return=mo,yo)}function so(mo,lo,ho,yo){return lo===null||lo.tag!==4||lo.stateNode.containerInfo!==ho.containerInfo||lo.stateNode.implementation!==ho.implementation?(lo=Wg(ho,mo.mode,yo),lo.return=mo,lo):(lo=ro(lo,ho.children||[]),lo.return=mo,lo)}function uo(mo,lo,ho,yo,Ao){return lo===null||lo.tag!==7?(lo=Xg(ho,mo.mode,yo,Ao),lo.return=mo,lo):(lo=ro(lo,ho),lo.return=mo,lo)}function co(mo,lo,ho){if(typeof lo=="string"||typeof lo=="number")return lo=Ug(""+lo,mo.mode,ho),lo.return=mo,lo;if(typeof lo=="object"&&lo!==null){switch(lo.$$typeof){case sa:return ho=Vg(lo.type,lo.key,lo.props,null,mo.mode,ho),ho.ref=Qg(mo,null,lo),ho.return=mo,ho;case ta:return lo=Wg(lo,mo.mode,ho),lo.return=mo,lo}if(Pg(lo)||La(lo))return lo=Xg(lo,mo.mode,ho,null),lo.return=mo,lo;Rg(mo,lo)}return null}function fo(mo,lo,ho,yo){var Ao=lo!==null?lo.key:null;if(typeof ho=="string"||typeof ho=="number")return Ao!==null?null:ao(mo,lo,""+ho,yo);if(typeof ho=="object"&&ho!==null){switch(ho.$$typeof){case sa:return ho.key===Ao?ho.type===ua?uo(mo,lo,ho.props.children,yo,Ao):oo(mo,lo,ho,yo):null;case ta:return ho.key===Ao?so(mo,lo,ho,yo):null}if(Pg(ho)||La(ho))return Ao!==null?null:uo(mo,lo,ho,yo,null);Rg(mo,ho)}return null}function po(mo,lo,ho,yo,Ao){if(typeof yo=="string"||typeof yo=="number")return mo=mo.get(ho)||null,ao(lo,mo,""+yo,Ao);if(typeof yo=="object"&&yo!==null){switch(yo.$$typeof){case sa:return mo=mo.get(yo.key===null?ho:yo.key)||null,yo.type===ua?uo(lo,mo,yo.props.children,Ao,yo.key):oo(lo,mo,yo,Ao);case ta:return mo=mo.get(yo.key===null?ho:yo.key)||null,so(lo,mo,yo,Ao)}if(Pg(yo)||La(yo))return mo=mo.get(ho)||null,uo(lo,mo,yo,Ao,null);Rg(lo,yo)}return null}function vo(mo,lo,ho,yo){for(var Ao=null,Eo=null,To=lo,No=lo=0,Co=null;To!==null&&No<ho.length;No++){To.index>No?(Co=To,To=null):Co=To.sibling;var Io=fo(mo,To,ho[No],yo);if(Io===null){To===null&&(To=Co);break}va&&To&&Io.alternate===null&&_a(mo,To),lo=no(Io,lo,No),Eo===null?Ao=Io:Eo.sibling=Io,Eo=Io,To=Co}if(No===ho.length)return eo(mo,To),Ao;if(To===null){for(;No<ho.length;No++)To=co(mo,ho[No],yo),To!==null&&(lo=no(To,lo,No),Eo===null?Ao=To:Eo.sibling=To,Eo=To);return Ao}for(To=to(mo,To);No<ho.length;No++)Co=po(To,mo,No,ho[No],yo),Co!==null&&(va&&Co.alternate!==null&&To.delete(Co.key===null?No:Co.key),lo=no(Co,lo,No),Eo===null?Ao=Co:Eo.sibling=Co,Eo=Co);return va&&To.forEach(function(Mo){return _a(mo,Mo)}),Ao}function go(mo,lo,ho,yo){var Ao=La(ho);if(typeof Ao!="function")throw Error(y$5(150));if(ho=Ao.call(ho),ho==null)throw Error(y$5(151));for(var Eo=Ao=null,To=lo,No=lo=0,Co=null,Io=ho.next();To!==null&&!Io.done;No++,Io=ho.next()){To.index>No?(Co=To,To=null):Co=To.sibling;var Mo=fo(mo,To,Io.value,yo);if(Mo===null){To===null&&(To=Co);break}va&&To&&Mo.alternate===null&&_a(mo,To),lo=no(Mo,lo,No),Eo===null?Ao=Mo:Eo.sibling=Mo,Eo=Mo,To=Co}if(Io.done)return eo(mo,To),Ao;if(To===null){for(;!Io.done;No++,Io=ho.next())Io=co(mo,Io.value,yo),Io!==null&&(lo=no(Io,lo,No),Eo===null?Ao=Io:Eo.sibling=Io,Eo=Io);return Ao}for(To=to(mo,To);!Io.done;No++,Io=ho.next())Io=po(To,mo,No,Io.value,yo),Io!==null&&(va&&Io.alternate!==null&&To.delete(Io.key===null?No:Io.key),lo=no(Io,lo,No),Eo===null?Ao=Io:Eo.sibling=Io,Eo=Io);return va&&To.forEach(function(wo){return _a(mo,wo)}),Ao}return function(mo,lo,ho,yo){var Ao=typeof ho=="object"&&ho!==null&&ho.type===ua&&ho.key===null;Ao&&(ho=ho.props.children);var Eo=typeof ho=="object"&&ho!==null;if(Eo)switch(ho.$$typeof){case sa:e:{for(Eo=ho.key,Ao=lo;Ao!==null;){if(Ao.key===Eo){switch(Ao.tag){case 7:if(ho.type===ua){eo(mo,Ao.sibling),lo=ro(Ao,ho.props.children),lo.return=mo,mo=lo;break e}break;default:if(Ao.elementType===ho.type){eo(mo,Ao.sibling),lo=ro(Ao,ho.props),lo.ref=Qg(mo,Ao,ho),lo.return=mo,mo=lo;break e}}eo(mo,Ao);break}else _a(mo,Ao);Ao=Ao.sibling}ho.type===ua?(lo=Xg(ho.props.children,mo.mode,yo,ho.key),lo.return=mo,mo=lo):(yo=Vg(ho.type,ho.key,ho.props,null,mo.mode,yo),yo.ref=Qg(mo,lo,ho),yo.return=mo,mo=yo)}return io(mo);case ta:e:{for(Ao=ho.key;lo!==null;){if(lo.key===Ao)if(lo.tag===4&&lo.stateNode.containerInfo===ho.containerInfo&&lo.stateNode.implementation===ho.implementation){eo(mo,lo.sibling),lo=ro(lo,ho.children||[]),lo.return=mo,mo=lo;break e}else{eo(mo,lo);break}else _a(mo,lo);lo=lo.sibling}lo=Wg(ho,mo.mode,yo),lo.return=mo,mo=lo}return io(mo)}if(typeof ho=="string"||typeof ho=="number")return ho=""+ho,lo!==null&&lo.tag===6?(eo(mo,lo.sibling),lo=ro(lo,ho),lo.return=mo,mo=lo):(eo(mo,lo),lo=Ug(ho,mo.mode,yo),lo.return=mo,mo=lo),io(mo);if(Pg(ho))return vo(mo,lo,ho,yo);if(La(ho))return go(mo,lo,ho,yo);if(Eo&&Rg(mo,ho),typeof ho>"u"&&!Ao)switch(mo.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y$5(152,Ra(mo.type)||"Component"))}return eo(mo,lo)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(va){if(va===$g)throw Error(y$5(174));return va}function eh(va,_a){switch(I$3(ch,_a),I$3(bh,va),I$3(ah,$g),va=_a.nodeType,va){case 9:case 11:_a=(_a=_a.documentElement)?_a.namespaceURI:mb(null,"");break;default:va=va===8?_a.parentNode:_a,_a=va.namespaceURI||null,va=va.tagName,_a=mb(_a,va)}H$3(ah),I$3(ah,_a)}function fh(){H$3(ah),H$3(bh),H$3(ch)}function gh(va){dh(ch.current);var _a=dh(ah.current),eo=mb(_a,va.type);_a!==eo&&(I$3(bh,va),I$3(ah,eo))}function hh(va){bh.current===va&&(H$3(ah),H$3(bh))}var P$3=Bf(0);function ih(va){for(var _a=va;_a!==null;){if(_a.tag===13){var eo=_a.memoizedState;if(eo!==null&&(eo=eo.dehydrated,eo===null||eo.data==="$?"||eo.data==="$!"))return _a}else if(_a.tag===19&&_a.memoizedProps.revealOrder!==void 0){if((_a.flags&64)!==0)return _a}else if(_a.child!==null){_a.child.return=_a,_a=_a.child;continue}if(_a===va)break;for(;_a.sibling===null;){if(_a.return===null||_a.return===va)return null;_a=_a.return}_a.sibling.return=_a.return,_a=_a.sibling}return null}var jh=null,kh=null,lh=!1;function mh(va,_a){var eo=nh(5,null,null,0);eo.elementType="DELETED",eo.type="DELETED",eo.stateNode=_a,eo.return=va,eo.flags=8,va.lastEffect!==null?(va.lastEffect.nextEffect=eo,va.lastEffect=eo):va.firstEffect=va.lastEffect=eo}function oh(va,_a){switch(va.tag){case 5:var eo=va.type;return _a=_a.nodeType!==1||eo.toLowerCase()!==_a.nodeName.toLowerCase()?null:_a,_a!==null?(va.stateNode=_a,!0):!1;case 6:return _a=va.pendingProps===""||_a.nodeType!==3?null:_a,_a!==null?(va.stateNode=_a,!0):!1;case 13:return!1;default:return!1}}function ph(va){if(lh){var _a=kh;if(_a){var eo=_a;if(!oh(va,_a)){if(_a=rf(eo.nextSibling),!_a||!oh(va,_a)){va.flags=va.flags&-1025|2,lh=!1,jh=va;return}mh(jh,eo)}jh=va,kh=rf(_a.firstChild)}else va.flags=va.flags&-1025|2,lh=!1,jh=va}}function qh(va){for(va=va.return;va!==null&&va.tag!==5&&va.tag!==3&&va.tag!==13;)va=va.return;jh=va}function rh(va){if(va!==jh)return!1;if(!lh)return qh(va),lh=!0,!1;var _a=va.type;if(va.tag!==5||_a!=="head"&&_a!=="body"&&!nf(_a,va.memoizedProps))for(_a=kh;_a;)mh(va,_a),_a=rf(_a.nextSibling);if(qh(va),va.tag===13){if(va=va.memoizedState,va=va!==null?va.dehydrated:null,!va)throw Error(y$5(317));e:{for(va=va.nextSibling,_a=0;va;){if(va.nodeType===8){var eo=va.data;if(eo==="/$"){if(_a===0){kh=rf(va.nextSibling);break e}_a--}else eo!=="$"&&eo!=="$!"&&eo!=="$?"||_a++}va=va.nextSibling}kh=null}}else kh=jh?rf(va.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var va=0;va<th.length;va++)th[va]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R$3=null,S$2=null,T$1=null,yh=!1,zh=!1;function Ah(){throw Error(y$5(321))}function Bh(va,_a){if(_a===null)return!1;for(var eo=0;eo<_a.length&&eo<va.length;eo++)if(!He$1(va[eo],_a[eo]))return!1;return!0}function Ch(va,_a,eo,to,ro,no){if(xh=no,R$3=_a,_a.memoizedState=null,_a.updateQueue=null,_a.lanes=0,vh.current=va===null||va.memoizedState===null?Dh:Eh,va=eo(to,ro),zh){no=0;do{if(zh=!1,!(25>no))throw Error(y$5(301));no+=1,T$1=S$2=null,_a.updateQueue=null,vh.current=Fh,va=eo(to,ro)}while(zh)}if(vh.current=Gh,_a=S$2!==null&&S$2.next!==null,xh=0,T$1=S$2=R$3=null,yh=!1,_a)throw Error(y$5(300));return va}function Hh(){var va={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T$1===null?R$3.memoizedState=T$1=va:T$1=T$1.next=va,T$1}function Ih(){if(S$2===null){var va=R$3.alternate;va=va!==null?va.memoizedState:null}else va=S$2.next;var _a=T$1===null?R$3.memoizedState:T$1.next;if(_a!==null)T$1=_a,S$2=va;else{if(va===null)throw Error(y$5(310));S$2=va,va={memoizedState:S$2.memoizedState,baseState:S$2.baseState,baseQueue:S$2.baseQueue,queue:S$2.queue,next:null},T$1===null?R$3.memoizedState=T$1=va:T$1=T$1.next=va}return T$1}function Jh(va,_a){return typeof _a=="function"?_a(va):_a}function Kh(va){var _a=Ih(),eo=_a.queue;if(eo===null)throw Error(y$5(311));eo.lastRenderedReducer=va;var to=S$2,ro=to.baseQueue,no=eo.pending;if(no!==null){if(ro!==null){var io=ro.next;ro.next=no.next,no.next=io}to.baseQueue=ro=no,eo.pending=null}if(ro!==null){ro=ro.next,to=to.baseState;var ao=io=no=null,oo=ro;do{var so=oo.lane;if((xh&so)===so)ao!==null&&(ao=ao.next={lane:0,action:oo.action,eagerReducer:oo.eagerReducer,eagerState:oo.eagerState,next:null}),to=oo.eagerReducer===va?oo.eagerState:va(to,oo.action);else{var uo={lane:so,action:oo.action,eagerReducer:oo.eagerReducer,eagerState:oo.eagerState,next:null};ao===null?(io=ao=uo,no=to):ao=ao.next=uo,R$3.lanes|=so,Dg|=so}oo=oo.next}while(oo!==null&&oo!==ro);ao===null?no=to:ao.next=io,He$1(to,_a.memoizedState)||(ug=!0),_a.memoizedState=to,_a.baseState=no,_a.baseQueue=ao,eo.lastRenderedState=to}return[_a.memoizedState,eo.dispatch]}function Lh(va){var _a=Ih(),eo=_a.queue;if(eo===null)throw Error(y$5(311));eo.lastRenderedReducer=va;var to=eo.dispatch,ro=eo.pending,no=_a.memoizedState;if(ro!==null){eo.pending=null;var io=ro=ro.next;do no=va(no,io.action),io=io.next;while(io!==ro);He$1(no,_a.memoizedState)||(ug=!0),_a.memoizedState=no,_a.baseQueue===null&&(_a.baseState=no),eo.lastRenderedState=no}return[no,to]}function Mh(va,_a,eo){var to=_a._getVersion;to=to(_a._source);var ro=_a._workInProgressVersionPrimary;if(ro!==null?va=ro===to:(va=va.mutableReadLanes,(va=(xh&va)===va)&&(_a._workInProgressVersionPrimary=to,th.push(_a))),va)return eo(_a._source);throw th.push(_a),Error(y$5(350))}function Nh(va,_a,eo,to){var ro=U$1;if(ro===null)throw Error(y$5(349));var no=_a._getVersion,io=no(_a._source),ao=vh.current,oo=ao.useState(function(){return Mh(ro,_a,eo)}),so=oo[1],uo=oo[0];oo=T$1;var co=va.memoizedState,fo=co.refs,po=fo.getSnapshot,vo=co.source;co=co.subscribe;var go=R$3;return va.memoizedState={refs:fo,source:_a,subscribe:to},ao.useEffect(function(){fo.getSnapshot=eo,fo.setSnapshot=so;var mo=no(_a._source);if(!He$1(io,mo)){mo=eo(_a._source),He$1(uo,mo)||(so(mo),mo=Ig(go),ro.mutableReadLanes|=mo&ro.pendingLanes),mo=ro.mutableReadLanes,ro.entangledLanes|=mo;for(var lo=ro.entanglements,ho=mo;0<ho;){var yo=31-Vc(ho),Ao=1<<yo;lo[yo]|=mo,ho&=~Ao}}},[eo,_a,to]),ao.useEffect(function(){return to(_a._source,function(){var mo=fo.getSnapshot,lo=fo.setSnapshot;try{lo(mo(_a._source));var ho=Ig(go);ro.mutableReadLanes|=ho&ro.pendingLanes}catch(yo){lo(function(){throw yo})}})},[_a,to]),He$1(po,eo)&&He$1(vo,_a)&&He$1(co,to)||(va={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:uo},va.dispatch=so=Oh.bind(null,R$3,va),oo.queue=va,oo.baseQueue=null,uo=Mh(ro,_a,eo),oo.memoizedState=oo.baseState=uo),uo}function Ph(va,_a,eo){var to=Ih();return Nh(to,va,_a,eo)}function Qh(va){var _a=Hh();return typeof va=="function"&&(va=va()),_a.memoizedState=_a.baseState=va,va=_a.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:va},va=va.dispatch=Oh.bind(null,R$3,va),[_a.memoizedState,va]}function Rh(va,_a,eo,to){return va={tag:va,create:_a,destroy:eo,deps:to,next:null},_a=R$3.updateQueue,_a===null?(_a={lastEffect:null},R$3.updateQueue=_a,_a.lastEffect=va.next=va):(eo=_a.lastEffect,eo===null?_a.lastEffect=va.next=va:(to=eo.next,eo.next=va,va.next=to,_a.lastEffect=va)),va}function Sh(va){var _a=Hh();return va={current:va},_a.memoizedState=va}function Th(){return Ih().memoizedState}function Uh(va,_a,eo,to){var ro=Hh();R$3.flags|=va,ro.memoizedState=Rh(1|_a,eo,void 0,to===void 0?null:to)}function Vh(va,_a,eo,to){var ro=Ih();to=to===void 0?null:to;var no=void 0;if(S$2!==null){var io=S$2.memoizedState;if(no=io.destroy,to!==null&&Bh(to,io.deps)){Rh(_a,eo,no,to);return}}R$3.flags|=va,ro.memoizedState=Rh(1|_a,eo,no,to)}function Wh(va,_a){return Uh(516,4,va,_a)}function Xh(va,_a){return Vh(516,4,va,_a)}function Yh(va,_a){return Vh(4,2,va,_a)}function Zh(va,_a){if(typeof _a=="function")return va=va(),_a(va),function(){_a(null)};if(_a!=null)return va=va(),_a.current=va,function(){_a.current=null}}function $h(va,_a,eo){return eo=eo!=null?eo.concat([va]):null,Vh(4,2,Zh.bind(null,_a,va),eo)}function ai$1(){}function bi$1(va,_a){var eo=Ih();_a=_a===void 0?null:_a;var to=eo.memoizedState;return to!==null&&_a!==null&&Bh(_a,to[1])?to[0]:(eo.memoizedState=[va,_a],va)}function ci$1(va,_a){var eo=Ih();_a=_a===void 0?null:_a;var to=eo.memoizedState;return to!==null&&_a!==null&&Bh(_a,to[1])?to[0]:(va=va(),eo.memoizedState=[va,_a],va)}function di$1(va,_a){var eo=eg();gg(98>eo?98:eo,function(){va(!0)}),gg(97<eo?97:eo,function(){var to=wh.transition;wh.transition=1;try{va(!1),_a()}finally{wh.transition=to}})}function Oh(va,_a,eo){var to=Hg(),ro=Ig(va),no={lane:ro,action:eo,eagerReducer:null,eagerState:null,next:null},io=_a.pending;if(io===null?no.next=no:(no.next=io.next,io.next=no),_a.pending=no,io=va.alternate,va===R$3||io!==null&&io===R$3)zh=yh=!0;else{if(va.lanes===0&&(io===null||io.lanes===0)&&(io=_a.lastRenderedReducer,io!==null))try{var ao=_a.lastRenderedState,oo=io(ao,eo);if(no.eagerReducer=io,no.eagerState=oo,He$1(oo,ao))return}catch{}finally{}Jg(va,ro,to)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(va,_a){return Hh().memoizedState=[va,_a===void 0?null:_a],va},useContext:vg,useEffect:Wh,useImperativeHandle:function(va,_a,eo){return eo=eo!=null?eo.concat([va]):null,Uh(4,2,Zh.bind(null,_a,va),eo)},useLayoutEffect:function(va,_a){return Uh(4,2,va,_a)},useMemo:function(va,_a){var eo=Hh();return _a=_a===void 0?null:_a,va=va(),eo.memoizedState=[va,_a],va},useReducer:function(va,_a,eo){var to=Hh();return _a=eo!==void 0?eo(_a):_a,to.memoizedState=to.baseState=_a,va=to.queue={pending:null,dispatch:null,lastRenderedReducer:va,lastRenderedState:_a},va=va.dispatch=Oh.bind(null,R$3,va),[to.memoizedState,va]},useRef:Sh,useState:Qh,useDebugValue:ai$1,useDeferredValue:function(va){var _a=Qh(va),eo=_a[0],to=_a[1];return Wh(function(){var ro=wh.transition;wh.transition=1;try{to(va)}finally{wh.transition=ro}},[va]),eo},useTransition:function(){var va=Qh(!1),_a=va[0];return va=di$1.bind(null,va[1]),Sh(va),[va,_a]},useMutableSource:function(va,_a,eo){var to=Hh();return to.memoizedState={refs:{getSnapshot:_a,setSnapshot:null},source:va,subscribe:eo},Nh(to,va,_a,eo)},useOpaqueIdentifier:function(){if(lh){var va=!1,_a=uf(function(){throw va||(va=!0,eo("r:"+(tf++).toString(36))),Error(y$5(355))}),eo=Qh(_a)[1];return(R$3.mode&2)===0&&(R$3.flags|=516,Rh(5,function(){eo("r:"+(tf++).toString(36))},void 0,null)),_a}return _a="r:"+(tf++).toString(36),Qh(_a),_a},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi$1,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci$1,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai$1,useDeferredValue:function(va){var _a=Kh(Jh),eo=_a[0],to=_a[1];return Xh(function(){var ro=wh.transition;wh.transition=1;try{to(va)}finally{wh.transition=ro}},[va]),eo},useTransition:function(){var va=Kh(Jh)[0];return[Th().current,va]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi$1,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci$1,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai$1,useDeferredValue:function(va){var _a=Lh(Jh),eo=_a[0],to=_a[1];return Xh(function(){var ro=wh.transition;wh.transition=1;try{to(va)}finally{wh.transition=ro}},[va]),eo},useTransition:function(){var va=Lh(Jh)[0];return[Th().current,va]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei$1=ra.ReactCurrentOwner,ug=!1;function fi$1(va,_a,eo,to){_a.child=va===null?Zg(_a,null,eo,to):Yg(_a,va.child,eo,to)}function gi$1(va,_a,eo,to,ro){eo=eo.render;var no=_a.ref;return tg(_a,ro),to=Ch(va,_a,eo,to,no,ro),va!==null&&!ug?(_a.updateQueue=va.updateQueue,_a.flags&=-517,va.lanes&=~ro,hi$1(va,_a,ro)):(_a.flags|=1,fi$1(va,_a,to,ro),_a.child)}function ii$1(va,_a,eo,to,ro,no){if(va===null){var io=eo.type;return typeof io=="function"&&!ji$1(io)&&io.defaultProps===void 0&&eo.compare===null&&eo.defaultProps===void 0?(_a.tag=15,_a.type=io,ki$1(va,_a,io,to,ro,no)):(va=Vg(eo.type,null,to,_a,_a.mode,no),va.ref=_a.ref,va.return=_a,_a.child=va)}return io=va.child,(ro&no)===0&&(ro=io.memoizedProps,eo=eo.compare,eo=eo!==null?eo:Je$1,eo(ro,to)&&va.ref===_a.ref)?hi$1(va,_a,no):(_a.flags|=1,va=Tg(io,to),va.ref=_a.ref,va.return=_a,_a.child=va)}function ki$1(va,_a,eo,to,ro,no){if(va!==null&&Je$1(va.memoizedProps,to)&&va.ref===_a.ref)if(ug=!1,(no&ro)!==0)(va.flags&16384)!==0&&(ug=!0);else return _a.lanes=va.lanes,hi$1(va,_a,no);return li$1(va,_a,eo,to,no)}function mi$1(va,_a,eo){var to=_a.pendingProps,ro=to.children,no=va!==null?va.memoizedState:null;if(to.mode==="hidden"||to.mode==="unstable-defer-without-hiding")if((_a.mode&4)===0)_a.memoizedState={baseLanes:0},ni$1(_a,eo);else if((eo&1073741824)!==0)_a.memoizedState={baseLanes:0},ni$1(_a,no!==null?no.baseLanes:eo);else return va=no!==null?no.baseLanes|eo:eo,_a.lanes=_a.childLanes=1073741824,_a.memoizedState={baseLanes:va},ni$1(_a,va),null;else no!==null?(to=no.baseLanes|eo,_a.memoizedState=null):to=eo,ni$1(_a,to);return fi$1(va,_a,ro,eo),_a.child}function oi$1(va,_a){var eo=_a.ref;(va===null&&eo!==null||va!==null&&va.ref!==eo)&&(_a.flags|=128)}function li$1(va,_a,eo,to,ro){var no=Ff(eo)?Df:M$2.current;return no=Ef(_a,no),tg(_a,ro),eo=Ch(va,_a,eo,to,no,ro),va!==null&&!ug?(_a.updateQueue=va.updateQueue,_a.flags&=-517,va.lanes&=~ro,hi$1(va,_a,ro)):(_a.flags|=1,fi$1(va,_a,eo,ro),_a.child)}function pi$1(va,_a,eo,to,ro){if(Ff(eo)){var no=!0;Jf(_a)}else no=!1;if(tg(_a,ro),_a.stateNode===null)va!==null&&(va.alternate=null,_a.alternate=null,_a.flags|=2),Mg(_a,eo,to),Og(_a,eo,to,ro),to=!0;else if(va===null){var io=_a.stateNode,ao=_a.memoizedProps;io.props=ao;var oo=io.context,so=eo.contextType;typeof so=="object"&&so!==null?so=vg(so):(so=Ff(eo)?Df:M$2.current,so=Ef(_a,so));var uo=eo.getDerivedStateFromProps,co=typeof uo=="function"||typeof io.getSnapshotBeforeUpdate=="function";co||typeof io.UNSAFE_componentWillReceiveProps!="function"&&typeof io.componentWillReceiveProps!="function"||(ao!==to||oo!==so)&&Ng(_a,io,to,so),wg=!1;var fo=_a.memoizedState;io.state=fo,Cg(_a,to,io,ro),oo=_a.memoizedState,ao!==to||fo!==oo||N$3.current||wg?(typeof uo=="function"&&(Gg(_a,eo,uo,to),oo=_a.memoizedState),(ao=wg||Lg(_a,eo,ao,to,fo,oo,so))?(co||typeof io.UNSAFE_componentWillMount!="function"&&typeof io.componentWillMount!="function"||(typeof io.componentWillMount=="function"&&io.componentWillMount(),typeof io.UNSAFE_componentWillMount=="function"&&io.UNSAFE_componentWillMount()),typeof io.componentDidMount=="function"&&(_a.flags|=4)):(typeof io.componentDidMount=="function"&&(_a.flags|=4),_a.memoizedProps=to,_a.memoizedState=oo),io.props=to,io.state=oo,io.context=so,to=ao):(typeof io.componentDidMount=="function"&&(_a.flags|=4),to=!1)}else{io=_a.stateNode,yg(va,_a),ao=_a.memoizedProps,so=_a.type===_a.elementType?ao:lg(_a.type,ao),io.props=so,co=_a.pendingProps,fo=io.context,oo=eo.contextType,typeof oo=="object"&&oo!==null?oo=vg(oo):(oo=Ff(eo)?Df:M$2.current,oo=Ef(_a,oo));var po=eo.getDerivedStateFromProps;(uo=typeof po=="function"||typeof io.getSnapshotBeforeUpdate=="function")||typeof io.UNSAFE_componentWillReceiveProps!="function"&&typeof io.componentWillReceiveProps!="function"||(ao!==co||fo!==oo)&&Ng(_a,io,to,oo),wg=!1,fo=_a.memoizedState,io.state=fo,Cg(_a,to,io,ro);var vo=_a.memoizedState;ao!==co||fo!==vo||N$3.current||wg?(typeof po=="function"&&(Gg(_a,eo,po,to),vo=_a.memoizedState),(so=wg||Lg(_a,eo,so,to,fo,vo,oo))?(uo||typeof io.UNSAFE_componentWillUpdate!="function"&&typeof io.componentWillUpdate!="function"||(typeof io.componentWillUpdate=="function"&&io.componentWillUpdate(to,vo,oo),typeof io.UNSAFE_componentWillUpdate=="function"&&io.UNSAFE_componentWillUpdate(to,vo,oo)),typeof io.componentDidUpdate=="function"&&(_a.flags|=4),typeof io.getSnapshotBeforeUpdate=="function"&&(_a.flags|=256)):(typeof io.componentDidUpdate!="function"||ao===va.memoizedProps&&fo===va.memoizedState||(_a.flags|=4),typeof io.getSnapshotBeforeUpdate!="function"||ao===va.memoizedProps&&fo===va.memoizedState||(_a.flags|=256),_a.memoizedProps=to,_a.memoizedState=vo),io.props=to,io.state=vo,io.context=oo,to=so):(typeof io.componentDidUpdate!="function"||ao===va.memoizedProps&&fo===va.memoizedState||(_a.flags|=4),typeof io.getSnapshotBeforeUpdate!="function"||ao===va.memoizedProps&&fo===va.memoizedState||(_a.flags|=256),to=!1)}return qi$1(va,_a,eo,to,no,ro)}function qi$1(va,_a,eo,to,ro,no){oi$1(va,_a);var io=(_a.flags&64)!==0;if(!to&&!io)return ro&&Kf(_a,eo,!1),hi$1(va,_a,no);to=_a.stateNode,ei$1.current=_a;var ao=io&&typeof eo.getDerivedStateFromError!="function"?null:to.render();return _a.flags|=1,va!==null&&io?(_a.child=Yg(_a,va.child,null,no),_a.child=Yg(_a,null,ao,no)):fi$1(va,_a,ao,no),_a.memoizedState=to.state,ro&&Kf(_a,eo,!0),_a.child}function ri$1(va){var _a=va.stateNode;_a.pendingContext?Hf(va,_a.pendingContext,_a.pendingContext!==_a.context):_a.context&&Hf(va,_a.context,!1),eh(va,_a.containerInfo)}var si$1={dehydrated:null,retryLane:0};function ti$1(va,_a,eo){var to=_a.pendingProps,ro=P$3.current,no=!1,io;return(io=(_a.flags&64)!==0)||(io=va!==null&&va.memoizedState===null?!1:(ro&2)!==0),io?(no=!0,_a.flags&=-65):va!==null&&va.memoizedState===null||to.fallback===void 0||to.unstable_avoidThisFallback===!0||(ro|=1),I$3(P$3,ro&1),va===null?(to.fallback!==void 0&&ph(_a),va=to.children,ro=to.fallback,no?(va=ui$1(_a,va,ro,eo),_a.child.memoizedState={baseLanes:eo},_a.memoizedState=si$1,va):typeof to.unstable_expectedLoadTime=="number"?(va=ui$1(_a,va,ro,eo),_a.child.memoizedState={baseLanes:eo},_a.memoizedState=si$1,_a.lanes=33554432,va):(eo=vi$1({mode:"visible",children:va},_a.mode,eo,null),eo.return=_a,_a.child=eo)):va.memoizedState!==null?no?(to=wi$1(va,_a,to.children,to.fallback,eo),no=_a.child,ro=va.child.memoizedState,no.memoizedState=ro===null?{baseLanes:eo}:{baseLanes:ro.baseLanes|eo},no.childLanes=va.childLanes&~eo,_a.memoizedState=si$1,to):(eo=xi$1(va,_a,to.children,eo),_a.memoizedState=null,eo):no?(to=wi$1(va,_a,to.children,to.fallback,eo),no=_a.child,ro=va.child.memoizedState,no.memoizedState=ro===null?{baseLanes:eo}:{baseLanes:ro.baseLanes|eo},no.childLanes=va.childLanes&~eo,_a.memoizedState=si$1,to):(eo=xi$1(va,_a,to.children,eo),_a.memoizedState=null,eo)}function ui$1(va,_a,eo,to){var ro=va.mode,no=va.child;return _a={mode:"hidden",children:_a},(ro&2)===0&&no!==null?(no.childLanes=0,no.pendingProps=_a):no=vi$1(_a,ro,0,null),eo=Xg(eo,ro,to,null),no.return=va,eo.return=va,no.sibling=eo,va.child=no,eo}function xi$1(va,_a,eo,to){var ro=va.child;return va=ro.sibling,eo=Tg(ro,{mode:"visible",children:eo}),(_a.mode&2)===0&&(eo.lanes=to),eo.return=_a,eo.sibling=null,va!==null&&(va.nextEffect=null,va.flags=8,_a.firstEffect=_a.lastEffect=va),_a.child=eo}function wi$1(va,_a,eo,to,ro){var no=_a.mode,io=va.child;va=io.sibling;var ao={mode:"hidden",children:eo};return(no&2)===0&&_a.child!==io?(eo=_a.child,eo.childLanes=0,eo.pendingProps=ao,io=eo.lastEffect,io!==null?(_a.firstEffect=eo.firstEffect,_a.lastEffect=io,io.nextEffect=null):_a.firstEffect=_a.lastEffect=null):eo=Tg(io,ao),va!==null?to=Tg(va,to):(to=Xg(to,no,ro,null),to.flags|=2),to.return=_a,eo.return=_a,eo.sibling=to,_a.child=eo,to}function yi$1(va,_a){va.lanes|=_a;var eo=va.alternate;eo!==null&&(eo.lanes|=_a),sg(va.return,_a)}function zi$1(va,_a,eo,to,ro,no){var io=va.memoizedState;io===null?va.memoizedState={isBackwards:_a,rendering:null,renderingStartTime:0,last:to,tail:eo,tailMode:ro,lastEffect:no}:(io.isBackwards=_a,io.rendering=null,io.renderingStartTime=0,io.last=to,io.tail=eo,io.tailMode=ro,io.lastEffect=no)}function Ai$1(va,_a,eo){var to=_a.pendingProps,ro=to.revealOrder,no=to.tail;if(fi$1(va,_a,to.children,eo),to=P$3.current,(to&2)!==0)to=to&1|2,_a.flags|=64;else{if(va!==null&&(va.flags&64)!==0)e:for(va=_a.child;va!==null;){if(va.tag===13)va.memoizedState!==null&&yi$1(va,eo);else if(va.tag===19)yi$1(va,eo);else if(va.child!==null){va.child.return=va,va=va.child;continue}if(va===_a)break e;for(;va.sibling===null;){if(va.return===null||va.return===_a)break e;va=va.return}va.sibling.return=va.return,va=va.sibling}to&=1}if(I$3(P$3,to),(_a.mode&2)===0)_a.memoizedState=null;else switch(ro){case"forwards":for(eo=_a.child,ro=null;eo!==null;)va=eo.alternate,va!==null&&ih(va)===null&&(ro=eo),eo=eo.sibling;eo=ro,eo===null?(ro=_a.child,_a.child=null):(ro=eo.sibling,eo.sibling=null),zi$1(_a,!1,ro,eo,no,_a.lastEffect);break;case"backwards":for(eo=null,ro=_a.child,_a.child=null;ro!==null;){if(va=ro.alternate,va!==null&&ih(va)===null){_a.child=ro;break}va=ro.sibling,ro.sibling=eo,eo=ro,ro=va}zi$1(_a,!0,eo,null,no,_a.lastEffect);break;case"together":zi$1(_a,!1,null,null,void 0,_a.lastEffect);break;default:_a.memoizedState=null}return _a.child}function hi$1(va,_a,eo){if(va!==null&&(_a.dependencies=va.dependencies),Dg|=_a.lanes,(eo&_a.childLanes)!==0){if(va!==null&&_a.child!==va.child)throw Error(y$5(153));if(_a.child!==null){for(va=_a.child,eo=Tg(va,va.pendingProps),_a.child=eo,eo.return=_a;va.sibling!==null;)va=va.sibling,eo=eo.sibling=Tg(va,va.pendingProps),eo.return=_a;eo.sibling=null}return _a.child}return null}var Bi$1,Ci$1,Di$1,Ei$1;Bi$1=function(va,_a){for(var eo=_a.child;eo!==null;){if(eo.tag===5||eo.tag===6)va.appendChild(eo.stateNode);else if(eo.tag!==4&&eo.child!==null){eo.child.return=eo,eo=eo.child;continue}if(eo===_a)break;for(;eo.sibling===null;){if(eo.return===null||eo.return===_a)return;eo=eo.return}eo.sibling.return=eo.return,eo=eo.sibling}};Ci$1=function(){};Di$1=function(va,_a,eo,to){var ro=va.memoizedProps;if(ro!==to){va=_a.stateNode,dh(ah.current);var no=null;switch(eo){case"input":ro=Ya(va,ro),to=Ya(va,to),no=[];break;case"option":ro=eb(va,ro),to=eb(va,to),no=[];break;case"select":ro=m$5({},ro,{value:void 0}),to=m$5({},to,{value:void 0}),no=[];break;case"textarea":ro=gb(va,ro),to=gb(va,to),no=[];break;default:typeof ro.onClick!="function"&&typeof to.onClick=="function"&&(va.onclick=jf)}vb(eo,to);var io;eo=null;for(so in ro)if(!to.hasOwnProperty(so)&&ro.hasOwnProperty(so)&&ro[so]!=null)if(so==="style"){var ao=ro[so];for(io in ao)ao.hasOwnProperty(io)&&(eo||(eo={}),eo[io]="")}else so!=="dangerouslySetInnerHTML"&&so!=="children"&&so!=="suppressContentEditableWarning"&&so!=="suppressHydrationWarning"&&so!=="autoFocus"&&(ca$1.hasOwnProperty(so)?no||(no=[]):(no=no||[]).push(so,null));for(so in to){var oo=to[so];if(ao=ro!=null?ro[so]:void 0,to.hasOwnProperty(so)&&oo!==ao&&(oo!=null||ao!=null))if(so==="style")if(ao){for(io in ao)!ao.hasOwnProperty(io)||oo&&oo.hasOwnProperty(io)||(eo||(eo={}),eo[io]="");for(io in oo)oo.hasOwnProperty(io)&&ao[io]!==oo[io]&&(eo||(eo={}),eo[io]=oo[io])}else eo||(no||(no=[]),no.push(so,eo)),eo=oo;else so==="dangerouslySetInnerHTML"?(oo=oo?oo.__html:void 0,ao=ao?ao.__html:void 0,oo!=null&&ao!==oo&&(no=no||[]).push(so,oo)):so==="children"?typeof oo!="string"&&typeof oo!="number"||(no=no||[]).push(so,""+oo):so!=="suppressContentEditableWarning"&&so!=="suppressHydrationWarning"&&(ca$1.hasOwnProperty(so)?(oo!=null&&so==="onScroll"&&G$3("scroll",va),no||ao===oo||(no=[])):typeof oo=="object"&&oo!==null&&oo.$$typeof===Ga?oo.toString():(no=no||[]).push(so,oo))}eo&&(no=no||[]).push("style",eo);var so=no;(_a.updateQueue=so)&&(_a.flags|=4)}};Ei$1=function(va,_a,eo,to){eo!==to&&(_a.flags|=4)};function Fi$1(va,_a){if(!lh)switch(va.tailMode){case"hidden":_a=va.tail;for(var eo=null;_a!==null;)_a.alternate!==null&&(eo=_a),_a=_a.sibling;eo===null?va.tail=null:eo.sibling=null;break;case"collapsed":eo=va.tail;for(var to=null;eo!==null;)eo.alternate!==null&&(to=eo),eo=eo.sibling;to===null?_a||va.tail===null?va.tail=null:va.tail.sibling=null:to.sibling=null}}function Gi$1(va,_a,eo){var to=_a.pendingProps;switch(_a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(_a.type)&&Gf(),null;case 3:return fh(),H$3(N$3),H$3(M$2),uh(),to=_a.stateNode,to.pendingContext&&(to.context=to.pendingContext,to.pendingContext=null),(va===null||va.child===null)&&(rh(_a)?_a.flags|=4:to.hydrate||(_a.flags|=256)),Ci$1(_a),null;case 5:hh(_a);var ro=dh(ch.current);if(eo=_a.type,va!==null&&_a.stateNode!=null)Di$1(va,_a,eo,to,ro),va.ref!==_a.ref&&(_a.flags|=128);else{if(!to){if(_a.stateNode===null)throw Error(y$5(166));return null}if(va=dh(ah.current),rh(_a)){to=_a.stateNode,eo=_a.type;var no=_a.memoizedProps;switch(to[wf]=_a,to[xf]=no,eo){case"dialog":G$3("cancel",to),G$3("close",to);break;case"iframe":case"object":case"embed":G$3("load",to);break;case"video":case"audio":for(va=0;va<Xe$1.length;va++)G$3(Xe$1[va],to);break;case"source":G$3("error",to);break;case"img":case"image":case"link":G$3("error",to),G$3("load",to);break;case"details":G$3("toggle",to);break;case"input":Za(to,no),G$3("invalid",to);break;case"select":to._wrapperState={wasMultiple:!!no.multiple},G$3("invalid",to);break;case"textarea":hb(to,no),G$3("invalid",to)}vb(eo,no),va=null;for(var io in no)no.hasOwnProperty(io)&&(ro=no[io],io==="children"?typeof ro=="string"?to.textContent!==ro&&(va=["children",ro]):typeof ro=="number"&&to.textContent!==""+ro&&(va=["children",""+ro]):ca$1.hasOwnProperty(io)&&ro!=null&&io==="onScroll"&&G$3("scroll",to));switch(eo){case"input":Va(to),cb(to,no,!0);break;case"textarea":Va(to),jb(to);break;case"select":case"option":break;default:typeof no.onClick=="function"&&(to.onclick=jf)}to=va,_a.updateQueue=to,to!==null&&(_a.flags|=4)}else{switch(io=ro.nodeType===9?ro:ro.ownerDocument,va===kb.html&&(va=lb(eo)),va===kb.html?eo==="script"?(va=io.createElement("div"),va.innerHTML="<script><\/script>",va=va.removeChild(va.firstChild)):typeof to.is=="string"?va=io.createElement(eo,{is:to.is}):(va=io.createElement(eo),eo==="select"&&(io=va,to.multiple?io.multiple=!0:to.size&&(io.size=to.size))):va=io.createElementNS(va,eo),va[wf]=_a,va[xf]=to,Bi$1(va,_a,!1,!1),_a.stateNode=va,io=wb(eo,to),eo){case"dialog":G$3("cancel",va),G$3("close",va),ro=to;break;case"iframe":case"object":case"embed":G$3("load",va),ro=to;break;case"video":case"audio":for(ro=0;ro<Xe$1.length;ro++)G$3(Xe$1[ro],va);ro=to;break;case"source":G$3("error",va),ro=to;break;case"img":case"image":case"link":G$3("error",va),G$3("load",va),ro=to;break;case"details":G$3("toggle",va),ro=to;break;case"input":Za(va,to),ro=Ya(va,to),G$3("invalid",va);break;case"option":ro=eb(va,to);break;case"select":va._wrapperState={wasMultiple:!!to.multiple},ro=m$5({},to,{value:void 0}),G$3("invalid",va);break;case"textarea":hb(va,to),ro=gb(va,to),G$3("invalid",va);break;default:ro=to}vb(eo,ro);var ao=ro;for(no in ao)if(ao.hasOwnProperty(no)){var oo=ao[no];no==="style"?tb(va,oo):no==="dangerouslySetInnerHTML"?(oo=oo?oo.__html:void 0,oo!=null&&ob(va,oo)):no==="children"?typeof oo=="string"?(eo!=="textarea"||oo!=="")&&pb(va,oo):typeof oo=="number"&&pb(va,""+oo):no!=="suppressContentEditableWarning"&&no!=="suppressHydrationWarning"&&no!=="autoFocus"&&(ca$1.hasOwnProperty(no)?oo!=null&&no==="onScroll"&&G$3("scroll",va):oo!=null&&qa(va,no,oo,io))}switch(eo){case"input":Va(va),cb(va,to,!1);break;case"textarea":Va(va),jb(va);break;case"option":to.value!=null&&va.setAttribute("value",""+Sa(to.value));break;case"select":va.multiple=!!to.multiple,no=to.value,no!=null?fb(va,!!to.multiple,no,!1):to.defaultValue!=null&&fb(va,!!to.multiple,to.defaultValue,!0);break;default:typeof ro.onClick=="function"&&(va.onclick=jf)}mf(eo,to)&&(_a.flags|=4)}_a.ref!==null&&(_a.flags|=128)}return null;case 6:if(va&&_a.stateNode!=null)Ei$1(va,_a,va.memoizedProps,to);else{if(typeof to!="string"&&_a.stateNode===null)throw Error(y$5(166));eo=dh(ch.current),dh(ah.current),rh(_a)?(to=_a.stateNode,eo=_a.memoizedProps,to[wf]=_a,to.nodeValue!==eo&&(_a.flags|=4)):(to=(eo.nodeType===9?eo:eo.ownerDocument).createTextNode(to),to[wf]=_a,_a.stateNode=to)}return null;case 13:return H$3(P$3),to=_a.memoizedState,(_a.flags&64)!==0?(_a.lanes=eo,_a):(to=to!==null,eo=!1,va===null?_a.memoizedProps.fallback!==void 0&&rh(_a):eo=va.memoizedState!==null,to&&!eo&&(_a.mode&2)!==0&&(va===null&&_a.memoizedProps.unstable_avoidThisFallback!==!0||(P$3.current&1)!==0?V$2===0&&(V$2=3):((V$2===0||V$2===3)&&(V$2=4),U$1===null||(Dg&134217727)===0&&(Hi$1&134217727)===0||Ii$1(U$1,W$3))),(to||eo)&&(_a.flags|=4),null);case 4:return fh(),Ci$1(_a),va===null&&cf(_a.stateNode.containerInfo),null;case 10:return rg(_a),null;case 17:return Ff(_a.type)&&Gf(),null;case 19:if(H$3(P$3),to=_a.memoizedState,to===null)return null;if(no=(_a.flags&64)!==0,io=to.rendering,io===null)if(no)Fi$1(to,!1);else{if(V$2!==0||va!==null&&(va.flags&64)!==0)for(va=_a.child;va!==null;){if(io=ih(va),io!==null){for(_a.flags|=64,Fi$1(to,!1),no=io.updateQueue,no!==null&&(_a.updateQueue=no,_a.flags|=4),to.lastEffect===null&&(_a.firstEffect=null),_a.lastEffect=to.lastEffect,to=eo,eo=_a.child;eo!==null;)no=eo,va=to,no.flags&=2,no.nextEffect=null,no.firstEffect=null,no.lastEffect=null,io=no.alternate,io===null?(no.childLanes=0,no.lanes=va,no.child=null,no.memoizedProps=null,no.memoizedState=null,no.updateQueue=null,no.dependencies=null,no.stateNode=null):(no.childLanes=io.childLanes,no.lanes=io.lanes,no.child=io.child,no.memoizedProps=io.memoizedProps,no.memoizedState=io.memoizedState,no.updateQueue=io.updateQueue,no.type=io.type,va=io.dependencies,no.dependencies=va===null?null:{lanes:va.lanes,firstContext:va.firstContext}),eo=eo.sibling;return I$3(P$3,P$3.current&1|2),_a.child}va=va.sibling}to.tail!==null&&O$3()>Ji$1&&(_a.flags|=64,no=!0,Fi$1(to,!1),_a.lanes=33554432)}else{if(!no)if(va=ih(io),va!==null){if(_a.flags|=64,no=!0,eo=va.updateQueue,eo!==null&&(_a.updateQueue=eo,_a.flags|=4),Fi$1(to,!0),to.tail===null&&to.tailMode==="hidden"&&!io.alternate&&!lh)return _a=_a.lastEffect=to.lastEffect,_a!==null&&(_a.nextEffect=null),null}else 2*O$3()-to.renderingStartTime>Ji$1&&eo!==1073741824&&(_a.flags|=64,no=!0,Fi$1(to,!1),_a.lanes=33554432);to.isBackwards?(io.sibling=_a.child,_a.child=io):(eo=to.last,eo!==null?eo.sibling=io:_a.child=io,to.last=io)}return to.tail!==null?(eo=to.tail,to.rendering=eo,to.tail=eo.sibling,to.lastEffect=_a.lastEffect,to.renderingStartTime=O$3(),eo.sibling=null,_a=P$3.current,I$3(P$3,no?_a&1|2:_a&1),eo):null;case 23:case 24:return Ki$1(),va!==null&&va.memoizedState!==null!=(_a.memoizedState!==null)&&to.mode!=="unstable-defer-without-hiding"&&(_a.flags|=4),null}throw Error(y$5(156,_a.tag))}function Li$1(va){switch(va.tag){case 1:Ff(va.type)&&Gf();var _a=va.flags;return _a&4096?(va.flags=_a&-4097|64,va):null;case 3:if(fh(),H$3(N$3),H$3(M$2),uh(),_a=va.flags,(_a&64)!==0)throw Error(y$5(285));return va.flags=_a&-4097|64,va;case 5:return hh(va),null;case 13:return H$3(P$3),_a=va.flags,_a&4096?(va.flags=_a&-4097|64,va):null;case 19:return H$3(P$3),null;case 4:return fh(),null;case 10:return rg(va),null;case 23:case 24:return Ki$1(),null;default:return null}}function Mi$1(va,_a){try{var eo="",to=_a;do eo+=Qa(to),to=to.return;while(to);var ro=eo}catch(no){ro=`
Error generating stack: `+no.message+`
`+no.stack}return{value:va,source:_a,stack:ro}}function Ni$1(va,_a){try{console.error(_a.value)}catch(eo){setTimeout(function(){throw eo})}}var Oi$1=typeof WeakMap=="function"?WeakMap:Map;function Pi$1(va,_a,eo){eo=zg(-1,eo),eo.tag=3,eo.payload={element:null};var to=_a.value;return eo.callback=function(){Qi$1||(Qi$1=!0,Ri$1=to),Ni$1(va,_a)},eo}function Si$1(va,_a,eo){eo=zg(-1,eo),eo.tag=3;var to=va.type.getDerivedStateFromError;if(typeof to=="function"){var ro=_a.value;eo.payload=function(){return Ni$1(va,_a),to(ro)}}var no=va.stateNode;return no!==null&&typeof no.componentDidCatch=="function"&&(eo.callback=function(){typeof to!="function"&&(Ti$1===null?Ti$1=new Set([this]):Ti$1.add(this),Ni$1(va,_a));var io=_a.stack;this.componentDidCatch(_a.value,{componentStack:io!==null?io:""})}),eo}var Ui$1=typeof WeakSet=="function"?WeakSet:Set;function Vi$1(va){var _a=va.ref;if(_a!==null)if(typeof _a=="function")try{_a(null)}catch(eo){Wi$1(va,eo)}else _a.current=null}function Xi$1(va,_a){switch(_a.tag){case 0:case 11:case 15:case 22:return;case 1:if(_a.flags&256&&va!==null){var eo=va.memoizedProps,to=va.memoizedState;va=_a.stateNode,_a=va.getSnapshotBeforeUpdate(_a.elementType===_a.type?eo:lg(_a.type,eo),to),va.__reactInternalSnapshotBeforeUpdate=_a}return;case 3:_a.flags&256&&qf(_a.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y$5(163))}function Yi$1(va,_a,eo){switch(eo.tag){case 0:case 11:case 15:case 22:if(_a=eo.updateQueue,_a=_a!==null?_a.lastEffect:null,_a!==null){va=_a=_a.next;do{if((va.tag&3)===3){var to=va.create;va.destroy=to()}va=va.next}while(va!==_a)}if(_a=eo.updateQueue,_a=_a!==null?_a.lastEffect:null,_a!==null){va=_a=_a.next;do{var ro=va;to=ro.next,ro=ro.tag,(ro&4)!==0&&(ro&1)!==0&&(Zi$1(eo,va),$i$1(eo,va)),va=to}while(va!==_a)}return;case 1:va=eo.stateNode,eo.flags&4&&(_a===null?va.componentDidMount():(to=eo.elementType===eo.type?_a.memoizedProps:lg(eo.type,_a.memoizedProps),va.componentDidUpdate(to,_a.memoizedState,va.__reactInternalSnapshotBeforeUpdate))),_a=eo.updateQueue,_a!==null&&Eg(eo,_a,va);return;case 3:if(_a=eo.updateQueue,_a!==null){if(va=null,eo.child!==null)switch(eo.child.tag){case 5:va=eo.child.stateNode;break;case 1:va=eo.child.stateNode}Eg(eo,_a,va)}return;case 5:va=eo.stateNode,_a===null&&eo.flags&4&&mf(eo.type,eo.memoizedProps)&&va.focus();return;case 6:return;case 4:return;case 12:return;case 13:eo.memoizedState===null&&(eo=eo.alternate,eo!==null&&(eo=eo.memoizedState,eo!==null&&(eo=eo.dehydrated,eo!==null&&Cc(eo))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y$5(163))}function aj(va,_a){for(var eo=va;;){if(eo.tag===5){var to=eo.stateNode;if(_a)to=to.style,typeof to.setProperty=="function"?to.setProperty("display","none","important"):to.display="none";else{to=eo.stateNode;var ro=eo.memoizedProps.style;ro=ro!=null&&ro.hasOwnProperty("display")?ro.display:null,to.style.display=sb("display",ro)}}else if(eo.tag===6)eo.stateNode.nodeValue=_a?"":eo.memoizedProps;else if((eo.tag!==23&&eo.tag!==24||eo.memoizedState===null||eo===va)&&eo.child!==null){eo.child.return=eo,eo=eo.child;continue}if(eo===va)break;for(;eo.sibling===null;){if(eo.return===null||eo.return===va)return;eo=eo.return}eo.sibling.return=eo.return,eo=eo.sibling}}function bj(va,_a){if(Mf&&typeof Mf.onCommitFiberUnmount=="function")try{Mf.onCommitFiberUnmount(Lf,_a)}catch{}switch(_a.tag){case 0:case 11:case 14:case 15:case 22:if(va=_a.updateQueue,va!==null&&(va=va.lastEffect,va!==null)){var eo=va=va.next;do{var to=eo,ro=to.destroy;if(to=to.tag,ro!==void 0)if((to&4)!==0)Zi$1(_a,eo);else{to=_a;try{ro()}catch(no){Wi$1(to,no)}}eo=eo.next}while(eo!==va)}break;case 1:if(Vi$1(_a),va=_a.stateNode,typeof va.componentWillUnmount=="function")try{va.props=_a.memoizedProps,va.state=_a.memoizedState,va.componentWillUnmount()}catch(no){Wi$1(_a,no)}break;case 5:Vi$1(_a);break;case 4:cj(va,_a)}}function dj(va){va.alternate=null,va.child=null,va.dependencies=null,va.firstEffect=null,va.lastEffect=null,va.memoizedProps=null,va.memoizedState=null,va.pendingProps=null,va.return=null,va.updateQueue=null}function ej(va){return va.tag===5||va.tag===3||va.tag===4}function fj(va){e:{for(var _a=va.return;_a!==null;){if(ej(_a))break e;_a=_a.return}throw Error(y$5(160))}var eo=_a;switch(_a=eo.stateNode,eo.tag){case 5:var to=!1;break;case 3:_a=_a.containerInfo,to=!0;break;case 4:_a=_a.containerInfo,to=!0;break;default:throw Error(y$5(161))}eo.flags&16&&(pb(_a,""),eo.flags&=-17);e:t:for(eo=va;;){for(;eo.sibling===null;){if(eo.return===null||ej(eo.return)){eo=null;break e}eo=eo.return}for(eo.sibling.return=eo.return,eo=eo.sibling;eo.tag!==5&&eo.tag!==6&&eo.tag!==18;){if(eo.flags&2||eo.child===null||eo.tag===4)continue t;eo.child.return=eo,eo=eo.child}if(!(eo.flags&2)){eo=eo.stateNode;break e}}to?gj(va,eo,_a):hj(va,eo,_a)}function gj(va,_a,eo){var to=va.tag,ro=to===5||to===6;if(ro)va=ro?va.stateNode:va.stateNode.instance,_a?eo.nodeType===8?eo.parentNode.insertBefore(va,_a):eo.insertBefore(va,_a):(eo.nodeType===8?(_a=eo.parentNode,_a.insertBefore(va,eo)):(_a=eo,_a.appendChild(va)),eo=eo._reactRootContainer,eo!=null||_a.onclick!==null||(_a.onclick=jf));else if(to!==4&&(va=va.child,va!==null))for(gj(va,_a,eo),va=va.sibling;va!==null;)gj(va,_a,eo),va=va.sibling}function hj(va,_a,eo){var to=va.tag,ro=to===5||to===6;if(ro)va=ro?va.stateNode:va.stateNode.instance,_a?eo.insertBefore(va,_a):eo.appendChild(va);else if(to!==4&&(va=va.child,va!==null))for(hj(va,_a,eo),va=va.sibling;va!==null;)hj(va,_a,eo),va=va.sibling}function cj(va,_a){for(var eo=_a,to=!1,ro,no;;){if(!to){to=eo.return;e:for(;;){if(to===null)throw Error(y$5(160));switch(ro=to.stateNode,to.tag){case 5:no=!1;break e;case 3:ro=ro.containerInfo,no=!0;break e;case 4:ro=ro.containerInfo,no=!0;break e}to=to.return}to=!0}if(eo.tag===5||eo.tag===6){e:for(var io=va,ao=eo,oo=ao;;)if(bj(io,oo),oo.child!==null&&oo.tag!==4)oo.child.return=oo,oo=oo.child;else{if(oo===ao)break e;for(;oo.sibling===null;){if(oo.return===null||oo.return===ao)break e;oo=oo.return}oo.sibling.return=oo.return,oo=oo.sibling}no?(io=ro,ao=eo.stateNode,io.nodeType===8?io.parentNode.removeChild(ao):io.removeChild(ao)):ro.removeChild(eo.stateNode)}else if(eo.tag===4){if(eo.child!==null){ro=eo.stateNode.containerInfo,no=!0,eo.child.return=eo,eo=eo.child;continue}}else if(bj(va,eo),eo.child!==null){eo.child.return=eo,eo=eo.child;continue}if(eo===_a)break;for(;eo.sibling===null;){if(eo.return===null||eo.return===_a)return;eo=eo.return,eo.tag===4&&(to=!1)}eo.sibling.return=eo.return,eo=eo.sibling}}function ij(va,_a){switch(_a.tag){case 0:case 11:case 14:case 15:case 22:var eo=_a.updateQueue;if(eo=eo!==null?eo.lastEffect:null,eo!==null){var to=eo=eo.next;do(to.tag&3)===3&&(va=to.destroy,to.destroy=void 0,va!==void 0&&va()),to=to.next;while(to!==eo)}return;case 1:return;case 5:if(eo=_a.stateNode,eo!=null){to=_a.memoizedProps;var ro=va!==null?va.memoizedProps:to;va=_a.type;var no=_a.updateQueue;if(_a.updateQueue=null,no!==null){for(eo[xf]=to,va==="input"&&to.type==="radio"&&to.name!=null&&$a(eo,to),wb(va,ro),_a=wb(va,to),ro=0;ro<no.length;ro+=2){var io=no[ro],ao=no[ro+1];io==="style"?tb(eo,ao):io==="dangerouslySetInnerHTML"?ob(eo,ao):io==="children"?pb(eo,ao):qa(eo,io,ao,_a)}switch(va){case"input":ab(eo,to);break;case"textarea":ib(eo,to);break;case"select":va=eo._wrapperState.wasMultiple,eo._wrapperState.wasMultiple=!!to.multiple,no=to.value,no!=null?fb(eo,!!to.multiple,no,!1):va!==!!to.multiple&&(to.defaultValue!=null?fb(eo,!!to.multiple,to.defaultValue,!0):fb(eo,!!to.multiple,to.multiple?[]:"",!1))}}}return;case 6:if(_a.stateNode===null)throw Error(y$5(162));_a.stateNode.nodeValue=_a.memoizedProps;return;case 3:eo=_a.stateNode,eo.hydrate&&(eo.hydrate=!1,Cc(eo.containerInfo));return;case 12:return;case 13:_a.memoizedState!==null&&(jj=O$3(),aj(_a.child,!0)),kj(_a);return;case 19:kj(_a);return;case 17:return;case 23:case 24:aj(_a,_a.memoizedState!==null);return}throw Error(y$5(163))}function kj(va){var _a=va.updateQueue;if(_a!==null){va.updateQueue=null;var eo=va.stateNode;eo===null&&(eo=va.stateNode=new Ui$1),_a.forEach(function(to){var ro=lj.bind(null,va,to);eo.has(to)||(eo.add(to),to.then(ro,ro))})}}function mj(va,_a){return va!==null&&(va=va.memoizedState,va===null||va.dehydrated!==null)?(_a=_a.memoizedState,_a!==null&&_a.dehydrated===null):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X$2=0,U$1=null,Y$2=null,W$3=0,qj=0,rj=Bf(0),V$2=0,sj=null,tj=0,Dg=0,Hi$1=0,uj=0,vj=null,jj=0,Ji$1=1/0;function wj(){Ji$1=O$3()+500}var Z$2=null,Qi$1=!1,Ri$1=null,Ti$1=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return(X$2&48)!==0?O$3():Fj!==-1?Fj:Fj=O$3()}function Ig(va){if(va=va.mode,(va&2)===0)return 1;if((va&4)===0)return eg()===99?1:2;if(Gj===0&&(Gj=tj),kg.transition!==0){Hj!==0&&(Hj=vj!==null?vj.pendingLanes:0),va=Gj;var _a=4186112&~Hj;return _a&=-_a,_a===0&&(va=4186112&~va,_a=va&-va,_a===0&&(_a=8192)),_a}return va=eg(),(X$2&4)!==0&&va===98?va=Xc(12,Gj):(va=Sc(va),va=Xc(va,Gj)),va}function Jg(va,_a,eo){if(50<Dj)throw Dj=0,Ej=null,Error(y$5(185));if(va=Kj(va,_a),va===null)return null;$c(va,_a,eo),va===U$1&&(Hi$1|=_a,V$2===4&&Ii$1(va,W$3));var to=eg();_a===1?(X$2&8)!==0&&(X$2&48)===0?Lj(va):(Mj(va,eo),X$2===0&&(wj(),ig())):((X$2&4)===0||to!==98&&to!==99||(Cj===null?Cj=new Set([va]):Cj.add(va)),Mj(va,eo)),vj=va}function Kj(va,_a){va.lanes|=_a;var eo=va.alternate;for(eo!==null&&(eo.lanes|=_a),eo=va,va=va.return;va!==null;)va.childLanes|=_a,eo=va.alternate,eo!==null&&(eo.childLanes|=_a),eo=va,va=va.return;return eo.tag===3?eo.stateNode:null}function Mj(va,_a){for(var eo=va.callbackNode,to=va.suspendedLanes,ro=va.pingedLanes,no=va.expirationTimes,io=va.pendingLanes;0<io;){var ao=31-Vc(io),oo=1<<ao,so=no[ao];if(so===-1){if((oo&to)===0||(oo&ro)!==0){so=_a,Rc(oo);var uo=F$3;no[ao]=10<=uo?so+250:6<=uo?so+5e3:-1}}else so<=_a&&(va.expiredLanes|=oo);io&=~oo}if(to=Uc(va,va===U$1?W$3:0),_a=F$3,to===0)eo!==null&&(eo!==Zf&&Pf(eo),va.callbackNode=null,va.callbackPriority=0);else{if(eo!==null){if(va.callbackPriority===_a)return;eo!==Zf&&Pf(eo)}_a===15?(eo=Lj.bind(null,va),ag===null?(ag=[eo],bg=Of(Uf,jg)):ag.push(eo),eo=Zf):_a===14?eo=hg(99,Lj.bind(null,va)):(eo=Tc(_a),eo=hg(eo,Nj.bind(null,va))),va.callbackPriority=_a,va.callbackNode=eo}}function Nj(va){if(Fj=-1,Hj=Gj=0,(X$2&48)!==0)throw Error(y$5(327));var _a=va.callbackNode;if(Oj()&&va.callbackNode!==_a)return null;var eo=Uc(va,va===U$1?W$3:0);if(eo===0)return null;var to=eo,ro=X$2;X$2|=16;var no=Pj();(U$1!==va||W$3!==to)&&(wj(),Qj(va,to));do try{Rj();break}catch(ao){Sj(va,ao)}while(1);if(qg(),oj.current=no,X$2=ro,Y$2!==null?to=0:(U$1=null,W$3=0,to=V$2),(tj&Hi$1)!==0)Qj(va,0);else if(to!==0){if(to===2&&(X$2|=64,va.hydrate&&(va.hydrate=!1,qf(va.containerInfo)),eo=Wc(va),eo!==0&&(to=Tj(va,eo))),to===1)throw _a=sj,Qj(va,0),Ii$1(va,eo),Mj(va,O$3()),_a;switch(va.finishedWork=va.current.alternate,va.finishedLanes=eo,to){case 0:case 1:throw Error(y$5(345));case 2:Uj(va);break;case 3:if(Ii$1(va,eo),(eo&62914560)===eo&&(to=jj+500-O$3(),10<to)){if(Uc(va,0)!==0)break;if(ro=va.suspendedLanes,(ro&eo)!==eo){Hg(),va.pingedLanes|=va.suspendedLanes&ro;break}va.timeoutHandle=of(Uj.bind(null,va),to);break}Uj(va);break;case 4:if(Ii$1(va,eo),(eo&4186112)===eo)break;for(to=va.eventTimes,ro=-1;0<eo;){var io=31-Vc(eo);no=1<<io,io=to[io],io>ro&&(ro=io),eo&=~no}if(eo=ro,eo=O$3()-eo,eo=(120>eo?120:480>eo?480:1080>eo?1080:1920>eo?1920:3e3>eo?3e3:4320>eo?4320:1960*nj(eo/1960))-eo,10<eo){va.timeoutHandle=of(Uj.bind(null,va),eo);break}Uj(va);break;case 5:Uj(va);break;default:throw Error(y$5(329))}}return Mj(va,O$3()),va.callbackNode===_a?Nj.bind(null,va):null}function Ii$1(va,_a){for(_a&=~uj,_a&=~Hi$1,va.suspendedLanes|=_a,va.pingedLanes&=~_a,va=va.expirationTimes;0<_a;){var eo=31-Vc(_a),to=1<<eo;va[eo]=-1,_a&=~to}}function Lj(va){if((X$2&48)!==0)throw Error(y$5(327));if(Oj(),va===U$1&&(va.expiredLanes&W$3)!==0){var _a=W$3,eo=Tj(va,_a);(tj&Hi$1)!==0&&(_a=Uc(va,_a),eo=Tj(va,_a))}else _a=Uc(va,0),eo=Tj(va,_a);if(va.tag!==0&&eo===2&&(X$2|=64,va.hydrate&&(va.hydrate=!1,qf(va.containerInfo)),_a=Wc(va),_a!==0&&(eo=Tj(va,_a))),eo===1)throw eo=sj,Qj(va,0),Ii$1(va,_a),Mj(va,O$3()),eo;return va.finishedWork=va.current.alternate,va.finishedLanes=_a,Uj(va),Mj(va,O$3()),null}function Vj(){if(Cj!==null){var va=Cj;Cj=null,va.forEach(function(_a){_a.expiredLanes|=24&_a.pendingLanes,Mj(_a,O$3())})}ig()}function Wj(va,_a){var eo=X$2;X$2|=1;try{return va(_a)}finally{X$2=eo,X$2===0&&(wj(),ig())}}function Xj(va,_a){var eo=X$2;X$2&=-2,X$2|=8;try{return va(_a)}finally{X$2=eo,X$2===0&&(wj(),ig())}}function ni$1(va,_a){I$3(rj,qj),qj|=_a,tj|=_a}function Ki$1(){qj=rj.current,H$3(rj)}function Qj(va,_a){va.finishedWork=null,va.finishedLanes=0;var eo=va.timeoutHandle;if(eo!==-1&&(va.timeoutHandle=-1,pf(eo)),Y$2!==null)for(eo=Y$2.return;eo!==null;){var to=eo;switch(to.tag){case 1:to=to.type.childContextTypes,to!=null&&Gf();break;case 3:fh(),H$3(N$3),H$3(M$2),uh();break;case 5:hh(to);break;case 4:fh();break;case 13:H$3(P$3);break;case 19:H$3(P$3);break;case 10:rg(to);break;case 23:case 24:Ki$1()}eo=eo.return}U$1=va,Y$2=Tg(va.current,null),W$3=qj=tj=_a,V$2=0,sj=null,uj=Hi$1=Dg=0}function Sj(va,_a){do{var eo=Y$2;try{if(qg(),vh.current=Gh,yh){for(var to=R$3.memoizedState;to!==null;){var ro=to.queue;ro!==null&&(ro.pending=null),to=to.next}yh=!1}if(xh=0,T$1=S$2=R$3=null,zh=!1,pj.current=null,eo===null||eo.return===null){V$2=1,sj=_a,Y$2=null;break}e:{var no=va,io=eo.return,ao=eo,oo=_a;if(_a=W$3,ao.flags|=2048,ao.firstEffect=ao.lastEffect=null,oo!==null&&typeof oo=="object"&&typeof oo.then=="function"){var so=oo;if((ao.mode&2)===0){var uo=ao.alternate;uo?(ao.updateQueue=uo.updateQueue,ao.memoizedState=uo.memoizedState,ao.lanes=uo.lanes):(ao.updateQueue=null,ao.memoizedState=null)}var co=(P$3.current&1)!==0,fo=io;do{var po;if(po=fo.tag===13){var vo=fo.memoizedState;if(vo!==null)po=vo.dehydrated!==null;else{var go=fo.memoizedProps;po=go.fallback===void 0?!1:go.unstable_avoidThisFallback!==!0?!0:!co}}if(po){var mo=fo.updateQueue;if(mo===null){var lo=new Set;lo.add(so),fo.updateQueue=lo}else mo.add(so);if((fo.mode&2)===0){if(fo.flags|=64,ao.flags|=16384,ao.flags&=-2981,ao.tag===1)if(ao.alternate===null)ao.tag=17;else{var ho=zg(-1,1);ho.tag=2,Ag(ao,ho)}ao.lanes|=1;break e}oo=void 0,ao=_a;var yo=no.pingCache;if(yo===null?(yo=no.pingCache=new Oi$1,oo=new Set,yo.set(so,oo)):(oo=yo.get(so),oo===void 0&&(oo=new Set,yo.set(so,oo))),!oo.has(ao)){oo.add(ao);var Ao=Yj.bind(null,no,so,ao);so.then(Ao,Ao)}fo.flags|=4096,fo.lanes=_a;break e}fo=fo.return}while(fo!==null);oo=Error((Ra(ao.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}V$2!==5&&(V$2=2),oo=Mi$1(oo,ao),fo=io;do{switch(fo.tag){case 3:no=oo,fo.flags|=4096,_a&=-_a,fo.lanes|=_a;var Eo=Pi$1(fo,no,_a);Bg(fo,Eo);break e;case 1:no=oo;var To=fo.type,No=fo.stateNode;if((fo.flags&64)===0&&(typeof To.getDerivedStateFromError=="function"||No!==null&&typeof No.componentDidCatch=="function"&&(Ti$1===null||!Ti$1.has(No)))){fo.flags|=4096,_a&=-_a,fo.lanes|=_a;var Co=Si$1(fo,no,_a);Bg(fo,Co);break e}}fo=fo.return}while(fo!==null)}Zj(eo)}catch(Io){_a=Io,Y$2===eo&&eo!==null&&(Y$2=eo=eo.return);continue}break}while(1)}function Pj(){var va=oj.current;return oj.current=Gh,va===null?Gh:va}function Tj(va,_a){var eo=X$2;X$2|=16;var to=Pj();U$1===va&&W$3===_a||Qj(va,_a);do try{ak();break}catch(ro){Sj(va,ro)}while(1);if(qg(),X$2=eo,oj.current=to,Y$2!==null)throw Error(y$5(261));return U$1=null,W$3=0,V$2}function ak(){for(;Y$2!==null;)bk(Y$2)}function Rj(){for(;Y$2!==null&&!Qf();)bk(Y$2)}function bk(va){var _a=ck(va.alternate,va,qj);va.memoizedProps=va.pendingProps,_a===null?Zj(va):Y$2=_a,pj.current=null}function Zj(va){var _a=va;do{var eo=_a.alternate;if(va=_a.return,(_a.flags&2048)===0){if(eo=Gi$1(eo,_a,qj),eo!==null){Y$2=eo;return}if(eo=_a,eo.tag!==24&&eo.tag!==23||eo.memoizedState===null||(qj&1073741824)!==0||(eo.mode&4)===0){for(var to=0,ro=eo.child;ro!==null;)to|=ro.lanes|ro.childLanes,ro=ro.sibling;eo.childLanes=to}va!==null&&(va.flags&2048)===0&&(va.firstEffect===null&&(va.firstEffect=_a.firstEffect),_a.lastEffect!==null&&(va.lastEffect!==null&&(va.lastEffect.nextEffect=_a.firstEffect),va.lastEffect=_a.lastEffect),1<_a.flags&&(va.lastEffect!==null?va.lastEffect.nextEffect=_a:va.firstEffect=_a,va.lastEffect=_a))}else{if(eo=Li$1(_a),eo!==null){eo.flags&=2047,Y$2=eo;return}va!==null&&(va.firstEffect=va.lastEffect=null,va.flags|=2048)}if(_a=_a.sibling,_a!==null){Y$2=_a;return}Y$2=_a=va}while(_a!==null);V$2===0&&(V$2=5)}function Uj(va){var _a=eg();return gg(99,dk.bind(null,va,_a)),null}function dk(va,_a){do Oj();while(yj!==null);if((X$2&48)!==0)throw Error(y$5(327));var eo=va.finishedWork;if(eo===null)return null;if(va.finishedWork=null,va.finishedLanes=0,eo===va.current)throw Error(y$5(177));va.callbackNode=null;var to=eo.lanes|eo.childLanes,ro=to,no=va.pendingLanes&~ro;va.pendingLanes=ro,va.suspendedLanes=0,va.pingedLanes=0,va.expiredLanes&=ro,va.mutableReadLanes&=ro,va.entangledLanes&=ro,ro=va.entanglements;for(var io=va.eventTimes,ao=va.expirationTimes;0<no;){var oo=31-Vc(no),so=1<<oo;ro[oo]=0,io[oo]=-1,ao[oo]=-1,no&=~so}if(Cj!==null&&(to&24)===0&&Cj.has(va)&&Cj.delete(va),va===U$1&&(Y$2=U$1=null,W$3=0),1<eo.flags?eo.lastEffect!==null?(eo.lastEffect.nextEffect=eo,to=eo.firstEffect):to=eo:to=eo.firstEffect,to!==null){if(ro=X$2,X$2|=32,pj.current=null,kf=fd,io=Ne$1(),Oe$1(io)){if("selectionStart"in io)ao={start:io.selectionStart,end:io.selectionEnd};else e:if(ao=(ao=io.ownerDocument)&&ao.defaultView||window,(so=ao.getSelection&&ao.getSelection())&&so.rangeCount!==0){ao=so.anchorNode,no=so.anchorOffset,oo=so.focusNode,so=so.focusOffset;try{ao.nodeType,oo.nodeType}catch{ao=null;break e}var uo=0,co=-1,fo=-1,po=0,vo=0,go=io,mo=null;t:for(;;){for(var lo;go!==ao||no!==0&&go.nodeType!==3||(co=uo+no),go!==oo||so!==0&&go.nodeType!==3||(fo=uo+so),go.nodeType===3&&(uo+=go.nodeValue.length),(lo=go.firstChild)!==null;)mo=go,go=lo;for(;;){if(go===io)break t;if(mo===ao&&++po===no&&(co=uo),mo===oo&&++vo===so&&(fo=uo),(lo=go.nextSibling)!==null)break;go=mo,mo=go.parentNode}go=lo}ao=co===-1||fo===-1?null:{start:co,end:fo}}else ao=null;ao=ao||{start:0,end:0}}else ao=null;lf={focusedElem:io,selectionRange:ao},fd=!1,Ij=null,Jj=!1,Z$2=to;do try{ek()}catch(Io){if(Z$2===null)throw Error(y$5(330));Wi$1(Z$2,Io),Z$2=Z$2.nextEffect}while(Z$2!==null);Ij=null,Z$2=to;do try{for(io=va;Z$2!==null;){var ho=Z$2.flags;if(ho&16&&pb(Z$2.stateNode,""),ho&128){var yo=Z$2.alternate;if(yo!==null){var Ao=yo.ref;Ao!==null&&(typeof Ao=="function"?Ao(null):Ao.current=null)}}switch(ho&1038){case 2:fj(Z$2),Z$2.flags&=-3;break;case 6:fj(Z$2),Z$2.flags&=-3,ij(Z$2.alternate,Z$2);break;case 1024:Z$2.flags&=-1025;break;case 1028:Z$2.flags&=-1025,ij(Z$2.alternate,Z$2);break;case 4:ij(Z$2.alternate,Z$2);break;case 8:ao=Z$2,cj(io,ao);var Eo=ao.alternate;dj(ao),Eo!==null&&dj(Eo)}Z$2=Z$2.nextEffect}}catch(Io){if(Z$2===null)throw Error(y$5(330));Wi$1(Z$2,Io),Z$2=Z$2.nextEffect}while(Z$2!==null);if(Ao=lf,yo=Ne$1(),ho=Ao.focusedElem,io=Ao.selectionRange,yo!==ho&&ho&&ho.ownerDocument&&Me$1(ho.ownerDocument.documentElement,ho)){for(io!==null&&Oe$1(ho)&&(yo=io.start,Ao=io.end,Ao===void 0&&(Ao=yo),"selectionStart"in ho?(ho.selectionStart=yo,ho.selectionEnd=Math.min(Ao,ho.value.length)):(Ao=(yo=ho.ownerDocument||document)&&yo.defaultView||window,Ao.getSelection&&(Ao=Ao.getSelection(),ao=ho.textContent.length,Eo=Math.min(io.start,ao),io=io.end===void 0?Eo:Math.min(io.end,ao),!Ao.extend&&Eo>io&&(ao=io,io=Eo,Eo=ao),ao=Le$1(ho,Eo),no=Le$1(ho,io),ao&&no&&(Ao.rangeCount!==1||Ao.anchorNode!==ao.node||Ao.anchorOffset!==ao.offset||Ao.focusNode!==no.node||Ao.focusOffset!==no.offset)&&(yo=yo.createRange(),yo.setStart(ao.node,ao.offset),Ao.removeAllRanges(),Eo>io?(Ao.addRange(yo),Ao.extend(no.node,no.offset)):(yo.setEnd(no.node,no.offset),Ao.addRange(yo)))))),yo=[],Ao=ho;Ao=Ao.parentNode;)Ao.nodeType===1&&yo.push({element:Ao,left:Ao.scrollLeft,top:Ao.scrollTop});for(typeof ho.focus=="function"&&ho.focus(),ho=0;ho<yo.length;ho++)Ao=yo[ho],Ao.element.scrollLeft=Ao.left,Ao.element.scrollTop=Ao.top}fd=!!kf,lf=kf=null,va.current=eo,Z$2=to;do try{for(ho=va;Z$2!==null;){var To=Z$2.flags;if(To&36&&Yi$1(ho,Z$2.alternate,Z$2),To&128){yo=void 0;var No=Z$2.ref;if(No!==null){var Co=Z$2.stateNode;switch(Z$2.tag){case 5:yo=Co;break;default:yo=Co}typeof No=="function"?No(yo):No.current=yo}}Z$2=Z$2.nextEffect}}catch(Io){if(Z$2===null)throw Error(y$5(330));Wi$1(Z$2,Io),Z$2=Z$2.nextEffect}while(Z$2!==null);Z$2=null,$f(),X$2=ro}else va.current=eo;if(xj)xj=!1,yj=va,zj=_a;else for(Z$2=to;Z$2!==null;)_a=Z$2.nextEffect,Z$2.nextEffect=null,Z$2.flags&8&&(To=Z$2,To.sibling=null,To.stateNode=null),Z$2=_a;if(to=va.pendingLanes,to===0&&(Ti$1=null),to===1?va===Ej?Dj++:(Dj=0,Ej=va):Dj=0,eo=eo.stateNode,Mf&&typeof Mf.onCommitFiberRoot=="function")try{Mf.onCommitFiberRoot(Lf,eo,void 0,(eo.current.flags&64)===64)}catch{}if(Mj(va,O$3()),Qi$1)throw Qi$1=!1,va=Ri$1,Ri$1=null,va;return(X$2&8)!==0||ig(),null}function ek(){for(;Z$2!==null;){var va=Z$2.alternate;Jj||Ij===null||((Z$2.flags&8)!==0?dc(Z$2,Ij)&&(Jj=!0):Z$2.tag===13&&mj(va,Z$2)&&dc(Z$2,Ij)&&(Jj=!0));var _a=Z$2.flags;(_a&256)!==0&&Xi$1(va,Z$2),(_a&512)===0||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z$2=Z$2.nextEffect}}function Oj(){if(zj!==90){var va=97<zj?97:zj;return zj=90,gg(va,fk)}return!1}function $i$1(va,_a){Aj.push(_a,va),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi$1(va,_a){Bj.push(_a,va),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(yj===null)return!1;var va=yj;if(yj=null,(X$2&48)!==0)throw Error(y$5(331));var _a=X$2;X$2|=32;var eo=Bj;Bj=[];for(var to=0;to<eo.length;to+=2){var ro=eo[to],no=eo[to+1],io=ro.destroy;if(ro.destroy=void 0,typeof io=="function")try{io()}catch(oo){if(no===null)throw Error(y$5(330));Wi$1(no,oo)}}for(eo=Aj,Aj=[],to=0;to<eo.length;to+=2){ro=eo[to],no=eo[to+1];try{var ao=ro.create;ro.destroy=ao()}catch(oo){if(no===null)throw Error(y$5(330));Wi$1(no,oo)}}for(ao=va.current.firstEffect;ao!==null;)va=ao.nextEffect,ao.nextEffect=null,ao.flags&8&&(ao.sibling=null,ao.stateNode=null),ao=va;return X$2=_a,ig(),!0}function gk(va,_a,eo){_a=Mi$1(eo,_a),_a=Pi$1(va,_a,1),Ag(va,_a),_a=Hg(),va=Kj(va,1),va!==null&&($c(va,1,_a),Mj(va,_a))}function Wi$1(va,_a){if(va.tag===3)gk(va,va,_a);else for(var eo=va.return;eo!==null;){if(eo.tag===3){gk(eo,va,_a);break}else if(eo.tag===1){var to=eo.stateNode;if(typeof eo.type.getDerivedStateFromError=="function"||typeof to.componentDidCatch=="function"&&(Ti$1===null||!Ti$1.has(to))){va=Mi$1(_a,va);var ro=Si$1(eo,va,1);if(Ag(eo,ro),ro=Hg(),eo=Kj(eo,1),eo!==null)$c(eo,1,ro),Mj(eo,ro);else if(typeof to.componentDidCatch=="function"&&(Ti$1===null||!Ti$1.has(to)))try{to.componentDidCatch(_a,va)}catch{}break}}eo=eo.return}}function Yj(va,_a,eo){var to=va.pingCache;to!==null&&to.delete(_a),_a=Hg(),va.pingedLanes|=va.suspendedLanes&eo,U$1===va&&(W$3&eo)===eo&&(V$2===4||V$2===3&&(W$3&62914560)===W$3&&500>O$3()-jj?Qj(va,0):uj|=eo),Mj(va,_a)}function lj(va,_a){var eo=va.stateNode;eo!==null&&eo.delete(_a),_a=0,_a===0&&(_a=va.mode,(_a&2)===0?_a=1:(_a&4)===0?_a=eg()===99?1:2:(Gj===0&&(Gj=tj),_a=Yc(62914560&~Gj),_a===0&&(_a=4194304))),eo=Hg(),va=Kj(va,_a),va!==null&&($c(va,_a,eo),Mj(va,eo))}var ck;ck=function(va,_a,eo){var to=_a.lanes;if(va!==null)if(va.memoizedProps!==_a.pendingProps||N$3.current)ug=!0;else if((eo&to)!==0)ug=(va.flags&16384)!==0;else{switch(ug=!1,_a.tag){case 3:ri$1(_a),sh();break;case 5:gh(_a);break;case 1:Ff(_a.type)&&Jf(_a);break;case 4:eh(_a,_a.stateNode.containerInfo);break;case 10:to=_a.memoizedProps.value;var ro=_a.type._context;I$3(mg,ro._currentValue),ro._currentValue=to;break;case 13:if(_a.memoizedState!==null)return(eo&_a.child.childLanes)!==0?ti$1(va,_a,eo):(I$3(P$3,P$3.current&1),_a=hi$1(va,_a,eo),_a!==null?_a.sibling:null);I$3(P$3,P$3.current&1);break;case 19:if(to=(eo&_a.childLanes)!==0,(va.flags&64)!==0){if(to)return Ai$1(va,_a,eo);_a.flags|=64}if(ro=_a.memoizedState,ro!==null&&(ro.rendering=null,ro.tail=null,ro.lastEffect=null),I$3(P$3,P$3.current),to)break;return null;case 23:case 24:return _a.lanes=0,mi$1(va,_a,eo)}return hi$1(va,_a,eo)}else ug=!1;switch(_a.lanes=0,_a.tag){case 2:if(to=_a.type,va!==null&&(va.alternate=null,_a.alternate=null,_a.flags|=2),va=_a.pendingProps,ro=Ef(_a,M$2.current),tg(_a,eo),ro=Ch(null,_a,to,va,ro,eo),_a.flags|=1,typeof ro=="object"&&ro!==null&&typeof ro.render=="function"&&ro.$$typeof===void 0){if(_a.tag=1,_a.memoizedState=null,_a.updateQueue=null,Ff(to)){var no=!0;Jf(_a)}else no=!1;_a.memoizedState=ro.state!==null&&ro.state!==void 0?ro.state:null,xg(_a);var io=to.getDerivedStateFromProps;typeof io=="function"&&Gg(_a,to,io,va),ro.updater=Kg,_a.stateNode=ro,ro._reactInternals=_a,Og(_a,to,va,eo),_a=qi$1(null,_a,to,!0,no,eo)}else _a.tag=0,fi$1(null,_a,ro,eo),_a=_a.child;return _a;case 16:ro=_a.elementType;e:{switch(va!==null&&(va.alternate=null,_a.alternate=null,_a.flags|=2),va=_a.pendingProps,no=ro._init,ro=no(ro._payload),_a.type=ro,no=_a.tag=hk(ro),va=lg(ro,va),no){case 0:_a=li$1(null,_a,ro,va,eo);break e;case 1:_a=pi$1(null,_a,ro,va,eo);break e;case 11:_a=gi$1(null,_a,ro,va,eo);break e;case 14:_a=ii$1(null,_a,ro,lg(ro.type,va),to,eo);break e}throw Error(y$5(306,ro,""))}return _a;case 0:return to=_a.type,ro=_a.pendingProps,ro=_a.elementType===to?ro:lg(to,ro),li$1(va,_a,to,ro,eo);case 1:return to=_a.type,ro=_a.pendingProps,ro=_a.elementType===to?ro:lg(to,ro),pi$1(va,_a,to,ro,eo);case 3:if(ri$1(_a),to=_a.updateQueue,va===null||to===null)throw Error(y$5(282));if(to=_a.pendingProps,ro=_a.memoizedState,ro=ro!==null?ro.element:null,yg(va,_a),Cg(_a,to,null,eo),to=_a.memoizedState.element,to===ro)sh(),_a=hi$1(va,_a,eo);else{if(ro=_a.stateNode,(no=ro.hydrate)&&(kh=rf(_a.stateNode.containerInfo.firstChild),jh=_a,no=lh=!0),no){if(va=ro.mutableSourceEagerHydrationData,va!=null)for(ro=0;ro<va.length;ro+=2)no=va[ro],no._workInProgressVersionPrimary=va[ro+1],th.push(no);for(eo=Zg(_a,null,to,eo),_a.child=eo;eo;)eo.flags=eo.flags&-3|1024,eo=eo.sibling}else fi$1(va,_a,to,eo),sh();_a=_a.child}return _a;case 5:return gh(_a),va===null&&ph(_a),to=_a.type,ro=_a.pendingProps,no=va!==null?va.memoizedProps:null,io=ro.children,nf(to,ro)?io=null:no!==null&&nf(to,no)&&(_a.flags|=16),oi$1(va,_a),fi$1(va,_a,io,eo),_a.child;case 6:return va===null&&ph(_a),null;case 13:return ti$1(va,_a,eo);case 4:return eh(_a,_a.stateNode.containerInfo),to=_a.pendingProps,va===null?_a.child=Yg(_a,null,to,eo):fi$1(va,_a,to,eo),_a.child;case 11:return to=_a.type,ro=_a.pendingProps,ro=_a.elementType===to?ro:lg(to,ro),gi$1(va,_a,to,ro,eo);case 7:return fi$1(va,_a,_a.pendingProps,eo),_a.child;case 8:return fi$1(va,_a,_a.pendingProps.children,eo),_a.child;case 12:return fi$1(va,_a,_a.pendingProps.children,eo),_a.child;case 10:e:{to=_a.type._context,ro=_a.pendingProps,io=_a.memoizedProps,no=ro.value;var ao=_a.type._context;if(I$3(mg,ao._currentValue),ao._currentValue=no,io!==null)if(ao=io.value,no=He$1(ao,no)?0:(typeof to._calculateChangedBits=="function"?to._calculateChangedBits(ao,no):1073741823)|0,no===0){if(io.children===ro.children&&!N$3.current){_a=hi$1(va,_a,eo);break e}}else for(ao=_a.child,ao!==null&&(ao.return=_a);ao!==null;){var oo=ao.dependencies;if(oo!==null){io=ao.child;for(var so=oo.firstContext;so!==null;){if(so.context===to&&(so.observedBits&no)!==0){ao.tag===1&&(so=zg(-1,eo&-eo),so.tag=2,Ag(ao,so)),ao.lanes|=eo,so=ao.alternate,so!==null&&(so.lanes|=eo),sg(ao.return,eo),oo.lanes|=eo;break}so=so.next}}else io=ao.tag===10&&ao.type===_a.type?null:ao.child;if(io!==null)io.return=ao;else for(io=ao;io!==null;){if(io===_a){io=null;break}if(ao=io.sibling,ao!==null){ao.return=io.return,io=ao;break}io=io.return}ao=io}fi$1(va,_a,ro.children,eo),_a=_a.child}return _a;case 9:return ro=_a.type,no=_a.pendingProps,to=no.children,tg(_a,eo),ro=vg(ro,no.unstable_observedBits),to=to(ro),_a.flags|=1,fi$1(va,_a,to,eo),_a.child;case 14:return ro=_a.type,no=lg(ro,_a.pendingProps),no=lg(ro.type,no),ii$1(va,_a,ro,no,to,eo);case 15:return ki$1(va,_a,_a.type,_a.pendingProps,to,eo);case 17:return to=_a.type,ro=_a.pendingProps,ro=_a.elementType===to?ro:lg(to,ro),va!==null&&(va.alternate=null,_a.alternate=null,_a.flags|=2),_a.tag=1,Ff(to)?(va=!0,Jf(_a)):va=!1,tg(_a,eo),Mg(_a,to,ro),Og(_a,to,ro,eo),qi$1(null,_a,to,!0,va,eo);case 19:return Ai$1(va,_a,eo);case 23:return mi$1(va,_a,eo);case 24:return mi$1(va,_a,eo)}throw Error(y$5(156,_a.tag))};function ik(va,_a,eo,to){this.tag=va,this.key=eo,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=to,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(va,_a,eo,to){return new ik(va,_a,eo,to)}function ji$1(va){return va=va.prototype,!(!va||!va.isReactComponent)}function hk(va){if(typeof va=="function")return ji$1(va)?1:0;if(va!=null){if(va=va.$$typeof,va===Aa)return 11;if(va===Da)return 14}return 2}function Tg(va,_a){var eo=va.alternate;return eo===null?(eo=nh(va.tag,_a,va.key,va.mode),eo.elementType=va.elementType,eo.type=va.type,eo.stateNode=va.stateNode,eo.alternate=va,va.alternate=eo):(eo.pendingProps=_a,eo.type=va.type,eo.flags=0,eo.nextEffect=null,eo.firstEffect=null,eo.lastEffect=null),eo.childLanes=va.childLanes,eo.lanes=va.lanes,eo.child=va.child,eo.memoizedProps=va.memoizedProps,eo.memoizedState=va.memoizedState,eo.updateQueue=va.updateQueue,_a=va.dependencies,eo.dependencies=_a===null?null:{lanes:_a.lanes,firstContext:_a.firstContext},eo.sibling=va.sibling,eo.index=va.index,eo.ref=va.ref,eo}function Vg(va,_a,eo,to,ro,no){var io=2;if(to=va,typeof va=="function")ji$1(va)&&(io=1);else if(typeof va=="string")io=5;else e:switch(va){case ua:return Xg(eo.children,ro,no,_a);case Ha:io=8,ro|=16;break;case wa:io=8,ro|=1;break;case xa:return va=nh(12,eo,_a,ro|8),va.elementType=xa,va.type=xa,va.lanes=no,va;case Ba:return va=nh(13,eo,_a,ro),va.type=Ba,va.elementType=Ba,va.lanes=no,va;case Ca:return va=nh(19,eo,_a,ro),va.elementType=Ca,va.lanes=no,va;case Ia:return vi$1(eo,ro,no,_a);case Ja:return va=nh(24,eo,_a,ro),va.elementType=Ja,va.lanes=no,va;default:if(typeof va=="object"&&va!==null)switch(va.$$typeof){case ya:io=10;break e;case za:io=9;break e;case Aa:io=11;break e;case Da:io=14;break e;case Ea:io=16,to=null;break e;case Fa:io=22;break e}throw Error(y$5(130,va==null?va:typeof va,""))}return _a=nh(io,eo,_a,ro),_a.elementType=va,_a.type=to,_a.lanes=no,_a}function Xg(va,_a,eo,to){return va=nh(7,va,to,_a),va.lanes=eo,va}function vi$1(va,_a,eo,to){return va=nh(23,va,to,_a),va.elementType=Ia,va.lanes=eo,va}function Ug(va,_a,eo){return va=nh(6,va,null,_a),va.lanes=eo,va}function Wg(va,_a,eo){return _a=nh(4,va.children!==null?va.children:[],va.key,_a),_a.lanes=eo,_a.stateNode={containerInfo:va.containerInfo,pendingChildren:null,implementation:va.implementation},_a}function jk(va,_a,eo){this.tag=_a,this.containerInfo=va,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=eo,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(va,_a,eo){var to=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:to==null?null:""+to,children:va,containerInfo:_a,implementation:eo}}function lk(va,_a,eo,to){var ro=_a.current,no=Hg(),io=Ig(ro);e:if(eo){eo=eo._reactInternals;t:{if(Zb(eo)!==eo||eo.tag!==1)throw Error(y$5(170));var ao=eo;do{switch(ao.tag){case 3:ao=ao.stateNode.context;break t;case 1:if(Ff(ao.type)){ao=ao.stateNode.__reactInternalMemoizedMergedChildContext;break t}}ao=ao.return}while(ao!==null);throw Error(y$5(171))}if(eo.tag===1){var oo=eo.type;if(Ff(oo)){eo=If(eo,oo,ao);break e}}eo=ao}else eo=Cf;return _a.context===null?_a.context=eo:_a.pendingContext=eo,_a=zg(no,io),_a.payload={element:va},to=to===void 0?null:to,to!==null&&(_a.callback=to),Ag(ro,_a),Jg(ro,io,no),io}function mk(va){if(va=va.current,!va.child)return null;switch(va.child.tag){case 5:return va.child.stateNode;default:return va.child.stateNode}}function nk(va,_a){if(va=va.memoizedState,va!==null&&va.dehydrated!==null){var eo=va.retryLane;va.retryLane=eo!==0&&eo<_a?eo:_a}}function ok(va,_a){nk(va,_a),(va=va.alternate)&&nk(va,_a)}function pk(){return null}function qk(va,_a,eo){var to=eo!=null&&eo.hydrationOptions!=null&&eo.hydrationOptions.mutableSources||null;if(eo=new jk(va,_a,eo!=null&&eo.hydrate===!0),_a=nh(3,null,null,_a===2?7:_a===1?3:0),eo.current=_a,_a.stateNode=eo,xg(_a),va[ff]=eo.current,cf(va.nodeType===8?va.parentNode:va),to)for(va=0;va<to.length;va++){_a=to[va];var ro=_a._getVersion;ro=ro(_a._source),eo.mutableSourceEagerHydrationData==null?eo.mutableSourceEagerHydrationData=[_a,ro]:eo.mutableSourceEagerHydrationData.push(_a,ro)}this._internalRoot=eo}qk.prototype.render=function(va){lk(va,this._internalRoot,null,null)};qk.prototype.unmount=function(){var va=this._internalRoot,_a=va.containerInfo;lk(null,va,null,function(){_a[ff]=null})};function rk(va){return!(!va||va.nodeType!==1&&va.nodeType!==9&&va.nodeType!==11&&(va.nodeType!==8||va.nodeValue!==" react-mount-point-unstable "))}function sk(va,_a){if(_a||(_a=va?va.nodeType===9?va.documentElement:va.firstChild:null,_a=!(!_a||_a.nodeType!==1||!_a.hasAttribute("data-reactroot"))),!_a)for(var eo;eo=va.lastChild;)va.removeChild(eo);return new qk(va,0,_a?{hydrate:!0}:void 0)}function tk(va,_a,eo,to,ro){var no=eo._reactRootContainer;if(no){var io=no._internalRoot;if(typeof ro=="function"){var ao=ro;ro=function(){var so=mk(io);ao.call(so)}}lk(_a,io,va,ro)}else{if(no=eo._reactRootContainer=sk(eo,to),io=no._internalRoot,typeof ro=="function"){var oo=ro;ro=function(){var so=mk(io);oo.call(so)}}Xj(function(){lk(_a,io,va,ro)})}return mk(io)}ec=function(va){if(va.tag===13){var _a=Hg();Jg(va,4,_a),ok(va,4)}};fc=function(va){if(va.tag===13){var _a=Hg();Jg(va,67108864,_a),ok(va,67108864)}};gc=function(va){if(va.tag===13){var _a=Hg(),eo=Ig(va);Jg(va,eo,_a),ok(va,eo)}};hc=function(va,_a){return _a()};yb=function(va,_a,eo){switch(_a){case"input":if(ab(va,eo),_a=eo.name,eo.type==="radio"&&_a!=null){for(eo=va;eo.parentNode;)eo=eo.parentNode;for(eo=eo.querySelectorAll("input[name="+JSON.stringify(""+_a)+'][type="radio"]'),_a=0;_a<eo.length;_a++){var to=eo[_a];if(to!==va&&to.form===va.form){var ro=Db(to);if(!ro)throw Error(y$5(90));Wa(to),ab(to,ro)}}}break;case"textarea":ib(va,eo);break;case"select":_a=eo.value,_a!=null&&fb(va,!!eo.multiple,_a,!1)}};Gb=Wj;Hb=function(va,_a,eo,to,ro){var no=X$2;X$2|=4;try{return gg(98,va.bind(null,_a,eo,to,ro))}finally{X$2=no,X$2===0&&(wj(),ig())}};Ib=function(){(X$2&49)===0&&(Vj(),Oj())};Jb=function(va,_a){var eo=X$2;X$2|=2;try{return va(_a)}finally{X$2=eo,X$2===0&&(wj(),ig())}};function uk(va,_a){var eo=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(_a))throw Error(y$5(200));return kk(va,_a,null,eo)}var vk={Events:[Cb,ue$1,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(va){return va=cc(va),va===null?null:va.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;reactDom_production_min.createPortal=uk;reactDom_production_min.findDOMNode=function(va){if(va==null)return null;if(va.nodeType===1)return va;var _a=va._reactInternals;if(_a===void 0)throw typeof va.render=="function"?Error(y$5(188)):Error(y$5(268,Object.keys(va)));return va=cc(_a),va=va===null?null:va.stateNode,va};reactDom_production_min.flushSync=function(va,_a){var eo=X$2;if((eo&48)!==0)return va(_a);X$2|=1;try{if(va)return gg(99,va.bind(null,_a))}finally{X$2=eo,ig()}};reactDom_production_min.hydrate=function(va,_a,eo){if(!rk(_a))throw Error(y$5(200));return tk(null,va,_a,!0,eo)};reactDom_production_min.render=function(va,_a,eo){if(!rk(_a))throw Error(y$5(200));return tk(null,va,_a,!1,eo)};reactDom_production_min.unmountComponentAtNode=function(va){if(!rk(va))throw Error(y$5(40));return va._reactRootContainer?(Xj(function(){tk(null,null,va,!1,function(){va._reactRootContainer=null,va[ff]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Wj;reactDom_production_min.unstable_createPortal=function(va,_a){return uk(va,_a,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};reactDom_production_min.unstable_renderSubtreeIntoContainer=function(va,_a,eo,to){if(!rk(eo))throw Error(y$5(200));if(va==null||va._reactInternals===void 0)throw Error(y$5(38));return tk(va,_a,eo,!1,to)};reactDom_production_min.version="17.0.2";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(va){console.error(va)}}checkDCE(),reactDom.exports=reactDom_production_min;var ReactDOM=reactDom.exports;Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(va){return typeof va=="number"&&isFinite(va)&&Math.floor(va)===va});Math.sign===void 0&&(Math.sign=function(va){return va<0?-1:va>0?1:+va});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(va){if(va==null)throw new TypeError("Cannot convert undefined or null to object");const _a=Object(va);for(let eo=1;eo<arguments.length;eo++){const to=arguments[eo];if(to!=null)for(const ro in to)Object.prototype.hasOwnProperty.call(to,ro)&&(_a[ro]=to[ro])}return _a});const REVISION="117",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,FrontFaceDirectionCW=0,FrontFaceDirectionCCW=1,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,SmoothShading=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,Uncharted2ToneMapping=3,CineonToneMapping=4,ACESFilmicToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,SphericalReflectionMapping=305,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedShort565Type=1019,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,RGBEFormat=RGBAFormat,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,SRGB8_ALPHA8_ASTC_4x4_Format=37840,SRGB8_ALPHA8_ASTC_5x4_Format=37841,SRGB8_ALPHA8_ASTC_5x5_Format=37842,SRGB8_ALPHA8_ASTC_6x5_Format=37843,SRGB8_ALPHA8_ASTC_6x6_Format=37844,SRGB8_ALPHA8_ASTC_8x5_Format=37845,SRGB8_ALPHA8_ASTC_8x6_Format=37846,SRGB8_ALPHA8_ASTC_8x8_Format=37847,SRGB8_ALPHA8_ASTC_10x5_Format=37848,SRGB8_ALPHA8_ASTC_10x6_Format=37849,SRGB8_ALPHA8_ASTC_10x8_Format=37850,SRGB8_ALPHA8_ASTC_10x10_Format=37851,SRGB8_ALPHA8_ASTC_12x10_Format=37852,SRGB8_ALPHA8_ASTC_12x12_Format=37853,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,GammaEncoding=3007,RGBEEncoding=3002,LogLuvEncoding=3003,RGBM7Encoding=3004,RGBM16Encoding=3005,RGBDEncoding=3006,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042;function EventDispatcher(){}Object.assign(EventDispatcher.prototype,{addEventListener:function(va,_a){this._listeners===void 0&&(this._listeners={});var eo=this._listeners;eo[va]===void 0&&(eo[va]=[]),eo[va].indexOf(_a)===-1&&eo[va].push(_a)},hasEventListener:function(va,_a){if(this._listeners===void 0)return!1;var eo=this._listeners;return eo[va]!==void 0&&eo[va].indexOf(_a)!==-1},removeEventListener:function(va,_a){if(this._listeners!==void 0){var eo=this._listeners,to=eo[va];if(to!==void 0){var ro=to.indexOf(_a);ro!==-1&&to.splice(ro,1)}}},dispatchEvent:function(va){if(this._listeners!==void 0){var _a=this._listeners,eo=_a[va.type];if(eo!==void 0){va.target=this;for(var to=eo.slice(0),ro=0,no=to.length;ro<no;ro++)to[ro].call(this,va)}}}});var _lut=[];for(var i$3=0;i$3<256;i$3++)_lut[i$3]=(i$3<16?"0":"")+i$3.toString(16);var MathUtils={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var va=Math.random()*4294967295|0,_a=Math.random()*4294967295|0,eo=Math.random()*4294967295|0,to=Math.random()*4294967295|0,ro=_lut[va&255]+_lut[va>>8&255]+_lut[va>>16&255]+_lut[va>>24&255]+"-"+_lut[_a&255]+_lut[_a>>8&255]+"-"+_lut[_a>>16&15|64]+_lut[_a>>24&255]+"-"+_lut[eo&63|128]+_lut[eo>>8&255]+"-"+_lut[eo>>16&255]+_lut[eo>>24&255]+_lut[to&255]+_lut[to>>8&255]+_lut[to>>16&255]+_lut[to>>24&255];return ro.toUpperCase()},clamp:function(va,_a,eo){return Math.max(_a,Math.min(eo,va))},euclideanModulo:function(va,_a){return(va%_a+_a)%_a},mapLinear:function(va,_a,eo,to,ro){return to+(va-_a)*(ro-to)/(eo-_a)},lerp:function(va,_a,eo){return(1-eo)*va+eo*_a},smoothstep:function(va,_a,eo){return va<=_a?0:va>=eo?1:(va=(va-_a)/(eo-_a),va*va*(3-2*va))},smootherstep:function(va,_a,eo){return va<=_a?0:va>=eo?1:(va=(va-_a)/(eo-_a),va*va*va*(va*(va*6-15)+10))},randInt:function(va,_a){return va+Math.floor(Math.random()*(_a-va+1))},randFloat:function(va,_a){return va+Math.random()*(_a-va)},randFloatSpread:function(va){return va*(.5-Math.random())},degToRad:function(va){return va*MathUtils.DEG2RAD},radToDeg:function(va){return va*MathUtils.RAD2DEG},isPowerOfTwo:function(va){return(va&va-1)===0&&va!==0},ceilPowerOfTwo:function(va){return Math.pow(2,Math.ceil(Math.log(va)/Math.LN2))},floorPowerOfTwo:function(va){return Math.pow(2,Math.floor(Math.log(va)/Math.LN2))},setQuaternionFromProperEuler:function(va,_a,eo,to,ro){var no=Math.cos,io=Math.sin,ao=no(eo/2),oo=io(eo/2),so=no((_a+to)/2),uo=io((_a+to)/2),co=no((_a-to)/2),fo=io((_a-to)/2),po=no((to-_a)/2),vo=io((to-_a)/2);switch(ro){case"XYX":va.set(ao*uo,oo*co,oo*fo,ao*so);break;case"YZY":va.set(oo*fo,ao*uo,oo*co,ao*so);break;case"ZXZ":va.set(oo*co,oo*fo,ao*uo,ao*so);break;case"XZX":va.set(ao*uo,oo*vo,oo*po,ao*so);break;case"YXY":va.set(oo*po,ao*uo,oo*vo,ao*so);break;case"ZYZ":va.set(oo*vo,oo*po,ao*uo,ao*so);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+ro)}}};function Vector2(va,_a){this.x=va||0,this.y=_a||0}Object.defineProperties(Vector2.prototype,{width:{get:function(){return this.x},set:function(va){this.x=va}},height:{get:function(){return this.y},set:function(va){this.y=va}}});Object.assign(Vector2.prototype,{isVector2:!0,set:function(va,_a){return this.x=va,this.y=_a,this},setScalar:function(va){return this.x=va,this.y=va,this},setX:function(va){return this.x=va,this},setY:function(va){return this.y=va,this},setComponent:function(va,_a){switch(va){case 0:this.x=_a;break;case 1:this.y=_a;break;default:throw new Error("index is out of range: "+va)}return this},getComponent:function(va){switch(va){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+va)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(va){return this.x=va.x,this.y=va.y,this},add:function(va,_a){return _a!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(va,_a)):(this.x+=va.x,this.y+=va.y,this)},addScalar:function(va){return this.x+=va,this.y+=va,this},addVectors:function(va,_a){return this.x=va.x+_a.x,this.y=va.y+_a.y,this},addScaledVector:function(va,_a){return this.x+=va.x*_a,this.y+=va.y*_a,this},sub:function(va,_a){return _a!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(va,_a)):(this.x-=va.x,this.y-=va.y,this)},subScalar:function(va){return this.x-=va,this.y-=va,this},subVectors:function(va,_a){return this.x=va.x-_a.x,this.y=va.y-_a.y,this},multiply:function(va){return this.x*=va.x,this.y*=va.y,this},multiplyScalar:function(va){return this.x*=va,this.y*=va,this},divide:function(va){return this.x/=va.x,this.y/=va.y,this},divideScalar:function(va){return this.multiplyScalar(1/va)},applyMatrix3:function(va){var _a=this.x,eo=this.y,to=va.elements;return this.x=to[0]*_a+to[3]*eo+to[6],this.y=to[1]*_a+to[4]*eo+to[7],this},min:function(va){return this.x=Math.min(this.x,va.x),this.y=Math.min(this.y,va.y),this},max:function(va){return this.x=Math.max(this.x,va.x),this.y=Math.max(this.y,va.y),this},clamp:function(va,_a){return this.x=Math.max(va.x,Math.min(_a.x,this.x)),this.y=Math.max(va.y,Math.min(_a.y,this.y)),this},clampScalar:function(va,_a){return this.x=Math.max(va,Math.min(_a,this.x)),this.y=Math.max(va,Math.min(_a,this.y)),this},clampLength:function(va,_a){var eo=this.length();return this.divideScalar(eo||1).multiplyScalar(Math.max(va,Math.min(_a,eo)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(va){return this.x*va.x+this.y*va.y},cross:function(va){return this.x*va.y-this.y*va.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var va=Math.atan2(-this.y,-this.x)+Math.PI;return va},distanceTo:function(va){return Math.sqrt(this.distanceToSquared(va))},distanceToSquared:function(va){var _a=this.x-va.x,eo=this.y-va.y;return _a*_a+eo*eo},manhattanDistanceTo:function(va){return Math.abs(this.x-va.x)+Math.abs(this.y-va.y)},setLength:function(va){return this.normalize().multiplyScalar(va)},lerp:function(va,_a){return this.x+=(va.x-this.x)*_a,this.y+=(va.y-this.y)*_a,this},lerpVectors:function(va,_a,eo){return this.x=va.x+(_a.x-va.x)*eo,this.y=va.y+(_a.y-va.y)*eo,this},equals:function(va){return va.x===this.x&&va.y===this.y},fromArray:function(va,_a){return _a===void 0&&(_a=0),this.x=va[_a],this.y=va[_a+1],this},toArray:function(va,_a){return va===void 0&&(va=[]),_a===void 0&&(_a=0),va[_a]=this.x,va[_a+1]=this.y,va},fromBufferAttribute:function(va,_a,eo){return eo!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=va.getX(_a),this.y=va.getY(_a),this},rotateAround:function(va,_a){var eo=Math.cos(_a),to=Math.sin(_a),ro=this.x-va.x,no=this.y-va.y;return this.x=ro*eo-no*to+va.x,this.y=ro*to+no*eo+va.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}});function Matrix3(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Matrix3.prototype,{isMatrix3:!0,set:function(va,_a,eo,to,ro,no,io,ao,oo){var so=this.elements;return so[0]=va,so[1]=to,so[2]=io,so[3]=_a,so[4]=ro,so[5]=ao,so[6]=eo,so[7]=no,so[8]=oo,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(va){var _a=this.elements,eo=va.elements;return _a[0]=eo[0],_a[1]=eo[1],_a[2]=eo[2],_a[3]=eo[3],_a[4]=eo[4],_a[5]=eo[5],_a[6]=eo[6],_a[7]=eo[7],_a[8]=eo[8],this},extractBasis:function(va,_a,eo){return va.setFromMatrix3Column(this,0),_a.setFromMatrix3Column(this,1),eo.setFromMatrix3Column(this,2),this},setFromMatrix4:function(va){var _a=va.elements;return this.set(_a[0],_a[4],_a[8],_a[1],_a[5],_a[9],_a[2],_a[6],_a[10]),this},multiply:function(va){return this.multiplyMatrices(this,va)},premultiply:function(va){return this.multiplyMatrices(va,this)},multiplyMatrices:function(va,_a){var eo=va.elements,to=_a.elements,ro=this.elements,no=eo[0],io=eo[3],ao=eo[6],oo=eo[1],so=eo[4],uo=eo[7],co=eo[2],fo=eo[5],po=eo[8],vo=to[0],go=to[3],mo=to[6],lo=to[1],ho=to[4],yo=to[7],Ao=to[2],Eo=to[5],To=to[8];return ro[0]=no*vo+io*lo+ao*Ao,ro[3]=no*go+io*ho+ao*Eo,ro[6]=no*mo+io*yo+ao*To,ro[1]=oo*vo+so*lo+uo*Ao,ro[4]=oo*go+so*ho+uo*Eo,ro[7]=oo*mo+so*yo+uo*To,ro[2]=co*vo+fo*lo+po*Ao,ro[5]=co*go+fo*ho+po*Eo,ro[8]=co*mo+fo*yo+po*To,this},multiplyScalar:function(va){var _a=this.elements;return _a[0]*=va,_a[3]*=va,_a[6]*=va,_a[1]*=va,_a[4]*=va,_a[7]*=va,_a[2]*=va,_a[5]*=va,_a[8]*=va,this},determinant:function(){var va=this.elements,_a=va[0],eo=va[1],to=va[2],ro=va[3],no=va[4],io=va[5],ao=va[6],oo=va[7],so=va[8];return _a*no*so-_a*io*oo-eo*ro*so+eo*io*ao+to*ro*oo-to*no*ao},getInverse:function(va,_a){_a!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var eo=va.elements,to=this.elements,ro=eo[0],no=eo[1],io=eo[2],ao=eo[3],oo=eo[4],so=eo[5],uo=eo[6],co=eo[7],fo=eo[8],po=fo*oo-so*co,vo=so*uo-fo*ao,go=co*ao-oo*uo,mo=ro*po+no*vo+io*go;if(mo===0)return this.set(0,0,0,0,0,0,0,0,0);var lo=1/mo;return to[0]=po*lo,to[1]=(io*co-fo*no)*lo,to[2]=(so*no-io*oo)*lo,to[3]=vo*lo,to[4]=(fo*ro-io*uo)*lo,to[5]=(io*ao-so*ro)*lo,to[6]=go*lo,to[7]=(no*uo-co*ro)*lo,to[8]=(oo*ro-no*ao)*lo,this},transpose:function(){var va,_a=this.elements;return va=_a[1],_a[1]=_a[3],_a[3]=va,va=_a[2],_a[2]=_a[6],_a[6]=va,va=_a[5],_a[5]=_a[7],_a[7]=va,this},getNormalMatrix:function(va){return this.setFromMatrix4(va).getInverse(this).transpose()},transposeIntoArray:function(va){var _a=this.elements;return va[0]=_a[0],va[1]=_a[3],va[2]=_a[6],va[3]=_a[1],va[4]=_a[4],va[5]=_a[7],va[6]=_a[2],va[7]=_a[5],va[8]=_a[8],this},setUvTransform:function(va,_a,eo,to,ro,no,io){var ao=Math.cos(ro),oo=Math.sin(ro);this.set(eo*ao,eo*oo,-eo*(ao*no+oo*io)+no+va,-to*oo,to*ao,-to*(-oo*no+ao*io)+io+_a,0,0,1)},scale:function(va,_a){var eo=this.elements;return eo[0]*=va,eo[3]*=va,eo[6]*=va,eo[1]*=_a,eo[4]*=_a,eo[7]*=_a,this},rotate:function(va){var _a=Math.cos(va),eo=Math.sin(va),to=this.elements,ro=to[0],no=to[3],io=to[6],ao=to[1],oo=to[4],so=to[7];return to[0]=_a*ro+eo*ao,to[3]=_a*no+eo*oo,to[6]=_a*io+eo*so,to[1]=-eo*ro+_a*ao,to[4]=-eo*no+_a*oo,to[7]=-eo*io+_a*so,this},translate:function(va,_a){var eo=this.elements;return eo[0]+=va*eo[2],eo[3]+=va*eo[5],eo[6]+=va*eo[8],eo[1]+=_a*eo[2],eo[4]+=_a*eo[5],eo[7]+=_a*eo[8],this},equals:function(va){for(var _a=this.elements,eo=va.elements,to=0;to<9;to++)if(_a[to]!==eo[to])return!1;return!0},fromArray:function(va,_a){_a===void 0&&(_a=0);for(var eo=0;eo<9;eo++)this.elements[eo]=va[eo+_a];return this},toArray:function(va,_a){va===void 0&&(va=[]),_a===void 0&&(_a=0);var eo=this.elements;return va[_a]=eo[0],va[_a+1]=eo[1],va[_a+2]=eo[2],va[_a+3]=eo[3],va[_a+4]=eo[4],va[_a+5]=eo[5],va[_a+6]=eo[6],va[_a+7]=eo[7],va[_a+8]=eo[8],va}});var _canvas,ImageUtils={getDataURL:function(va){var _a;if(typeof HTMLCanvasElement>"u")return va.src;if(va instanceof HTMLCanvasElement)_a=va;else{_canvas===void 0&&(_canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),_canvas.width=va.width,_canvas.height=va.height;var eo=_canvas.getContext("2d");va instanceof ImageData?eo.putImageData(va,0,0):eo.drawImage(va,0,0,va.width,va.height),_a=_canvas}return _a.width>2048||_a.height>2048?_a.toDataURL("image/jpeg",.6):_a.toDataURL("image/png")}},textureId=0;function Texture(va,_a,eo,to,ro,no,io,ao,oo,so){Object.defineProperty(this,"id",{value:textureId++}),this.uuid=MathUtils.generateUUID(),this.name="",this.image=va!==void 0?va:Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=_a!==void 0?_a:Texture.DEFAULT_MAPPING,this.wrapS=eo!==void 0?eo:ClampToEdgeWrapping,this.wrapT=to!==void 0?to:ClampToEdgeWrapping,this.magFilter=ro!==void 0?ro:LinearFilter,this.minFilter=no!==void 0?no:LinearMipmapLinearFilter,this.anisotropy=oo!==void 0?oo:1,this.format=io!==void 0?io:RGBAFormat,this.internalFormat=null,this.type=ao!==void 0?ao:UnsignedByteType,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=so!==void 0?so:LinearEncoding,this.version=0,this.onUpdate=null}Texture.DEFAULT_IMAGE=void 0;Texture.DEFAULT_MAPPING=UVMapping;Texture.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Texture,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.name=va.name,this.image=va.image,this.mipmaps=va.mipmaps.slice(0),this.mapping=va.mapping,this.wrapS=va.wrapS,this.wrapT=va.wrapT,this.magFilter=va.magFilter,this.minFilter=va.minFilter,this.anisotropy=va.anisotropy,this.format=va.format,this.internalFormat=va.internalFormat,this.type=va.type,this.offset.copy(va.offset),this.repeat.copy(va.repeat),this.center.copy(va.center),this.rotation=va.rotation,this.matrixAutoUpdate=va.matrixAutoUpdate,this.matrix.copy(va.matrix),this.generateMipmaps=va.generateMipmaps,this.premultiplyAlpha=va.premultiplyAlpha,this.flipY=va.flipY,this.unpackAlignment=va.unpackAlignment,this.encoding=va.encoding,this},toJSON:function(va){var _a=va===void 0||typeof va=="string";if(!_a&&va.textures[this.uuid]!==void 0)return va.textures[this.uuid];var eo={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var to=this.image;if(to.uuid===void 0&&(to.uuid=MathUtils.generateUUID()),!_a&&va.images[to.uuid]===void 0){var ro;if(Array.isArray(to)){ro=[];for(var no=0,io=to.length;no<io;no++)ro.push(ImageUtils.getDataURL(to[no]))}else ro=ImageUtils.getDataURL(to);va.images[to.uuid]={uuid:to.uuid,url:ro}}eo.image=to.uuid}return _a||(va.textures[this.uuid]=eo),eo},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(va){if(this.mapping!==UVMapping)return va;if(va.applyMatrix3(this.matrix),va.x<0||va.x>1)switch(this.wrapS){case RepeatWrapping:va.x=va.x-Math.floor(va.x);break;case ClampToEdgeWrapping:va.x=va.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(va.x)%2)===1?va.x=Math.ceil(va.x)-va.x:va.x=va.x-Math.floor(va.x);break}if(va.y<0||va.y>1)switch(this.wrapT){case RepeatWrapping:va.y=va.y-Math.floor(va.y);break;case ClampToEdgeWrapping:va.y=va.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(va.y)%2)===1?va.y=Math.ceil(va.y)-va.y:va.y=va.y-Math.floor(va.y);break}return this.flipY&&(va.y=1-va.y),va}});Object.defineProperty(Texture.prototype,"needsUpdate",{set:function(va){va===!0&&this.version++}});function Vector4(va,_a,eo,to){this.x=va||0,this.y=_a||0,this.z=eo||0,this.w=to!==void 0?to:1}Object.defineProperties(Vector4.prototype,{width:{get:function(){return this.z},set:function(va){this.z=va}},height:{get:function(){return this.w},set:function(va){this.w=va}}});Object.assign(Vector4.prototype,{isVector4:!0,set:function(va,_a,eo,to){return this.x=va,this.y=_a,this.z=eo,this.w=to,this},setScalar:function(va){return this.x=va,this.y=va,this.z=va,this.w=va,this},setX:function(va){return this.x=va,this},setY:function(va){return this.y=va,this},setZ:function(va){return this.z=va,this},setW:function(va){return this.w=va,this},setComponent:function(va,_a){switch(va){case 0:this.x=_a;break;case 1:this.y=_a;break;case 2:this.z=_a;break;case 3:this.w=_a;break;default:throw new Error("index is out of range: "+va)}return this},getComponent:function(va){switch(va){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+va)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(va){return this.x=va.x,this.y=va.y,this.z=va.z,this.w=va.w!==void 0?va.w:1,this},add:function(va,_a){return _a!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(va,_a)):(this.x+=va.x,this.y+=va.y,this.z+=va.z,this.w+=va.w,this)},addScalar:function(va){return this.x+=va,this.y+=va,this.z+=va,this.w+=va,this},addVectors:function(va,_a){return this.x=va.x+_a.x,this.y=va.y+_a.y,this.z=va.z+_a.z,this.w=va.w+_a.w,this},addScaledVector:function(va,_a){return this.x+=va.x*_a,this.y+=va.y*_a,this.z+=va.z*_a,this.w+=va.w*_a,this},sub:function(va,_a){return _a!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(va,_a)):(this.x-=va.x,this.y-=va.y,this.z-=va.z,this.w-=va.w,this)},subScalar:function(va){return this.x-=va,this.y-=va,this.z-=va,this.w-=va,this},subVectors:function(va,_a){return this.x=va.x-_a.x,this.y=va.y-_a.y,this.z=va.z-_a.z,this.w=va.w-_a.w,this},multiplyScalar:function(va){return this.x*=va,this.y*=va,this.z*=va,this.w*=va,this},applyMatrix4:function(va){var _a=this.x,eo=this.y,to=this.z,ro=this.w,no=va.elements;return this.x=no[0]*_a+no[4]*eo+no[8]*to+no[12]*ro,this.y=no[1]*_a+no[5]*eo+no[9]*to+no[13]*ro,this.z=no[2]*_a+no[6]*eo+no[10]*to+no[14]*ro,this.w=no[3]*_a+no[7]*eo+no[11]*to+no[15]*ro,this},divideScalar:function(va){return this.multiplyScalar(1/va)},setAxisAngleFromQuaternion:function(va){this.w=2*Math.acos(va.w);var _a=Math.sqrt(1-va.w*va.w);return _a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=va.x/_a,this.y=va.y/_a,this.z=va.z/_a),this},setAxisAngleFromRotationMatrix:function(va){var _a,eo,to,ro,no=.01,io=.1,ao=va.elements,oo=ao[0],so=ao[4],uo=ao[8],co=ao[1],fo=ao[5],po=ao[9],vo=ao[2],go=ao[6],mo=ao[10];if(Math.abs(so-co)<no&&Math.abs(uo-vo)<no&&Math.abs(po-go)<no){if(Math.abs(so+co)<io&&Math.abs(uo+vo)<io&&Math.abs(po+go)<io&&Math.abs(oo+fo+mo-3)<io)return this.set(1,0,0,0),this;_a=Math.PI;var lo=(oo+1)/2,ho=(fo+1)/2,yo=(mo+1)/2,Ao=(so+co)/4,Eo=(uo+vo)/4,To=(po+go)/4;return lo>ho&&lo>yo?lo<no?(eo=0,to=.707106781,ro=.707106781):(eo=Math.sqrt(lo),to=Ao/eo,ro=Eo/eo):ho>yo?ho<no?(eo=.707106781,to=0,ro=.707106781):(to=Math.sqrt(ho),eo=Ao/to,ro=To/to):yo<no?(eo=.707106781,to=.707106781,ro=0):(ro=Math.sqrt(yo),eo=Eo/ro,to=To/ro),this.set(eo,to,ro,_a),this}var No=Math.sqrt((go-po)*(go-po)+(uo-vo)*(uo-vo)+(co-so)*(co-so));return Math.abs(No)<.001&&(No=1),this.x=(go-po)/No,this.y=(uo-vo)/No,this.z=(co-so)/No,this.w=Math.acos((oo+fo+mo-1)/2),this},min:function(va){return this.x=Math.min(this.x,va.x),this.y=Math.min(this.y,va.y),this.z=Math.min(this.z,va.z),this.w=Math.min(this.w,va.w),this},max:function(va){return this.x=Math.max(this.x,va.x),this.y=Math.max(this.y,va.y),this.z=Math.max(this.z,va.z),this.w=Math.max(this.w,va.w),this},clamp:function(va,_a){return this.x=Math.max(va.x,Math.min(_a.x,this.x)),this.y=Math.max(va.y,Math.min(_a.y,this.y)),this.z=Math.max(va.z,Math.min(_a.z,this.z)),this.w=Math.max(va.w,Math.min(_a.w,this.w)),this},clampScalar:function(va,_a){return this.x=Math.max(va,Math.min(_a,this.x)),this.y=Math.max(va,Math.min(_a,this.y)),this.z=Math.max(va,Math.min(_a,this.z)),this.w=Math.max(va,Math.min(_a,this.w)),this},clampLength:function(va,_a){var eo=this.length();return this.divideScalar(eo||1).multiplyScalar(Math.max(va,Math.min(_a,eo)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(va){return this.x*va.x+this.y*va.y+this.z*va.z+this.w*va.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(va){return this.normalize().multiplyScalar(va)},lerp:function(va,_a){return this.x+=(va.x-this.x)*_a,this.y+=(va.y-this.y)*_a,this.z+=(va.z-this.z)*_a,this.w+=(va.w-this.w)*_a,this},lerpVectors:function(va,_a,eo){return this.x=va.x+(_a.x-va.x)*eo,this.y=va.y+(_a.y-va.y)*eo,this.z=va.z+(_a.z-va.z)*eo,this.w=va.w+(_a.w-va.w)*eo,this},equals:function(va){return va.x===this.x&&va.y===this.y&&va.z===this.z&&va.w===this.w},fromArray:function(va,_a){return _a===void 0&&(_a=0),this.x=va[_a],this.y=va[_a+1],this.z=va[_a+2],this.w=va[_a+3],this},toArray:function(va,_a){return va===void 0&&(va=[]),_a===void 0&&(_a=0),va[_a]=this.x,va[_a+1]=this.y,va[_a+2]=this.z,va[_a+3]=this.w,va},fromBufferAttribute:function(va,_a,eo){return eo!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=va.getX(_a),this.y=va.getY(_a),this.z=va.getZ(_a),this.w=va.getW(_a),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}});function WebGLRenderTarget(va,_a,eo){this.width=va,this.height=_a,this.scissor=new Vector4(0,0,va,_a),this.scissorTest=!1,this.viewport=new Vector4(0,0,va,_a),eo=eo||{},this.texture=new Texture(void 0,eo.mapping,eo.wrapS,eo.wrapT,eo.magFilter,eo.minFilter,eo.format,eo.type,eo.anisotropy,eo.encoding),this.texture.image={},this.texture.image.width=va,this.texture.image.height=_a,this.texture.generateMipmaps=eo.generateMipmaps!==void 0?eo.generateMipmaps:!1,this.texture.minFilter=eo.minFilter!==void 0?eo.minFilter:LinearFilter,this.depthBuffer=eo.depthBuffer!==void 0?eo.depthBuffer:!0,this.stencilBuffer=eo.stencilBuffer!==void 0?eo.stencilBuffer:!0,this.depthTexture=eo.depthTexture!==void 0?eo.depthTexture:null}WebGLRenderTarget.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:WebGLRenderTarget,isWebGLRenderTarget:!0,setSize:function(va,_a){(this.width!==va||this.height!==_a)&&(this.width=va,this.height=_a,this.texture.image.width=va,this.texture.image.height=_a,this.dispose()),this.viewport.set(0,0,va,_a),this.scissor.set(0,0,va,_a)},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.width=va.width,this.height=va.height,this.viewport.copy(va.viewport),this.texture=va.texture.clone(),this.depthBuffer=va.depthBuffer,this.stencilBuffer=va.stencilBuffer,this.depthTexture=va.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function WebGLMultisampleRenderTarget(va,_a,eo){WebGLRenderTarget.call(this,va,_a,eo),this.samples=4}WebGLMultisampleRenderTarget.prototype=Object.assign(Object.create(WebGLRenderTarget.prototype),{constructor:WebGLMultisampleRenderTarget,isWebGLMultisampleRenderTarget:!0,copy:function(va){return WebGLRenderTarget.prototype.copy.call(this,va),this.samples=va.samples,this}});function Quaternion(va,_a,eo,to){this._x=va||0,this._y=_a||0,this._z=eo||0,this._w=to!==void 0?to:1}Object.assign(Quaternion,{slerp:function(va,_a,eo,to){return eo.copy(va).slerp(_a,to)},slerpFlat:function(va,_a,eo,to,ro,no,io){var ao=eo[to+0],oo=eo[to+1],so=eo[to+2],uo=eo[to+3],co=ro[no+0],fo=ro[no+1],po=ro[no+2],vo=ro[no+3];if(uo!==vo||ao!==co||oo!==fo||so!==po){var go=1-io,mo=ao*co+oo*fo+so*po+uo*vo,lo=mo>=0?1:-1,ho=1-mo*mo;if(ho>Number.EPSILON){var yo=Math.sqrt(ho),Ao=Math.atan2(yo,mo*lo);go=Math.sin(go*Ao)/yo,io=Math.sin(io*Ao)/yo}var Eo=io*lo;if(ao=ao*go+co*Eo,oo=oo*go+fo*Eo,so=so*go+po*Eo,uo=uo*go+vo*Eo,go===1-io){var To=1/Math.sqrt(ao*ao+oo*oo+so*so+uo*uo);ao*=To,oo*=To,so*=To,uo*=To}}va[_a]=ao,va[_a+1]=oo,va[_a+2]=so,va[_a+3]=uo},multiplyQuaternionsFlat:function(va,_a,eo,to,ro,no){var io=eo[to],ao=eo[to+1],oo=eo[to+2],so=eo[to+3],uo=ro[no],co=ro[no+1],fo=ro[no+2],po=ro[no+3];return va[_a]=io*po+so*uo+ao*fo-oo*co,va[_a+1]=ao*po+so*co+oo*uo-io*fo,va[_a+2]=oo*po+so*fo+io*co-ao*uo,va[_a+3]=so*po-io*uo-ao*co-oo*fo,va}});Object.defineProperties(Quaternion.prototype,{x:{get:function(){return this._x},set:function(va){this._x=va,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(va){this._y=va,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(va){this._z=va,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(va){this._w=va,this._onChangeCallback()}}});Object.assign(Quaternion.prototype,{isQuaternion:!0,set:function(va,_a,eo,to){return this._x=va,this._y=_a,this._z=eo,this._w=to,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(va){return this._x=va.x,this._y=va.y,this._z=va.z,this._w=va.w,this._onChangeCallback(),this},setFromEuler:function(va,_a){if(!(va&&va.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var eo=va._x,to=va._y,ro=va._z,no=va.order,io=Math.cos,ao=Math.sin,oo=io(eo/2),so=io(to/2),uo=io(ro/2),co=ao(eo/2),fo=ao(to/2),po=ao(ro/2);switch(no){case"XYZ":this._x=co*so*uo+oo*fo*po,this._y=oo*fo*uo-co*so*po,this._z=oo*so*po+co*fo*uo,this._w=oo*so*uo-co*fo*po;break;case"YXZ":this._x=co*so*uo+oo*fo*po,this._y=oo*fo*uo-co*so*po,this._z=oo*so*po-co*fo*uo,this._w=oo*so*uo+co*fo*po;break;case"ZXY":this._x=co*so*uo-oo*fo*po,this._y=oo*fo*uo+co*so*po,this._z=oo*so*po+co*fo*uo,this._w=oo*so*uo-co*fo*po;break;case"ZYX":this._x=co*so*uo-oo*fo*po,this._y=oo*fo*uo+co*so*po,this._z=oo*so*po-co*fo*uo,this._w=oo*so*uo+co*fo*po;break;case"YZX":this._x=co*so*uo+oo*fo*po,this._y=oo*fo*uo+co*so*po,this._z=oo*so*po-co*fo*uo,this._w=oo*so*uo-co*fo*po;break;case"XZY":this._x=co*so*uo-oo*fo*po,this._y=oo*fo*uo-co*so*po,this._z=oo*so*po+co*fo*uo,this._w=oo*so*uo+co*fo*po;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+no)}return _a!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(va,_a){var eo=_a/2,to=Math.sin(eo);return this._x=va.x*to,this._y=va.y*to,this._z=va.z*to,this._w=Math.cos(eo),this._onChangeCallback(),this},setFromRotationMatrix:function(va){var _a=va.elements,eo=_a[0],to=_a[4],ro=_a[8],no=_a[1],io=_a[5],ao=_a[9],oo=_a[2],so=_a[6],uo=_a[10],co=eo+io+uo,fo;return co>0?(fo=.5/Math.sqrt(co+1),this._w=.25/fo,this._x=(so-ao)*fo,this._y=(ro-oo)*fo,this._z=(no-to)*fo):eo>io&&eo>uo?(fo=2*Math.sqrt(1+eo-io-uo),this._w=(so-ao)/fo,this._x=.25*fo,this._y=(to+no)/fo,this._z=(ro+oo)/fo):io>uo?(fo=2*Math.sqrt(1+io-eo-uo),this._w=(ro-oo)/fo,this._x=(to+no)/fo,this._y=.25*fo,this._z=(ao+so)/fo):(fo=2*Math.sqrt(1+uo-eo-io),this._w=(no-to)/fo,this._x=(ro+oo)/fo,this._y=(ao+so)/fo,this._z=.25*fo),this._onChangeCallback(),this},setFromUnitVectors:function(va,_a){var eo=1e-6,to=va.dot(_a)+1;return to<eo?(to=0,Math.abs(va.x)>Math.abs(va.z)?(this._x=-va.y,this._y=va.x,this._z=0,this._w=to):(this._x=0,this._y=-va.z,this._z=va.y,this._w=to)):(this._x=va.y*_a.z-va.z*_a.y,this._y=va.z*_a.x-va.x*_a.z,this._z=va.x*_a.y-va.y*_a.x,this._w=to),this.normalize()},angleTo:function(va){return 2*Math.acos(Math.abs(MathUtils.clamp(this.dot(va),-1,1)))},rotateTowards:function(va,_a){var eo=this.angleTo(va);if(eo===0)return this;var to=Math.min(1,_a/eo);return this.slerp(va,to),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(va){return this._x*va._x+this._y*va._y+this._z*va._z+this._w*va._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var va=this.length();return va===0?(this._x=0,this._y=0,this._z=0,this._w=1):(va=1/va,this._x=this._x*va,this._y=this._y*va,this._z=this._z*va,this._w=this._w*va),this._onChangeCallback(),this},multiply:function(va,_a){return _a!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(va,_a)):this.multiplyQuaternions(this,va)},premultiply:function(va){return this.multiplyQuaternions(va,this)},multiplyQuaternions:function(va,_a){var eo=va._x,to=va._y,ro=va._z,no=va._w,io=_a._x,ao=_a._y,oo=_a._z,so=_a._w;return this._x=eo*so+no*io+to*oo-ro*ao,this._y=to*so+no*ao+ro*io-eo*oo,this._z=ro*so+no*oo+eo*ao-to*io,this._w=no*so-eo*io-to*ao-ro*oo,this._onChangeCallback(),this},slerp:function(va,_a){if(_a===0)return this;if(_a===1)return this.copy(va);var eo=this._x,to=this._y,ro=this._z,no=this._w,io=no*va._w+eo*va._x+to*va._y+ro*va._z;if(io<0?(this._w=-va._w,this._x=-va._x,this._y=-va._y,this._z=-va._z,io=-io):this.copy(va),io>=1)return this._w=no,this._x=eo,this._y=to,this._z=ro,this;var ao=1-io*io;if(ao<=Number.EPSILON){var oo=1-_a;return this._w=oo*no+_a*this._w,this._x=oo*eo+_a*this._x,this._y=oo*to+_a*this._y,this._z=oo*ro+_a*this._z,this.normalize(),this._onChangeCallback(),this}var so=Math.sqrt(ao),uo=Math.atan2(so,io),co=Math.sin((1-_a)*uo)/so,fo=Math.sin(_a*uo)/so;return this._w=no*co+this._w*fo,this._x=eo*co+this._x*fo,this._y=to*co+this._y*fo,this._z=ro*co+this._z*fo,this._onChangeCallback(),this},equals:function(va){return va._x===this._x&&va._y===this._y&&va._z===this._z&&va._w===this._w},fromArray:function(va,_a){return _a===void 0&&(_a=0),this._x=va[_a],this._y=va[_a+1],this._z=va[_a+2],this._w=va[_a+3],this._onChangeCallback(),this},toArray:function(va,_a){return va===void 0&&(va=[]),_a===void 0&&(_a=0),va[_a]=this._x,va[_a+1]=this._y,va[_a+2]=this._z,va[_a+3]=this._w,va},fromBufferAttribute:function(va,_a){return this._x=va.getX(_a),this._y=va.getY(_a),this._z=va.getZ(_a),this._w=va.getW(_a),this},_onChange:function(va){return this._onChangeCallback=va,this},_onChangeCallback:function(){}});var _vector=new Vector3,_quaternion=new Quaternion;function Vector3(va,_a,eo){this.x=va||0,this.y=_a||0,this.z=eo||0}Object.assign(Vector3.prototype,{isVector3:!0,set:function(va,_a,eo){return this.x=va,this.y=_a,this.z=eo,this},setScalar:function(va){return this.x=va,this.y=va,this.z=va,this},setX:function(va){return this.x=va,this},setY:function(va){return this.y=va,this},setZ:function(va){return this.z=va,this},setComponent:function(va,_a){switch(va){case 0:this.x=_a;break;case 1:this.y=_a;break;case 2:this.z=_a;break;default:throw new Error("index is out of range: "+va)}return this},getComponent:function(va){switch(va){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+va)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(va){return this.x=va.x,this.y=va.y,this.z=va.z,this},add:function(va,_a){return _a!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(va,_a)):(this.x+=va.x,this.y+=va.y,this.z+=va.z,this)},addScalar:function(va){return this.x+=va,this.y+=va,this.z+=va,this},addVectors:function(va,_a){return this.x=va.x+_a.x,this.y=va.y+_a.y,this.z=va.z+_a.z,this},addScaledVector:function(va,_a){return this.x+=va.x*_a,this.y+=va.y*_a,this.z+=va.z*_a,this},sub:function(va,_a){return _a!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(va,_a)):(this.x-=va.x,this.y-=va.y,this.z-=va.z,this)},subScalar:function(va){return this.x-=va,this.y-=va,this.z-=va,this},subVectors:function(va,_a){return this.x=va.x-_a.x,this.y=va.y-_a.y,this.z=va.z-_a.z,this},multiply:function(va,_a){return _a!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(va,_a)):(this.x*=va.x,this.y*=va.y,this.z*=va.z,this)},multiplyScalar:function(va){return this.x*=va,this.y*=va,this.z*=va,this},multiplyVectors:function(va,_a){return this.x=va.x*_a.x,this.y=va.y*_a.y,this.z=va.z*_a.z,this},applyEuler:function(va){return va&&va.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_quaternion.setFromEuler(va))},applyAxisAngle:function(va,_a){return this.applyQuaternion(_quaternion.setFromAxisAngle(va,_a))},applyMatrix3:function(va){var _a=this.x,eo=this.y,to=this.z,ro=va.elements;return this.x=ro[0]*_a+ro[3]*eo+ro[6]*to,this.y=ro[1]*_a+ro[4]*eo+ro[7]*to,this.z=ro[2]*_a+ro[5]*eo+ro[8]*to,this},applyNormalMatrix:function(va){return this.applyMatrix3(va).normalize()},applyMatrix4:function(va){var _a=this.x,eo=this.y,to=this.z,ro=va.elements,no=1/(ro[3]*_a+ro[7]*eo+ro[11]*to+ro[15]);return this.x=(ro[0]*_a+ro[4]*eo+ro[8]*to+ro[12])*no,this.y=(ro[1]*_a+ro[5]*eo+ro[9]*to+ro[13])*no,this.z=(ro[2]*_a+ro[6]*eo+ro[10]*to+ro[14])*no,this},applyQuaternion:function(va){var _a=this.x,eo=this.y,to=this.z,ro=va.x,no=va.y,io=va.z,ao=va.w,oo=ao*_a+no*to-io*eo,so=ao*eo+io*_a-ro*to,uo=ao*to+ro*eo-no*_a,co=-ro*_a-no*eo-io*to;return this.x=oo*ao+co*-ro+so*-io-uo*-no,this.y=so*ao+co*-no+uo*-ro-oo*-io,this.z=uo*ao+co*-io+oo*-no-so*-ro,this},project:function(va){return this.applyMatrix4(va.matrixWorldInverse).applyMatrix4(va.projectionMatrix)},unproject:function(va){return this.applyMatrix4(va.projectionMatrixInverse).applyMatrix4(va.matrixWorld)},transformDirection:function(va){var _a=this.x,eo=this.y,to=this.z,ro=va.elements;return this.x=ro[0]*_a+ro[4]*eo+ro[8]*to,this.y=ro[1]*_a+ro[5]*eo+ro[9]*to,this.z=ro[2]*_a+ro[6]*eo+ro[10]*to,this.normalize()},divide:function(va){return this.x/=va.x,this.y/=va.y,this.z/=va.z,this},divideScalar:function(va){return this.multiplyScalar(1/va)},min:function(va){return this.x=Math.min(this.x,va.x),this.y=Math.min(this.y,va.y),this.z=Math.min(this.z,va.z),this},max:function(va){return this.x=Math.max(this.x,va.x),this.y=Math.max(this.y,va.y),this.z=Math.max(this.z,va.z),this},clamp:function(va,_a){return this.x=Math.max(va.x,Math.min(_a.x,this.x)),this.y=Math.max(va.y,Math.min(_a.y,this.y)),this.z=Math.max(va.z,Math.min(_a.z,this.z)),this},clampScalar:function(va,_a){return this.x=Math.max(va,Math.min(_a,this.x)),this.y=Math.max(va,Math.min(_a,this.y)),this.z=Math.max(va,Math.min(_a,this.z)),this},clampLength:function(va,_a){var eo=this.length();return this.divideScalar(eo||1).multiplyScalar(Math.max(va,Math.min(_a,eo)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(va){return this.x*va.x+this.y*va.y+this.z*va.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(va){return this.normalize().multiplyScalar(va)},lerp:function(va,_a){return this.x+=(va.x-this.x)*_a,this.y+=(va.y-this.y)*_a,this.z+=(va.z-this.z)*_a,this},lerpVectors:function(va,_a,eo){return this.x=va.x+(_a.x-va.x)*eo,this.y=va.y+(_a.y-va.y)*eo,this.z=va.z+(_a.z-va.z)*eo,this},cross:function(va,_a){return _a!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(va,_a)):this.crossVectors(this,va)},crossVectors:function(va,_a){var eo=va.x,to=va.y,ro=va.z,no=_a.x,io=_a.y,ao=_a.z;return this.x=to*ao-ro*io,this.y=ro*no-eo*ao,this.z=eo*io-to*no,this},projectOnVector:function(va){var _a=va.lengthSq();if(_a===0)return this.set(0,0,0);var eo=va.dot(this)/_a;return this.copy(va).multiplyScalar(eo)},projectOnPlane:function(va){return _vector.copy(this).projectOnVector(va),this.sub(_vector)},reflect:function(va){return this.sub(_vector.copy(va).multiplyScalar(2*this.dot(va)))},angleTo:function(va){var _a=Math.sqrt(this.lengthSq()*va.lengthSq());if(_a===0)return Math.PI/2;var eo=this.dot(va)/_a;return Math.acos(MathUtils.clamp(eo,-1,1))},distanceTo:function(va){return Math.sqrt(this.distanceToSquared(va))},distanceToSquared:function(va){var _a=this.x-va.x,eo=this.y-va.y,to=this.z-va.z;return _a*_a+eo*eo+to*to},manhattanDistanceTo:function(va){return Math.abs(this.x-va.x)+Math.abs(this.y-va.y)+Math.abs(this.z-va.z)},setFromSpherical:function(va){return this.setFromSphericalCoords(va.radius,va.phi,va.theta)},setFromSphericalCoords:function(va,_a,eo){var to=Math.sin(_a)*va;return this.x=to*Math.sin(eo),this.y=Math.cos(_a)*va,this.z=to*Math.cos(eo),this},setFromCylindrical:function(va){return this.setFromCylindricalCoords(va.radius,va.theta,va.y)},setFromCylindricalCoords:function(va,_a,eo){return this.x=va*Math.sin(_a),this.y=eo,this.z=va*Math.cos(_a),this},setFromMatrixPosition:function(va){var _a=va.elements;return this.x=_a[12],this.y=_a[13],this.z=_a[14],this},setFromMatrixScale:function(va){var _a=this.setFromMatrixColumn(va,0).length(),eo=this.setFromMatrixColumn(va,1).length(),to=this.setFromMatrixColumn(va,2).length();return this.x=_a,this.y=eo,this.z=to,this},setFromMatrixColumn:function(va,_a){return this.fromArray(va.elements,_a*4)},setFromMatrix3Column:function(va,_a){return this.fromArray(va.elements,_a*3)},equals:function(va){return va.x===this.x&&va.y===this.y&&va.z===this.z},fromArray:function(va,_a){return _a===void 0&&(_a=0),this.x=va[_a],this.y=va[_a+1],this.z=va[_a+2],this},toArray:function(va,_a){return va===void 0&&(va=[]),_a===void 0&&(_a=0),va[_a]=this.x,va[_a+1]=this.y,va[_a+2]=this.z,va},fromBufferAttribute:function(va,_a,eo){return eo!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=va.getX(_a),this.y=va.getY(_a),this.z=va.getZ(_a),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var _v1=new Vector3,_m1=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3;function Matrix4(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Matrix4.prototype,{isMatrix4:!0,set:function(va,_a,eo,to,ro,no,io,ao,oo,so,uo,co,fo,po,vo,go){var mo=this.elements;return mo[0]=va,mo[4]=_a,mo[8]=eo,mo[12]=to,mo[1]=ro,mo[5]=no,mo[9]=io,mo[13]=ao,mo[2]=oo,mo[6]=so,mo[10]=uo,mo[14]=co,mo[3]=fo,mo[7]=po,mo[11]=vo,mo[15]=go,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new Matrix4().fromArray(this.elements)},copy:function(va){var _a=this.elements,eo=va.elements;return _a[0]=eo[0],_a[1]=eo[1],_a[2]=eo[2],_a[3]=eo[3],_a[4]=eo[4],_a[5]=eo[5],_a[6]=eo[6],_a[7]=eo[7],_a[8]=eo[8],_a[9]=eo[9],_a[10]=eo[10],_a[11]=eo[11],_a[12]=eo[12],_a[13]=eo[13],_a[14]=eo[14],_a[15]=eo[15],this},copyPosition:function(va){var _a=this.elements,eo=va.elements;return _a[12]=eo[12],_a[13]=eo[13],_a[14]=eo[14],this},extractBasis:function(va,_a,eo){return va.setFromMatrixColumn(this,0),_a.setFromMatrixColumn(this,1),eo.setFromMatrixColumn(this,2),this},makeBasis:function(va,_a,eo){return this.set(va.x,_a.x,eo.x,0,va.y,_a.y,eo.y,0,va.z,_a.z,eo.z,0,0,0,0,1),this},extractRotation:function(va){var _a=this.elements,eo=va.elements,to=1/_v1.setFromMatrixColumn(va,0).length(),ro=1/_v1.setFromMatrixColumn(va,1).length(),no=1/_v1.setFromMatrixColumn(va,2).length();return _a[0]=eo[0]*to,_a[1]=eo[1]*to,_a[2]=eo[2]*to,_a[3]=0,_a[4]=eo[4]*ro,_a[5]=eo[5]*ro,_a[6]=eo[6]*ro,_a[7]=0,_a[8]=eo[8]*no,_a[9]=eo[9]*no,_a[10]=eo[10]*no,_a[11]=0,_a[12]=0,_a[13]=0,_a[14]=0,_a[15]=1,this},makeRotationFromEuler:function(va){va&&va.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var _a=this.elements,eo=va.x,to=va.y,ro=va.z,no=Math.cos(eo),io=Math.sin(eo),ao=Math.cos(to),oo=Math.sin(to),so=Math.cos(ro),uo=Math.sin(ro);if(va.order==="XYZ"){var co=no*so,fo=no*uo,po=io*so,vo=io*uo;_a[0]=ao*so,_a[4]=-ao*uo,_a[8]=oo,_a[1]=fo+po*oo,_a[5]=co-vo*oo,_a[9]=-io*ao,_a[2]=vo-co*oo,_a[6]=po+fo*oo,_a[10]=no*ao}else if(va.order==="YXZ"){var go=ao*so,mo=ao*uo,lo=oo*so,ho=oo*uo;_a[0]=go+ho*io,_a[4]=lo*io-mo,_a[8]=no*oo,_a[1]=no*uo,_a[5]=no*so,_a[9]=-io,_a[2]=mo*io-lo,_a[6]=ho+go*io,_a[10]=no*ao}else if(va.order==="ZXY"){var go=ao*so,mo=ao*uo,lo=oo*so,ho=oo*uo;_a[0]=go-ho*io,_a[4]=-no*uo,_a[8]=lo+mo*io,_a[1]=mo+lo*io,_a[5]=no*so,_a[9]=ho-go*io,_a[2]=-no*oo,_a[6]=io,_a[10]=no*ao}else if(va.order==="ZYX"){var co=no*so,fo=no*uo,po=io*so,vo=io*uo;_a[0]=ao*so,_a[4]=po*oo-fo,_a[8]=co*oo+vo,_a[1]=ao*uo,_a[5]=vo*oo+co,_a[9]=fo*oo-po,_a[2]=-oo,_a[6]=io*ao,_a[10]=no*ao}else if(va.order==="YZX"){var yo=no*ao,Ao=no*oo,Eo=io*ao,To=io*oo;_a[0]=ao*so,_a[4]=To-yo*uo,_a[8]=Eo*uo+Ao,_a[1]=uo,_a[5]=no*so,_a[9]=-io*so,_a[2]=-oo*so,_a[6]=Ao*uo+Eo,_a[10]=yo-To*uo}else if(va.order==="XZY"){var yo=no*ao,Ao=no*oo,Eo=io*ao,To=io*oo;_a[0]=ao*so,_a[4]=-uo,_a[8]=oo*so,_a[1]=yo*uo+To,_a[5]=no*so,_a[9]=Ao*uo-Eo,_a[2]=Eo*uo-Ao,_a[6]=io*so,_a[10]=To*uo+yo}return _a[3]=0,_a[7]=0,_a[11]=0,_a[12]=0,_a[13]=0,_a[14]=0,_a[15]=1,this},makeRotationFromQuaternion:function(va){return this.compose(_zero,va,_one)},lookAt:function(va,_a,eo){var to=this.elements;return _z.subVectors(va,_a),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(eo,_z),_x.lengthSq()===0&&(Math.abs(eo.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(eo,_z)),_x.normalize(),_y.crossVectors(_z,_x),to[0]=_x.x,to[4]=_y.x,to[8]=_z.x,to[1]=_x.y,to[5]=_y.y,to[9]=_z.y,to[2]=_x.z,to[6]=_y.z,to[10]=_z.z,this},multiply:function(va,_a){return _a!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(va,_a)):this.multiplyMatrices(this,va)},premultiply:function(va){return this.multiplyMatrices(va,this)},multiplyMatrices:function(va,_a){var eo=va.elements,to=_a.elements,ro=this.elements,no=eo[0],io=eo[4],ao=eo[8],oo=eo[12],so=eo[1],uo=eo[5],co=eo[9],fo=eo[13],po=eo[2],vo=eo[6],go=eo[10],mo=eo[14],lo=eo[3],ho=eo[7],yo=eo[11],Ao=eo[15],Eo=to[0],To=to[4],No=to[8],Co=to[12],Io=to[1],Mo=to[5],wo=to[9],xo=to[13],bo=to[2],So=to[6],Do=to[10],Oo=to[14],Bo=to[3],$o=to[7],Vo=to[11],Ho=to[15];return ro[0]=no*Eo+io*Io+ao*bo+oo*Bo,ro[4]=no*To+io*Mo+ao*So+oo*$o,ro[8]=no*No+io*wo+ao*Do+oo*Vo,ro[12]=no*Co+io*xo+ao*Oo+oo*Ho,ro[1]=so*Eo+uo*Io+co*bo+fo*Bo,ro[5]=so*To+uo*Mo+co*So+fo*$o,ro[9]=so*No+uo*wo+co*Do+fo*Vo,ro[13]=so*Co+uo*xo+co*Oo+fo*Ho,ro[2]=po*Eo+vo*Io+go*bo+mo*Bo,ro[6]=po*To+vo*Mo+go*So+mo*$o,ro[10]=po*No+vo*wo+go*Do+mo*Vo,ro[14]=po*Co+vo*xo+go*Oo+mo*Ho,ro[3]=lo*Eo+ho*Io+yo*bo+Ao*Bo,ro[7]=lo*To+ho*Mo+yo*So+Ao*$o,ro[11]=lo*No+ho*wo+yo*Do+Ao*Vo,ro[15]=lo*Co+ho*xo+yo*Oo+Ao*Ho,this},multiplyScalar:function(va){var _a=this.elements;return _a[0]*=va,_a[4]*=va,_a[8]*=va,_a[12]*=va,_a[1]*=va,_a[5]*=va,_a[9]*=va,_a[13]*=va,_a[2]*=va,_a[6]*=va,_a[10]*=va,_a[14]*=va,_a[3]*=va,_a[7]*=va,_a[11]*=va,_a[15]*=va,this},determinant:function(){var va=this.elements,_a=va[0],eo=va[4],to=va[8],ro=va[12],no=va[1],io=va[5],ao=va[9],oo=va[13],so=va[2],uo=va[6],co=va[10],fo=va[14],po=va[3],vo=va[7],go=va[11],mo=va[15];return po*(+ro*ao*uo-to*oo*uo-ro*io*co+eo*oo*co+to*io*fo-eo*ao*fo)+vo*(+_a*ao*fo-_a*oo*co+ro*no*co-to*no*fo+to*oo*so-ro*ao*so)+go*(+_a*oo*uo-_a*io*fo-ro*no*uo+eo*no*fo+ro*io*so-eo*oo*so)+mo*(-to*io*so-_a*ao*uo+_a*io*co+to*no*uo-eo*no*co+eo*ao*so)},transpose:function(){var va=this.elements,_a;return _a=va[1],va[1]=va[4],va[4]=_a,_a=va[2],va[2]=va[8],va[8]=_a,_a=va[6],va[6]=va[9],va[9]=_a,_a=va[3],va[3]=va[12],va[12]=_a,_a=va[7],va[7]=va[13],va[13]=_a,_a=va[11],va[11]=va[14],va[14]=_a,this},setPosition:function(va,_a,eo){var to=this.elements;return va.isVector3?(to[12]=va.x,to[13]=va.y,to[14]=va.z):(to[12]=va,to[13]=_a,to[14]=eo),this},getInverse:function(va,_a){_a!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var eo=this.elements,to=va.elements,ro=to[0],no=to[1],io=to[2],ao=to[3],oo=to[4],so=to[5],uo=to[6],co=to[7],fo=to[8],po=to[9],vo=to[10],go=to[11],mo=to[12],lo=to[13],ho=to[14],yo=to[15],Ao=po*ho*co-lo*vo*co+lo*uo*go-so*ho*go-po*uo*yo+so*vo*yo,Eo=mo*vo*co-fo*ho*co-mo*uo*go+oo*ho*go+fo*uo*yo-oo*vo*yo,To=fo*lo*co-mo*po*co+mo*so*go-oo*lo*go-fo*so*yo+oo*po*yo,No=mo*po*uo-fo*lo*uo-mo*so*vo+oo*lo*vo+fo*so*ho-oo*po*ho,Co=ro*Ao+no*Eo+io*To+ao*No;if(Co===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var Io=1/Co;return eo[0]=Ao*Io,eo[1]=(lo*vo*ao-po*ho*ao-lo*io*go+no*ho*go+po*io*yo-no*vo*yo)*Io,eo[2]=(so*ho*ao-lo*uo*ao+lo*io*co-no*ho*co-so*io*yo+no*uo*yo)*Io,eo[3]=(po*uo*ao-so*vo*ao-po*io*co+no*vo*co+so*io*go-no*uo*go)*Io,eo[4]=Eo*Io,eo[5]=(fo*ho*ao-mo*vo*ao+mo*io*go-ro*ho*go-fo*io*yo+ro*vo*yo)*Io,eo[6]=(mo*uo*ao-oo*ho*ao-mo*io*co+ro*ho*co+oo*io*yo-ro*uo*yo)*Io,eo[7]=(oo*vo*ao-fo*uo*ao+fo*io*co-ro*vo*co-oo*io*go+ro*uo*go)*Io,eo[8]=To*Io,eo[9]=(mo*po*ao-fo*lo*ao-mo*no*go+ro*lo*go+fo*no*yo-ro*po*yo)*Io,eo[10]=(oo*lo*ao-mo*so*ao+mo*no*co-ro*lo*co-oo*no*yo+ro*so*yo)*Io,eo[11]=(fo*so*ao-oo*po*ao-fo*no*co+ro*po*co+oo*no*go-ro*so*go)*Io,eo[12]=No*Io,eo[13]=(fo*lo*io-mo*po*io+mo*no*vo-ro*lo*vo-fo*no*ho+ro*po*ho)*Io,eo[14]=(mo*so*io-oo*lo*io-mo*no*uo+ro*lo*uo+oo*no*ho-ro*so*ho)*Io,eo[15]=(oo*po*io-fo*so*io+fo*no*uo-ro*po*uo-oo*no*vo+ro*so*vo)*Io,this},scale:function(va){var _a=this.elements,eo=va.x,to=va.y,ro=va.z;return _a[0]*=eo,_a[4]*=to,_a[8]*=ro,_a[1]*=eo,_a[5]*=to,_a[9]*=ro,_a[2]*=eo,_a[6]*=to,_a[10]*=ro,_a[3]*=eo,_a[7]*=to,_a[11]*=ro,this},getMaxScaleOnAxis:function(){var va=this.elements,_a=va[0]*va[0]+va[1]*va[1]+va[2]*va[2],eo=va[4]*va[4]+va[5]*va[5]+va[6]*va[6],to=va[8]*va[8]+va[9]*va[9]+va[10]*va[10];return Math.sqrt(Math.max(_a,eo,to))},makeTranslation:function(va,_a,eo){return this.set(1,0,0,va,0,1,0,_a,0,0,1,eo,0,0,0,1),this},makeRotationX:function(va){var _a=Math.cos(va),eo=Math.sin(va);return this.set(1,0,0,0,0,_a,-eo,0,0,eo,_a,0,0,0,0,1),this},makeRotationY:function(va){var _a=Math.cos(va),eo=Math.sin(va);return this.set(_a,0,eo,0,0,1,0,0,-eo,0,_a,0,0,0,0,1),this},makeRotationZ:function(va){var _a=Math.cos(va),eo=Math.sin(va);return this.set(_a,-eo,0,0,eo,_a,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(va,_a){var eo=Math.cos(_a),to=Math.sin(_a),ro=1-eo,no=va.x,io=va.y,ao=va.z,oo=ro*no,so=ro*io;return this.set(oo*no+eo,oo*io-to*ao,oo*ao+to*io,0,oo*io+to*ao,so*io+eo,so*ao-to*no,0,oo*ao-to*io,so*ao+to*no,ro*ao*ao+eo,0,0,0,0,1),this},makeScale:function(va,_a,eo){return this.set(va,0,0,0,0,_a,0,0,0,0,eo,0,0,0,0,1),this},makeShear:function(va,_a,eo){return this.set(1,_a,eo,0,va,1,eo,0,va,_a,1,0,0,0,0,1),this},compose:function(va,_a,eo){var to=this.elements,ro=_a._x,no=_a._y,io=_a._z,ao=_a._w,oo=ro+ro,so=no+no,uo=io+io,co=ro*oo,fo=ro*so,po=ro*uo,vo=no*so,go=no*uo,mo=io*uo,lo=ao*oo,ho=ao*so,yo=ao*uo,Ao=eo.x,Eo=eo.y,To=eo.z;return to[0]=(1-(vo+mo))*Ao,to[1]=(fo+yo)*Ao,to[2]=(po-ho)*Ao,to[3]=0,to[4]=(fo-yo)*Eo,to[5]=(1-(co+mo))*Eo,to[6]=(go+lo)*Eo,to[7]=0,to[8]=(po+ho)*To,to[9]=(go-lo)*To,to[10]=(1-(co+vo))*To,to[11]=0,to[12]=va.x,to[13]=va.y,to[14]=va.z,to[15]=1,this},decompose:function(va,_a,eo){var to=this.elements,ro=_v1.set(to[0],to[1],to[2]).length(),no=_v1.set(to[4],to[5],to[6]).length(),io=_v1.set(to[8],to[9],to[10]).length(),ao=this.determinant();ao<0&&(ro=-ro),va.x=to[12],va.y=to[13],va.z=to[14],_m1.copy(this);var oo=1/ro,so=1/no,uo=1/io;return _m1.elements[0]*=oo,_m1.elements[1]*=oo,_m1.elements[2]*=oo,_m1.elements[4]*=so,_m1.elements[5]*=so,_m1.elements[6]*=so,_m1.elements[8]*=uo,_m1.elements[9]*=uo,_m1.elements[10]*=uo,_a.setFromRotationMatrix(_m1),eo.x=ro,eo.y=no,eo.z=io,this},makePerspective:function(va,_a,eo,to,ro,no){no===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var io=this.elements,ao=2*ro/(_a-va),oo=2*ro/(eo-to),so=(_a+va)/(_a-va),uo=(eo+to)/(eo-to),co=-(no+ro)/(no-ro),fo=-2*no*ro/(no-ro);return io[0]=ao,io[4]=0,io[8]=so,io[12]=0,io[1]=0,io[5]=oo,io[9]=uo,io[13]=0,io[2]=0,io[6]=0,io[10]=co,io[14]=fo,io[3]=0,io[7]=0,io[11]=-1,io[15]=0,this},makeOrthographic:function(va,_a,eo,to,ro,no){var io=this.elements,ao=1/(_a-va),oo=1/(eo-to),so=1/(no-ro),uo=(_a+va)*ao,co=(eo+to)*oo,fo=(no+ro)*so;return io[0]=2*ao,io[4]=0,io[8]=0,io[12]=-uo,io[1]=0,io[5]=2*oo,io[9]=0,io[13]=-co,io[2]=0,io[6]=0,io[10]=-2*so,io[14]=-fo,io[3]=0,io[7]=0,io[11]=0,io[15]=1,this},equals:function(va){for(var _a=this.elements,eo=va.elements,to=0;to<16;to++)if(_a[to]!==eo[to])return!1;return!0},fromArray:function(va,_a){_a===void 0&&(_a=0);for(var eo=0;eo<16;eo++)this.elements[eo]=va[eo+_a];return this},toArray:function(va,_a){va===void 0&&(va=[]),_a===void 0&&(_a=0);var eo=this.elements;return va[_a]=eo[0],va[_a+1]=eo[1],va[_a+2]=eo[2],va[_a+3]=eo[3],va[_a+4]=eo[4],va[_a+5]=eo[5],va[_a+6]=eo[6],va[_a+7]=eo[7],va[_a+8]=eo[8],va[_a+9]=eo[9],va[_a+10]=eo[10],va[_a+11]=eo[11],va[_a+12]=eo[12],va[_a+13]=eo[13],va[_a+14]=eo[14],va[_a+15]=eo[15],va}});var _matrix=new Matrix4,_quaternion$1=new Quaternion;function Euler(va,_a,eo,to){this._x=va||0,this._y=_a||0,this._z=eo||0,this._order=to||Euler.DefaultOrder}Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];Euler.DefaultOrder="XYZ";Object.defineProperties(Euler.prototype,{x:{get:function(){return this._x},set:function(va){this._x=va,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(va){this._y=va,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(va){this._z=va,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(va){this._order=va,this._onChangeCallback()}}});Object.assign(Euler.prototype,{isEuler:!0,set:function(va,_a,eo,to){return this._x=va,this._y=_a,this._z=eo,this._order=to||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(va){return this._x=va._x,this._y=va._y,this._z=va._z,this._order=va._order,this._onChangeCallback(),this},setFromRotationMatrix:function(va,_a,eo){var to=MathUtils.clamp,ro=va.elements,no=ro[0],io=ro[4],ao=ro[8],oo=ro[1],so=ro[5],uo=ro[9],co=ro[2],fo=ro[6],po=ro[10];switch(_a=_a||this._order,_a){case"XYZ":this._y=Math.asin(to(ao,-1,1)),Math.abs(ao)<.9999999?(this._x=Math.atan2(-uo,po),this._z=Math.atan2(-io,no)):(this._x=Math.atan2(fo,so),this._z=0);break;case"YXZ":this._x=Math.asin(-to(uo,-1,1)),Math.abs(uo)<.9999999?(this._y=Math.atan2(ao,po),this._z=Math.atan2(oo,so)):(this._y=Math.atan2(-co,no),this._z=0);break;case"ZXY":this._x=Math.asin(to(fo,-1,1)),Math.abs(fo)<.9999999?(this._y=Math.atan2(-co,po),this._z=Math.atan2(-io,so)):(this._y=0,this._z=Math.atan2(oo,no));break;case"ZYX":this._y=Math.asin(-to(co,-1,1)),Math.abs(co)<.9999999?(this._x=Math.atan2(fo,po),this._z=Math.atan2(oo,no)):(this._x=0,this._z=Math.atan2(-io,so));break;case"YZX":this._z=Math.asin(to(oo,-1,1)),Math.abs(oo)<.9999999?(this._x=Math.atan2(-uo,so),this._y=Math.atan2(-co,no)):(this._x=0,this._y=Math.atan2(ao,po));break;case"XZY":this._z=Math.asin(-to(io,-1,1)),Math.abs(io)<.9999999?(this._x=Math.atan2(fo,so),this._y=Math.atan2(ao,no)):(this._x=Math.atan2(-uo,po),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+_a)}return this._order=_a,eo!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(va,_a,eo){return _matrix.makeRotationFromQuaternion(va),this.setFromRotationMatrix(_matrix,_a,eo)},setFromVector3:function(va,_a){return this.set(va.x,va.y,va.z,_a||this._order)},reorder:function(va){return _quaternion$1.setFromEuler(this),this.setFromQuaternion(_quaternion$1,va)},equals:function(va){return va._x===this._x&&va._y===this._y&&va._z===this._z&&va._order===this._order},fromArray:function(va){return this._x=va[0],this._y=va[1],this._z=va[2],va[3]!==void 0&&(this._order=va[3]),this._onChangeCallback(),this},toArray:function(va,_a){return va===void 0&&(va=[]),_a===void 0&&(_a=0),va[_a]=this._x,va[_a+1]=this._y,va[_a+2]=this._z,va[_a+3]=this._order,va},toVector3:function(va){return va?va.set(this._x,this._y,this._z):new Vector3(this._x,this._y,this._z)},_onChange:function(va){return this._onChangeCallback=va,this},_onChangeCallback:function(){}});function Layers(){this.mask=1}Object.assign(Layers.prototype,{set:function(va){this.mask=1<<va|0},enable:function(va){this.mask|=1<<va|0},enableAll:function(){this.mask=-1},toggle:function(va){this.mask^=1<<va|0},disable:function(va){this.mask&=~(1<<va|0)},disableAll:function(){this.mask=0},test:function(va){return(this.mask&va.mask)!==0}});let _object3DId=0;const _v1$1=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position=new Vector3,_scale=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};function Object3D(){Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=MathUtils.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();var va=new Vector3,_a=new Euler,eo=new Quaternion,to=new Vector3(1,1,1);function ro(){eo.setFromEuler(_a,!1)}function no(){_a.setFromQuaternion(eo,void 0,!1)}_a._onChange(ro),eo._onChange(no),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:va},rotation:{configurable:!0,enumerable:!0,value:_a},quaternion:{configurable:!0,enumerable:!0,value:eo},scale:{configurable:!0,enumerable:!0,value:to},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Object3D,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(va){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(va),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(va){return this.quaternion.premultiply(va),this},setRotationFromAxisAngle:function(va,_a){this.quaternion.setFromAxisAngle(va,_a)},setRotationFromEuler:function(va){this.quaternion.setFromEuler(va,!0)},setRotationFromMatrix:function(va){this.quaternion.setFromRotationMatrix(va)},setRotationFromQuaternion:function(va){this.quaternion.copy(va)},rotateOnAxis:function(va,_a){return _q1.setFromAxisAngle(va,_a),this.quaternion.multiply(_q1),this},rotateOnWorldAxis:function(va,_a){return _q1.setFromAxisAngle(va,_a),this.quaternion.premultiply(_q1),this},rotateX:function(va){return this.rotateOnAxis(_xAxis,va)},rotateY:function(va){return this.rotateOnAxis(_yAxis,va)},rotateZ:function(va){return this.rotateOnAxis(_zAxis,va)},translateOnAxis:function(va,_a){return _v1$1.copy(va).applyQuaternion(this.quaternion),this.position.add(_v1$1.multiplyScalar(_a)),this},translateX:function(va){return this.translateOnAxis(_xAxis,va)},translateY:function(va){return this.translateOnAxis(_yAxis,va)},translateZ:function(va){return this.translateOnAxis(_zAxis,va)},localToWorld:function(va){return va.applyMatrix4(this.matrixWorld)},worldToLocal:function(va){return va.applyMatrix4(_m1$1.getInverse(this.matrixWorld))},lookAt:function(va,_a,eo){va.isVector3?_target.copy(va):_target.set(va,_a,eo);var to=this.parent;this.updateWorldMatrix(!0,!1),_position.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position,_target,this.up):_m1$1.lookAt(_target,_position,this.up),this.quaternion.setFromRotationMatrix(_m1$1),to&&(_m1$1.extractRotation(to.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.inverse()))},add:function(va){if(arguments.length>1){for(var _a=0;_a<arguments.length;_a++)this.add(arguments[_a]);return this}return va===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",va),this):(va&&va.isObject3D?(va.parent!==null&&va.parent.remove(va),va.parent=this,this.children.push(va),va.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",va),this)},remove:function(va){if(arguments.length>1){for(var _a=0;_a<arguments.length;_a++)this.remove(arguments[_a]);return this}var eo=this.children.indexOf(va);return eo!==-1&&(va.parent=null,this.children.splice(eo,1),va.dispatchEvent(_removedEvent)),this},attach:function(va){return this.updateWorldMatrix(!0,!1),_m1$1.getInverse(this.matrixWorld),va.parent!==null&&(va.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(va.parent.matrixWorld)),va.applyMatrix4(_m1$1),va.updateWorldMatrix(!1,!1),this.add(va),this},getObjectById:function(va){return this.getObjectByProperty("id",va)},getObjectByName:function(va){return this.getObjectByProperty("name",va)},getObjectByProperty:function(va,_a){if(this[va]===_a)return this;for(var eo=0,to=this.children.length;eo<to;eo++){var ro=this.children[eo],no=ro.getObjectByProperty(va,_a);if(no!==void 0)return no}},getWorldPosition:function(va){return va===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),va=new Vector3),this.updateMatrixWorld(!0),va.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(va){return va===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),va=new Quaternion),this.updateMatrixWorld(!0),this.matrixWorld.decompose(_position,va,_scale),va},getWorldScale:function(va){return va===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),va=new Vector3),this.updateMatrixWorld(!0),this.matrixWorld.decompose(_position,_quaternion$2,va),va},getWorldDirection:function(va){va===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),va=new Vector3),this.updateMatrixWorld(!0);var _a=this.matrixWorld.elements;return va.set(_a[8],_a[9],_a[10]).normalize()},raycast:function(){},traverse:function(va){va(this);for(var _a=this.children,eo=0,to=_a.length;eo<to;eo++)_a[eo].traverse(va)},traverseVisible:function(va){if(this.visible!==!1){va(this);for(var _a=this.children,eo=0,to=_a.length;eo<to;eo++)_a[eo].traverseVisible(va)}},traverseAncestors:function(va){var _a=this.parent;_a!==null&&(va(_a),_a.traverseAncestors(va))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(va){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||va)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,va=!0);for(var _a=this.children,eo=0,to=_a.length;eo<to;eo++)_a[eo].updateMatrixWorld(va)},updateWorldMatrix:function(va,_a){var eo=this.parent;if(va===!0&&eo!==null&&eo.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),_a===!0)for(var to=this.children,ro=0,no=to.length;ro<no;ro++)to[ro].updateWorldMatrix(!1,!0)},toJSON:function(va){var _a=va===void 0||typeof va=="string",eo={};_a&&(va={geometries:{},materials:{},textures:{},images:{},shapes:{}},eo.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var to={};to.uuid=this.uuid,to.type=this.type,this.name!==""&&(to.name=this.name),this.castShadow===!0&&(to.castShadow=!0),this.receiveShadow===!0&&(to.receiveShadow=!0),this.visible===!1&&(to.visible=!1),this.frustumCulled===!1&&(to.frustumCulled=!1),this.renderOrder!==0&&(to.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(to.userData=this.userData),to.layers=this.layers.mask,to.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(to.matrixAutoUpdate=!1),this.isInstancedMesh&&(to.type="InstancedMesh",to.count=this.count,to.instanceMatrix=this.instanceMatrix.toJSON());function ro(mo,lo){return mo[lo.uuid]===void 0&&(mo[lo.uuid]=lo.toJSON(va)),lo.uuid}if(this.isMesh||this.isLine||this.isPoints){to.geometry=ro(va.geometries,this.geometry);var no=this.geometry.parameters;if(no!==void 0&&no.shapes!==void 0){var io=no.shapes;if(Array.isArray(io))for(var ao=0,oo=io.length;ao<oo;ao++){var so=io[ao];ro(va.shapes,so)}else ro(va.shapes,io)}}if(this.material!==void 0)if(Array.isArray(this.material)){for(var uo=[],ao=0,oo=this.material.length;ao<oo;ao++)uo.push(ro(va.materials,this.material[ao]));to.material=uo}else to.material=ro(va.materials,this.material);if(this.children.length>0){to.children=[];for(var ao=0;ao<this.children.length;ao++)to.children.push(this.children[ao].toJSON(va).object)}if(_a){var co=go(va.geometries),fo=go(va.materials),po=go(va.textures),vo=go(va.images),io=go(va.shapes);co.length>0&&(eo.geometries=co),fo.length>0&&(eo.materials=fo),po.length>0&&(eo.textures=po),vo.length>0&&(eo.images=vo),io.length>0&&(eo.shapes=io)}return eo.object=to,eo;function go(mo){var lo=[];for(var ho in mo){var yo=mo[ho];delete yo.metadata,lo.push(yo)}return lo}},clone:function(va){return new this.constructor().copy(this,va)},copy:function(va,_a){if(_a===void 0&&(_a=!0),this.name=va.name,this.up.copy(va.up),this.position.copy(va.position),this.quaternion.copy(va.quaternion),this.scale.copy(va.scale),this.matrix.copy(va.matrix),this.matrixWorld.copy(va.matrixWorld),this.matrixAutoUpdate=va.matrixAutoUpdate,this.matrixWorldNeedsUpdate=va.matrixWorldNeedsUpdate,this.layers.mask=va.layers.mask,this.visible=va.visible,this.castShadow=va.castShadow,this.receiveShadow=va.receiveShadow,this.frustumCulled=va.frustumCulled,this.renderOrder=va.renderOrder,this.userData=JSON.parse(JSON.stringify(va.userData)),_a===!0)for(var eo=0;eo<va.children.length;eo++){var to=va.children[eo];this.add(to.clone())}return this}});function Scene(){Object3D.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Scene.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Scene,isScene:!0,copy:function(va,_a){return Object3D.prototype.copy.call(this,va,_a),va.background!==null&&(this.background=va.background.clone()),va.environment!==null&&(this.environment=va.environment.clone()),va.fog!==null&&(this.fog=va.fog.clone()),va.overrideMaterial!==null&&(this.overrideMaterial=va.overrideMaterial.clone()),this.autoUpdate=va.autoUpdate,this.matrixAutoUpdate=va.matrixAutoUpdate,this},toJSON:function(va){var _a=Object3D.prototype.toJSON.call(this,va);return this.background!==null&&(_a.object.background=this.background.toJSON(va)),this.environment!==null&&(_a.object.environment=this.environment.toJSON(va)),this.fog!==null&&(_a.object.fog=this.fog.toJSON()),_a},dispose:function(){this.dispatchEvent({type:"dispose"})}});var _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$1=new Vector3,_box=new Box3,_v0=new Vector3,_v1$2=new Vector3,_v2=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function Box3(va,_a){this.min=va!==void 0?va:new Vector3(1/0,1/0,1/0),this.max=_a!==void 0?_a:new Vector3(-1/0,-1/0,-1/0)}Object.assign(Box3.prototype,{isBox3:!0,set:function(va,_a){return this.min.copy(va),this.max.copy(_a),this},setFromArray:function(va){for(var _a=1/0,eo=1/0,to=1/0,ro=-1/0,no=-1/0,io=-1/0,ao=0,oo=va.length;ao<oo;ao+=3){var so=va[ao],uo=va[ao+1],co=va[ao+2];so<_a&&(_a=so),uo<eo&&(eo=uo),co<to&&(to=co),so>ro&&(ro=so),uo>no&&(no=uo),co>io&&(io=co)}return this.min.set(_a,eo,to),this.max.set(ro,no,io),this},setFromBufferAttribute:function(va){for(var _a=1/0,eo=1/0,to=1/0,ro=-1/0,no=-1/0,io=-1/0,ao=0,oo=va.count;ao<oo;ao++){var so=va.getX(ao),uo=va.getY(ao),co=va.getZ(ao);so<_a&&(_a=so),uo<eo&&(eo=uo),co<to&&(to=co),so>ro&&(ro=so),uo>no&&(no=uo),co>io&&(io=co)}return this.min.set(_a,eo,to),this.max.set(ro,no,io),this},setFromPoints:function(va){this.makeEmpty();for(var _a=0,eo=va.length;_a<eo;_a++)this.expandByPoint(va[_a]);return this},setFromCenterAndSize:function(va,_a){var eo=_vector$1.copy(_a).multiplyScalar(.5);return this.min.copy(va).sub(eo),this.max.copy(va).add(eo),this},setFromObject:function(va){return this.makeEmpty(),this.expandByObject(va)},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.min.copy(va.min),this.max.copy(va.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(va){return va===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),va=new Vector3),this.isEmpty()?va.set(0,0,0):va.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(va){return va===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),va=new Vector3),this.isEmpty()?va.set(0,0,0):va.subVectors(this.max,this.min)},expandByPoint:function(va){return this.min.min(va),this.max.max(va),this},expandByVector:function(va){return this.min.sub(va),this.max.add(va),this},expandByScalar:function(va){return this.min.addScalar(-va),this.max.addScalar(va),this},expandByObject:function(va){va.updateWorldMatrix(!1,!1);var _a=va.geometry;_a!==void 0&&(_a.boundingBox===null&&_a.computeBoundingBox(),_box.copy(_a.boundingBox),_box.applyMatrix4(va.matrixWorld),this.union(_box));for(var eo=va.children,to=0,ro=eo.length;to<ro;to++)this.expandByObject(eo[to]);return this},containsPoint:function(va){return!(va.x<this.min.x||va.x>this.max.x||va.y<this.min.y||va.y>this.max.y||va.z<this.min.z||va.z>this.max.z)},containsBox:function(va){return this.min.x<=va.min.x&&va.max.x<=this.max.x&&this.min.y<=va.min.y&&va.max.y<=this.max.y&&this.min.z<=va.min.z&&va.max.z<=this.max.z},getParameter:function(va,_a){return _a===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),_a=new Vector3),_a.set((va.x-this.min.x)/(this.max.x-this.min.x),(va.y-this.min.y)/(this.max.y-this.min.y),(va.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(va){return!(va.max.x<this.min.x||va.min.x>this.max.x||va.max.y<this.min.y||va.min.y>this.max.y||va.max.z<this.min.z||va.min.z>this.max.z)},intersectsSphere:function(va){return this.clampPoint(va.center,_vector$1),_vector$1.distanceToSquared(va.center)<=va.radius*va.radius},intersectsPlane:function(va){var _a,eo;return va.normal.x>0?(_a=va.normal.x*this.min.x,eo=va.normal.x*this.max.x):(_a=va.normal.x*this.max.x,eo=va.normal.x*this.min.x),va.normal.y>0?(_a+=va.normal.y*this.min.y,eo+=va.normal.y*this.max.y):(_a+=va.normal.y*this.max.y,eo+=va.normal.y*this.min.y),va.normal.z>0?(_a+=va.normal.z*this.min.z,eo+=va.normal.z*this.max.z):(_a+=va.normal.z*this.max.z,eo+=va.normal.z*this.min.z),_a<=-va.constant&&eo>=-va.constant},intersectsTriangle:function(va){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0.subVectors(va.a,_center),_v1$2.subVectors(va.b,_center),_v2.subVectors(va.c,_center),_f0.subVectors(_v1$2,_v0),_f1.subVectors(_v2,_v1$2),_f2.subVectors(_v0,_v2);var _a=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(_a,_v0,_v1$2,_v2,_extents)||(_a=[1,0,0,0,1,0,0,0,1],!satForAxes(_a,_v0,_v1$2,_v2,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),_a=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(_a,_v0,_v1$2,_v2,_extents))},clampPoint:function(va,_a){return _a===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),_a=new Vector3),_a.copy(va).clamp(this.min,this.max)},distanceToPoint:function(va){var _a=_vector$1.copy(va).clamp(this.min,this.max);return _a.sub(va).length()},getBoundingSphere:function(va){return va===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(va.center),va.radius=this.getSize(_vector$1).length()*.5,va},intersect:function(va){return this.min.max(va.min),this.max.min(va.max),this.isEmpty()&&this.makeEmpty(),this},union:function(va){return this.min.min(va.min),this.max.max(va.max),this},applyMatrix4:function(va){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(va),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(va),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(va),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(va),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(va),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(va),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(va),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(va),this.setFromPoints(_points),this)},translate:function(va){return this.min.add(va),this.max.add(va),this},equals:function(va){return va.min.equals(this.min)&&va.max.equals(this.max)}});function satForAxes(va,_a,eo,to,ro){var no,io;for(no=0,io=va.length-3;no<=io;no+=3){_testAxis.fromArray(va,no);var ao=ro.x*Math.abs(_testAxis.x)+ro.y*Math.abs(_testAxis.y)+ro.z*Math.abs(_testAxis.z),oo=_a.dot(_testAxis),so=eo.dot(_testAxis),uo=to.dot(_testAxis);if(Math.max(-Math.max(oo,so,uo),Math.min(oo,so,uo))>ao)return!1}return!0}var _box$1=new Box3;function Sphere(va,_a){this.center=va!==void 0?va:new Vector3,this.radius=_a!==void 0?_a:-1}Object.assign(Sphere.prototype,{set:function(va,_a){return this.center.copy(va),this.radius=_a,this},setFromPoints:function(va,_a){var eo=this.center;_a!==void 0?eo.copy(_a):_box$1.setFromPoints(va).getCenter(eo);for(var to=0,ro=0,no=va.length;ro<no;ro++)to=Math.max(to,eo.distanceToSquared(va[ro]));return this.radius=Math.sqrt(to),this},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.center.copy(va.center),this.radius=va.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(va){return va.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(va){return va.distanceTo(this.center)-this.radius},intersectsSphere:function(va){var _a=this.radius+va.radius;return va.center.distanceToSquared(this.center)<=_a*_a},intersectsBox:function(va){return va.intersectsSphere(this)},intersectsPlane:function(va){return Math.abs(va.distanceToPoint(this.center))<=this.radius},clampPoint:function(va,_a){var eo=this.center.distanceToSquared(va);return _a===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),_a=new Vector3),_a.copy(va),eo>this.radius*this.radius&&(_a.sub(this.center).normalize(),_a.multiplyScalar(this.radius).add(this.center)),_a},getBoundingBox:function(va){return va===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),va=new Box3),this.isEmpty()?(va.makeEmpty(),va):(va.set(this.center,this.center),va.expandByScalar(this.radius),va)},applyMatrix4:function(va){return this.center.applyMatrix4(va),this.radius=this.radius*va.getMaxScaleOnAxis(),this},translate:function(va){return this.center.add(va),this},equals:function(va){return va.center.equals(this.center)&&va.radius===this.radius}});var _vector$2=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal=new Vector3;function Ray(va,_a){this.origin=va!==void 0?va:new Vector3,this.direction=_a!==void 0?_a:new Vector3(0,0,-1)}Object.assign(Ray.prototype,{set:function(va,_a){return this.origin.copy(va),this.direction.copy(_a),this},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.origin.copy(va.origin),this.direction.copy(va.direction),this},at:function(va,_a){return _a===void 0&&(console.warn("THREE.Ray: .at() target is now required"),_a=new Vector3),_a.copy(this.direction).multiplyScalar(va).add(this.origin)},lookAt:function(va){return this.direction.copy(va).sub(this.origin).normalize(),this},recast:function(va){return this.origin.copy(this.at(va,_vector$2)),this},closestPointToPoint:function(va,_a){_a===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),_a=new Vector3),_a.subVectors(va,this.origin);var eo=_a.dot(this.direction);return eo<0?_a.copy(this.origin):_a.copy(this.direction).multiplyScalar(eo).add(this.origin)},distanceToPoint:function(va){return Math.sqrt(this.distanceSqToPoint(va))},distanceSqToPoint:function(va){var _a=_vector$2.subVectors(va,this.origin).dot(this.direction);return _a<0?this.origin.distanceToSquared(va):(_vector$2.copy(this.direction).multiplyScalar(_a).add(this.origin),_vector$2.distanceToSquared(va))},distanceSqToSegment:function(va,_a,eo,to){_segCenter.copy(va).add(_a).multiplyScalar(.5),_segDir.copy(_a).sub(va).normalize(),_diff.copy(this.origin).sub(_segCenter);var ro=va.distanceTo(_a)*.5,no=-this.direction.dot(_segDir),io=_diff.dot(this.direction),ao=-_diff.dot(_segDir),oo=_diff.lengthSq(),so=Math.abs(1-no*no),uo,co,fo,po;if(so>0)if(uo=no*ao-io,co=no*io-ao,po=ro*so,uo>=0)if(co>=-po)if(co<=po){var vo=1/so;uo*=vo,co*=vo,fo=uo*(uo+no*co+2*io)+co*(no*uo+co+2*ao)+oo}else co=ro,uo=Math.max(0,-(no*co+io)),fo=-uo*uo+co*(co+2*ao)+oo;else co=-ro,uo=Math.max(0,-(no*co+io)),fo=-uo*uo+co*(co+2*ao)+oo;else co<=-po?(uo=Math.max(0,-(-no*ro+io)),co=uo>0?-ro:Math.min(Math.max(-ro,-ao),ro),fo=-uo*uo+co*(co+2*ao)+oo):co<=po?(uo=0,co=Math.min(Math.max(-ro,-ao),ro),fo=co*(co+2*ao)+oo):(uo=Math.max(0,-(no*ro+io)),co=uo>0?ro:Math.min(Math.max(-ro,-ao),ro),fo=-uo*uo+co*(co+2*ao)+oo);else co=no>0?-ro:ro,uo=Math.max(0,-(no*co+io)),fo=-uo*uo+co*(co+2*ao)+oo;return eo&&eo.copy(this.direction).multiplyScalar(uo).add(this.origin),to&&to.copy(_segDir).multiplyScalar(co).add(_segCenter),fo},intersectSphere:function(va,_a){_vector$2.subVectors(va.center,this.origin);var eo=_vector$2.dot(this.direction),to=_vector$2.dot(_vector$2)-eo*eo,ro=va.radius*va.radius;if(to>ro)return null;var no=Math.sqrt(ro-to),io=eo-no,ao=eo+no;return io<0&&ao<0?null:io<0?this.at(ao,_a):this.at(io,_a)},intersectsSphere:function(va){return this.distanceSqToPoint(va.center)<=va.radius*va.radius},distanceToPlane:function(va){var _a=va.normal.dot(this.direction);if(_a===0)return va.distanceToPoint(this.origin)===0?0:null;var eo=-(this.origin.dot(va.normal)+va.constant)/_a;return eo>=0?eo:null},intersectPlane:function(va,_a){var eo=this.distanceToPlane(va);return eo===null?null:this.at(eo,_a)},intersectsPlane:function(va){var _a=va.distanceToPoint(this.origin);if(_a===0)return!0;var eo=va.normal.dot(this.direction);return eo*_a<0},intersectBox:function(va,_a){var eo,to,ro,no,io,ao,oo=1/this.direction.x,so=1/this.direction.y,uo=1/this.direction.z,co=this.origin;return oo>=0?(eo=(va.min.x-co.x)*oo,to=(va.max.x-co.x)*oo):(eo=(va.max.x-co.x)*oo,to=(va.min.x-co.x)*oo),so>=0?(ro=(va.min.y-co.y)*so,no=(va.max.y-co.y)*so):(ro=(va.max.y-co.y)*so,no=(va.min.y-co.y)*so),eo>no||ro>to||((ro>eo||eo!==eo)&&(eo=ro),(no<to||to!==to)&&(to=no),uo>=0?(io=(va.min.z-co.z)*uo,ao=(va.max.z-co.z)*uo):(io=(va.max.z-co.z)*uo,ao=(va.min.z-co.z)*uo),eo>ao||io>to)||((io>eo||eo!==eo)&&(eo=io),(ao<to||to!==to)&&(to=ao),to<0)?null:this.at(eo>=0?eo:to,_a)},intersectsBox:function(va){return this.intersectBox(va,_vector$2)!==null},intersectTriangle:function(va,_a,eo,to,ro){_edge1.subVectors(_a,va),_edge2.subVectors(eo,va),_normal.crossVectors(_edge1,_edge2);var no=this.direction.dot(_normal),io;if(no>0){if(to)return null;io=1}else if(no<0)io=-1,no=-no;else return null;_diff.subVectors(this.origin,va);var ao=io*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(ao<0)return null;var oo=io*this.direction.dot(_edge1.cross(_diff));if(oo<0||ao+oo>no)return null;var so=-io*_diff.dot(_normal);return so<0?null:this.at(so/no,ro)},applyMatrix4:function(va){return this.origin.applyMatrix4(va),this.direction.transformDirection(va),this},equals:function(va){return va.origin.equals(this.origin)&&va.direction.equals(this.direction)}});var _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;function Plane(va,_a){this.normal=va!==void 0?va:new Vector3(1,0,0),this.constant=_a!==void 0?_a:0}Object.assign(Plane.prototype,{isPlane:!0,set:function(va,_a){return this.normal.copy(va),this.constant=_a,this},setComponents:function(va,_a,eo,to){return this.normal.set(va,_a,eo),this.constant=to,this},setFromNormalAndCoplanarPoint:function(va,_a){return this.normal.copy(va),this.constant=-_a.dot(this.normal),this},setFromCoplanarPoints:function(va,_a,eo){var to=_vector1.subVectors(eo,_a).cross(_vector2.subVectors(va,_a)).normalize();return this.setFromNormalAndCoplanarPoint(to,va),this},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.normal.copy(va.normal),this.constant=va.constant,this},normalize:function(){var va=1/this.normal.length();return this.normal.multiplyScalar(va),this.constant*=va,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(va){return this.normal.dot(va)+this.constant},distanceToSphere:function(va){return this.distanceToPoint(va.center)-va.radius},projectPoint:function(va,_a){return _a===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),_a=new Vector3),_a.copy(this.normal).multiplyScalar(-this.distanceToPoint(va)).add(va)},intersectLine:function(va,_a){_a===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),_a=new Vector3);var eo=va.delta(_vector1),to=this.normal.dot(eo);if(to===0)return this.distanceToPoint(va.start)===0?_a.copy(va.start):void 0;var ro=-(va.start.dot(this.normal)+this.constant)/to;if(!(ro<0||ro>1))return _a.copy(eo).multiplyScalar(ro).add(va.start)},intersectsLine:function(va){var _a=this.distanceToPoint(va.start),eo=this.distanceToPoint(va.end);return _a<0&&eo>0||eo<0&&_a>0},intersectsBox:function(va){return va.intersectsPlane(this)},intersectsSphere:function(va){return va.intersectsPlane(this)},coplanarPoint:function(va){return va===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),va=new Vector3),va.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(va,_a){var eo=_a||_normalMatrix.getNormalMatrix(va),to=this.coplanarPoint(_vector1).applyMatrix4(va),ro=this.normal.applyMatrix3(eo).normalize();return this.constant=-to.dot(ro),this},translate:function(va){return this.constant-=va.dot(this.normal),this},equals:function(va){return va.normal.equals(this.normal)&&va.constant===this.constant}});var _v0$1=new Vector3,_v1$3=new Vector3,_v2$1=new Vector3,_v3=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;function Triangle(va,_a,eo){this.a=va!==void 0?va:new Vector3,this.b=_a!==void 0?_a:new Vector3,this.c=eo!==void 0?eo:new Vector3}Object.assign(Triangle,{getNormal:function(va,_a,eo,to){to===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),to=new Vector3),to.subVectors(eo,_a),_v0$1.subVectors(va,_a),to.cross(_v0$1);var ro=to.lengthSq();return ro>0?to.multiplyScalar(1/Math.sqrt(ro)):to.set(0,0,0)},getBarycoord:function(va,_a,eo,to,ro){_v0$1.subVectors(to,_a),_v1$3.subVectors(eo,_a),_v2$1.subVectors(va,_a);var no=_v0$1.dot(_v0$1),io=_v0$1.dot(_v1$3),ao=_v0$1.dot(_v2$1),oo=_v1$3.dot(_v1$3),so=_v1$3.dot(_v2$1),uo=no*oo-io*io;if(ro===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),ro=new Vector3),uo===0)return ro.set(-2,-1,-1);var co=1/uo,fo=(oo*ao-io*so)*co,po=(no*so-io*ao)*co;return ro.set(1-fo-po,po,fo)},containsPoint:function(va,_a,eo,to){return Triangle.getBarycoord(va,_a,eo,to,_v3),_v3.x>=0&&_v3.y>=0&&_v3.x+_v3.y<=1},getUV:function(va,_a,eo,to,ro,no,io,ao){return this.getBarycoord(va,_a,eo,to,_v3),ao.set(0,0),ao.addScaledVector(ro,_v3.x),ao.addScaledVector(no,_v3.y),ao.addScaledVector(io,_v3.z),ao},isFrontFacing:function(va,_a,eo,to){return _v0$1.subVectors(eo,_a),_v1$3.subVectors(va,_a),_v0$1.cross(_v1$3).dot(to)<0}});Object.assign(Triangle.prototype,{set:function(va,_a,eo){return this.a.copy(va),this.b.copy(_a),this.c.copy(eo),this},setFromPointsAndIndices:function(va,_a,eo,to){return this.a.copy(va[_a]),this.b.copy(va[eo]),this.c.copy(va[to]),this},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.a.copy(va.a),this.b.copy(va.b),this.c.copy(va.c),this},getArea:function(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5},getMidpoint:function(va){return va===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),va=new Vector3),va.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(va){return Triangle.getNormal(this.a,this.b,this.c,va)},getPlane:function(va){return va===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),va=new Plane),va.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(va,_a){return Triangle.getBarycoord(va,this.a,this.b,this.c,_a)},getUV:function(va,_a,eo,to,ro){return Triangle.getUV(va,this.a,this.b,this.c,_a,eo,to,ro)},containsPoint:function(va){return Triangle.containsPoint(va,this.a,this.b,this.c)},isFrontFacing:function(va){return Triangle.isFrontFacing(this.a,this.b,this.c,va)},intersectsBox:function(va){return va.intersectsTriangle(this)},closestPointToPoint:function(va,_a){_a===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),_a=new Vector3);var eo=this.a,to=this.b,ro=this.c,no,io;_vab.subVectors(to,eo),_vac.subVectors(ro,eo),_vap.subVectors(va,eo);var ao=_vab.dot(_vap),oo=_vac.dot(_vap);if(ao<=0&&oo<=0)return _a.copy(eo);_vbp.subVectors(va,to);var so=_vab.dot(_vbp),uo=_vac.dot(_vbp);if(so>=0&&uo<=so)return _a.copy(to);var co=ao*uo-so*oo;if(co<=0&&ao>=0&&so<=0)return no=ao/(ao-so),_a.copy(eo).addScaledVector(_vab,no);_vcp.subVectors(va,ro);var fo=_vab.dot(_vcp),po=_vac.dot(_vcp);if(po>=0&&fo<=po)return _a.copy(ro);var vo=fo*oo-ao*po;if(vo<=0&&oo>=0&&po<=0)return io=oo/(oo-po),_a.copy(eo).addScaledVector(_vac,io);var go=so*po-fo*uo;if(go<=0&&uo-so>=0&&fo-po>=0)return _vbc.subVectors(ro,to),io=(uo-so)/(uo-so+(fo-po)),_a.copy(to).addScaledVector(_vbc,io);var mo=1/(go+vo+co);return no=vo*mo,io=co*mo,_a.copy(eo).addScaledVector(_vab,no).addScaledVector(_vac,io)},equals:function(va){return va.a.equals(this.a)&&va.b.equals(this.b)&&va.c.equals(this.c)}});var _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function Color(va,_a,eo){return _a===void 0&&eo===void 0?this.set(va):this.setRGB(va,_a,eo)}function hue2rgb(va,_a,eo){return eo<0&&(eo+=1),eo>1&&(eo-=1),eo<1/6?va+(_a-va)*6*eo:eo<1/2?_a:eo<2/3?va+(_a-va)*6*(2/3-eo):va}function SRGBToLinear(va){return va<.04045?va*.0773993808:Math.pow(va*.9478672986+.0521327014,2.4)}function LinearToSRGB(va){return va<.0031308?va*12.92:1.055*Math.pow(va,.41666)-.055}Object.assign(Color.prototype,{isColor:!0,r:1,g:1,b:1,set:function(va){return va&&va.isColor?this.copy(va):typeof va=="number"?this.setHex(va):typeof va=="string"&&this.setStyle(va),this},setScalar:function(va){return this.r=va,this.g=va,this.b=va,this},setHex:function(va){return va=Math.floor(va),this.r=(va>>16&255)/255,this.g=(va>>8&255)/255,this.b=(va&255)/255,this},setRGB:function(va,_a,eo){return this.r=va,this.g=_a,this.b=eo,this},setHSL:function(va,_a,eo){if(va=MathUtils.euclideanModulo(va,1),_a=MathUtils.clamp(_a,0,1),eo=MathUtils.clamp(eo,0,1),_a===0)this.r=this.g=this.b=eo;else{var to=eo<=.5?eo*(1+_a):eo+_a-eo*_a,ro=2*eo-to;this.r=hue2rgb(ro,to,va+1/3),this.g=hue2rgb(ro,to,va),this.b=hue2rgb(ro,to,va-1/3)}return this},setStyle:function(va){function _a(co){co!==void 0&&parseFloat(co)<1&&console.warn("THREE.Color: Alpha component of "+va+" will be ignored.")}var eo;if(eo=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(va)){var to,ro=eo[1],no=eo[2];switch(ro){case"rgb":case"rgba":if(to=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(no))return this.r=Math.min(255,parseInt(to[1],10))/255,this.g=Math.min(255,parseInt(to[2],10))/255,this.b=Math.min(255,parseInt(to[3],10))/255,_a(to[5]),this;if(to=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(no))return this.r=Math.min(100,parseInt(to[1],10))/100,this.g=Math.min(100,parseInt(to[2],10))/100,this.b=Math.min(100,parseInt(to[3],10))/100,_a(to[5]),this;break;case"hsl":case"hsla":if(to=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(no)){var io=parseFloat(to[1])/360,ao=parseInt(to[2],10)/100,oo=parseInt(to[3],10)/100;return _a(to[5]),this.setHSL(io,ao,oo)}break}}else if(eo=/^\#([A-Fa-f0-9]+)$/.exec(va)){var so=eo[1],uo=so.length;if(uo===3)return this.r=parseInt(so.charAt(0)+so.charAt(0),16)/255,this.g=parseInt(so.charAt(1)+so.charAt(1),16)/255,this.b=parseInt(so.charAt(2)+so.charAt(2),16)/255,this;if(uo===6)return this.r=parseInt(so.charAt(0)+so.charAt(1),16)/255,this.g=parseInt(so.charAt(2)+so.charAt(3),16)/255,this.b=parseInt(so.charAt(4)+so.charAt(5),16)/255,this}return va&&va.length>0?this.setColorName(va):this},setColorName:function(va){var _a=_colorKeywords[va];return _a!==void 0?this.setHex(_a):console.warn("THREE.Color: Unknown color "+va),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(va){return this.r=va.r,this.g=va.g,this.b=va.b,this},copyGammaToLinear:function(va,_a){return _a===void 0&&(_a=2),this.r=Math.pow(va.r,_a),this.g=Math.pow(va.g,_a),this.b=Math.pow(va.b,_a),this},copyLinearToGamma:function(va,_a){_a===void 0&&(_a=2);var eo=_a>0?1/_a:1;return this.r=Math.pow(va.r,eo),this.g=Math.pow(va.g,eo),this.b=Math.pow(va.b,eo),this},convertGammaToLinear:function(va){return this.copyGammaToLinear(this,va),this},convertLinearToGamma:function(va){return this.copyLinearToGamma(this,va),this},copySRGBToLinear:function(va){return this.r=SRGBToLinear(va.r),this.g=SRGBToLinear(va.g),this.b=SRGBToLinear(va.b),this},copyLinearToSRGB:function(va){return this.r=LinearToSRGB(va.r),this.g=LinearToSRGB(va.g),this.b=LinearToSRGB(va.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(va){va===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),va={h:0,s:0,l:0});var _a=this.r,eo=this.g,to=this.b,ro=Math.max(_a,eo,to),no=Math.min(_a,eo,to),io,ao,oo=(no+ro)/2;if(no===ro)io=0,ao=0;else{var so=ro-no;switch(ao=oo<=.5?so/(ro+no):so/(2-ro-no),ro){case _a:io=(eo-to)/so+(eo<to?6:0);break;case eo:io=(to-_a)/so+2;break;case to:io=(_a-eo)/so+4;break}io/=6}return va.h=io,va.s=ao,va.l=oo,va},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(va,_a,eo){return this.getHSL(_hslA),_hslA.h+=va,_hslA.s+=_a,_hslA.l+=eo,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this},add:function(va){return this.r+=va.r,this.g+=va.g,this.b+=va.b,this},addColors:function(va,_a){return this.r=va.r+_a.r,this.g=va.g+_a.g,this.b=va.b+_a.b,this},addScalar:function(va){return this.r+=va,this.g+=va,this.b+=va,this},sub:function(va){return this.r=Math.max(0,this.r-va.r),this.g=Math.max(0,this.g-va.g),this.b=Math.max(0,this.b-va.b),this},multiply:function(va){return this.r*=va.r,this.g*=va.g,this.b*=va.b,this},multiplyScalar:function(va){return this.r*=va,this.g*=va,this.b*=va,this},lerp:function(va,_a){return this.r+=(va.r-this.r)*_a,this.g+=(va.g-this.g)*_a,this.b+=(va.b-this.b)*_a,this},lerpHSL:function(va,_a){this.getHSL(_hslA),va.getHSL(_hslB);var eo=MathUtils.lerp(_hslA.h,_hslB.h,_a),to=MathUtils.lerp(_hslA.s,_hslB.s,_a),ro=MathUtils.lerp(_hslA.l,_hslB.l,_a);return this.setHSL(eo,to,ro),this},equals:function(va){return va.r===this.r&&va.g===this.g&&va.b===this.b},fromArray:function(va,_a){return _a===void 0&&(_a=0),this.r=va[_a],this.g=va[_a+1],this.b=va[_a+2],this},toArray:function(va,_a){return va===void 0&&(va=[]),_a===void 0&&(_a=0),va[_a]=this.r,va[_a+1]=this.g,va[_a+2]=this.b,va},toJSON:function(){return this.getHex()}});Color.NAMES=_colorKeywords;function Face3(va,_a,eo,to,ro,no){this.a=va,this.b=_a,this.c=eo,this.normal=to&&to.isVector3?to:new Vector3,this.vertexNormals=Array.isArray(to)?to:[],this.color=ro&&ro.isColor?ro:new Color,this.vertexColors=Array.isArray(ro)?ro:[],this.materialIndex=no!==void 0?no:0}Object.assign(Face3.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(va){this.a=va.a,this.b=va.b,this.c=va.c,this.normal.copy(va.normal),this.color.copy(va.color),this.materialIndex=va.materialIndex;for(var _a=0,eo=va.vertexNormals.length;_a<eo;_a++)this.vertexNormals[_a]=va.vertexNormals[_a].clone();for(var _a=0,eo=va.vertexColors.length;_a<eo;_a++)this.vertexColors[_a]=va.vertexColors[_a].clone();return this}});var materialId=0;function Material(){Object.defineProperty(this,"id",{value:materialId++}),this.uuid=MathUtils.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=NormalBlending,this.side=FrontSide,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Material.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Material,isMaterial:!0,onBeforeCompile:function(){},setValues:function(va){if(va!==void 0)for(var _a in va){var eo=va[_a];if(eo===void 0){console.warn("THREE.Material: '"+_a+"' parameter is undefined.");continue}if(_a==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=eo===FlatShading;continue}var to=this[_a];if(to===void 0){console.warn("THREE."+this.type+": '"+_a+"' is not a property of this material.");continue}to&&to.isColor?to.set(eo):to&&to.isVector3&&eo&&eo.isVector3?to.copy(eo):this[_a]=eo}},toJSON:function(va){var _a=va===void 0||typeof va=="string";_a&&(va={textures:{},images:{}});var eo={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};eo.uuid=this.uuid,eo.type=this.type,this.name!==""&&(eo.name=this.name),this.color&&this.color.isColor&&(eo.color=this.color.getHex()),this.roughness!==void 0&&(eo.roughness=this.roughness),this.metalness!==void 0&&(eo.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(eo.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(eo.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(eo.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(eo.specular=this.specular.getHex()),this.shininess!==void 0&&(eo.shininess=this.shininess),this.clearcoat!==void 0&&(eo.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(eo.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(eo.clearcoatMap=this.clearcoatMap.toJSON(va).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(eo.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(va).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(eo.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(va).uuid,eo.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(eo.map=this.map.toJSON(va).uuid),this.matcap&&this.matcap.isTexture&&(eo.matcap=this.matcap.toJSON(va).uuid),this.alphaMap&&this.alphaMap.isTexture&&(eo.alphaMap=this.alphaMap.toJSON(va).uuid),this.lightMap&&this.lightMap.isTexture&&(eo.lightMap=this.lightMap.toJSON(va).uuid),this.aoMap&&this.aoMap.isTexture&&(eo.aoMap=this.aoMap.toJSON(va).uuid,eo.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(eo.bumpMap=this.bumpMap.toJSON(va).uuid,eo.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(eo.normalMap=this.normalMap.toJSON(va).uuid,eo.normalMapType=this.normalMapType,eo.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(eo.displacementMap=this.displacementMap.toJSON(va).uuid,eo.displacementScale=this.displacementScale,eo.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(eo.roughnessMap=this.roughnessMap.toJSON(va).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(eo.metalnessMap=this.metalnessMap.toJSON(va).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(eo.emissiveMap=this.emissiveMap.toJSON(va).uuid),this.specularMap&&this.specularMap.isTexture&&(eo.specularMap=this.specularMap.toJSON(va).uuid),this.envMap&&this.envMap.isTexture&&(eo.envMap=this.envMap.toJSON(va).uuid,eo.reflectivity=this.reflectivity,eo.refractionRatio=this.refractionRatio,this.combine!==void 0&&(eo.combine=this.combine),this.envMapIntensity!==void 0&&(eo.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(eo.gradientMap=this.gradientMap.toJSON(va).uuid),this.size!==void 0&&(eo.size=this.size),this.sizeAttenuation!==void 0&&(eo.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(eo.blending=this.blending),this.flatShading===!0&&(eo.flatShading=this.flatShading),this.side!==FrontSide&&(eo.side=this.side),this.vertexColors&&(eo.vertexColors=!0),this.opacity<1&&(eo.opacity=this.opacity),this.transparent===!0&&(eo.transparent=this.transparent),eo.depthFunc=this.depthFunc,eo.depthTest=this.depthTest,eo.depthWrite=this.depthWrite,eo.stencilWrite=this.stencilWrite,eo.stencilWriteMask=this.stencilWriteMask,eo.stencilFunc=this.stencilFunc,eo.stencilRef=this.stencilRef,eo.stencilFuncMask=this.stencilFuncMask,eo.stencilFail=this.stencilFail,eo.stencilZFail=this.stencilZFail,eo.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(eo.rotation=this.rotation),this.polygonOffset===!0&&(eo.polygonOffset=!0),this.polygonOffsetFactor!==0&&(eo.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(eo.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(eo.linewidth=this.linewidth),this.dashSize!==void 0&&(eo.dashSize=this.dashSize),this.gapSize!==void 0&&(eo.gapSize=this.gapSize),this.scale!==void 0&&(eo.scale=this.scale),this.dithering===!0&&(eo.dithering=!0),this.alphaTest>0&&(eo.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(eo.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(eo.wireframe=this.wireframe),this.wireframeLinewidth>1&&(eo.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(eo.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(eo.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(eo.morphTargets=!0),this.morphNormals===!0&&(eo.morphNormals=!0),this.skinning===!0&&(eo.skinning=!0),this.visible===!1&&(eo.visible=!1),this.toneMapped===!1&&(eo.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(eo.userData=this.userData);function to(io){var ao=[];for(var oo in io){var so=io[oo];delete so.metadata,ao.push(so)}return ao}if(_a){var ro=to(va.textures),no=to(va.images);ro.length>0&&(eo.textures=ro),no.length>0&&(eo.images=no)}return eo},clone:function(){return new this.constructor().copy(this)},copy:function(va){this.name=va.name,this.fog=va.fog,this.blending=va.blending,this.side=va.side,this.flatShading=va.flatShading,this.vertexColors=va.vertexColors,this.opacity=va.opacity,this.transparent=va.transparent,this.blendSrc=va.blendSrc,this.blendDst=va.blendDst,this.blendEquation=va.blendEquation,this.blendSrcAlpha=va.blendSrcAlpha,this.blendDstAlpha=va.blendDstAlpha,this.blendEquationAlpha=va.blendEquationAlpha,this.depthFunc=va.depthFunc,this.depthTest=va.depthTest,this.depthWrite=va.depthWrite,this.stencilWriteMask=va.stencilWriteMask,this.stencilFunc=va.stencilFunc,this.stencilRef=va.stencilRef,this.stencilFuncMask=va.stencilFuncMask,this.stencilFail=va.stencilFail,this.stencilZFail=va.stencilZFail,this.stencilZPass=va.stencilZPass,this.stencilWrite=va.stencilWrite;var _a=va.clippingPlanes,eo=null;if(_a!==null){var to=_a.length;eo=new Array(to);for(var ro=0;ro!==to;++ro)eo[ro]=_a[ro].clone()}return this.clippingPlanes=eo,this.clipIntersection=va.clipIntersection,this.clipShadows=va.clipShadows,this.shadowSide=va.shadowSide,this.colorWrite=va.colorWrite,this.precision=va.precision,this.polygonOffset=va.polygonOffset,this.polygonOffsetFactor=va.polygonOffsetFactor,this.polygonOffsetUnits=va.polygonOffsetUnits,this.dithering=va.dithering,this.alphaTest=va.alphaTest,this.premultipliedAlpha=va.premultipliedAlpha,this.visible=va.visible,this.toneMapped=va.toneMapped,this.userData=JSON.parse(JSON.stringify(va.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Material.prototype,"needsUpdate",{set:function(va){va===!0&&this.version++}});function MeshBasicMaterial(va){Material.call(this),this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(va)}MeshBasicMaterial.prototype=Object.create(Material.prototype);MeshBasicMaterial.prototype.constructor=MeshBasicMaterial;MeshBasicMaterial.prototype.isMeshBasicMaterial=!0;MeshBasicMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.color.copy(va.color),this.map=va.map,this.lightMap=va.lightMap,this.lightMapIntensity=va.lightMapIntensity,this.aoMap=va.aoMap,this.aoMapIntensity=va.aoMapIntensity,this.specularMap=va.specularMap,this.alphaMap=va.alphaMap,this.envMap=va.envMap,this.combine=va.combine,this.reflectivity=va.reflectivity,this.refractionRatio=va.refractionRatio,this.wireframe=va.wireframe,this.wireframeLinewidth=va.wireframeLinewidth,this.wireframeLinecap=va.wireframeLinecap,this.wireframeLinejoin=va.wireframeLinejoin,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this};var _vector$3=new Vector3;function BufferAttribute(va,_a,eo){if(Array.isArray(va))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=va,this.itemSize=_a,this.count=va!==void 0?va.length/_a:0,this.normalized=eo===!0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(BufferAttribute.prototype,"needsUpdate",{set:function(va){va===!0&&this.version++}});Object.assign(BufferAttribute.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(va){return this.usage=va,this},copy:function(va){return this.name=va.name,this.array=new va.array.constructor(va.array),this.itemSize=va.itemSize,this.count=va.count,this.normalized=va.normalized,this.usage=va.usage,this},copyAt:function(va,_a,eo){va*=this.itemSize,eo*=_a.itemSize;for(var to=0,ro=this.itemSize;to<ro;to++)this.array[va+to]=_a.array[eo+to];return this},copyArray:function(va){return this.array.set(va),this},copyColorsArray:function(va){for(var _a=this.array,eo=0,to=0,ro=va.length;to<ro;to++){var no=va[to];no===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",to),no=new Color),_a[eo++]=no.r,_a[eo++]=no.g,_a[eo++]=no.b}return this},copyVector2sArray:function(va){for(var _a=this.array,eo=0,to=0,ro=va.length;to<ro;to++){var no=va[to];no===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",to),no=new Vector2),_a[eo++]=no.x,_a[eo++]=no.y}return this},copyVector3sArray:function(va){for(var _a=this.array,eo=0,to=0,ro=va.length;to<ro;to++){var no=va[to];no===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",to),no=new Vector3),_a[eo++]=no.x,_a[eo++]=no.y,_a[eo++]=no.z}return this},copyVector4sArray:function(va){for(var _a=this.array,eo=0,to=0,ro=va.length;to<ro;to++){var no=va[to];no===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",to),no=new Vector4),_a[eo++]=no.x,_a[eo++]=no.y,_a[eo++]=no.z,_a[eo++]=no.w}return this},applyMatrix3:function(va){for(var _a=0,eo=this.count;_a<eo;_a++)_vector$3.x=this.getX(_a),_vector$3.y=this.getY(_a),_vector$3.z=this.getZ(_a),_vector$3.applyMatrix3(va),this.setXYZ(_a,_vector$3.x,_vector$3.y,_vector$3.z);return this},applyMatrix4:function(va){for(var _a=0,eo=this.count;_a<eo;_a++)_vector$3.x=this.getX(_a),_vector$3.y=this.getY(_a),_vector$3.z=this.getZ(_a),_vector$3.applyMatrix4(va),this.setXYZ(_a,_vector$3.x,_vector$3.y,_vector$3.z);return this},applyNormalMatrix:function(va){for(var _a=0,eo=this.count;_a<eo;_a++)_vector$3.x=this.getX(_a),_vector$3.y=this.getY(_a),_vector$3.z=this.getZ(_a),_vector$3.applyNormalMatrix(va),this.setXYZ(_a,_vector$3.x,_vector$3.y,_vector$3.z);return this},transformDirection:function(va){for(var _a=0,eo=this.count;_a<eo;_a++)_vector$3.x=this.getX(_a),_vector$3.y=this.getY(_a),_vector$3.z=this.getZ(_a),_vector$3.transformDirection(va),this.setXYZ(_a,_vector$3.x,_vector$3.y,_vector$3.z);return this},set:function(va,_a){return _a===void 0&&(_a=0),this.array.set(va,_a),this},getX:function(va){return this.array[va*this.itemSize]},setX:function(va,_a){return this.array[va*this.itemSize]=_a,this},getY:function(va){return this.array[va*this.itemSize+1]},setY:function(va,_a){return this.array[va*this.itemSize+1]=_a,this},getZ:function(va){return this.array[va*this.itemSize+2]},setZ:function(va,_a){return this.array[va*this.itemSize+2]=_a,this},getW:function(va){return this.array[va*this.itemSize+3]},setW:function(va,_a){return this.array[va*this.itemSize+3]=_a,this},setXY:function(va,_a,eo){return va*=this.itemSize,this.array[va+0]=_a,this.array[va+1]=eo,this},setXYZ:function(va,_a,eo,to){return va*=this.itemSize,this.array[va+0]=_a,this.array[va+1]=eo,this.array[va+2]=to,this},setXYZW:function(va,_a,eo,to,ro){return va*=this.itemSize,this.array[va+0]=_a,this.array[va+1]=eo,this.array[va+2]=to,this.array[va+3]=ro,this},onUpload:function(va){return this.onUploadCallback=va,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Int8BufferAttribute(va,_a,eo){BufferAttribute.call(this,new Int8Array(va),_a,eo)}Int8BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Int8BufferAttribute.prototype.constructor=Int8BufferAttribute;function Uint8BufferAttribute(va,_a,eo){BufferAttribute.call(this,new Uint8Array(va),_a,eo)}Uint8BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Uint8BufferAttribute.prototype.constructor=Uint8BufferAttribute;function Uint8ClampedBufferAttribute(va,_a,eo){BufferAttribute.call(this,new Uint8ClampedArray(va),_a,eo)}Uint8ClampedBufferAttribute.prototype=Object.create(BufferAttribute.prototype);Uint8ClampedBufferAttribute.prototype.constructor=Uint8ClampedBufferAttribute;function Int16BufferAttribute(va,_a,eo){BufferAttribute.call(this,new Int16Array(va),_a,eo)}Int16BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Int16BufferAttribute.prototype.constructor=Int16BufferAttribute;function Uint16BufferAttribute(va,_a,eo){BufferAttribute.call(this,new Uint16Array(va),_a,eo)}Uint16BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Uint16BufferAttribute.prototype.constructor=Uint16BufferAttribute;function Int32BufferAttribute(va,_a,eo){BufferAttribute.call(this,new Int32Array(va),_a,eo)}Int32BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Int32BufferAttribute.prototype.constructor=Int32BufferAttribute;function Uint32BufferAttribute(va,_a,eo){BufferAttribute.call(this,new Uint32Array(va),_a,eo)}Uint32BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Uint32BufferAttribute.prototype.constructor=Uint32BufferAttribute;function Float32BufferAttribute(va,_a,eo){BufferAttribute.call(this,new Float32Array(va),_a,eo)}Float32BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Float32BufferAttribute.prototype.constructor=Float32BufferAttribute;function Float64BufferAttribute(va,_a,eo){BufferAttribute.call(this,new Float64Array(va),_a,eo)}Float64BufferAttribute.prototype=Object.create(BufferAttribute.prototype);Float64BufferAttribute.prototype.constructor=Float64BufferAttribute;function DirectGeometry(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(DirectGeometry.prototype,{computeGroups:function(va){for(var _a,eo=[],to=void 0,ro=va.faces,no=0;no<ro.length;no++){var io=ro[no];io.materialIndex!==to&&(to=io.materialIndex,_a!==void 0&&(_a.count=no*3-_a.start,eo.push(_a)),_a={start:no*3,materialIndex:to})}_a!==void 0&&(_a.count=no*3-_a.start,eo.push(_a)),this.groups=eo},fromGeometry:function(va){var _a=va.faces,eo=va.vertices,to=va.faceVertexUvs,ro=to[0]&&to[0].length>0,no=to[1]&&to[1].length>0,io=va.morphTargets,ao=io.length,oo;if(ao>0){oo=[];for(var so=0;so<ao;so++)oo[so]={name:io[so].name,data:[]};this.morphTargets.position=oo}var uo=va.morphNormals,co=uo.length,fo;if(co>0){fo=[];for(var so=0;so<co;so++)fo[so]={name:uo[so].name,data:[]};this.morphTargets.normal=fo}var po=va.skinIndices,vo=va.skinWeights,go=po.length===eo.length,mo=vo.length===eo.length;eo.length>0&&_a.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var so=0;so<_a.length;so++){var lo=_a[so];this.vertices.push(eo[lo.a],eo[lo.b],eo[lo.c]);var ho=lo.vertexNormals;if(ho.length===3)this.normals.push(ho[0],ho[1],ho[2]);else{var yo=lo.normal;this.normals.push(yo,yo,yo)}var Ao=lo.vertexColors;if(Ao.length===3)this.colors.push(Ao[0],Ao[1],Ao[2]);else{var Eo=lo.color;this.colors.push(Eo,Eo,Eo)}if(ro===!0){var To=to[0][so];To!==void 0?this.uvs.push(To[0],To[1],To[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",so),this.uvs.push(new Vector2,new Vector2,new Vector2))}if(no===!0){var To=to[1][so];To!==void 0?this.uvs2.push(To[0],To[1],To[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",so),this.uvs2.push(new Vector2,new Vector2,new Vector2))}for(var No=0;No<ao;No++){var Co=io[No].vertices;oo[No].data.push(Co[lo.a],Co[lo.b],Co[lo.c])}for(var No=0;No<co;No++){var Io=uo[No].vertexNormals[so];fo[No].data.push(Io.a,Io.b,Io.c)}go&&this.skinIndices.push(po[lo.a],po[lo.b],po[lo.c]),mo&&this.skinWeights.push(vo[lo.a],vo[lo.b],vo[lo.c])}return this.computeGroups(va),this.verticesNeedUpdate=va.verticesNeedUpdate,this.normalsNeedUpdate=va.normalsNeedUpdate,this.colorsNeedUpdate=va.colorsNeedUpdate,this.uvsNeedUpdate=va.uvsNeedUpdate,this.groupsNeedUpdate=va.groupsNeedUpdate,va.boundingSphere!==null&&(this.boundingSphere=va.boundingSphere.clone()),va.boundingBox!==null&&(this.boundingBox=va.boundingBox.clone()),this}});function arrayMax(va){if(va.length===0)return-1/0;let _a=va[0];for(let eo=1,to=va.length;eo<to;++eo)va[eo]>_a&&(_a=va[eo]);return _a}var _bufferGeometryId=1,_m1$2=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$4=new Vector3;function BufferGeometry(){Object.defineProperty(this,"id",{value:_bufferGeometryId+=2}),this.uuid=MathUtils.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}BufferGeometry.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:BufferGeometry,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(va){Array.isArray(va)?this.index=new(arrayMax(va)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(va,1):this.index=va},getAttribute:function(va){return this.attributes[va]},setAttribute:function(va,_a){return this.attributes[va]=_a,this},deleteAttribute:function(va){return delete this.attributes[va],this},addGroup:function(va,_a,eo){this.groups.push({start:va,count:_a,materialIndex:eo!==void 0?eo:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(va,_a){this.drawRange.start=va,this.drawRange.count=_a},applyMatrix4:function(va){var _a=this.attributes.position;_a!==void 0&&(_a.applyMatrix4(va),_a.needsUpdate=!0);var eo=this.attributes.normal;if(eo!==void 0){var to=new Matrix3().getNormalMatrix(va);eo.applyNormalMatrix(to),eo.needsUpdate=!0}var ro=this.attributes.tangent;return ro!==void 0&&(ro.transformDirection(va),ro.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(va){return _m1$2.makeRotationX(va),this.applyMatrix4(_m1$2),this},rotateY:function(va){return _m1$2.makeRotationY(va),this.applyMatrix4(_m1$2),this},rotateZ:function(va){return _m1$2.makeRotationZ(va),this.applyMatrix4(_m1$2),this},translate:function(va,_a,eo){return _m1$2.makeTranslation(va,_a,eo),this.applyMatrix4(_m1$2),this},scale:function(va,_a,eo){return _m1$2.makeScale(va,_a,eo),this.applyMatrix4(_m1$2),this},lookAt:function(va){return _obj.lookAt(va),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this},setFromObject:function(va){var _a=va.geometry;if(va.isPoints||va.isLine){var eo=new Float32BufferAttribute(_a.vertices.length*3,3),to=new Float32BufferAttribute(_a.colors.length*3,3);if(this.setAttribute("position",eo.copyVector3sArray(_a.vertices)),this.setAttribute("color",to.copyColorsArray(_a.colors)),_a.lineDistances&&_a.lineDistances.length===_a.vertices.length){var ro=new Float32BufferAttribute(_a.lineDistances.length,1);this.setAttribute("lineDistance",ro.copyArray(_a.lineDistances))}_a.boundingSphere!==null&&(this.boundingSphere=_a.boundingSphere.clone()),_a.boundingBox!==null&&(this.boundingBox=_a.boundingBox.clone())}else va.isMesh&&_a&&_a.isGeometry&&this.fromGeometry(_a);return this},setFromPoints:function(va){for(var _a=[],eo=0,to=va.length;eo<to;eo++){var ro=va[eo];_a.push(ro.x,ro.y,ro.z||0)}return this.setAttribute("position",new Float32BufferAttribute(_a,3)),this},updateFromObject:function(va){var _a=va.geometry;if(va.isMesh){var eo=_a.__directGeometry;if(_a.elementsNeedUpdate===!0&&(eo=void 0,_a.elementsNeedUpdate=!1),eo===void 0)return this.fromGeometry(_a);eo.verticesNeedUpdate=_a.verticesNeedUpdate,eo.normalsNeedUpdate=_a.normalsNeedUpdate,eo.colorsNeedUpdate=_a.colorsNeedUpdate,eo.uvsNeedUpdate=_a.uvsNeedUpdate,eo.groupsNeedUpdate=_a.groupsNeedUpdate,_a.verticesNeedUpdate=!1,_a.normalsNeedUpdate=!1,_a.colorsNeedUpdate=!1,_a.uvsNeedUpdate=!1,_a.groupsNeedUpdate=!1,_a=eo}var to;return _a.verticesNeedUpdate===!0&&(to=this.attributes.position,to!==void 0&&(to.copyVector3sArray(_a.vertices),to.needsUpdate=!0),_a.verticesNeedUpdate=!1),_a.normalsNeedUpdate===!0&&(to=this.attributes.normal,to!==void 0&&(to.copyVector3sArray(_a.normals),to.needsUpdate=!0),_a.normalsNeedUpdate=!1),_a.colorsNeedUpdate===!0&&(to=this.attributes.color,to!==void 0&&(to.copyColorsArray(_a.colors),to.needsUpdate=!0),_a.colorsNeedUpdate=!1),_a.uvsNeedUpdate&&(to=this.attributes.uv,to!==void 0&&(to.copyVector2sArray(_a.uvs),to.needsUpdate=!0),_a.uvsNeedUpdate=!1),_a.lineDistancesNeedUpdate&&(to=this.attributes.lineDistance,to!==void 0&&(to.copyArray(_a.lineDistances),to.needsUpdate=!0),_a.lineDistancesNeedUpdate=!1),_a.groupsNeedUpdate&&(_a.computeGroups(va.geometry),this.groups=_a.groups,_a.groupsNeedUpdate=!1),this},fromGeometry:function(va){return va.__directGeometry=new DirectGeometry().fromGeometry(va),this.fromDirectGeometry(va.__directGeometry)},fromDirectGeometry:function(va){var _a=new Float32Array(va.vertices.length*3);if(this.setAttribute("position",new BufferAttribute(_a,3).copyVector3sArray(va.vertices)),va.normals.length>0){var eo=new Float32Array(va.normals.length*3);this.setAttribute("normal",new BufferAttribute(eo,3).copyVector3sArray(va.normals))}if(va.colors.length>0){var to=new Float32Array(va.colors.length*3);this.setAttribute("color",new BufferAttribute(to,3).copyColorsArray(va.colors))}if(va.uvs.length>0){var ro=new Float32Array(va.uvs.length*2);this.setAttribute("uv",new BufferAttribute(ro,2).copyVector2sArray(va.uvs))}if(va.uvs2.length>0){var no=new Float32Array(va.uvs2.length*2);this.setAttribute("uv2",new BufferAttribute(no,2).copyVector2sArray(va.uvs2))}this.groups=va.groups;for(var io in va.morphTargets){for(var ao=[],oo=va.morphTargets[io],so=0,uo=oo.length;so<uo;so++){var co=oo[so],fo=new Float32BufferAttribute(co.data.length*3,3);fo.name=co.name,ao.push(fo.copyVector3sArray(co.data))}this.morphAttributes[io]=ao}if(va.skinIndices.length>0){var po=new Float32BufferAttribute(va.skinIndices.length*4,4);this.setAttribute("skinIndex",po.copyVector4sArray(va.skinIndices))}if(va.skinWeights.length>0){var vo=new Float32BufferAttribute(va.skinWeights.length*4,4);this.setAttribute("skinWeight",vo.copyVector4sArray(va.skinWeights))}return va.boundingSphere!==null&&(this.boundingSphere=va.boundingSphere.clone()),va.boundingBox!==null&&(this.boundingBox=va.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Box3);var va=this.attributes.position,_a=this.morphAttributes.position;if(va!==void 0){if(this.boundingBox.setFromBufferAttribute(va),_a)for(var eo=0,to=_a.length;eo<to;eo++){var ro=_a[eo];_box$2.setFromBufferAttribute(ro),this.morphTargetsRelative?(_vector$4.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$4),_vector$4.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$4)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);var va=this.attributes.position,_a=this.morphAttributes.position;if(va){var eo=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(va),_a)for(var to=0,ro=_a.length;to<ro;to++){var no=_a[to];_boxMorphTargets.setFromBufferAttribute(no),this.morphTargetsRelative?(_vector$4.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$4),_vector$4.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$4)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(eo);for(var io=0,to=0,ro=va.count;to<ro;to++)_vector$4.fromBufferAttribute(va,to),io=Math.max(io,eo.distanceToSquared(_vector$4));if(_a)for(var to=0,ro=_a.length;to<ro;to++)for(var no=_a[to],ao=this.morphTargetsRelative,oo=0,so=no.count;oo<so;oo++)_vector$4.fromBufferAttribute(no,oo),ao&&(_offset.fromBufferAttribute(va,oo),_vector$4.add(_offset)),io=Math.max(io,eo.distanceToSquared(_vector$4));this.boundingSphere.radius=Math.sqrt(io),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var va=this.index,_a=this.attributes;if(_a.position){var eo=_a.position.array;if(_a.normal===void 0)this.setAttribute("normal",new BufferAttribute(new Float32Array(eo.length),3));else for(var to=_a.normal.array,ro=0,no=to.length;ro<no;ro++)to[ro]=0;var io=_a.normal.array,ao,oo,so,uo=new Vector3,co=new Vector3,fo=new Vector3,po=new Vector3,vo=new Vector3;if(va)for(var go=va.array,ro=0,no=va.count;ro<no;ro+=3)ao=go[ro+0]*3,oo=go[ro+1]*3,so=go[ro+2]*3,uo.fromArray(eo,ao),co.fromArray(eo,oo),fo.fromArray(eo,so),po.subVectors(fo,co),vo.subVectors(uo,co),po.cross(vo),io[ao]+=po.x,io[ao+1]+=po.y,io[ao+2]+=po.z,io[oo]+=po.x,io[oo+1]+=po.y,io[oo+2]+=po.z,io[so]+=po.x,io[so+1]+=po.y,io[so+2]+=po.z;else for(var ro=0,no=eo.length;ro<no;ro+=9)uo.fromArray(eo,ro),co.fromArray(eo,ro+3),fo.fromArray(eo,ro+6),po.subVectors(fo,co),vo.subVectors(uo,co),po.cross(vo),io[ro]=po.x,io[ro+1]=po.y,io[ro+2]=po.z,io[ro+3]=po.x,io[ro+4]=po.y,io[ro+5]=po.z,io[ro+6]=po.x,io[ro+7]=po.y,io[ro+8]=po.z;this.normalizeNormals(),_a.normal.needsUpdate=!0}},merge:function(va,_a){if(!(va&&va.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",va);return}_a===void 0&&(_a=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var eo=this.attributes;for(var to in eo)if(va.attributes[to]!==void 0)for(var ro=eo[to],no=ro.array,io=va.attributes[to],ao=io.array,oo=io.itemSize*_a,so=Math.min(ao.length,no.length-oo),uo=0,co=oo;uo<so;uo++,co++)no[co]=ao[uo];return this},normalizeNormals:function(){for(var va=this.attributes.normal,_a=0,eo=va.count;_a<eo;_a++)_vector$4.x=va.getX(_a),_vector$4.y=va.getY(_a),_vector$4.z=va.getZ(_a),_vector$4.normalize(),va.setXYZ(_a,_vector$4.x,_vector$4.y,_vector$4.z)},toNonIndexed:function(){function va(go,mo){for(var lo=go.array,ho=go.itemSize,yo=go.normalized,Ao=new lo.constructor(mo.length*ho),Eo=0,To=0,No=0,Co=mo.length;No<Co;No++){Eo=mo[No]*ho;for(var Io=0;Io<ho;Io++)Ao[To++]=lo[Eo++]}return new BufferAttribute(Ao,ho,yo)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var _a=new BufferGeometry,eo=this.index.array,to=this.attributes;for(var ro in to){var no=to[ro],io=va(no,eo);_a.setAttribute(ro,io)}var ao=this.morphAttributes;for(ro in ao){for(var oo=[],so=ao[ro],uo=0,co=so.length;uo<co;uo++){var no=so[uo],io=va(no,eo);oo.push(io)}_a.morphAttributes[ro]=oo}_a.morphTargetsRelative=this.morphTargetsRelative;for(var fo=this.groups,uo=0,po=fo.length;uo<po;uo++){var vo=fo[uo];_a.addGroup(vo.start,vo.count,vo.materialIndex)}return _a},toJSON:function(){var va={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(va.uuid=this.uuid,va.type=this.type,this.name!==""&&(va.name=this.name),Object.keys(this.userData).length>0&&(va.userData=this.userData),this.parameters!==void 0){var _a=this.parameters;for(var eo in _a)_a[eo]!==void 0&&(va[eo]=_a[eo]);return va}va.data={attributes:{}};var to=this.index;to!==null&&(va.data.index={type:to.array.constructor.name,array:Array.prototype.slice.call(to.array)});var ro=this.attributes;for(var eo in ro){var no=ro[eo],io=no.toJSON();no.name!==""&&(io.name=no.name),va.data.attributes[eo]=io}var ao={},oo=!1;for(var eo in this.morphAttributes){for(var so=this.morphAttributes[eo],uo=[],co=0,fo=so.length;co<fo;co++){var no=so[co],io=no.toJSON();no.name!==""&&(io.name=no.name),uo.push(io)}uo.length>0&&(ao[eo]=uo,oo=!0)}oo&&(va.data.morphAttributes=ao,va.data.morphTargetsRelative=this.morphTargetsRelative);var po=this.groups;po.length>0&&(va.data.groups=JSON.parse(JSON.stringify(po)));var vo=this.boundingSphere;return vo!==null&&(va.data.boundingSphere={center:vo.center.toArray(),radius:vo.radius}),va},clone:function(){return new BufferGeometry().copy(this)},copy:function(va){var _a,eo,to;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=va.name;var ro=va.index;ro!==null&&this.setIndex(ro.clone());var no=va.attributes;for(_a in no){var io=no[_a];this.setAttribute(_a,io.clone())}var ao=va.morphAttributes;for(_a in ao){var oo=[],so=ao[_a];for(eo=0,to=so.length;eo<to;eo++)oo.push(so[eo].clone());this.morphAttributes[_a]=oo}this.morphTargetsRelative=va.morphTargetsRelative;var uo=va.groups;for(eo=0,to=uo.length;eo<to;eo++){var co=uo[eo];this.addGroup(co.start,co.count,co.materialIndex)}var fo=va.boundingBox;fo!==null&&(this.boundingBox=fo.clone());var po=va.boundingSphere;return po!==null&&(this.boundingSphere=po.clone()),this.drawRange.start=va.drawRange.start,this.drawRange.count=va.drawRange.count,this.userData=va.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_tempA=new Vector3,_tempB=new Vector3,_tempC=new Vector3,_morphA=new Vector3,_morphB=new Vector3,_morphC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;function Mesh(va,_a){Object3D.call(this),this.type="Mesh",this.geometry=va!==void 0?va:new BufferGeometry,this.material=_a!==void 0?_a:new MeshBasicMaterial,this.updateMorphTargets()}Mesh.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Mesh,isMesh:!0,copy:function(va){return Object3D.prototype.copy.call(this,va),va.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=va.morphTargetInfluences.slice()),va.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},va.morphTargetDictionary)),this},updateMorphTargets:function(){var va=this.geometry,_a,eo,to;if(va.isBufferGeometry){var ro=va.morphAttributes,no=Object.keys(ro);if(no.length>0){var io=ro[no[0]];if(io!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},_a=0,eo=io.length;_a<eo;_a++)to=io[_a].name||String(_a),this.morphTargetInfluences.push(0),this.morphTargetDictionary[to]=_a}}else{var ao=va.morphTargets;ao!==void 0&&ao.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(va,_a){var eo=this.geometry,to=this.material,ro=this.matrixWorld;if(to!==void 0&&(eo.boundingSphere===null&&eo.computeBoundingSphere(),_sphere.copy(eo.boundingSphere),_sphere.applyMatrix4(ro),va.ray.intersectsSphere(_sphere)!==!1&&(_inverseMatrix.getInverse(ro),_ray.copy(va.ray).applyMatrix4(_inverseMatrix),!(eo.boundingBox!==null&&_ray.intersectsBox(eo.boundingBox)===!1)))){var no;if(eo.isBufferGeometry){var io,ao,oo,so=eo.index,uo=eo.attributes.position,co=eo.morphAttributes.position,fo=eo.morphTargetsRelative,po=eo.attributes.uv,vo=eo.attributes.uv2,go=eo.groups,mo=eo.drawRange,lo,ho,yo,Ao,Eo,To,No,Co;if(so!==null)if(Array.isArray(to))for(lo=0,yo=go.length;lo<yo;lo++)for(Eo=go[lo],To=to[Eo.materialIndex],No=Math.max(Eo.start,mo.start),Co=Math.min(Eo.start+Eo.count,mo.start+mo.count),ho=No,Ao=Co;ho<Ao;ho+=3)io=so.getX(ho),ao=so.getX(ho+1),oo=so.getX(ho+2),no=checkBufferGeometryIntersection(this,To,va,_ray,uo,co,fo,po,vo,io,ao,oo),no&&(no.faceIndex=Math.floor(ho/3),no.face.materialIndex=Eo.materialIndex,_a.push(no));else for(No=Math.max(0,mo.start),Co=Math.min(so.count,mo.start+mo.count),lo=No,yo=Co;lo<yo;lo+=3)io=so.getX(lo),ao=so.getX(lo+1),oo=so.getX(lo+2),no=checkBufferGeometryIntersection(this,to,va,_ray,uo,co,fo,po,vo,io,ao,oo),no&&(no.faceIndex=Math.floor(lo/3),_a.push(no));else if(uo!==void 0)if(Array.isArray(to))for(lo=0,yo=go.length;lo<yo;lo++)for(Eo=go[lo],To=to[Eo.materialIndex],No=Math.max(Eo.start,mo.start),Co=Math.min(Eo.start+Eo.count,mo.start+mo.count),ho=No,Ao=Co;ho<Ao;ho+=3)io=ho,ao=ho+1,oo=ho+2,no=checkBufferGeometryIntersection(this,To,va,_ray,uo,co,fo,po,vo,io,ao,oo),no&&(no.faceIndex=Math.floor(ho/3),no.face.materialIndex=Eo.materialIndex,_a.push(no));else for(No=Math.max(0,mo.start),Co=Math.min(uo.count,mo.start+mo.count),lo=No,yo=Co;lo<yo;lo+=3)io=lo,ao=lo+1,oo=lo+2,no=checkBufferGeometryIntersection(this,to,va,_ray,uo,co,fo,po,vo,io,ao,oo),no&&(no.faceIndex=Math.floor(lo/3),_a.push(no))}else if(eo.isGeometry){var Io,Mo,wo,xo=Array.isArray(to),bo=eo.vertices,So=eo.faces,Do,Oo=eo.faceVertexUvs[0];Oo.length>0&&(Do=Oo);for(var Bo=0,$o=So.length;Bo<$o;Bo++){var Vo=So[Bo],Ho=xo?to[Vo.materialIndex]:to;if(Ho!==void 0&&(Io=bo[Vo.a],Mo=bo[Vo.b],wo=bo[Vo.c],no=checkIntersection(this,Ho,va,_ray,Io,Mo,wo,_intersectionPoint),no)){if(Do&&Do[Bo]){var Fo=Do[Bo];_uvA.copy(Fo[0]),_uvB.copy(Fo[1]),_uvC.copy(Fo[2]),no.uv=Triangle.getUV(_intersectionPoint,Io,Mo,wo,_uvA,_uvB,_uvC,new Vector2)}no.face=Vo,no.faceIndex=Bo,_a.push(no)}}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function checkIntersection(va,_a,eo,to,ro,no,io,ao){var oo;if(_a.side===BackSide?oo=to.intersectTriangle(io,no,ro,!0,ao):oo=to.intersectTriangle(ro,no,io,_a.side!==DoubleSide,ao),oo===null)return null;_intersectionPointWorld.copy(ao),_intersectionPointWorld.applyMatrix4(va.matrixWorld);var so=eo.ray.origin.distanceTo(_intersectionPointWorld);return so<eo.near||so>eo.far?null:{distance:so,point:_intersectionPointWorld.clone(),object:va}}function checkBufferGeometryIntersection(va,_a,eo,to,ro,no,io,ao,oo,so,uo,co){_vA.fromBufferAttribute(ro,so),_vB.fromBufferAttribute(ro,uo),_vC.fromBufferAttribute(ro,co);var fo=va.morphTargetInfluences;if(_a.morphTargets&&no&&fo){_morphA.set(0,0,0),_morphB.set(0,0,0),_morphC.set(0,0,0);for(var po=0,vo=no.length;po<vo;po++){var go=fo[po],mo=no[po];go!==0&&(_tempA.fromBufferAttribute(mo,so),_tempB.fromBufferAttribute(mo,uo),_tempC.fromBufferAttribute(mo,co),io?(_morphA.addScaledVector(_tempA,go),_morphB.addScaledVector(_tempB,go),_morphC.addScaledVector(_tempC,go)):(_morphA.addScaledVector(_tempA.sub(_vA),go),_morphB.addScaledVector(_tempB.sub(_vB),go),_morphC.addScaledVector(_tempC.sub(_vC),go)))}_vA.add(_morphA),_vB.add(_morphB),_vC.add(_morphC)}va.isSkinnedMesh&&(va.boneTransform(so,_vA),va.boneTransform(uo,_vB),va.boneTransform(co,_vC));var lo=checkIntersection(va,_a,eo,to,_vA,_vB,_vC,_intersectionPoint);if(lo){ao&&(_uvA.fromBufferAttribute(ao,so),_uvB.fromBufferAttribute(ao,uo),_uvC.fromBufferAttribute(ao,co),lo.uv=Triangle.getUV(_intersectionPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2)),oo&&(_uvA.fromBufferAttribute(oo,so),_uvB.fromBufferAttribute(oo,uo),_uvC.fromBufferAttribute(oo,co),lo.uv2=Triangle.getUV(_intersectionPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2));var ho=new Face3(so,uo,co);Triangle.getNormal(_vA,_vB,_vC,ho.normal),lo.face=ho}return lo}var _geometryId=0,_m1$3=new Matrix4,_obj$1=new Object3D,_offset$1=new Vector3;function Geometry(){Object.defineProperty(this,"id",{value:_geometryId+=2}),this.uuid=MathUtils.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Geometry.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Geometry,isGeometry:!0,applyMatrix4:function(va){for(var _a=new Matrix3().getNormalMatrix(va),eo=0,to=this.vertices.length;eo<to;eo++){var ro=this.vertices[eo];ro.applyMatrix4(va)}for(var eo=0,to=this.faces.length;eo<to;eo++){var no=this.faces[eo];no.normal.applyMatrix3(_a).normalize();for(var io=0,ao=no.vertexNormals.length;io<ao;io++)no.vertexNormals[io].applyMatrix3(_a).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(va){return _m1$3.makeRotationX(va),this.applyMatrix4(_m1$3),this},rotateY:function(va){return _m1$3.makeRotationY(va),this.applyMatrix4(_m1$3),this},rotateZ:function(va){return _m1$3.makeRotationZ(va),this.applyMatrix4(_m1$3),this},translate:function(va,_a,eo){return _m1$3.makeTranslation(va,_a,eo),this.applyMatrix4(_m1$3),this},scale:function(va,_a,eo){return _m1$3.makeScale(va,_a,eo),this.applyMatrix4(_m1$3),this},lookAt:function(va){return _obj$1.lookAt(va),_obj$1.updateMatrix(),this.applyMatrix4(_obj$1.matrix),this},fromBufferGeometry:function(va){var _a=this,eo=va.index!==null?va.index.array:void 0,to=va.attributes;if(to.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var ro=to.position.array,no=to.normal!==void 0?to.normal.array:void 0,io=to.color!==void 0?to.color.array:void 0,ao=to.uv!==void 0?to.uv.array:void 0,oo=to.uv2!==void 0?to.uv2.array:void 0;oo!==void 0&&(this.faceVertexUvs[1]=[]);for(var so=0;so<ro.length;so+=3)_a.vertices.push(new Vector3().fromArray(ro,so)),io!==void 0&&_a.colors.push(new Color().fromArray(io,so));function uo(lo,ho,yo,Ao){var Eo=io===void 0?[]:[_a.colors[lo].clone(),_a.colors[ho].clone(),_a.colors[yo].clone()],To=no===void 0?[]:[new Vector3().fromArray(no,lo*3),new Vector3().fromArray(no,ho*3),new Vector3().fromArray(no,yo*3)],No=new Face3(lo,ho,yo,To,Eo,Ao);_a.faces.push(No),ao!==void 0&&_a.faceVertexUvs[0].push([new Vector2().fromArray(ao,lo*2),new Vector2().fromArray(ao,ho*2),new Vector2().fromArray(ao,yo*2)]),oo!==void 0&&_a.faceVertexUvs[1].push([new Vector2().fromArray(oo,lo*2),new Vector2().fromArray(oo,ho*2),new Vector2().fromArray(oo,yo*2)])}var co=va.groups;if(co.length>0)for(var so=0;so<co.length;so++)for(var fo=co[so],po=fo.start,vo=fo.count,go=po,mo=po+vo;go<mo;go+=3)eo!==void 0?uo(eo[go],eo[go+1],eo[go+2],fo.materialIndex):uo(go,go+1,go+2,fo.materialIndex);else if(eo!==void 0)for(var so=0;so<eo.length;so+=3)uo(eo[so],eo[so+1],eo[so+2]);else for(var so=0;so<ro.length/3;so+=3)uo(so,so+1,so+2);return this.computeFaceNormals(),va.boundingBox!==null&&(this.boundingBox=va.boundingBox.clone()),va.boundingSphere!==null&&(this.boundingSphere=va.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset$1).negate(),this.translate(_offset$1.x,_offset$1.y,_offset$1.z),this},normalize:function(){this.computeBoundingSphere();var va=this.boundingSphere.center,_a=this.boundingSphere.radius,eo=_a===0?1:1/_a,to=new Matrix4;return to.set(eo,0,0,-eo*va.x,0,eo,0,-eo*va.y,0,0,eo,-eo*va.z,0,0,0,1),this.applyMatrix4(to),this},computeFaceNormals:function(){for(var va=new Vector3,_a=new Vector3,eo=0,to=this.faces.length;eo<to;eo++){var ro=this.faces[eo],no=this.vertices[ro.a],io=this.vertices[ro.b],ao=this.vertices[ro.c];va.subVectors(ao,io),_a.subVectors(no,io),va.cross(_a),va.normalize(),ro.normal.copy(va)}},computeVertexNormals:function(va){va===void 0&&(va=!0);var _a,eo,to,ro,no,io;for(io=new Array(this.vertices.length),_a=0,eo=this.vertices.length;_a<eo;_a++)io[_a]=new Vector3;if(va){var ao,oo,so,uo=new Vector3,co=new Vector3;for(to=0,ro=this.faces.length;to<ro;to++)no=this.faces[to],ao=this.vertices[no.a],oo=this.vertices[no.b],so=this.vertices[no.c],uo.subVectors(so,oo),co.subVectors(ao,oo),uo.cross(co),io[no.a].add(uo),io[no.b].add(uo),io[no.c].add(uo)}else for(this.computeFaceNormals(),to=0,ro=this.faces.length;to<ro;to++)no=this.faces[to],io[no.a].add(no.normal),io[no.b].add(no.normal),io[no.c].add(no.normal);for(_a=0,eo=this.vertices.length;_a<eo;_a++)io[_a].normalize();for(to=0,ro=this.faces.length;to<ro;to++){no=this.faces[to];var fo=no.vertexNormals;fo.length===3?(fo[0].copy(io[no.a]),fo[1].copy(io[no.b]),fo[2].copy(io[no.c])):(fo[0]=io[no.a].clone(),fo[1]=io[no.b].clone(),fo[2]=io[no.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var va,_a,eo;for(this.computeFaceNormals(),va=0,_a=this.faces.length;va<_a;va++){eo=this.faces[va];var to=eo.vertexNormals;to.length===3?(to[0].copy(eo.normal),to[1].copy(eo.normal),to[2].copy(eo.normal)):(to[0]=eo.normal.clone(),to[1]=eo.normal.clone(),to[2]=eo.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var va,_a,eo,to,ro;for(eo=0,to=this.faces.length;eo<to;eo++)for(ro=this.faces[eo],ro.__originalFaceNormal?ro.__originalFaceNormal.copy(ro.normal):ro.__originalFaceNormal=ro.normal.clone(),ro.__originalVertexNormals||(ro.__originalVertexNormals=[]),va=0,_a=ro.vertexNormals.length;va<_a;va++)ro.__originalVertexNormals[va]?ro.__originalVertexNormals[va].copy(ro.vertexNormals[va]):ro.__originalVertexNormals[va]=ro.vertexNormals[va].clone();var no=new Geometry;for(no.faces=this.faces,va=0,_a=this.morphTargets.length;va<_a;va++){if(!this.morphNormals[va]){this.morphNormals[va]={},this.morphNormals[va].faceNormals=[],this.morphNormals[va].vertexNormals=[];var io=this.morphNormals[va].faceNormals,ao=this.morphNormals[va].vertexNormals,so,uo;for(eo=0,to=this.faces.length;eo<to;eo++)so=new Vector3,uo={a:new Vector3,b:new Vector3,c:new Vector3},io.push(so),ao.push(uo)}var oo=this.morphNormals[va];no.vertices=this.morphTargets[va].vertices,no.computeFaceNormals(),no.computeVertexNormals();var so,uo;for(eo=0,to=this.faces.length;eo<to;eo++)ro=this.faces[eo],so=oo.faceNormals[eo],uo=oo.vertexNormals[eo],so.copy(ro.normal),uo.a.copy(ro.vertexNormals[0]),uo.b.copy(ro.vertexNormals[1]),uo.c.copy(ro.vertexNormals[2])}for(eo=0,to=this.faces.length;eo<to;eo++)ro=this.faces[eo],ro.normal=ro.__originalFaceNormal,ro.vertexNormals=ro.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(va,_a,eo){if(!(va&&va.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",va);return}var to,ro=this.vertices.length,no=this.vertices,io=va.vertices,ao=this.faces,oo=va.faces,so=this.colors,uo=va.colors;eo===void 0&&(eo=0),_a!==void 0&&(to=new Matrix3().getNormalMatrix(_a));for(var co=0,fo=io.length;co<fo;co++){var po=io[co],vo=po.clone();_a!==void 0&&vo.applyMatrix4(_a),no.push(vo)}for(var co=0,fo=uo.length;co<fo;co++)so.push(uo[co].clone());for(co=0,fo=oo.length;co<fo;co++){var go=oo[co],mo,lo,ho,yo=go.vertexNormals,Ao=go.vertexColors;mo=new Face3(go.a+ro,go.b+ro,go.c+ro),mo.normal.copy(go.normal),to!==void 0&&mo.normal.applyMatrix3(to).normalize();for(var Eo=0,To=yo.length;Eo<To;Eo++)lo=yo[Eo].clone(),to!==void 0&&lo.applyMatrix3(to).normalize(),mo.vertexNormals.push(lo);mo.color.copy(go.color);for(var Eo=0,To=Ao.length;Eo<To;Eo++)ho=Ao[Eo],mo.vertexColors.push(ho.clone());mo.materialIndex=go.materialIndex+eo,ao.push(mo)}for(var co=0,fo=va.faceVertexUvs.length;co<fo;co++){var No=va.faceVertexUvs[co];this.faceVertexUvs[co]===void 0&&(this.faceVertexUvs[co]=[]);for(var Eo=0,To=No.length;Eo<To;Eo++){for(var Co=No[Eo],Io=[],Mo=0,wo=Co.length;Mo<wo;Mo++)Io.push(Co[Mo].clone());this.faceVertexUvs[co].push(Io)}}},mergeMesh:function(va){if(!(va&&va.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",va);return}va.matrixAutoUpdate&&va.updateMatrix(),this.merge(va.geometry,va.matrix)},mergeVertices:function(){var va={},_a=[],eo=[],to,ro,no=4,io=Math.pow(10,no),ao,oo,so,uo,co,fo;for(ao=0,oo=this.vertices.length;ao<oo;ao++)to=this.vertices[ao],ro=Math.round(to.x*io)+"_"+Math.round(to.y*io)+"_"+Math.round(to.z*io),va[ro]===void 0?(va[ro]=ao,_a.push(this.vertices[ao]),eo[ao]=_a.length-1):eo[ao]=eo[va[ro]];var po=[];for(ao=0,oo=this.faces.length;ao<oo;ao++){so=this.faces[ao],so.a=eo[so.a],so.b=eo[so.b],so.c=eo[so.c],uo=[so.a,so.b,so.c];for(var vo=0;vo<3;vo++)if(uo[vo]===uo[(vo+1)%3]){po.push(ao);break}}for(ao=po.length-1;ao>=0;ao--){var go=po[ao];for(this.faces.splice(go,1),co=0,fo=this.faceVertexUvs.length;co<fo;co++)this.faceVertexUvs[co].splice(go,1)}var mo=this.vertices.length-_a.length;return this.vertices=_a,mo},setFromPoints:function(va){this.vertices=[];for(var _a=0,eo=va.length;_a<eo;_a++){var to=va[_a];this.vertices.push(new Vector3(to.x,to.y,to.z||0))}return this},sortFacesByMaterialIndex:function(){for(var va=this.faces,_a=va.length,eo=0;eo<_a;eo++)va[eo]._id=eo;function to(so,uo){return so.materialIndex-uo.materialIndex}va.sort(to);var ro=this.faceVertexUvs[0],no=this.faceVertexUvs[1],io,ao;ro&&ro.length===_a&&(io=[]),no&&no.length===_a&&(ao=[]);for(var eo=0;eo<_a;eo++){var oo=va[eo]._id;io&&io.push(ro[oo]),ao&&ao.push(no[oo])}io&&(this.faceVertexUvs[0]=io),ao&&(this.faceVertexUvs[1]=ao)},toJSON:function(){var va={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(va.uuid=this.uuid,va.type=this.type,this.name!==""&&(va.name=this.name),this.parameters!==void 0){var _a=this.parameters;for(var eo in _a)_a[eo]!==void 0&&(va[eo]=_a[eo]);return va}for(var to=[],ro=0;ro<this.vertices.length;ro++){var no=this.vertices[ro];to.push(no.x,no.y,no.z)}for(var io=[],ao=[],oo={},so=[],uo={},co=[],fo={},ro=0;ro<this.faces.length;ro++){var po=this.faces[ro],vo=!0,go=!1,mo=this.faceVertexUvs[0][ro]!==void 0,lo=po.normal.length()>0,ho=po.vertexNormals.length>0,yo=po.color.r!==1||po.color.g!==1||po.color.b!==1,Ao=po.vertexColors.length>0,Eo=0;if(Eo=Io(Eo,0,0),Eo=Io(Eo,1,vo),Eo=Io(Eo,2,go),Eo=Io(Eo,3,mo),Eo=Io(Eo,4,lo),Eo=Io(Eo,5,ho),Eo=Io(Eo,6,yo),Eo=Io(Eo,7,Ao),io.push(Eo),io.push(po.a,po.b,po.c),io.push(po.materialIndex),mo){var To=this.faceVertexUvs[0][ro];io.push(xo(To[0]),xo(To[1]),xo(To[2]))}if(lo&&io.push(Mo(po.normal)),ho){var No=po.vertexNormals;io.push(Mo(No[0]),Mo(No[1]),Mo(No[2]))}if(yo&&io.push(wo(po.color)),Ao){var Co=po.vertexColors;io.push(wo(Co[0]),wo(Co[1]),wo(Co[2]))}}function Io(bo,So,Do){return Do?bo|1<<So:bo&~(1<<So)}function Mo(bo){var So=bo.x.toString()+bo.y.toString()+bo.z.toString();return oo[So]!==void 0||(oo[So]=ao.length/3,ao.push(bo.x,bo.y,bo.z)),oo[So]}function wo(bo){var So=bo.r.toString()+bo.g.toString()+bo.b.toString();return uo[So]!==void 0||(uo[So]=so.length,so.push(bo.getHex())),uo[So]}function xo(bo){var So=bo.x.toString()+bo.y.toString();return fo[So]!==void 0||(fo[So]=co.length/2,co.push(bo.x,bo.y)),fo[So]}return va.data={},va.data.vertices=to,va.data.normals=ao,so.length>0&&(va.data.colors=so),co.length>0&&(va.data.uvs=[co]),va.data.faces=io,va},clone:function(){return new Geometry().copy(this)},copy:function(va){var _a,eo,to,ro,no,io;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=va.name;var ao=va.vertices;for(_a=0,eo=ao.length;_a<eo;_a++)this.vertices.push(ao[_a].clone());var oo=va.colors;for(_a=0,eo=oo.length;_a<eo;_a++)this.colors.push(oo[_a].clone());var so=va.faces;for(_a=0,eo=so.length;_a<eo;_a++)this.faces.push(so[_a].clone());for(_a=0,eo=va.faceVertexUvs.length;_a<eo;_a++){var uo=va.faceVertexUvs[_a];for(this.faceVertexUvs[_a]===void 0&&(this.faceVertexUvs[_a]=[]),to=0,ro=uo.length;to<ro;to++){var co=uo[to],fo=[];for(no=0,io=co.length;no<io;no++){var po=co[no];fo.push(po.clone())}this.faceVertexUvs[_a].push(fo)}}var vo=va.morphTargets;for(_a=0,eo=vo.length;_a<eo;_a++){var go={};if(go.name=vo[_a].name,vo[_a].vertices!==void 0)for(go.vertices=[],to=0,ro=vo[_a].vertices.length;to<ro;to++)go.vertices.push(vo[_a].vertices[to].clone());if(vo[_a].normals!==void 0)for(go.normals=[],to=0,ro=vo[_a].normals.length;to<ro;to++)go.normals.push(vo[_a].normals[to].clone());this.morphTargets.push(go)}var mo=va.morphNormals;for(_a=0,eo=mo.length;_a<eo;_a++){var lo={};if(mo[_a].vertexNormals!==void 0)for(lo.vertexNormals=[],to=0,ro=mo[_a].vertexNormals.length;to<ro;to++){var ho=mo[_a].vertexNormals[to],yo={};yo.a=ho.a.clone(),yo.b=ho.b.clone(),yo.c=ho.c.clone(),lo.vertexNormals.push(yo)}if(mo[_a].faceNormals!==void 0)for(lo.faceNormals=[],to=0,ro=mo[_a].faceNormals.length;to<ro;to++)lo.faceNormals.push(mo[_a].faceNormals[to].clone());this.morphNormals.push(lo)}var Ao=va.skinWeights;for(_a=0,eo=Ao.length;_a<eo;_a++)this.skinWeights.push(Ao[_a].clone());var Eo=va.skinIndices;for(_a=0,eo=Eo.length;_a<eo;_a++)this.skinIndices.push(Eo[_a].clone());var To=va.lineDistances;for(_a=0,eo=To.length;_a<eo;_a++)this.lineDistances.push(To[_a]);var No=va.boundingBox;No!==null&&(this.boundingBox=No.clone());var Co=va.boundingSphere;return Co!==null&&(this.boundingSphere=Co.clone()),this.elementsNeedUpdate=va.elementsNeedUpdate,this.verticesNeedUpdate=va.verticesNeedUpdate,this.uvsNeedUpdate=va.uvsNeedUpdate,this.normalsNeedUpdate=va.normalsNeedUpdate,this.colorsNeedUpdate=va.colorsNeedUpdate,this.lineDistancesNeedUpdate=va.lineDistancesNeedUpdate,this.groupsNeedUpdate=va.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class BoxGeometry extends Geometry{constructor(_a,eo,to,ro,no,io){super();this.type="BoxGeometry",this.parameters={width:_a,height:eo,depth:to,widthSegments:ro,heightSegments:no,depthSegments:io},this.fromBufferGeometry(new BoxBufferGeometry(_a,eo,to,ro,no,io)),this.mergeVertices()}}class BoxBufferGeometry extends BufferGeometry{constructor(_a,eo,to,ro,no,io){super();this.type="BoxBufferGeometry",this.parameters={width:_a,height:eo,depth:to,widthSegments:ro,heightSegments:no,depthSegments:io};const ao=this;_a=_a||1,eo=eo||1,to=to||1,ro=Math.floor(ro)||1,no=Math.floor(no)||1,io=Math.floor(io)||1;const oo=[],so=[],uo=[],co=[];let fo=0,po=0;vo("z","y","x",-1,-1,to,eo,_a,io,no,0),vo("z","y","x",1,-1,to,eo,-_a,io,no,1),vo("x","z","y",1,1,_a,to,eo,ro,io,2),vo("x","z","y",1,-1,_a,to,-eo,ro,io,3),vo("x","y","z",1,-1,_a,eo,to,ro,no,4),vo("x","y","z",-1,-1,_a,eo,-to,ro,no,5),this.setIndex(oo),this.setAttribute("position",new Float32BufferAttribute(so,3)),this.setAttribute("normal",new Float32BufferAttribute(uo,3)),this.setAttribute("uv",new Float32BufferAttribute(co,2));function vo(go,mo,lo,ho,yo,Ao,Eo,To,No,Co,Io){const Mo=Ao/No,wo=Eo/Co,xo=Ao/2,bo=Eo/2,So=To/2,Do=No+1,Oo=Co+1;let Bo=0,$o=0;const Vo=new Vector3;for(let Ho=0;Ho<Oo;Ho++){const Fo=Ho*wo-bo;for(let Ko=0;Ko<Do;Ko++){const $s=Ko*Mo-xo;Vo[go]=$s*ho,Vo[mo]=Fo*yo,Vo[lo]=So,so.push(Vo.x,Vo.y,Vo.z),Vo[go]=0,Vo[mo]=0,Vo[lo]=To>0?1:-1,uo.push(Vo.x,Vo.y,Vo.z),co.push(Ko/No),co.push(1-Ho/Co),Bo+=1}}for(let Ho=0;Ho<Co;Ho++)for(let Fo=0;Fo<No;Fo++){const Ko=fo+Fo+Do*Ho,$s=fo+Fo+Do*(Ho+1),au=fo+(Fo+1)+Do*(Ho+1),Ks=fo+(Fo+1)+Do*Ho;oo.push(Ko,$s,Ks),oo.push($s,au,Ks),$o+=6}ao.addGroup(po,$o,Io),po+=$o,fo+=Bo}}}function cloneUniforms(va){var _a={};for(var eo in va){_a[eo]={};for(var to in va[eo]){var ro=va[eo][to];ro&&(ro.isColor||ro.isMatrix3||ro.isMatrix4||ro.isVector2||ro.isVector3||ro.isVector4||ro.isTexture)?_a[eo][to]=ro.clone():Array.isArray(ro)?_a[eo][to]=ro.slice():_a[eo][to]=ro}}return _a}function mergeUniforms(va){for(var _a={},eo=0;eo<va.length;eo++){var to=cloneUniforms(va[eo]);for(var ro in to)_a[ro]=to[ro]}return _a}var UniformsUtils={clone:cloneUniforms,merge:mergeUniforms},default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function ShaderMaterial(va){Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,va!==void 0&&(va.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(va))}ShaderMaterial.prototype=Object.create(Material.prototype);ShaderMaterial.prototype.constructor=ShaderMaterial;ShaderMaterial.prototype.isShaderMaterial=!0;ShaderMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.fragmentShader=va.fragmentShader,this.vertexShader=va.vertexShader,this.uniforms=cloneUniforms(va.uniforms),this.defines=Object.assign({},va.defines),this.wireframe=va.wireframe,this.wireframeLinewidth=va.wireframeLinewidth,this.lights=va.lights,this.clipping=va.clipping,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.morphNormals=va.morphNormals,this.extensions=Object.assign({},va.extensions),this};ShaderMaterial.prototype.toJSON=function(va){var _a=Material.prototype.toJSON.call(this,va);_a.uniforms={};for(var eo in this.uniforms){var to=this.uniforms[eo],ro=to.value;ro&&ro.isTexture?_a.uniforms[eo]={type:"t",value:ro.toJSON(va).uuid}:ro&&ro.isColor?_a.uniforms[eo]={type:"c",value:ro.getHex()}:ro&&ro.isVector2?_a.uniforms[eo]={type:"v2",value:ro.toArray()}:ro&&ro.isVector3?_a.uniforms[eo]={type:"v3",value:ro.toArray()}:ro&&ro.isVector4?_a.uniforms[eo]={type:"v4",value:ro.toArray()}:ro&&ro.isMatrix3?_a.uniforms[eo]={type:"m3",value:ro.toArray()}:ro&&ro.isMatrix4?_a.uniforms[eo]={type:"m4",value:ro.toArray()}:_a.uniforms[eo]={value:ro}}Object.keys(this.defines).length>0&&(_a.defines=this.defines),_a.vertexShader=this.vertexShader,_a.fragmentShader=this.fragmentShader;var no={};for(var io in this.extensions)this.extensions[io]===!0&&(no[io]=!0);return Object.keys(no).length>0&&(_a.extensions=no),_a};function Camera(){Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}Camera.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Camera,isCamera:!0,copy:function(va,_a){return Object3D.prototype.copy.call(this,va,_a),this.matrixWorldInverse.copy(va.matrixWorldInverse),this.projectionMatrix.copy(va.projectionMatrix),this.projectionMatrixInverse.copy(va.projectionMatrixInverse),this},getWorldDirection:function(va){va===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),va=new Vector3),this.updateMatrixWorld(!0);var _a=this.matrixWorld.elements;return va.set(-_a[8],-_a[9],-_a[10]).normalize()},updateMatrixWorld:function(va){Object3D.prototype.updateMatrixWorld.call(this,va),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(va,_a){Object3D.prototype.updateWorldMatrix.call(this,va,_a),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function PerspectiveCamera(va,_a,eo,to){Camera.call(this),this.type="PerspectiveCamera",this.fov=va!==void 0?va:50,this.zoom=1,this.near=eo!==void 0?eo:.1,this.far=to!==void 0?to:2e3,this.focus=10,this.aspect=_a!==void 0?_a:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}PerspectiveCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:PerspectiveCamera,isPerspectiveCamera:!0,copy:function(va,_a){return Camera.prototype.copy.call(this,va,_a),this.fov=va.fov,this.zoom=va.zoom,this.near=va.near,this.far=va.far,this.focus=va.focus,this.aspect=va.aspect,this.view=va.view===null?null:Object.assign({},va.view),this.filmGauge=va.filmGauge,this.filmOffset=va.filmOffset,this},setFocalLength:function(va){var _a=.5*this.getFilmHeight()/va;this.fov=MathUtils.RAD2DEG*2*Math.atan(_a),this.updateProjectionMatrix()},getFocalLength:function(){var va=Math.tan(MathUtils.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/va},getEffectiveFOV:function(){return MathUtils.RAD2DEG*2*Math.atan(Math.tan(MathUtils.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(va,_a,eo,to,ro,no){this.aspect=va/_a,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=va,this.view.fullHeight=_a,this.view.offsetX=eo,this.view.offsetY=to,this.view.width=ro,this.view.height=no,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var va=this.near,_a=va*Math.tan(MathUtils.DEG2RAD*.5*this.fov)/this.zoom,eo=2*_a,to=this.aspect*eo,ro=-.5*to,no=this.view;if(this.view!==null&&this.view.enabled){var io=no.fullWidth,ao=no.fullHeight;ro+=no.offsetX*to/io,_a-=no.offsetY*eo/ao,to*=no.width/io,eo*=no.height/ao}var oo=this.filmOffset;oo!==0&&(ro+=va*oo/this.getFilmWidth()),this.projectionMatrix.makePerspective(ro,ro+to,_a,_a-eo,va,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(va){var _a=Object3D.prototype.toJSON.call(this,va);return _a.object.fov=this.fov,_a.object.zoom=this.zoom,_a.object.near=this.near,_a.object.far=this.far,_a.object.focus=this.focus,_a.object.aspect=this.aspect,this.view!==null&&(_a.object.view=Object.assign({},this.view)),_a.object.filmGauge=this.filmGauge,_a.object.filmOffset=this.filmOffset,_a}});var fov=90,aspect=1;function CubeCamera(va,_a,eo){if(Object3D.call(this),this.type="CubeCamera",eo.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=eo;var to=new PerspectiveCamera(fov,aspect,va,_a);to.layers=this.layers,to.up.set(0,-1,0),to.lookAt(new Vector3(1,0,0)),this.add(to);var ro=new PerspectiveCamera(fov,aspect,va,_a);ro.layers=this.layers,ro.up.set(0,-1,0),ro.lookAt(new Vector3(-1,0,0)),this.add(ro);var no=new PerspectiveCamera(fov,aspect,va,_a);no.layers=this.layers,no.up.set(0,0,1),no.lookAt(new Vector3(0,1,0)),this.add(no);var io=new PerspectiveCamera(fov,aspect,va,_a);io.layers=this.layers,io.up.set(0,0,-1),io.lookAt(new Vector3(0,-1,0)),this.add(io);var ao=new PerspectiveCamera(fov,aspect,va,_a);ao.layers=this.layers,ao.up.set(0,-1,0),ao.lookAt(new Vector3(0,0,1)),this.add(ao);var oo=new PerspectiveCamera(fov,aspect,va,_a);oo.layers=this.layers,oo.up.set(0,-1,0),oo.lookAt(new Vector3(0,0,-1)),this.add(oo),this.update=function(so,uo){this.parent===null&&this.updateMatrixWorld();var co=so.xr.enabled,fo=so.getRenderTarget();so.xr.enabled=!1;var po=eo.texture.generateMipmaps;eo.texture.generateMipmaps=!1,so.setRenderTarget(eo,0),so.render(uo,to),so.setRenderTarget(eo,1),so.render(uo,ro),so.setRenderTarget(eo,2),so.render(uo,no),so.setRenderTarget(eo,3),so.render(uo,io),so.setRenderTarget(eo,4),so.render(uo,ao),eo.texture.generateMipmaps=po,so.setRenderTarget(eo,5),so.render(uo,oo),so.setRenderTarget(fo),so.xr.enabled=co},this.clear=function(so,uo,co,fo){for(var po=so.getRenderTarget(),vo=0;vo<6;vo++)so.setRenderTarget(eo,vo),so.clear(uo,co,fo);so.setRenderTarget(po)}}CubeCamera.prototype=Object.create(Object3D.prototype);CubeCamera.prototype.constructor=CubeCamera;function WebGLCubeRenderTarget(va,_a,eo){Number.isInteger(_a)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),_a=eo),WebGLRenderTarget.call(this,va,va,_a)}WebGLCubeRenderTarget.prototype=Object.create(WebGLRenderTarget.prototype);WebGLCubeRenderTarget.prototype.constructor=WebGLCubeRenderTarget;WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget=!0;WebGLCubeRenderTarget.prototype.fromEquirectangularTexture=function(va,_a){this.texture.type=_a.type,this.texture.format=_a.format,this.texture.encoding=_a.encoding;var eo=new Scene,to={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV = equirectUv( direction );","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},ro=new ShaderMaterial({type:"CubemapFromEquirect",uniforms:cloneUniforms(to.uniforms),vertexShader:to.vertexShader,fragmentShader:to.fragmentShader,side:BackSide,blending:NoBlending});ro.uniforms.tEquirect.value=_a;var no=new Mesh(new BoxBufferGeometry(5,5,5),ro);eo.add(no);var io=new CubeCamera(1,10,this);return io.update(va,eo),no.geometry.dispose(),no.material.dispose(),this};function DataTexture(va,_a,eo,to,ro,no,io,ao,oo,so,uo,co){Texture.call(this,null,no,io,ao,oo,so,to,ro,uo,co),this.image={data:va||null,width:_a||1,height:eo||1},this.magFilter=oo!==void 0?oo:NearestFilter,this.minFilter=so!==void 0?so:NearestFilter,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}DataTexture.prototype=Object.create(Texture.prototype);DataTexture.prototype.constructor=DataTexture;DataTexture.prototype.isDataTexture=!0;var _sphere$1=new Sphere,_vector$5=new Vector3;function Frustum(va,_a,eo,to,ro,no){this.planes=[va!==void 0?va:new Plane,_a!==void 0?_a:new Plane,eo!==void 0?eo:new Plane,to!==void 0?to:new Plane,ro!==void 0?ro:new Plane,no!==void 0?no:new Plane]}Object.assign(Frustum.prototype,{set:function(va,_a,eo,to,ro,no){var io=this.planes;return io[0].copy(va),io[1].copy(_a),io[2].copy(eo),io[3].copy(to),io[4].copy(ro),io[5].copy(no),this},clone:function(){return new this.constructor().copy(this)},copy:function(va){for(var _a=this.planes,eo=0;eo<6;eo++)_a[eo].copy(va.planes[eo]);return this},setFromProjectionMatrix:function(va){var _a=this.planes,eo=va.elements,to=eo[0],ro=eo[1],no=eo[2],io=eo[3],ao=eo[4],oo=eo[5],so=eo[6],uo=eo[7],co=eo[8],fo=eo[9],po=eo[10],vo=eo[11],go=eo[12],mo=eo[13],lo=eo[14],ho=eo[15];return _a[0].setComponents(io-to,uo-ao,vo-co,ho-go).normalize(),_a[1].setComponents(io+to,uo+ao,vo+co,ho+go).normalize(),_a[2].setComponents(io+ro,uo+oo,vo+fo,ho+mo).normalize(),_a[3].setComponents(io-ro,uo-oo,vo-fo,ho-mo).normalize(),_a[4].setComponents(io-no,uo-so,vo-po,ho-lo).normalize(),_a[5].setComponents(io+no,uo+so,vo+po,ho+lo).normalize(),this},intersectsObject:function(va){var _a=va.geometry;return _a.boundingSphere===null&&_a.computeBoundingSphere(),_sphere$1.copy(_a.boundingSphere).applyMatrix4(va.matrixWorld),this.intersectsSphere(_sphere$1)},intersectsSprite:function(va){return _sphere$1.center.set(0,0,0),_sphere$1.radius=.7071067811865476,_sphere$1.applyMatrix4(va.matrixWorld),this.intersectsSphere(_sphere$1)},intersectsSphere:function(va){for(var _a=this.planes,eo=va.center,to=-va.radius,ro=0;ro<6;ro++){var no=_a[ro].distanceToPoint(eo);if(no<to)return!1}return!0},intersectsBox:function(va){for(var _a=this.planes,eo=0;eo<6;eo++){var to=_a[eo];if(_vector$5.x=to.normal.x>0?va.max.x:va.min.x,_vector$5.y=to.normal.y>0?va.max.y:va.min.y,_vector$5.z=to.normal.z>0?va.max.z:va.min.z,to.distanceToPoint(_vector$5)<0)return!1}return!0},containsPoint:function(va){for(var _a=this.planes,eo=0;eo<6;eo++)if(_a[eo].distanceToPoint(va)<0)return!1;return!0}});var UniformsLib={common:{diffuse:{value:new Color(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Color(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(15658734)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Matrix3}}};function WebGLAnimation(){var va=null,_a=!1,eo=null;function to(ro,no){_a!==!1&&(eo(ro,no),va.requestAnimationFrame(to))}return{start:function(){_a!==!0&&eo!==null&&(va.requestAnimationFrame(to),_a=!0)},stop:function(){_a=!1},setAnimationLoop:function(ro){eo=ro},setContext:function(ro){va=ro}}}function WebGLAttributes(va,_a){var eo=_a.isWebGL2,to=new WeakMap;function ro(so,uo){var co=so.array,fo=so.usage,po=va.createBuffer();va.bindBuffer(uo,po),va.bufferData(uo,co,fo),so.onUploadCallback();var vo=5126;return co instanceof Float32Array?vo=5126:co instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):co instanceof Uint16Array?vo=5123:co instanceof Int16Array?vo=5122:co instanceof Uint32Array?vo=5125:co instanceof Int32Array?vo=5124:co instanceof Int8Array?vo=5120:co instanceof Uint8Array&&(vo=5121),{buffer:po,type:vo,bytesPerElement:co.BYTES_PER_ELEMENT,version:so.version}}function no(so,uo,co){var fo=uo.array,po=uo.updateRange;va.bindBuffer(co,so),po.count===-1?va.bufferSubData(co,0,fo):(eo?va.bufferSubData(co,po.offset*fo.BYTES_PER_ELEMENT,fo,po.offset,po.count):va.bufferSubData(co,po.offset*fo.BYTES_PER_ELEMENT,fo.subarray(po.offset,po.offset+po.count)),po.count=-1)}function io(so){return so.isInterleavedBufferAttribute&&(so=so.data),to.get(so)}function ao(so){so.isInterleavedBufferAttribute&&(so=so.data);var uo=to.get(so);uo&&(va.deleteBuffer(uo.buffer),to.delete(so))}function oo(so,uo){so.isInterleavedBufferAttribute&&(so=so.data);var co=to.get(so);co===void 0?to.set(so,ro(so,uo)):co.version<so.version&&(no(co.buffer,so,uo),co.version=so.version)}return{get:io,remove:ao,update:oo}}function PlaneGeometry(va,_a,eo,to){Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:va,height:_a,widthSegments:eo,heightSegments:to},this.fromBufferGeometry(new PlaneBufferGeometry(va,_a,eo,to)),this.mergeVertices()}PlaneGeometry.prototype=Object.create(Geometry.prototype);PlaneGeometry.prototype.constructor=PlaneGeometry;function PlaneBufferGeometry(va,_a,eo,to){BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:va,height:_a,widthSegments:eo,heightSegments:to},va=va||1,_a=_a||1;var ro=va/2,no=_a/2,io=Math.floor(eo)||1,ao=Math.floor(to)||1,oo=io+1,so=ao+1,uo=va/io,co=_a/ao,fo,po,vo=[],go=[],mo=[],lo=[];for(po=0;po<so;po++){var ho=po*co-no;for(fo=0;fo<oo;fo++){var yo=fo*uo-ro;go.push(yo,-ho,0),mo.push(0,0,1),lo.push(fo/io),lo.push(1-po/ao)}}for(po=0;po<ao;po++)for(fo=0;fo<io;fo++){var Ao=fo+oo*po,Eo=fo+oo*(po+1),To=fo+1+oo*(po+1),No=fo+1+oo*po;vo.push(Ao,Eo,No),vo.push(Eo,To,No)}this.setIndex(vo),this.setAttribute("position",new Float32BufferAttribute(go,3)),this.setAttribute("normal",new Float32BufferAttribute(mo,3)),this.setAttribute("uv",new Float32BufferAttribute(lo,2))}PlaneBufferGeometry.prototype=Object.create(BufferGeometry.prototype);PlaneBufferGeometry.prototype.constructor=PlaneBufferGeometry;var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common$2=`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
		struct PointLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert=`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common:common$2,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_vertex,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_frag,background_vert,cube_frag,cube_vert,depth_frag,depth_vert,distanceRGBA_frag,distanceRGBA_vert,equirect_frag,equirect_vert,linedashed_frag,linedashed_vert,meshbasic_frag,meshbasic_vert,meshlambert_frag,meshlambert_vert,meshmatcap_frag,meshmatcap_vert,meshtoon_frag,meshtoon_vert,meshphong_frag,meshphong_vert,meshphysical_frag,meshphysical_vert,normal_frag,normal_vert,points_frag,points_vert,shadow_frag,shadow_vert,sprite_frag,sprite_vert},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.normal_vert,fragmentShader:ShaderChunk.normal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},cube:{uniforms:mergeUniforms([UniformsLib.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Color(0)},transparency:{value:0}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLBackground(va,_a,eo,to){var ro=new Color(0),no=0,io,ao,oo=null,so=0,uo=null;function co(po,vo,go,mo){var lo=vo.background,ho=va.xr,yo=ho.getSession&&ho.getSession();if(yo&&yo.environmentBlendMode==="additive"&&(lo=null),lo===null?fo(ro,no):lo&&lo.isColor&&(fo(lo,1),mo=!0),(va.autoClear||mo)&&va.clear(va.autoClearColor,va.autoClearDepth,va.autoClearStencil),lo&&(lo.isCubeTexture||lo.isWebGLCubeRenderTarget||lo.mapping===CubeUVReflectionMapping)){ao===void 0&&(ao=new Mesh(new BoxBufferGeometry(1,1,1),new ShaderMaterial({type:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ao.geometry.deleteAttribute("normal"),ao.geometry.deleteAttribute("uv"),ao.onBeforeRender=function(Eo,To,No){this.matrixWorld.copyPosition(No.matrixWorld)},Object.defineProperty(ao.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),eo.update(ao));var Ao=lo.isWebGLCubeRenderTarget?lo.texture:lo;ao.material.uniforms.envMap.value=Ao,ao.material.uniforms.flipEnvMap.value=Ao.isCubeTexture?-1:1,(oo!==lo||so!==Ao.version||uo!==va.toneMapping)&&(ao.material.needsUpdate=!0,oo=lo,so=Ao.version,uo=va.toneMapping),po.unshift(ao,ao.geometry,ao.material,0,0,null)}else lo&&lo.isTexture&&(io===void 0&&(io=new Mesh(new PlaneBufferGeometry(2,2),new ShaderMaterial({type:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),io.geometry.deleteAttribute("normal"),Object.defineProperty(io.material,"map",{get:function(){return this.uniforms.t2D.value}}),eo.update(io)),io.material.uniforms.t2D.value=lo,lo.matrixAutoUpdate===!0&&lo.updateMatrix(),io.material.uniforms.uvTransform.value.copy(lo.matrix),(oo!==lo||so!==lo.version||uo!==va.toneMapping)&&(io.material.needsUpdate=!0,oo=lo,so=lo.version,uo=va.toneMapping),po.unshift(io,io.geometry,io.material,0,0,null))}function fo(po,vo){_a.buffers.color.setClear(po.r,po.g,po.b,vo,to)}return{getClearColor:function(){return ro},setClearColor:function(po,vo){ro.set(po),no=vo!==void 0?vo:1,fo(ro,no)},getClearAlpha:function(){return no},setClearAlpha:function(po){no=po,fo(ro,no)},render:co}}function WebGLBufferRenderer(va,_a,eo,to){var ro=to.isWebGL2,no;function io(so){no=so}function ao(so,uo){va.drawArrays(no,so,uo),eo.update(uo,no)}function oo(so,uo,co,fo){if(fo!==0){var po,vo;if(ro)po=va,vo="drawArraysInstanced";else if(po=_a.get("ANGLE_instanced_arrays"),vo="drawArraysInstancedANGLE",po===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}po[vo](no,uo,co,fo),eo.update(co,no,fo)}}this.setMode=io,this.render=ao,this.renderInstances=oo}function WebGLCapabilities(va,_a,eo){var to;function ro(){if(to!==void 0)return to;var To=_a.get("EXT_texture_filter_anisotropic");return To!==null?to=va.getParameter(To.MAX_TEXTURE_MAX_ANISOTROPY_EXT):to=0,to}function no(To){if(To==="highp"){if(va.getShaderPrecisionFormat(35633,36338).precision>0&&va.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";To="mediump"}return To==="mediump"&&va.getShaderPrecisionFormat(35633,36337).precision>0&&va.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var io=typeof WebGL2RenderingContext<"u"&&va instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&va instanceof WebGL2ComputeRenderingContext,ao=eo.precision!==void 0?eo.precision:"highp",oo=no(ao);oo!==ao&&(console.warn("THREE.WebGLRenderer:",ao,"not supported, using",oo,"instead."),ao=oo);var so=eo.logarithmicDepthBuffer===!0,uo=va.getParameter(34930),co=va.getParameter(35660),fo=va.getParameter(3379),po=va.getParameter(34076),vo=va.getParameter(34921),go=va.getParameter(36347),mo=va.getParameter(36348),lo=va.getParameter(36349),ho=co>0,yo=io||!!_a.get("OES_texture_float"),Ao=ho&&yo,Eo=io?va.getParameter(36183):0;return{isWebGL2:io,getMaxAnisotropy:ro,getMaxPrecision:no,precision:ao,logarithmicDepthBuffer:so,maxTextures:uo,maxVertexTextures:co,maxTextureSize:fo,maxCubemapSize:po,maxAttributes:vo,maxVertexUniforms:go,maxVaryings:mo,maxFragmentUniforms:lo,vertexTextures:ho,floatFragmentTextures:yo,floatVertexTextures:Ao,maxSamples:Eo}}function WebGLClipping(){var va=this,_a=null,eo=0,to=!1,ro=!1,no=new Plane,io=new Matrix3,ao={value:null,needsUpdate:!1};this.uniform=ao,this.numPlanes=0,this.numIntersection=0,this.init=function(uo,co,fo){var po=uo.length!==0||co||eo!==0||to;return to=co,_a=so(uo,fo,0),eo=uo.length,po},this.beginShadows=function(){ro=!0,so(null)},this.endShadows=function(){ro=!1,oo()},this.setState=function(uo,co,fo,po,vo,go){if(!to||uo===null||uo.length===0||ro&&!fo)ro?so(null):oo();else{var mo=ro?0:eo,lo=mo*4,ho=vo.clippingState||null;ao.value=ho,ho=so(uo,po,lo,go);for(var yo=0;yo!==lo;++yo)ho[yo]=_a[yo];vo.clippingState=ho,this.numIntersection=co?this.numPlanes:0,this.numPlanes+=mo}};function oo(){ao.value!==_a&&(ao.value=_a,ao.needsUpdate=eo>0),va.numPlanes=eo,va.numIntersection=0}function so(uo,co,fo,po){var vo=uo!==null?uo.length:0,go=null;if(vo!==0){if(go=ao.value,po!==!0||go===null){var mo=fo+vo*4,lo=co.matrixWorldInverse;io.getNormalMatrix(lo),(go===null||go.length<mo)&&(go=new Float32Array(mo));for(var ho=0,yo=fo;ho!==vo;++ho,yo+=4)no.copy(uo[ho]).applyMatrix4(lo,io),no.normal.toArray(go,yo),go[yo+3]=no.constant}ao.value=go,ao.needsUpdate=!0}return va.numPlanes=vo,va.numIntersection=0,go}}function WebGLExtensions(va){var _a={};return{get:function(eo){if(_a[eo]!==void 0)return _a[eo];var to;switch(eo){case"WEBGL_depth_texture":to=va.getExtension("WEBGL_depth_texture")||va.getExtension("MOZ_WEBGL_depth_texture")||va.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":to=va.getExtension("EXT_texture_filter_anisotropic")||va.getExtension("MOZ_EXT_texture_filter_anisotropic")||va.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":to=va.getExtension("WEBGL_compressed_texture_s3tc")||va.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||va.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":to=va.getExtension("WEBGL_compressed_texture_pvrtc")||va.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:to=va.getExtension(eo)}return to===null&&console.warn("THREE.WebGLRenderer: "+eo+" extension not supported."),_a[eo]=to,to}}}function WebGLGeometries(va,_a,eo){var to=new WeakMap,ro=new WeakMap;function no(uo){var co=uo.target,fo=to.get(co);fo.index!==null&&_a.remove(fo.index);for(var po in fo.attributes)_a.remove(fo.attributes[po]);co.removeEventListener("dispose",no),to.delete(co);var vo=ro.get(fo);vo&&(_a.remove(vo),ro.delete(fo)),eo.memory.geometries--}function io(uo,co){var fo=to.get(co);return fo||(co.addEventListener("dispose",no),co.isBufferGeometry?fo=co:co.isGeometry&&(co._bufferGeometry===void 0&&(co._bufferGeometry=new BufferGeometry().setFromObject(uo)),fo=co._bufferGeometry),to.set(co,fo),eo.memory.geometries++,fo)}function ao(uo){var co=uo.index,fo=uo.attributes;co!==null&&_a.update(co,34963);for(var po in fo)_a.update(fo[po],34962);var vo=uo.morphAttributes;for(var po in vo)for(var go=vo[po],mo=0,lo=go.length;mo<lo;mo++)_a.update(go[mo],34962)}function oo(uo){var co=[],fo=uo.index,po=uo.attributes.position,vo=0;if(fo!==null){var go=fo.array;vo=fo.version;for(var mo=0,lo=go.length;mo<lo;mo+=3){var ho=go[mo+0],yo=go[mo+1],Ao=go[mo+2];co.push(ho,yo,yo,Ao,Ao,ho)}}else{var go=po.array;vo=po.version;for(var mo=0,lo=go.length/3-1;mo<lo;mo+=3){var ho=mo+0,yo=mo+1,Ao=mo+2;co.push(ho,yo,yo,Ao,Ao,ho)}}var Eo=new(arrayMax(co)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(co,1);Eo.version=vo,_a.update(Eo,34963);var To=ro.get(uo);To&&_a.remove(To),ro.set(uo,Eo)}function so(uo){var co=ro.get(uo);if(co){var fo=uo.index;fo!==null&&co.version<fo.version&&oo(uo)}else oo(uo);return ro.get(uo)}return{get:io,update:ao,getWireframeAttribute:so}}function WebGLIndexedBufferRenderer(va,_a,eo,to){var ro=to.isWebGL2,no;function io(fo){no=fo}var ao,oo;function so(fo){ao=fo.type,oo=fo.bytesPerElement}function uo(fo,po){va.drawElements(no,po,ao,fo*oo),eo.update(po,no)}function co(fo,po,vo,go){if(go!==0){var mo,lo;if(ro)mo=va,lo="drawElementsInstanced";else if(mo=_a.get("ANGLE_instanced_arrays"),lo="drawElementsInstancedANGLE",mo===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}mo[lo](no,vo,ao,po*oo,go),eo.update(vo,no,go)}}this.setMode=io,this.setIndex=so,this.render=uo,this.renderInstances=co}function WebGLInfo(va){var _a={geometries:0,textures:0},eo={frame:0,calls:0,triangles:0,points:0,lines:0};function to(no,io,ao){switch(ao=ao||1,eo.calls++,io){case 4:eo.triangles+=ao*(no/3);break;case 1:eo.lines+=ao*(no/2);break;case 3:eo.lines+=ao*(no-1);break;case 2:eo.lines+=ao*no;break;case 0:eo.points+=ao*no;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",io);break}}function ro(){eo.frame++,eo.calls=0,eo.triangles=0,eo.points=0,eo.lines=0}return{memory:_a,render:eo,programs:null,autoReset:!0,reset:ro,update:to}}function absNumericalSort(va,_a){return Math.abs(_a[1])-Math.abs(va[1])}function WebGLMorphtargets(va){var _a={},eo=new Float32Array(8);function to(ro,no,io,ao){var oo=ro.morphTargetInfluences,so=oo===void 0?0:oo.length,uo=_a[no.id];if(uo===void 0){uo=[];for(var co=0;co<so;co++)uo[co]=[co,0];_a[no.id]=uo}for(var fo=io.morphTargets&&no.morphAttributes.position,po=io.morphNormals&&no.morphAttributes.normal,co=0;co<so;co++){var vo=uo[co];vo[1]!==0&&(fo&&no.deleteAttribute("morphTarget"+co),po&&no.deleteAttribute("morphNormal"+co))}for(var co=0;co<so;co++){var vo=uo[co];vo[0]=co,vo[1]=oo[co]}uo.sort(absNumericalSort);for(var go=0,co=0;co<8;co++){var vo=uo[co];if(vo){var mo=vo[0],lo=vo[1];if(lo){fo&&no.setAttribute("morphTarget"+co,fo[mo]),po&&no.setAttribute("morphNormal"+co,po[mo]),eo[co]=lo,go+=lo;continue}}eo[co]=0}var ho=no.morphTargetsRelative?1:1-go;ao.getUniforms().setValue(va,"morphTargetBaseInfluence",ho),ao.getUniforms().setValue(va,"morphTargetInfluences",eo)}return{update:to}}function WebGLObjects(va,_a,eo,to){var ro=new WeakMap;function no(ao){var oo=to.render.frame,so=ao.geometry,uo=_a.get(ao,so);return ro.get(uo)!==oo&&(so.isGeometry&&uo.updateFromObject(ao),_a.update(uo),ro.set(uo,oo)),ao.isInstancedMesh&&eo.update(ao.instanceMatrix,34962),uo}function io(){ro=new WeakMap}return{update:no,dispose:io}}function CubeTexture(va,_a,eo,to,ro,no,io,ao,oo,so){va=va!==void 0?va:[],_a=_a!==void 0?_a:CubeReflectionMapping,io=io!==void 0?io:RGBFormat,Texture.call(this,va,_a,eo,to,ro,no,io,ao,oo,so),this.flipY=!1}CubeTexture.prototype=Object.create(Texture.prototype);CubeTexture.prototype.constructor=CubeTexture;CubeTexture.prototype.isCubeTexture=!0;Object.defineProperty(CubeTexture.prototype,"images",{get:function(){return this.image},set:function(va){this.image=va}});function DataTexture2DArray(va,_a,eo,to){Texture.call(this,null),this.image={data:va||null,width:_a||1,height:eo||1,depth:to||1},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}DataTexture2DArray.prototype=Object.create(Texture.prototype);DataTexture2DArray.prototype.constructor=DataTexture2DArray;DataTexture2DArray.prototype.isDataTexture2DArray=!0;function DataTexture3D(va,_a,eo,to){Texture.call(this,null),this.image={data:va||null,width:_a||1,height:eo||1,depth:to||1},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}DataTexture3D.prototype=Object.create(Texture.prototype);DataTexture3D.prototype.constructor=DataTexture3D;DataTexture3D.prototype.isDataTexture3D=!0;var emptyTexture=new Texture,emptyTexture2dArray=new DataTexture2DArray,emptyTexture3d=new DataTexture3D,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(va,_a,eo){var to=va[0];if(to<=0||to>0)return va;var ro=_a*eo,no=arrayCacheF32[ro];if(no===void 0&&(no=new Float32Array(ro),arrayCacheF32[ro]=no),_a!==0){to.toArray(no,0);for(var io=1,ao=0;io!==_a;++io)ao+=eo,va[io].toArray(no,ao)}return no}function arraysEqual(va,_a){if(va.length!==_a.length)return!1;for(var eo=0,to=va.length;eo<to;eo++)if(va[eo]!==_a[eo])return!1;return!0}function copyArray(va,_a){for(var eo=0,to=_a.length;eo<to;eo++)va[eo]=_a[eo]}function allocTexUnits(va,_a){var eo=arrayCacheI32[_a];eo===void 0&&(eo=new Int32Array(_a),arrayCacheI32[_a]=eo);for(var to=0;to!==_a;++to)eo[to]=va.allocateTextureUnit();return eo}function setValueV1f(va,_a){var eo=this.cache;eo[0]!==_a&&(va.uniform1f(this.addr,_a),eo[0]=_a)}function setValueV2f(va,_a){var eo=this.cache;if(_a.x!==void 0)(eo[0]!==_a.x||eo[1]!==_a.y)&&(va.uniform2f(this.addr,_a.x,_a.y),eo[0]=_a.x,eo[1]=_a.y);else{if(arraysEqual(eo,_a))return;va.uniform2fv(this.addr,_a),copyArray(eo,_a)}}function setValueV3f(va,_a){var eo=this.cache;if(_a.x!==void 0)(eo[0]!==_a.x||eo[1]!==_a.y||eo[2]!==_a.z)&&(va.uniform3f(this.addr,_a.x,_a.y,_a.z),eo[0]=_a.x,eo[1]=_a.y,eo[2]=_a.z);else if(_a.r!==void 0)(eo[0]!==_a.r||eo[1]!==_a.g||eo[2]!==_a.b)&&(va.uniform3f(this.addr,_a.r,_a.g,_a.b),eo[0]=_a.r,eo[1]=_a.g,eo[2]=_a.b);else{if(arraysEqual(eo,_a))return;va.uniform3fv(this.addr,_a),copyArray(eo,_a)}}function setValueV4f(va,_a){var eo=this.cache;if(_a.x!==void 0)(eo[0]!==_a.x||eo[1]!==_a.y||eo[2]!==_a.z||eo[3]!==_a.w)&&(va.uniform4f(this.addr,_a.x,_a.y,_a.z,_a.w),eo[0]=_a.x,eo[1]=_a.y,eo[2]=_a.z,eo[3]=_a.w);else{if(arraysEqual(eo,_a))return;va.uniform4fv(this.addr,_a),copyArray(eo,_a)}}function setValueM2(va,_a){var eo=this.cache,to=_a.elements;if(to===void 0){if(arraysEqual(eo,_a))return;va.uniformMatrix2fv(this.addr,!1,_a),copyArray(eo,_a)}else{if(arraysEqual(eo,to))return;mat2array.set(to),va.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(eo,to)}}function setValueM3(va,_a){var eo=this.cache,to=_a.elements;if(to===void 0){if(arraysEqual(eo,_a))return;va.uniformMatrix3fv(this.addr,!1,_a),copyArray(eo,_a)}else{if(arraysEqual(eo,to))return;mat3array.set(to),va.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(eo,to)}}function setValueM4(va,_a){var eo=this.cache,to=_a.elements;if(to===void 0){if(arraysEqual(eo,_a))return;va.uniformMatrix4fv(this.addr,!1,_a),copyArray(eo,_a)}else{if(arraysEqual(eo,to))return;mat4array.set(to),va.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(eo,to)}}function setValueT1(va,_a,eo){var to=this.cache,ro=eo.allocateTextureUnit();to[0]!==ro&&(va.uniform1i(this.addr,ro),to[0]=ro),eo.safeSetTexture2D(_a||emptyTexture,ro)}function setValueT2DArray1(va,_a,eo){var to=this.cache,ro=eo.allocateTextureUnit();to[0]!==ro&&(va.uniform1i(this.addr,ro),to[0]=ro),eo.setTexture2DArray(_a||emptyTexture2dArray,ro)}function setValueT3D1(va,_a,eo){var to=this.cache,ro=eo.allocateTextureUnit();to[0]!==ro&&(va.uniform1i(this.addr,ro),to[0]=ro),eo.setTexture3D(_a||emptyTexture3d,ro)}function setValueT6(va,_a,eo){var to=this.cache,ro=eo.allocateTextureUnit();to[0]!==ro&&(va.uniform1i(this.addr,ro),to[0]=ro),eo.safeSetTextureCube(_a||emptyCubeTexture,ro)}function setValueV1i(va,_a){var eo=this.cache;eo[0]!==_a&&(va.uniform1i(this.addr,_a),eo[0]=_a)}function setValueV2i(va,_a){var eo=this.cache;arraysEqual(eo,_a)||(va.uniform2iv(this.addr,_a),copyArray(eo,_a))}function setValueV3i(va,_a){var eo=this.cache;arraysEqual(eo,_a)||(va.uniform3iv(this.addr,_a),copyArray(eo,_a))}function setValueV4i(va,_a){var eo=this.cache;arraysEqual(eo,_a)||(va.uniform4iv(this.addr,_a),copyArray(eo,_a))}function setValueV1ui(va,_a){var eo=this.cache;eo[0]!==_a&&(va.uniform1ui(this.addr,_a),eo[0]=_a)}function getSingularSetter(va){switch(va){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(va,_a){va.uniform1fv(this.addr,_a)}function setValueV1iArray(va,_a){va.uniform1iv(this.addr,_a)}function setValueV2iArray(va,_a){va.uniform2iv(this.addr,_a)}function setValueV3iArray(va,_a){va.uniform3iv(this.addr,_a)}function setValueV4iArray(va,_a){va.uniform4iv(this.addr,_a)}function setValueV2fArray(va,_a){var eo=flatten(_a,this.size,2);va.uniform2fv(this.addr,eo)}function setValueV3fArray(va,_a){var eo=flatten(_a,this.size,3);va.uniform3fv(this.addr,eo)}function setValueV4fArray(va,_a){var eo=flatten(_a,this.size,4);va.uniform4fv(this.addr,eo)}function setValueM2Array(va,_a){var eo=flatten(_a,this.size,4);va.uniformMatrix2fv(this.addr,!1,eo)}function setValueM3Array(va,_a){var eo=flatten(_a,this.size,9);va.uniformMatrix3fv(this.addr,!1,eo)}function setValueM4Array(va,_a){var eo=flatten(_a,this.size,16);va.uniformMatrix4fv(this.addr,!1,eo)}function setValueT1Array(va,_a,eo){var to=_a.length,ro=allocTexUnits(eo,to);va.uniform1iv(this.addr,ro);for(var no=0;no!==to;++no)eo.safeSetTexture2D(_a[no]||emptyTexture,ro[no])}function setValueT6Array(va,_a,eo){var to=_a.length,ro=allocTexUnits(eo,to);va.uniform1iv(this.addr,ro);for(var no=0;no!==to;++no)eo.safeSetTextureCube(_a[no]||emptyCubeTexture,ro[no])}function getPureArraySetter(va){switch(va){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35680:case 36300:case 36308:case 36293:return setValueT6Array}}function SingleUniform(va,_a,eo){this.id=va,this.addr=eo,this.cache=[],this.setValue=getSingularSetter(_a.type)}function PureArrayUniform(va,_a,eo){this.id=va,this.addr=eo,this.cache=[],this.size=_a.size,this.setValue=getPureArraySetter(_a.type)}PureArrayUniform.prototype.updateCache=function(va){var _a=this.cache;va instanceof Float32Array&&_a.length!==va.length&&(this.cache=new Float32Array(va.length)),copyArray(_a,va)};function StructuredUniform(va){this.id=va,this.seq=[],this.map={}}StructuredUniform.prototype.setValue=function(va,_a,eo){for(var to=this.seq,ro=0,no=to.length;ro!==no;++ro){var io=to[ro];io.setValue(va,_a[io.id],eo)}};var RePathPart=/([\w\d_]+)(\])?(\[|\.)?/g;function addUniform(va,_a){va.seq.push(_a),va.map[_a.id]=_a}function parseUniform(va,_a,eo){var to=va.name,ro=to.length;for(RePathPart.lastIndex=0;;){var no=RePathPart.exec(to),io=RePathPart.lastIndex,ao=no[1],oo=no[2]==="]",so=no[3];if(oo&&(ao=ao|0),so===void 0||so==="["&&io+2===ro){addUniform(eo,so===void 0?new SingleUniform(ao,va,_a):new PureArrayUniform(ao,va,_a));break}else{var uo=eo.map,co=uo[ao];co===void 0&&(co=new StructuredUniform(ao),addUniform(eo,co)),eo=co}}}function WebGLUniforms(va,_a){this.seq=[],this.map={};for(var eo=va.getProgramParameter(_a,35718),to=0;to<eo;++to){var ro=va.getActiveUniform(_a,to),no=va.getUniformLocation(_a,ro.name);parseUniform(ro,no,this)}}WebGLUniforms.prototype.setValue=function(va,_a,eo,to){var ro=this.map[_a];ro!==void 0&&ro.setValue(va,eo,to)};WebGLUniforms.prototype.setOptional=function(va,_a,eo){var to=_a[eo];to!==void 0&&this.setValue(va,eo,to)};WebGLUniforms.upload=function(va,_a,eo,to){for(var ro=0,no=_a.length;ro!==no;++ro){var io=_a[ro],ao=eo[io.id];ao.needsUpdate!==!1&&io.setValue(va,ao.value,to)}};WebGLUniforms.seqWithValue=function(va,_a){for(var eo=[],to=0,ro=va.length;to!==ro;++to){var no=va[to];no.id in _a&&eo.push(no)}return eo};function WebGLShader(va,_a,eo){var to=va.createShader(_a);return va.shaderSource(to,eo),va.compileShader(to),to}var programIdCount=0;function addLineNumbers(va){for(var _a=va.split(`
`),eo=0;eo<_a.length;eo++)_a[eo]=eo+1+": "+_a[eo];return _a.join(`
`)}function getEncodingComponents(va){switch(va){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];case RGBEEncoding:return["RGBE","( value )"];case RGBM7Encoding:return["RGBM","( value, 7.0 )"];case RGBM16Encoding:return["RGBM","( value, 16.0 )"];case RGBDEncoding:return["RGBD","( value, 256.0 )"];case GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case LogLuvEncoding:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+va)}}function getShaderErrors(va,_a,eo){var to=va.getShaderParameter(_a,35713),ro=va.getShaderInfoLog(_a).trim();if(to&&ro==="")return"";var no=va.getShaderSource(_a);return"THREE.WebGLShader: gl.getShaderInfoLog() "+eo+`
`+ro+addLineNumbers(no)}function getTexelDecodingFunction(va,_a){var eo=getEncodingComponents(_a);return"vec4 "+va+"( vec4 value ) { return "+eo[0]+"ToLinear"+eo[1]+"; }"}function getTexelEncodingFunction(va,_a){var eo=getEncodingComponents(_a);return"vec4 "+va+"( vec4 value ) { return LinearTo"+eo[0]+eo[1]+"; }"}function getToneMappingFunction(va,_a){var eo;switch(_a){case LinearToneMapping:eo="Linear";break;case ReinhardToneMapping:eo="Reinhard";break;case Uncharted2ToneMapping:eo="Uncharted2";break;case CineonToneMapping:eo="OptimizedCineon";break;case ACESFilmicToneMapping:eo="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+_a)}return"vec3 "+va+"( vec3 color ) { return "+eo+"ToneMapping( color ); }"}function generateExtensions(va){var _a=[va.extensionDerivatives||va.envMapCubeUV||va.bumpMap||va.tangentSpaceNormalMap||va.clearcoatNormalMap||va.flatShading||va.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(va.extensionFragDepth||va.logarithmicDepthBuffer)&&va.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",va.extensionDrawBuffers&&va.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(va.extensionShaderTextureLOD||va.envMap)&&va.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return _a.filter(filterEmptyLine).join(`
`)}function generateDefines(va){var _a=[];for(var eo in va){var to=va[eo];to!==!1&&_a.push("#define "+eo+" "+to)}return _a.join(`
`)}function fetchAttributeLocations(va,_a){for(var eo={},to=va.getProgramParameter(_a,35721),ro=0;ro<to;ro++){var no=va.getActiveAttrib(_a,ro),io=no.name;eo[io]=va.getAttribLocation(_a,io)}return eo}function filterEmptyLine(va){return va!==""}function replaceLightNums(va,_a){return va.replace(/NUM_DIR_LIGHTS/g,_a.numDirLights).replace(/NUM_SPOT_LIGHTS/g,_a.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,_a.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,_a.numPointLights).replace(/NUM_HEMI_LIGHTS/g,_a.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,_a.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,_a.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,_a.numPointLightShadows)}function replaceClippingPlaneNums(va,_a){return va.replace(/NUM_CLIPPING_PLANES/g,_a.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,_a.numClippingPlanes-_a.numClipIntersection)}var includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(va){return va.replace(includePattern,includeReplacer)}function includeReplacer(va,_a){var eo=ShaderChunk[_a];if(eo===void 0)throw new Error("Can not resolve #include <"+_a+">");return resolveIncludes(eo)}var deprecatedUnrollLoopPattern=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,unrollLoopPattern=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function unrollLoops(va){return va.replace(unrollLoopPattern,loopReplacer).replace(deprecatedUnrollLoopPattern,deprecatedLoopReplacer)}function deprecatedLoopReplacer(va,_a,eo,to){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),loopReplacer(va,_a,eo,to)}function loopReplacer(va,_a,eo,to){for(var ro="",no=parseInt(_a);no<parseInt(eo);no++)ro+=to.replace(/\[ i \]/g,"[ "+no+" ]").replace(/UNROLLED_LOOP_INDEX/g,no);return ro}function generatePrecision(va){var _a="precision "+va.precision+` float;
precision `+va.precision+" int;";return va.precision==="highp"?_a+=`
#define HIGH_PRECISION`:va.precision==="mediump"?_a+=`
#define MEDIUM_PRECISION`:va.precision==="lowp"&&(_a+=`
#define LOW_PRECISION`),_a}function generateShadowMapTypeDefine(va){var _a="SHADOWMAP_TYPE_BASIC";return va.shadowMapType===PCFShadowMap?_a="SHADOWMAP_TYPE_PCF":va.shadowMapType===PCFSoftShadowMap?_a="SHADOWMAP_TYPE_PCF_SOFT":va.shadowMapType===VSMShadowMap&&(_a="SHADOWMAP_TYPE_VSM"),_a}function generateEnvMapTypeDefine(va){var _a="ENVMAP_TYPE_CUBE";if(va.envMap)switch(va.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:_a="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:case CubeUVRefractionMapping:_a="ENVMAP_TYPE_CUBE_UV";break;case EquirectangularReflectionMapping:case EquirectangularRefractionMapping:_a="ENVMAP_TYPE_EQUIREC";break;case SphericalReflectionMapping:_a="ENVMAP_TYPE_SPHERE";break}return _a}function generateEnvMapModeDefine(va){var _a="ENVMAP_MODE_REFLECTION";if(va.envMap)switch(va.envMapMode){case CubeRefractionMapping:case EquirectangularRefractionMapping:_a="ENVMAP_MODE_REFRACTION";break}return _a}function generateEnvMapBlendingDefine(va){var _a="ENVMAP_BLENDING_NONE";if(va.envMap)switch(va.combine){case MultiplyOperation:_a="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:_a="ENVMAP_BLENDING_MIX";break;case AddOperation:_a="ENVMAP_BLENDING_ADD";break}return _a}function WebGLProgram(va,_a,eo){var to=va.getContext(),ro=eo.defines,no=eo.vertexShader,io=eo.fragmentShader,ao=generateShadowMapTypeDefine(eo),oo=generateEnvMapTypeDefine(eo),so=generateEnvMapModeDefine(eo),uo=generateEnvMapBlendingDefine(eo),co=va.gammaFactor>0?va.gammaFactor:1,fo=eo.isWebGL2?"":generateExtensions(eo),po=generateDefines(ro),vo=to.createProgram(),go,mo;if(eo.isRawShaderMaterial?(go=[po].filter(filterEmptyLine).join(`
`),go.length>0&&(go+=`
`),mo=[fo,po].filter(filterEmptyLine).join(`
`),mo.length>0&&(mo+=`
`)):(go=[generatePrecision(eo),"#define SHADER_NAME "+eo.shaderName,po,eo.instancing?"#define USE_INSTANCING":"",eo.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+co,"#define MAX_BONES "+eo.maxBones,eo.useFog&&eo.fog?"#define USE_FOG":"",eo.useFog&&eo.fogExp2?"#define FOG_EXP2":"",eo.map?"#define USE_MAP":"",eo.envMap?"#define USE_ENVMAP":"",eo.envMap?"#define "+so:"",eo.lightMap?"#define USE_LIGHTMAP":"",eo.aoMap?"#define USE_AOMAP":"",eo.emissiveMap?"#define USE_EMISSIVEMAP":"",eo.bumpMap?"#define USE_BUMPMAP":"",eo.normalMap?"#define USE_NORMALMAP":"",eo.normalMap&&eo.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",eo.normalMap&&eo.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",eo.clearcoatMap?"#define USE_CLEARCOATMAP":"",eo.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",eo.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",eo.displacementMap&&eo.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",eo.specularMap?"#define USE_SPECULARMAP":"",eo.roughnessMap?"#define USE_ROUGHNESSMAP":"",eo.metalnessMap?"#define USE_METALNESSMAP":"",eo.alphaMap?"#define USE_ALPHAMAP":"",eo.vertexTangents?"#define USE_TANGENT":"",eo.vertexColors?"#define USE_COLOR":"",eo.vertexUvs?"#define USE_UV":"",eo.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",eo.flatShading?"#define FLAT_SHADED":"",eo.skinning?"#define USE_SKINNING":"",eo.useVertexTexture?"#define BONE_TEXTURE":"",eo.morphTargets?"#define USE_MORPHTARGETS":"",eo.morphNormals&&eo.flatShading===!1?"#define USE_MORPHNORMALS":"",eo.doubleSided?"#define DOUBLE_SIDED":"",eo.flipSided?"#define FLIP_SIDED":"",eo.shadowMapEnabled?"#define USE_SHADOWMAP":"",eo.shadowMapEnabled?"#define "+ao:"",eo.sizeAttenuation?"#define USE_SIZEATTENUATION":"",eo.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",eo.logarithmicDepthBuffer&&eo.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),mo=[fo,generatePrecision(eo),"#define SHADER_NAME "+eo.shaderName,po,eo.alphaTest?"#define ALPHATEST "+eo.alphaTest+(eo.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+co,eo.useFog&&eo.fog?"#define USE_FOG":"",eo.useFog&&eo.fogExp2?"#define FOG_EXP2":"",eo.map?"#define USE_MAP":"",eo.matcap?"#define USE_MATCAP":"",eo.envMap?"#define USE_ENVMAP":"",eo.envMap?"#define "+oo:"",eo.envMap?"#define "+so:"",eo.envMap?"#define "+uo:"",eo.lightMap?"#define USE_LIGHTMAP":"",eo.aoMap?"#define USE_AOMAP":"",eo.emissiveMap?"#define USE_EMISSIVEMAP":"",eo.bumpMap?"#define USE_BUMPMAP":"",eo.normalMap?"#define USE_NORMALMAP":"",eo.normalMap&&eo.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",eo.normalMap&&eo.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",eo.clearcoatMap?"#define USE_CLEARCOATMAP":"",eo.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",eo.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",eo.specularMap?"#define USE_SPECULARMAP":"",eo.roughnessMap?"#define USE_ROUGHNESSMAP":"",eo.metalnessMap?"#define USE_METALNESSMAP":"",eo.alphaMap?"#define USE_ALPHAMAP":"",eo.sheen?"#define USE_SHEEN":"",eo.vertexTangents?"#define USE_TANGENT":"",eo.vertexColors?"#define USE_COLOR":"",eo.vertexUvs?"#define USE_UV":"",eo.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",eo.gradientMap?"#define USE_GRADIENTMAP":"",eo.flatShading?"#define FLAT_SHADED":"",eo.doubleSided?"#define DOUBLE_SIDED":"",eo.flipSided?"#define FLIP_SIDED":"",eo.shadowMapEnabled?"#define USE_SHADOWMAP":"",eo.shadowMapEnabled?"#define "+ao:"",eo.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",eo.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",eo.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",eo.logarithmicDepthBuffer&&eo.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(eo.extensionShaderTextureLOD||eo.envMap)&&eo.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",eo.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",eo.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",eo.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",eo.toneMapping):"",eo.dithering?"#define DITHERING":"",eo.outputEncoding||eo.mapEncoding||eo.matcapEncoding||eo.envMapEncoding||eo.emissiveMapEncoding||eo.lightMapEncoding?ShaderChunk.encodings_pars_fragment:"",eo.mapEncoding?getTexelDecodingFunction("mapTexelToLinear",eo.mapEncoding):"",eo.matcapEncoding?getTexelDecodingFunction("matcapTexelToLinear",eo.matcapEncoding):"",eo.envMapEncoding?getTexelDecodingFunction("envMapTexelToLinear",eo.envMapEncoding):"",eo.emissiveMapEncoding?getTexelDecodingFunction("emissiveMapTexelToLinear",eo.emissiveMapEncoding):"",eo.lightMapEncoding?getTexelDecodingFunction("lightMapTexelToLinear",eo.lightMapEncoding):"",eo.outputEncoding?getTexelEncodingFunction("linearToOutputTexel",eo.outputEncoding):"",eo.depthPacking?"#define DEPTH_PACKING "+eo.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),no=resolveIncludes(no),no=replaceLightNums(no,eo),no=replaceClippingPlaneNums(no,eo),io=resolveIncludes(io),io=replaceLightNums(io,eo),io=replaceClippingPlaneNums(io,eo),no=unrollLoops(no),io=unrollLoops(io),eo.isWebGL2&&!eo.isRawShaderMaterial){var lo=!1,ho=/^\s*#version\s+300\s+es\s*\n/;eo.isShaderMaterial&&no.match(ho)!==null&&io.match(ho)!==null&&(lo=!0,no=no.replace(ho,""),io=io.replace(ho,"")),go=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+go,mo=[`#version 300 es
`,"#define varying in",lo?"":"out highp vec4 pc_fragColor;",lo?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+mo}var yo=go+no,Ao=mo+io,Eo=WebGLShader(to,35633,yo),To=WebGLShader(to,35632,Ao);if(to.attachShader(vo,Eo),to.attachShader(vo,To),eo.index0AttributeName!==void 0?to.bindAttribLocation(vo,0,eo.index0AttributeName):eo.morphTargets===!0&&to.bindAttribLocation(vo,0,"position"),to.linkProgram(vo),va.debug.checkShaderErrors){var No=to.getProgramInfoLog(vo).trim(),Co=to.getShaderInfoLog(Eo).trim(),Io=to.getShaderInfoLog(To).trim(),Mo=!0,wo=!0;if(to.getProgramParameter(vo,35714)===!1){Mo=!1;var xo=getShaderErrors(to,Eo,"vertex"),bo=getShaderErrors(to,To,"fragment");console.error("THREE.WebGLProgram: shader error: ",to.getError(),"35715",to.getProgramParameter(vo,35715),"gl.getProgramInfoLog",No,xo,bo)}else No!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",No):(Co===""||Io==="")&&(wo=!1);wo&&(this.diagnostics={runnable:Mo,programLog:No,vertexShader:{log:Co,prefix:go},fragmentShader:{log:Io,prefix:mo}})}to.deleteShader(Eo),to.deleteShader(To);var So;this.getUniforms=function(){return So===void 0&&(So=new WebGLUniforms(to,vo)),So};var Do;return this.getAttributes=function(){return Do===void 0&&(Do=fetchAttributeLocations(to,vo)),Do},this.destroy=function(){to.deleteProgram(vo),this.program=void 0},this.name=eo.shaderName,this.id=programIdCount++,this.cacheKey=_a,this.usedTimes=1,this.program=vo,this.vertexShader=Eo,this.fragmentShader=To,this}function WebGLPrograms(va,_a,eo){var to=[],ro=eo.isWebGL2,no=eo.logarithmicDepthBuffer,io=eo.floatVertexTextures,ao=eo.precision,oo=eo.maxVertexUniforms,so=eo.vertexTextures,uo={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},co=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function fo(go,mo){var lo;if(mo){var ho=ShaderLib[mo];lo={name:go.type,uniforms:UniformsUtils.clone(ho.uniforms),vertexShader:ho.vertexShader,fragmentShader:ho.fragmentShader}}else lo={name:go.type,uniforms:go.uniforms,vertexShader:go.vertexShader,fragmentShader:go.fragmentShader};return lo}function po(go){var mo=go.skeleton,lo=mo.bones;if(io)return 1024;var ho=oo,yo=Math.floor((ho-20)/4),Ao=Math.min(yo,lo.length);return Ao<lo.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+lo.length+" bones. This GPU supports "+Ao+"."),0):Ao}function vo(go){var mo;return go?go.isTexture?mo=go.encoding:go.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),mo=go.texture.encoding):mo=LinearEncoding,mo}this.getParameters=function(go,mo,lo,ho,yo,Ao,Eo){var To=ho.fog,No=go.isMeshStandardMaterial?ho.environment:null,Co=go.envMap||No,Io=uo[go.type],Mo=Eo.isSkinnedMesh?po(Eo):0;go.precision!==null&&(ao=eo.getMaxPrecision(go.precision),ao!==go.precision&&console.warn("THREE.WebGLProgram.getParameters:",go.precision,"not supported, using",ao,"instead."));var wo=fo(go,Io);go.onBeforeCompile(wo,va);var xo=va.getRenderTarget(),bo={isWebGL2:ro,shaderID:Io,shaderName:wo.name,uniforms:wo.uniforms,vertexShader:wo.vertexShader,fragmentShader:wo.fragmentShader,defines:go.defines,isRawShaderMaterial:go.isRawShaderMaterial,isShaderMaterial:go.isShaderMaterial,precision:ao,instancing:Eo.isInstancedMesh===!0,supportsVertexTextures:so,outputEncoding:xo!==null?vo(xo.texture):va.outputEncoding,map:!!go.map,mapEncoding:vo(go.map),matcap:!!go.matcap,matcapEncoding:vo(go.matcap),envMap:!!Co,envMapMode:Co&&Co.mapping,envMapEncoding:vo(Co),envMapCubeUV:!!Co&&(Co.mapping===CubeUVReflectionMapping||Co.mapping===CubeUVRefractionMapping),lightMap:!!go.lightMap,lightMapEncoding:vo(go.lightMap),aoMap:!!go.aoMap,emissiveMap:!!go.emissiveMap,emissiveMapEncoding:vo(go.emissiveMap),bumpMap:!!go.bumpMap,normalMap:!!go.normalMap,objectSpaceNormalMap:go.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:go.normalMapType===TangentSpaceNormalMap,clearcoatMap:!!go.clearcoatMap,clearcoatRoughnessMap:!!go.clearcoatRoughnessMap,clearcoatNormalMap:!!go.clearcoatNormalMap,displacementMap:!!go.displacementMap,roughnessMap:!!go.roughnessMap,metalnessMap:!!go.metalnessMap,specularMap:!!go.specularMap,alphaMap:!!go.alphaMap,gradientMap:!!go.gradientMap,sheen:!!go.sheen,combine:go.combine,vertexTangents:go.normalMap&&go.vertexTangents,vertexColors:go.vertexColors,vertexUvs:!!go.map||!!go.bumpMap||!!go.normalMap||!!go.specularMap||!!go.alphaMap||!!go.emissiveMap||!!go.roughnessMap||!!go.metalnessMap||!!go.clearcoatMap||!!go.clearcoatRoughnessMap||!!go.clearcoatNormalMap||!!go.displacementMap,uvsVertexOnly:!(!!go.map||!!go.bumpMap||!!go.normalMap||!!go.specularMap||!!go.alphaMap||!!go.emissiveMap||!!go.roughnessMap||!!go.metalnessMap||!!go.clearcoatNormalMap)&&!!go.displacementMap,fog:!!To,useFog:go.fog,fogExp2:To&&To.isFogExp2,flatShading:go.flatShading,sizeAttenuation:go.sizeAttenuation,logarithmicDepthBuffer:no,skinning:go.skinning&&Mo>0,maxBones:Mo,useVertexTexture:io,morphTargets:go.morphTargets,morphNormals:go.morphNormals,maxMorphTargets:va.maxMorphTargets,maxMorphNormals:va.maxMorphNormals,numDirLights:mo.directional.length,numPointLights:mo.point.length,numSpotLights:mo.spot.length,numRectAreaLights:mo.rectArea.length,numHemiLights:mo.hemi.length,numDirLightShadows:mo.directionalShadowMap.length,numPointLightShadows:mo.pointShadowMap.length,numSpotLightShadows:mo.spotShadowMap.length,numClippingPlanes:yo,numClipIntersection:Ao,dithering:go.dithering,shadowMapEnabled:va.shadowMap.enabled&&lo.length>0,shadowMapType:va.shadowMap.type,toneMapping:go.toneMapped?va.toneMapping:NoToneMapping,physicallyCorrectLights:va.physicallyCorrectLights,premultipliedAlpha:go.premultipliedAlpha,alphaTest:go.alphaTest,doubleSided:go.side===DoubleSide,flipSided:go.side===BackSide,depthPacking:go.depthPacking!==void 0?go.depthPacking:!1,index0AttributeName:go.index0AttributeName,extensionDerivatives:go.extensions&&go.extensions.derivatives,extensionFragDepth:go.extensions&&go.extensions.fragDepth,extensionDrawBuffers:go.extensions&&go.extensions.drawBuffers,extensionShaderTextureLOD:go.extensions&&go.extensions.shaderTextureLOD,rendererExtensionFragDepth:ro||_a.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:ro||_a.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:ro||_a.get("EXT_shader_texture_lod")!==null,onBeforeCompile:go.onBeforeCompile};return bo},this.getProgramCacheKey=function(go){var mo=[];if(go.shaderID?mo.push(go.shaderID):(mo.push(go.fragmentShader),mo.push(go.vertexShader)),go.defines!==void 0)for(var lo in go.defines)mo.push(lo),mo.push(go.defines[lo]);if(go.isRawShaderMaterial===void 0){for(var ho=0;ho<co.length;ho++)mo.push(go[co[ho]]);mo.push(va.outputEncoding),mo.push(va.gammaFactor)}return mo.push(go.onBeforeCompile.toString()),mo.join()},this.acquireProgram=function(go,mo){for(var lo,ho=0,yo=to.length;ho<yo;ho++){var Ao=to[ho];if(Ao.cacheKey===mo){lo=Ao,++lo.usedTimes;break}}return lo===void 0&&(lo=new WebGLProgram(va,mo,go),to.push(lo)),lo},this.releaseProgram=function(go){if(--go.usedTimes===0){var mo=to.indexOf(go);to[mo]=to[to.length-1],to.pop(),go.destroy()}},this.programs=to}function WebGLProperties(){var va=new WeakMap;function _a(no){var io=va.get(no);return io===void 0&&(io={},va.set(no,io)),io}function eo(no){va.delete(no)}function to(no,io,ao){va.get(no)[io]=ao}function ro(){va=new WeakMap}return{get:_a,remove:eo,update:to,dispose:ro}}function painterSortStable(va,_a){return va.groupOrder!==_a.groupOrder?va.groupOrder-_a.groupOrder:va.renderOrder!==_a.renderOrder?va.renderOrder-_a.renderOrder:va.program!==_a.program?va.program.id-_a.program.id:va.material.id!==_a.material.id?va.material.id-_a.material.id:va.z!==_a.z?va.z-_a.z:va.id-_a.id}function reversePainterSortStable(va,_a){return va.groupOrder!==_a.groupOrder?va.groupOrder-_a.groupOrder:va.renderOrder!==_a.renderOrder?va.renderOrder-_a.renderOrder:va.z!==_a.z?_a.z-va.z:va.id-_a.id}function WebGLRenderList(){var va=[],_a=0,eo=[],to=[],ro={id:-1};function no(){_a=0,eo.length=0,to.length=0}function io(co,fo,po,vo,go,mo){var lo=va[_a];return lo===void 0?(lo={id:co.id,object:co,geometry:fo,material:po,program:po.program||ro,groupOrder:vo,renderOrder:co.renderOrder,z:go,group:mo},va[_a]=lo):(lo.id=co.id,lo.object=co,lo.geometry=fo,lo.material=po,lo.program=po.program||ro,lo.groupOrder=vo,lo.renderOrder=co.renderOrder,lo.z=go,lo.group=mo),_a++,lo}function ao(co,fo,po,vo,go,mo){var lo=io(co,fo,po,vo,go,mo);(po.transparent===!0?to:eo).push(lo)}function oo(co,fo,po,vo,go,mo){var lo=io(co,fo,po,vo,go,mo);(po.transparent===!0?to:eo).unshift(lo)}function so(co,fo){eo.length>1&&eo.sort(co||painterSortStable),to.length>1&&to.sort(fo||reversePainterSortStable)}function uo(){for(var co=_a,fo=va.length;co<fo;co++){var po=va[co];if(po.id===null)break;po.id=null,po.object=null,po.geometry=null,po.material=null,po.program=null,po.group=null}}return{opaque:eo,transparent:to,init:no,push:ao,unshift:oo,finish:uo,sort:so}}function WebGLRenderLists(){var va=new WeakMap;function _a(ro){var no=ro.target;no.removeEventListener("dispose",_a),va.delete(no)}function eo(ro,no){var io=va.get(ro),ao;return io===void 0?(ao=new WebGLRenderList,va.set(ro,new WeakMap),va.get(ro).set(no,ao),ro.addEventListener("dispose",_a)):(ao=io.get(no),ao===void 0&&(ao=new WebGLRenderList,io.set(no,ao))),ao}function to(){va=new WeakMap}return{get:eo,dispose:to}}function UniformsCache(){var va={};return{get:function(_a){if(va[_a.id]!==void 0)return va[_a.id];var eo;switch(_a.type){case"DirectionalLight":eo={direction:new Vector3,color:new Color};break;case"SpotLight":eo={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":eo={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":eo={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":eo={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return va[_a.id]=eo,eo}}}function ShadowUniformsCache(){var va={};return{get:function(_a){if(va[_a.id]!==void 0)return va[_a.id];var eo;switch(_a.type){case"DirectionalLight":eo={shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":eo={shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":eo={shadowBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return va[_a.id]=eo,eo}}}var nextVersion=0;function shadowCastingLightsFirst(va,_a){return(_a.castShadow?1:0)-(va.castShadow?1:0)}function WebGLLights(){for(var va=new UniformsCache,_a=ShadowUniformsCache(),eo={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},to=0;to<9;to++)eo.probe.push(new Vector3);var ro=new Vector3,no=new Matrix4,io=new Matrix4;function ao(oo,so,uo){for(var co=0,fo=0,po=0,vo=0;vo<9;vo++)eo.probe[vo].set(0,0,0);var go=0,mo=0,lo=0,ho=0,yo=0,Ao=0,Eo=0,To=0,No=uo.matrixWorldInverse;oo.sort(shadowCastingLightsFirst);for(var vo=0,Co=oo.length;vo<Co;vo++){var Io=oo[vo],Mo=Io.color,wo=Io.intensity,xo=Io.distance,bo=Io.shadow&&Io.shadow.map?Io.shadow.map.texture:null;if(Io.isAmbientLight)co+=Mo.r*wo,fo+=Mo.g*wo,po+=Mo.b*wo;else if(Io.isLightProbe)for(var So=0;So<9;So++)eo.probe[So].addScaledVector(Io.sh.coefficients[So],wo);else if(Io.isDirectionalLight){var Do=va.get(Io);if(Do.color.copy(Io.color).multiplyScalar(Io.intensity),Do.direction.setFromMatrixPosition(Io.matrixWorld),ro.setFromMatrixPosition(Io.target.matrixWorld),Do.direction.sub(ro),Do.direction.transformDirection(No),Io.castShadow){var Oo=Io.shadow,Bo=_a.get(Io);Bo.shadowBias=Oo.bias,Bo.shadowRadius=Oo.radius,Bo.shadowMapSize=Oo.mapSize,eo.directionalShadow[go]=Bo,eo.directionalShadowMap[go]=bo,eo.directionalShadowMatrix[go]=Io.shadow.matrix,Ao++}eo.directional[go]=Do,go++}else if(Io.isSpotLight){var Do=va.get(Io);if(Do.position.setFromMatrixPosition(Io.matrixWorld),Do.position.applyMatrix4(No),Do.color.copy(Mo).multiplyScalar(wo),Do.distance=xo,Do.direction.setFromMatrixPosition(Io.matrixWorld),ro.setFromMatrixPosition(Io.target.matrixWorld),Do.direction.sub(ro),Do.direction.transformDirection(No),Do.coneCos=Math.cos(Io.angle),Do.penumbraCos=Math.cos(Io.angle*(1-Io.penumbra)),Do.decay=Io.decay,Io.castShadow){var Oo=Io.shadow,Bo=_a.get(Io);Bo.shadowBias=Oo.bias,Bo.shadowRadius=Oo.radius,Bo.shadowMapSize=Oo.mapSize,eo.spotShadow[lo]=Bo,eo.spotShadowMap[lo]=bo,eo.spotShadowMatrix[lo]=Io.shadow.matrix,To++}eo.spot[lo]=Do,lo++}else if(Io.isRectAreaLight){var Do=va.get(Io);Do.color.copy(Mo).multiplyScalar(wo),Do.position.setFromMatrixPosition(Io.matrixWorld),Do.position.applyMatrix4(No),io.identity(),no.copy(Io.matrixWorld),no.premultiply(No),io.extractRotation(no),Do.halfWidth.set(Io.width*.5,0,0),Do.halfHeight.set(0,Io.height*.5,0),Do.halfWidth.applyMatrix4(io),Do.halfHeight.applyMatrix4(io),eo.rectArea[ho]=Do,ho++}else if(Io.isPointLight){var Do=va.get(Io);if(Do.position.setFromMatrixPosition(Io.matrixWorld),Do.position.applyMatrix4(No),Do.color.copy(Io.color).multiplyScalar(Io.intensity),Do.distance=Io.distance,Do.decay=Io.decay,Io.castShadow){var Oo=Io.shadow,Bo=_a.get(Io);Bo.shadowBias=Oo.bias,Bo.shadowRadius=Oo.radius,Bo.shadowMapSize=Oo.mapSize,Bo.shadowCameraNear=Oo.camera.near,Bo.shadowCameraFar=Oo.camera.far,eo.pointShadow[mo]=Bo,eo.pointShadowMap[mo]=bo,eo.pointShadowMatrix[mo]=Io.shadow.matrix,Eo++}eo.point[mo]=Do,mo++}else if(Io.isHemisphereLight){var Do=va.get(Io);Do.direction.setFromMatrixPosition(Io.matrixWorld),Do.direction.transformDirection(No),Do.direction.normalize(),Do.skyColor.copy(Io.color).multiplyScalar(wo),Do.groundColor.copy(Io.groundColor).multiplyScalar(wo),eo.hemi[yo]=Do,yo++}}eo.ambient[0]=co,eo.ambient[1]=fo,eo.ambient[2]=po;var $o=eo.hash;($o.directionalLength!==go||$o.pointLength!==mo||$o.spotLength!==lo||$o.rectAreaLength!==ho||$o.hemiLength!==yo||$o.numDirectionalShadows!==Ao||$o.numPointShadows!==Eo||$o.numSpotShadows!==To)&&(eo.directional.length=go,eo.spot.length=lo,eo.rectArea.length=ho,eo.point.length=mo,eo.hemi.length=yo,eo.directionalShadow.length=Ao,eo.directionalShadowMap.length=Ao,eo.pointShadow.length=Eo,eo.pointShadowMap.length=Eo,eo.spotShadow.length=To,eo.spotShadowMap.length=To,eo.directionalShadowMatrix.length=Ao,eo.pointShadowMatrix.length=Eo,eo.spotShadowMatrix.length=To,$o.directionalLength=go,$o.pointLength=mo,$o.spotLength=lo,$o.rectAreaLength=ho,$o.hemiLength=yo,$o.numDirectionalShadows=Ao,$o.numPointShadows=Eo,$o.numSpotShadows=To,eo.version=nextVersion++)}return{setup:ao,state:eo}}function WebGLRenderState(){var va=new WebGLLights,_a=[],eo=[];function to(){_a.length=0,eo.length=0}function ro(oo){_a.push(oo)}function no(oo){eo.push(oo)}function io(oo){va.setup(_a,eo,oo)}var ao={lightsArray:_a,shadowsArray:eo,lights:va};return{init:to,state:ao,setupLights:io,pushLight:ro,pushShadow:no}}function WebGLRenderStates(){var va=new WeakMap;function _a(ro){var no=ro.target;no.removeEventListener("dispose",_a),va.delete(no)}function eo(ro,no){var io;return va.has(ro)===!1?(io=new WebGLRenderState,va.set(ro,new WeakMap),va.get(ro).set(no,io),ro.addEventListener("dispose",_a)):va.get(ro).has(no)===!1?(io=new WebGLRenderState,va.get(ro).set(no,io)):io=va.get(ro).get(no),io}function to(){va=new WeakMap}return{get:eo,dispose:to}}function MeshDepthMaterial(va){Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(va)}MeshDepthMaterial.prototype=Object.create(Material.prototype);MeshDepthMaterial.prototype.constructor=MeshDepthMaterial;MeshDepthMaterial.prototype.isMeshDepthMaterial=!0;MeshDepthMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.depthPacking=va.depthPacking,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.map=va.map,this.alphaMap=va.alphaMap,this.displacementMap=va.displacementMap,this.displacementScale=va.displacementScale,this.displacementBias=va.displacementBias,this.wireframe=va.wireframe,this.wireframeLinewidth=va.wireframeLinewidth,this};function MeshDistanceMaterial(va){Material.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(va)}MeshDistanceMaterial.prototype=Object.create(Material.prototype);MeshDistanceMaterial.prototype.constructor=MeshDistanceMaterial;MeshDistanceMaterial.prototype.isMeshDistanceMaterial=!0;MeshDistanceMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.referencePosition.copy(va.referencePosition),this.nearDistance=va.nearDistance,this.farDistance=va.farDistance,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.map=va.map,this.alphaMap=va.alphaMap,this.displacementMap=va.displacementMap,this.displacementScale=va.displacementScale,this.displacementBias=va.displacementBias,this};var vsm_frag=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,vsm_vert=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function WebGLShadowMap(va,_a,eo){var to=new Frustum,ro=new Vector2,no=new Vector2,io=new Vector4,ao=[],oo=[],so={},uo={0:BackSide,1:FrontSide,2:DoubleSide},co=new ShaderMaterial({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vsm_vert,fragmentShader:vsm_frag}),fo=co.clone();fo.defines.HORIZONAL_PASS=1;var po=new BufferGeometry;po.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var vo=new Mesh(po,co),go=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(Eo,To,No){if(go.enabled!==!1&&!(go.autoUpdate===!1&&go.needsUpdate===!1)&&Eo.length!==0){var Co=va.getRenderTarget(),Io=va.getActiveCubeFace(),Mo=va.getActiveMipmapLevel(),wo=va.state;wo.setBlending(NoBlending),wo.buffers.color.setClear(1,1,1,1),wo.buffers.depth.setTest(!0),wo.setScissorTest(!1);for(var xo=0,bo=Eo.length;xo<bo;xo++){var So=Eo[xo],Do=So.shadow;if(Do===void 0){console.warn("THREE.WebGLShadowMap:",So,"has no shadow.");continue}ro.copy(Do.mapSize);var Oo=Do.getFrameExtents();if(ro.multiply(Oo),no.copy(Do.mapSize),(ro.x>eo||ro.y>eo)&&(ro.x>eo&&(no.x=Math.floor(eo/Oo.x),ro.x=no.x*Oo.x,Do.mapSize.x=no.x),ro.y>eo&&(no.y=Math.floor(eo/Oo.y),ro.y=no.y*Oo.y,Do.mapSize.y=no.y)),Do.map===null&&!Do.isPointLightShadow&&this.type===VSMShadowMap){var Bo={minFilter:LinearFilter,magFilter:LinearFilter,format:RGBAFormat};Do.map=new WebGLRenderTarget(ro.x,ro.y,Bo),Do.map.texture.name=So.name+".shadowMap",Do.mapPass=new WebGLRenderTarget(ro.x,ro.y,Bo),Do.camera.updateProjectionMatrix()}if(Do.map===null){var Bo={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};Do.map=new WebGLRenderTarget(ro.x,ro.y,Bo),Do.map.texture.name=So.name+".shadowMap",Do.camera.updateProjectionMatrix()}va.setRenderTarget(Do.map),va.clear();for(var $o=Do.getViewportCount(),Vo=0;Vo<$o;Vo++){var Ho=Do.getViewport(Vo);io.set(no.x*Ho.x,no.y*Ho.y,no.x*Ho.z,no.y*Ho.w),wo.viewport(io),Do.updateMatrices(So,Vo),to=Do.getFrustum(),Ao(To,No,Do.camera,So,this.type)}!Do.isPointLightShadow&&this.type===VSMShadowMap&&mo(Do,No)}go.needsUpdate=!1,va.setRenderTarget(Co,Io,Mo)}};function mo(Eo,To){var No=_a.update(vo);co.uniforms.shadow_pass.value=Eo.map.texture,co.uniforms.resolution.value=Eo.mapSize,co.uniforms.radius.value=Eo.radius,va.setRenderTarget(Eo.mapPass),va.clear(),va.renderBufferDirect(To,null,No,co,vo,null),fo.uniforms.shadow_pass.value=Eo.mapPass.texture,fo.uniforms.resolution.value=Eo.mapSize,fo.uniforms.radius.value=Eo.radius,va.setRenderTarget(Eo.map),va.clear(),va.renderBufferDirect(To,null,No,fo,vo,null)}function lo(Eo,To,No){var Co=Eo<<0|To<<1|No<<2,Io=ao[Co];return Io===void 0&&(Io=new MeshDepthMaterial({depthPacking:RGBADepthPacking,morphTargets:Eo,skinning:To}),ao[Co]=Io),Io}function ho(Eo,To,No){var Co=Eo<<0|To<<1|No<<2,Io=oo[Co];return Io===void 0&&(Io=new MeshDistanceMaterial({morphTargets:Eo,skinning:To}),oo[Co]=Io),Io}function yo(Eo,To,No,Co,Io,Mo,wo){var xo=null,bo=lo,So=Eo.customDepthMaterial;if(Co.isPointLight===!0&&(bo=ho,So=Eo.customDistanceMaterial),So===void 0){var Do=!1;No.morphTargets===!0&&(Do=To.morphAttributes&&To.morphAttributes.position&&To.morphAttributes.position.length>0);var Oo=!1;Eo.isSkinnedMesh===!0&&(No.skinning===!0?Oo=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Eo));var Bo=Eo.isInstancedMesh===!0;xo=bo(Do,Oo,Bo)}else xo=So;if(va.localClippingEnabled&&No.clipShadows===!0&&No.clippingPlanes.length!==0){var $o=xo.uuid,Vo=No.uuid,Ho=so[$o];Ho===void 0&&(Ho={},so[$o]=Ho);var Fo=Ho[Vo];Fo===void 0&&(Fo=xo.clone(),Ho[Vo]=Fo),xo=Fo}return xo.visible=No.visible,xo.wireframe=No.wireframe,wo===VSMShadowMap?xo.side=No.shadowSide!==null?No.shadowSide:No.side:xo.side=No.shadowSide!==null?No.shadowSide:uo[No.side],xo.clipShadows=No.clipShadows,xo.clippingPlanes=No.clippingPlanes,xo.clipIntersection=No.clipIntersection,xo.wireframeLinewidth=No.wireframeLinewidth,xo.linewidth=No.linewidth,Co.isPointLight===!0&&xo.isMeshDistanceMaterial===!0&&(xo.referencePosition.setFromMatrixPosition(Co.matrixWorld),xo.nearDistance=Io,xo.farDistance=Mo),xo}function Ao(Eo,To,No,Co,Io){if(Eo.visible!==!1){var Mo=Eo.layers.test(To.layers);if(Mo&&(Eo.isMesh||Eo.isLine||Eo.isPoints)&&(Eo.castShadow||Eo.receiveShadow&&Io===VSMShadowMap)&&(!Eo.frustumCulled||to.intersectsObject(Eo))){Eo.modelViewMatrix.multiplyMatrices(No.matrixWorldInverse,Eo.matrixWorld);var wo=_a.update(Eo),xo=Eo.material;if(Array.isArray(xo))for(var bo=wo.groups,So=0,Do=bo.length;So<Do;So++){var Oo=bo[So],Bo=xo[Oo.materialIndex];if(Bo&&Bo.visible){var $o=yo(Eo,wo,Bo,Co,No.near,No.far,Io);va.renderBufferDirect(No,null,wo,$o,Eo,Oo)}}else if(xo.visible){var $o=yo(Eo,wo,xo,Co,No.near,No.far,Io);va.renderBufferDirect(No,null,wo,$o,Eo,null)}}for(var Vo=Eo.children,Ho=0,Fo=Vo.length;Ho<Fo;Ho++)Ao(Vo[Ho],To,No,Co,Io)}}}function WebGLState(va,_a,eo){var to=eo.isWebGL2;function ro(){var Jo=!1,Eu=new Vector4,Du=null,Uu=new Vector4(0,0,0,0);return{setMask:function(Tu){Du!==Tu&&!Jo&&(va.colorMask(Tu,Tu,Tu,Tu),Du=Tu)},setLocked:function(Tu){Jo=Tu},setClear:function(Tu,Ru,Ju,al,dl){dl===!0&&(Tu*=al,Ru*=al,Ju*=al),Eu.set(Tu,Ru,Ju,al),Uu.equals(Eu)===!1&&(va.clearColor(Tu,Ru,Ju,al),Uu.copy(Eu))},reset:function(){Jo=!1,Du=null,Uu.set(-1,0,0,0)}}}function no(){var Jo=!1,Eu=null,Du=null,Uu=null;return{setTest:function(Tu){Tu?ou(2929):ru(2929)},setMask:function(Tu){Eu!==Tu&&!Jo&&(va.depthMask(Tu),Eu=Tu)},setFunc:function(Tu){if(Du!==Tu){if(Tu)switch(Tu){case NeverDepth:va.depthFunc(512);break;case AlwaysDepth:va.depthFunc(519);break;case LessDepth:va.depthFunc(513);break;case LessEqualDepth:va.depthFunc(515);break;case EqualDepth:va.depthFunc(514);break;case GreaterEqualDepth:va.depthFunc(518);break;case GreaterDepth:va.depthFunc(516);break;case NotEqualDepth:va.depthFunc(517);break;default:va.depthFunc(515)}else va.depthFunc(515);Du=Tu}},setLocked:function(Tu){Jo=Tu},setClear:function(Tu){Uu!==Tu&&(va.clearDepth(Tu),Uu=Tu)},reset:function(){Jo=!1,Eu=null,Du=null,Uu=null}}}function io(){var Jo=!1,Eu=null,Du=null,Uu=null,Tu=null,Ru=null,Ju=null,al=null,dl=null;return{setTest:function(zu){Jo||(zu?ou(2960):ru(2960))},setMask:function(zu){Eu!==zu&&!Jo&&(va.stencilMask(zu),Eu=zu)},setFunc:function(zu,hl,pl){(Du!==zu||Uu!==hl||Tu!==pl)&&(va.stencilFunc(zu,hl,pl),Du=zu,Uu=hl,Tu=pl)},setOp:function(zu,hl,pl){(Ru!==zu||Ju!==hl||al!==pl)&&(va.stencilOp(zu,hl,pl),Ru=zu,Ju=hl,al=pl)},setLocked:function(zu){Jo=zu},setClear:function(zu){dl!==zu&&(va.clearStencil(zu),dl=zu)},reset:function(){Jo=!1,Eu=null,Du=null,Uu=null,Tu=null,Ru=null,Ju=null,al=null,dl=null}}}var ao=new ro,oo=new no,so=new io,uo=va.getParameter(34921),co=new Uint8Array(uo),fo=new Uint8Array(uo),po=new Uint8Array(uo),vo={},go=null,mo=null,lo=null,ho=null,yo=null,Ao=null,Eo=null,To=null,No=null,Co=!1,Io=null,Mo=null,wo=null,xo=null,bo=null,So=va.getParameter(35661),Do=!1,Oo=0,Bo=va.getParameter(7938);Bo.indexOf("WebGL")!==-1?(Oo=parseFloat(/^WebGL\ ([0-9])/.exec(Bo)[1]),Do=Oo>=1):Bo.indexOf("OpenGL ES")!==-1&&(Oo=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(Bo)[1]),Do=Oo>=2);var $o=null,Vo={},Ho=new Vector4,Fo=new Vector4;function Ko(Jo,Eu,Du){var Uu=new Uint8Array(4),Tu=va.createTexture();va.bindTexture(Jo,Tu),va.texParameteri(Jo,10241,9728),va.texParameteri(Jo,10240,9728);for(var Ru=0;Ru<Du;Ru++)va.texImage2D(Eu+Ru,0,6408,1,1,0,6408,5121,Uu);return Tu}var $s={};$s[3553]=Ko(3553,3553,1),$s[34067]=Ko(34067,34069,6),ao.setClear(0,0,0,1),oo.setClear(1),so.setClear(0),ou(2929),oo.setFunc(LessEqualDepth),Uo(!1),Yo(CullFaceBack),ou(2884),$u(NoBlending);function au(){for(var Jo=0,Eu=co.length;Jo<Eu;Jo++)co[Jo]=0}function Ks(Jo){Gs(Jo,0)}function Gs(Jo,Eu){if(co[Jo]=1,fo[Jo]===0&&(va.enableVertexAttribArray(Jo),fo[Jo]=1),po[Jo]!==Eu){var Du=to?va:_a.get("ANGLE_instanced_arrays");Du[to?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Jo,Eu),po[Jo]=Eu}}function qs(){for(var Jo=0,Eu=fo.length;Jo!==Eu;++Jo)fo[Jo]!==co[Jo]&&(va.disableVertexAttribArray(Jo),fo[Jo]=0)}function lu(Jo,Eu,Du,Uu,Tu,Ru){to===!0&&(Du===5124||Du===5125)?va.vertexAttribIPointer(Jo,Eu,Du,Uu,Tu,Ru):va.vertexAttribPointer(Jo,Eu,Du,Uu,Tu,Ru)}function ou(Jo){vo[Jo]!==!0&&(va.enable(Jo),vo[Jo]=!0)}function ru(Jo){vo[Jo]!==!1&&(va.disable(Jo),vo[Jo]=!1)}function nu(Jo){return go!==Jo?(va.useProgram(Jo),go=Jo,!0):!1}var su={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(to)su[MinEquation]=32775,su[MaxEquation]=32776;else{var gu=_a.get("EXT_blend_minmax");gu!==null&&(su[MinEquation]=gu.MIN_EXT,su[MaxEquation]=gu.MAX_EXT)}var Au={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function $u(Jo,Eu,Du,Uu,Tu,Ru,Ju,al){if(Jo===NoBlending){mo&&(ru(3042),mo=!1);return}if(mo||(ou(3042),mo=!0),Jo!==CustomBlending){if(Jo!==lo||al!==Co){if((ho!==AddEquation||Eo!==AddEquation)&&(va.blendEquation(32774),ho=AddEquation,Eo=AddEquation),al)switch(Jo){case NormalBlending:va.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:va.blendFunc(1,1);break;case SubtractiveBlending:va.blendFuncSeparate(0,0,769,771);break;case MultiplyBlending:va.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Jo);break}else switch(Jo){case NormalBlending:va.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:va.blendFunc(770,1);break;case SubtractiveBlending:va.blendFunc(0,769);break;case MultiplyBlending:va.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Jo);break}yo=null,Ao=null,To=null,No=null,lo=Jo,Co=al}return}Tu=Tu||Eu,Ru=Ru||Du,Ju=Ju||Uu,(Eu!==ho||Tu!==Eo)&&(va.blendEquationSeparate(su[Eu],su[Tu]),ho=Eu,Eo=Tu),(Du!==yo||Uu!==Ao||Ru!==To||Ju!==No)&&(va.blendFuncSeparate(Au[Du],Au[Uu],Au[Ru],Au[Ju]),yo=Du,Ao=Uu,To=Ru,No=Ju),lo=Jo,Co=null}function ku(Jo,Eu){Jo.side===DoubleSide?ru(2884):ou(2884);var Du=Jo.side===BackSide;Eu&&(Du=!Du),Uo(Du),Jo.blending===NormalBlending&&Jo.transparent===!1?$u(NoBlending):$u(Jo.blending,Jo.blendEquation,Jo.blendSrc,Jo.blendDst,Jo.blendEquationAlpha,Jo.blendSrcAlpha,Jo.blendDstAlpha,Jo.premultipliedAlpha),oo.setFunc(Jo.depthFunc),oo.setTest(Jo.depthTest),oo.setMask(Jo.depthWrite),ao.setMask(Jo.colorWrite);var Uu=Jo.stencilWrite;so.setTest(Uu),Uu&&(so.setMask(Jo.stencilWriteMask),so.setFunc(Jo.stencilFunc,Jo.stencilRef,Jo.stencilFuncMask),so.setOp(Jo.stencilFail,Jo.stencilZFail,Jo.stencilZPass)),pu(Jo.polygonOffset,Jo.polygonOffsetFactor,Jo.polygonOffsetUnits)}function Uo(Jo){Io!==Jo&&(Jo?va.frontFace(2304):va.frontFace(2305),Io=Jo)}function Yo(Jo){Jo!==CullFaceNone?(ou(2884),Jo!==Mo&&(Jo===CullFaceBack?va.cullFace(1029):Jo===CullFaceFront?va.cullFace(1028):va.cullFace(1032))):ru(2884),Mo=Jo}function mu(Jo){Jo!==wo&&(Do&&va.lineWidth(Jo),wo=Jo)}function pu(Jo,Eu,Du){Jo?(ou(32823),(xo!==Eu||bo!==Du)&&(va.polygonOffset(Eu,Du),xo=Eu,bo=Du)):ru(32823)}function Su(Jo){Jo?ou(3089):ru(3089)}function _u(Jo){Jo===void 0&&(Jo=33984+So-1),$o!==Jo&&(va.activeTexture(Jo),$o=Jo)}function bu(Jo,Eu){$o===null&&_u();var Du=Vo[$o];Du===void 0&&(Du={type:void 0,texture:void 0},Vo[$o]=Du),(Du.type!==Jo||Du.texture!==Eu)&&(va.bindTexture(Jo,Eu||$s[Jo]),Du.type=Jo,Du.texture=Eu)}function Xu(){var Jo=Vo[$o];Jo!==void 0&&Jo.type!==void 0&&(va.bindTexture(Jo.type,null),Jo.type=void 0,Jo.texture=void 0)}function Qu(){try{va.compressedTexImage2D.apply(va,arguments)}catch(Jo){console.error("THREE.WebGLState:",Jo)}}function ju(){try{va.texImage2D.apply(va,arguments)}catch(Jo){console.error("THREE.WebGLState:",Jo)}}function Mu(){try{va.texImage3D.apply(va,arguments)}catch(Jo){console.error("THREE.WebGLState:",Jo)}}function Nu(Jo){Ho.equals(Jo)===!1&&(va.scissor(Jo.x,Jo.y,Jo.z,Jo.w),Ho.copy(Jo))}function wu(Jo){Fo.equals(Jo)===!1&&(va.viewport(Jo.x,Jo.y,Jo.z,Jo.w),Fo.copy(Jo))}function du(){for(var Jo=0;Jo<fo.length;Jo++)fo[Jo]===1&&(va.disableVertexAttribArray(Jo),fo[Jo]=0);vo={},$o=null,Vo={},go=null,lo=null,Io=null,Mo=null,ao.reset(),oo.reset(),so.reset()}return{buffers:{color:ao,depth:oo,stencil:so},initAttributes:au,enableAttribute:Ks,enableAttributeAndDivisor:Gs,disableUnusedAttributes:qs,vertexAttribPointer:lu,enable:ou,disable:ru,useProgram:nu,setBlending:$u,setMaterial:ku,setFlipSided:Uo,setCullFace:Yo,setLineWidth:mu,setPolygonOffset:pu,setScissorTest:Su,activeTexture:_u,bindTexture:bu,unbindTexture:Xu,compressedTexImage2D:Qu,texImage2D:ju,texImage3D:Mu,scissor:Nu,viewport:wu,reset:du}}function WebGLTextures(va,_a,eo,to,ro,no,io){var ao=ro.isWebGL2,oo=ro.maxTextures,so=ro.maxCubemapSize,uo=ro.maxTextureSize,co=ro.maxSamples,fo=new WeakMap,po,vo=!1;try{vo=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function go(Uo,Yo){return vo?new OffscreenCanvas(Uo,Yo):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function mo(Uo,Yo,mu,pu){var Su=1;if((Uo.width>pu||Uo.height>pu)&&(Su=pu/Math.max(Uo.width,Uo.height)),Su<1||Yo===!0)if(typeof HTMLImageElement<"u"&&Uo instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Uo instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Uo instanceof ImageBitmap){var _u=Yo?MathUtils.floorPowerOfTwo:Math.floor,bu=_u(Su*Uo.width),Xu=_u(Su*Uo.height);po===void 0&&(po=go(bu,Xu));var Qu=mu?go(bu,Xu):po;Qu.width=bu,Qu.height=Xu;var ju=Qu.getContext("2d");return ju.drawImage(Uo,0,0,bu,Xu),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Uo.width+"x"+Uo.height+") to ("+bu+"x"+Xu+")."),Qu}else return"data"in Uo&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Uo.width+"x"+Uo.height+")."),Uo;return Uo}function lo(Uo){return MathUtils.isPowerOfTwo(Uo.width)&&MathUtils.isPowerOfTwo(Uo.height)}function ho(Uo){return ao?!1:Uo.wrapS!==ClampToEdgeWrapping||Uo.wrapT!==ClampToEdgeWrapping||Uo.minFilter!==NearestFilter&&Uo.minFilter!==LinearFilter}function yo(Uo,Yo){return Uo.generateMipmaps&&Yo&&Uo.minFilter!==NearestFilter&&Uo.minFilter!==LinearFilter}function Ao(Uo,Yo,mu,pu){va.generateMipmap(Uo);var Su=to.get(Yo);Su.__maxMipLevel=Math.log(Math.max(mu,pu))*Math.LOG2E}function Eo(Uo,Yo,mu){if(ao===!1)return Yo;if(Uo!==null){if(va[Uo]!==void 0)return va[Uo];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Uo+"'")}var pu=Yo;return Yo===6403&&(mu===5126&&(pu=33326),mu===5131&&(pu=33325),mu===5121&&(pu=33321)),Yo===6407&&(mu===5126&&(pu=34837),mu===5131&&(pu=34843),mu===5121&&(pu=32849)),Yo===6408&&(mu===5126&&(pu=34836),mu===5131&&(pu=34842),mu===5121&&(pu=32856)),(pu===33325||pu===33326||pu===34842||pu===34836)&&_a.get("EXT_color_buffer_float"),pu}function To(Uo){return Uo===NearestFilter||Uo===NearestMipmapNearestFilter||Uo===NearestMipmapLinearFilter?9728:9729}function No(Uo){var Yo=Uo.target;Yo.removeEventListener("dispose",No),Io(Yo),Yo.isVideoTexture&&fo.delete(Yo),io.memory.textures--}function Co(Uo){var Yo=Uo.target;Yo.removeEventListener("dispose",Co),Mo(Yo),io.memory.textures--}function Io(Uo){var Yo=to.get(Uo);Yo.__webglInit!==void 0&&(va.deleteTexture(Yo.__webglTexture),to.remove(Uo))}function Mo(Uo){var Yo=to.get(Uo),mu=to.get(Uo.texture);if(!!Uo){if(mu.__webglTexture!==void 0&&va.deleteTexture(mu.__webglTexture),Uo.depthTexture&&Uo.depthTexture.dispose(),Uo.isWebGLCubeRenderTarget)for(var pu=0;pu<6;pu++)va.deleteFramebuffer(Yo.__webglFramebuffer[pu]),Yo.__webglDepthbuffer&&va.deleteRenderbuffer(Yo.__webglDepthbuffer[pu]);else va.deleteFramebuffer(Yo.__webglFramebuffer),Yo.__webglDepthbuffer&&va.deleteRenderbuffer(Yo.__webglDepthbuffer),Yo.__webglMultisampledFramebuffer&&va.deleteFramebuffer(Yo.__webglMultisampledFramebuffer),Yo.__webglColorRenderbuffer&&va.deleteRenderbuffer(Yo.__webglColorRenderbuffer),Yo.__webglDepthRenderbuffer&&va.deleteRenderbuffer(Yo.__webglDepthRenderbuffer);to.remove(Uo.texture),to.remove(Uo)}}var wo=0;function xo(){wo=0}function bo(){var Uo=wo;return Uo>=oo&&console.warn("THREE.WebGLTextures: Trying to use "+Uo+" texture units while this GPU supports only "+oo),wo+=1,Uo}function So(Uo,Yo){var mu=to.get(Uo);if(Uo.isVideoTexture&&su(Uo),Uo.version>0&&mu.__version!==Uo.version){var pu=Uo.image;if(pu===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(pu.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$s(mu,Uo,Yo);return}}eo.activeTexture(33984+Yo),eo.bindTexture(3553,mu.__webglTexture)}function Do(Uo,Yo){var mu=to.get(Uo);if(Uo.version>0&&mu.__version!==Uo.version){$s(mu,Uo,Yo);return}eo.activeTexture(33984+Yo),eo.bindTexture(35866,mu.__webglTexture)}function Oo(Uo,Yo){var mu=to.get(Uo);if(Uo.version>0&&mu.__version!==Uo.version){$s(mu,Uo,Yo);return}eo.activeTexture(33984+Yo),eo.bindTexture(32879,mu.__webglTexture)}function Bo(Uo,Yo){if(Uo.image.length===6){var mu=to.get(Uo);if(Uo.version>0&&mu.__version!==Uo.version){Ko(mu,Uo),eo.activeTexture(33984+Yo),eo.bindTexture(34067,mu.__webglTexture),va.pixelStorei(37440,Uo.flipY);for(var pu=Uo&&(Uo.isCompressedTexture||Uo.image[0].isCompressedTexture),Su=Uo.image[0]&&Uo.image[0].isDataTexture,_u=[],bu=0;bu<6;bu++)!pu&&!Su?_u[bu]=mo(Uo.image[bu],!1,!0,so):_u[bu]=Su?Uo.image[bu].image:Uo.image[bu];var Xu=_u[0],Qu=lo(Xu)||ao,ju=no.convert(Uo.format),Mu=no.convert(Uo.type),Nu=Eo(Uo.internalFormat,ju,Mu);Fo(34067,Uo,Qu);var wu;if(pu){for(var bu=0;bu<6;bu++){wu=_u[bu].mipmaps;for(var du=0;du<wu.length;du++){var Jo=wu[du];Uo.format!==RGBAFormat&&Uo.format!==RGBFormat?ju!==null?eo.compressedTexImage2D(34069+bu,du,Nu,Jo.width,Jo.height,0,Jo.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):eo.texImage2D(34069+bu,du,Nu,Jo.width,Jo.height,0,ju,Mu,Jo.data)}}mu.__maxMipLevel=wu.length-1}else{wu=Uo.mipmaps;for(var bu=0;bu<6;bu++)if(Su){eo.texImage2D(34069+bu,0,Nu,_u[bu].width,_u[bu].height,0,ju,Mu,_u[bu].data);for(var du=0;du<wu.length;du++){var Jo=wu[du],Eu=Jo.image[bu].image;eo.texImage2D(34069+bu,du+1,Nu,Eu.width,Eu.height,0,ju,Mu,Eu.data)}}else{eo.texImage2D(34069+bu,0,Nu,ju,Mu,_u[bu]);for(var du=0;du<wu.length;du++){var Jo=wu[du];eo.texImage2D(34069+bu,du+1,Nu,ju,Mu,Jo.image[bu])}}mu.__maxMipLevel=wu.length}yo(Uo,Qu)&&Ao(34067,Uo,Xu.width,Xu.height),mu.__version=Uo.version,Uo.onUpdate&&Uo.onUpdate(Uo)}else eo.activeTexture(33984+Yo),eo.bindTexture(34067,mu.__webglTexture)}}function $o(Uo,Yo){eo.activeTexture(33984+Yo),eo.bindTexture(34067,to.get(Uo).__webglTexture)}var Vo={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},Ho={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Fo(Uo,Yo,mu){mu?(va.texParameteri(Uo,10242,Vo[Yo.wrapS]),va.texParameteri(Uo,10243,Vo[Yo.wrapT]),(Uo===32879||Uo===35866)&&va.texParameteri(Uo,32882,Vo[Yo.wrapR]),va.texParameteri(Uo,10240,Ho[Yo.magFilter]),va.texParameteri(Uo,10241,Ho[Yo.minFilter])):(va.texParameteri(Uo,10242,33071),va.texParameteri(Uo,10243,33071),(Uo===32879||Uo===35866)&&va.texParameteri(Uo,32882,33071),(Yo.wrapS!==ClampToEdgeWrapping||Yo.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),va.texParameteri(Uo,10240,To(Yo.magFilter)),va.texParameteri(Uo,10241,To(Yo.minFilter)),Yo.minFilter!==NearestFilter&&Yo.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var pu=_a.get("EXT_texture_filter_anisotropic");if(pu){if(Yo.type===FloatType&&_a.get("OES_texture_float_linear")===null||Yo.type===HalfFloatType&&(ao||_a.get("OES_texture_half_float_linear"))===null)return;(Yo.anisotropy>1||to.get(Yo).__currentAnisotropy)&&(va.texParameterf(Uo,pu.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Yo.anisotropy,ro.getMaxAnisotropy())),to.get(Yo).__currentAnisotropy=Yo.anisotropy)}}function Ko(Uo,Yo){Uo.__webglInit===void 0&&(Uo.__webglInit=!0,Yo.addEventListener("dispose",No),Uo.__webglTexture=va.createTexture(),io.memory.textures++)}function $s(Uo,Yo,mu){var pu=3553;Yo.isDataTexture2DArray&&(pu=35866),Yo.isDataTexture3D&&(pu=32879),Ko(Uo,Yo),eo.activeTexture(33984+mu),eo.bindTexture(pu,Uo.__webglTexture),va.pixelStorei(37440,Yo.flipY),va.pixelStorei(37441,Yo.premultiplyAlpha),va.pixelStorei(3317,Yo.unpackAlignment);var Su=ho(Yo)&&lo(Yo.image)===!1,_u=mo(Yo.image,Su,!1,uo),bu=lo(_u)||ao,Xu=no.convert(Yo.format),Qu=no.convert(Yo.type),ju=Eo(Yo.internalFormat,Xu,Qu);Fo(pu,Yo,bu);var Mu,Nu=Yo.mipmaps;if(Yo.isDepthTexture)ju=6402,ao?Yo.type===FloatType?ju=36012:Yo.type===UnsignedIntType?ju=33190:Yo.type===UnsignedInt248Type?ju=35056:ju=33189:Yo.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Yo.format===DepthFormat&&ju===6402&&Yo.type!==UnsignedShortType&&Yo.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Yo.type=UnsignedShortType,Qu=no.convert(Yo.type)),Yo.format===DepthStencilFormat&&ju===6402&&(ju=34041,Yo.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Yo.type=UnsignedInt248Type,Qu=no.convert(Yo.type))),eo.texImage2D(3553,0,ju,_u.width,_u.height,0,Xu,Qu,null);else if(Yo.isDataTexture)if(Nu.length>0&&bu){for(var wu=0,du=Nu.length;wu<du;wu++)Mu=Nu[wu],eo.texImage2D(3553,wu,ju,Mu.width,Mu.height,0,Xu,Qu,Mu.data);Yo.generateMipmaps=!1,Uo.__maxMipLevel=Nu.length-1}else eo.texImage2D(3553,0,ju,_u.width,_u.height,0,Xu,Qu,_u.data),Uo.__maxMipLevel=0;else if(Yo.isCompressedTexture){for(var wu=0,du=Nu.length;wu<du;wu++)Mu=Nu[wu],Yo.format!==RGBAFormat&&Yo.format!==RGBFormat?Xu!==null?eo.compressedTexImage2D(3553,wu,ju,Mu.width,Mu.height,0,Mu.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):eo.texImage2D(3553,wu,ju,Mu.width,Mu.height,0,Xu,Qu,Mu.data);Uo.__maxMipLevel=Nu.length-1}else if(Yo.isDataTexture2DArray)eo.texImage3D(35866,0,ju,_u.width,_u.height,_u.depth,0,Xu,Qu,_u.data),Uo.__maxMipLevel=0;else if(Yo.isDataTexture3D)eo.texImage3D(32879,0,ju,_u.width,_u.height,_u.depth,0,Xu,Qu,_u.data),Uo.__maxMipLevel=0;else if(Nu.length>0&&bu){for(var wu=0,du=Nu.length;wu<du;wu++)Mu=Nu[wu],eo.texImage2D(3553,wu,ju,Xu,Qu,Mu);Yo.generateMipmaps=!1,Uo.__maxMipLevel=Nu.length-1}else eo.texImage2D(3553,0,ju,Xu,Qu,_u),Uo.__maxMipLevel=0;yo(Yo,bu)&&Ao(pu,Yo,_u.width,_u.height),Uo.__version=Yo.version,Yo.onUpdate&&Yo.onUpdate(Yo)}function au(Uo,Yo,mu,pu){var Su=no.convert(Yo.texture.format),_u=no.convert(Yo.texture.type),bu=Eo(Yo.texture.internalFormat,Su,_u);eo.texImage2D(pu,0,bu,Yo.width,Yo.height,0,Su,_u,null),va.bindFramebuffer(36160,Uo),va.framebufferTexture2D(36160,mu,pu,to.get(Yo.texture).__webglTexture,0),va.bindFramebuffer(36160,null)}function Ks(Uo,Yo,mu){if(va.bindRenderbuffer(36161,Uo),Yo.depthBuffer&&!Yo.stencilBuffer){var pu=33189;if(mu){var Su=Yo.depthTexture;Su&&Su.isDepthTexture&&(Su.type===FloatType?pu=36012:Su.type===UnsignedIntType&&(pu=33190));var _u=nu(Yo);va.renderbufferStorageMultisample(36161,_u,pu,Yo.width,Yo.height)}else va.renderbufferStorage(36161,pu,Yo.width,Yo.height);va.framebufferRenderbuffer(36160,36096,36161,Uo)}else if(Yo.depthBuffer&&Yo.stencilBuffer){if(mu){var _u=nu(Yo);va.renderbufferStorageMultisample(36161,_u,35056,Yo.width,Yo.height)}else va.renderbufferStorage(36161,34041,Yo.width,Yo.height);va.framebufferRenderbuffer(36160,33306,36161,Uo)}else{var bu=no.convert(Yo.texture.format),Xu=no.convert(Yo.texture.type),pu=Eo(Yo.texture.internalFormat,bu,Xu);if(mu){var _u=nu(Yo);va.renderbufferStorageMultisample(36161,_u,pu,Yo.width,Yo.height)}else va.renderbufferStorage(36161,pu,Yo.width,Yo.height)}va.bindRenderbuffer(36161,null)}function Gs(Uo,Yo){var mu=Yo&&Yo.isWebGLCubeRenderTarget;if(mu)throw new Error("Depth Texture with cube render targets is not supported");if(va.bindFramebuffer(36160,Uo),!(Yo.depthTexture&&Yo.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!to.get(Yo.depthTexture).__webglTexture||Yo.depthTexture.image.width!==Yo.width||Yo.depthTexture.image.height!==Yo.height)&&(Yo.depthTexture.image.width=Yo.width,Yo.depthTexture.image.height=Yo.height,Yo.depthTexture.needsUpdate=!0),So(Yo.depthTexture,0);var pu=to.get(Yo.depthTexture).__webglTexture;if(Yo.depthTexture.format===DepthFormat)va.framebufferTexture2D(36160,36096,3553,pu,0);else if(Yo.depthTexture.format===DepthStencilFormat)va.framebufferTexture2D(36160,33306,3553,pu,0);else throw new Error("Unknown depthTexture format")}function qs(Uo){var Yo=to.get(Uo),mu=Uo.isWebGLCubeRenderTarget===!0;if(Uo.depthTexture){if(mu)throw new Error("target.depthTexture not supported in Cube render targets");Gs(Yo.__webglFramebuffer,Uo)}else if(mu){Yo.__webglDepthbuffer=[];for(var pu=0;pu<6;pu++)va.bindFramebuffer(36160,Yo.__webglFramebuffer[pu]),Yo.__webglDepthbuffer[pu]=va.createRenderbuffer(),Ks(Yo.__webglDepthbuffer[pu],Uo,!1)}else va.bindFramebuffer(36160,Yo.__webglFramebuffer),Yo.__webglDepthbuffer=va.createRenderbuffer(),Ks(Yo.__webglDepthbuffer,Uo,!1);va.bindFramebuffer(36160,null)}function lu(Uo){var Yo=to.get(Uo),mu=to.get(Uo.texture);Uo.addEventListener("dispose",Co),mu.__webglTexture=va.createTexture(),io.memory.textures++;var pu=Uo.isWebGLCubeRenderTarget===!0,Su=Uo.isWebGLMultisampleRenderTarget===!0,_u=lo(Uo)||ao;if(ao&&Uo.texture.format===RGBFormat&&(Uo.texture.type===FloatType||Uo.texture.type===HalfFloatType)&&(Uo.texture.format=RGBAFormat,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),pu){Yo.__webglFramebuffer=[];for(var bu=0;bu<6;bu++)Yo.__webglFramebuffer[bu]=va.createFramebuffer()}else if(Yo.__webglFramebuffer=va.createFramebuffer(),Su)if(ao){Yo.__webglMultisampledFramebuffer=va.createFramebuffer(),Yo.__webglColorRenderbuffer=va.createRenderbuffer(),va.bindRenderbuffer(36161,Yo.__webglColorRenderbuffer);var Xu=no.convert(Uo.texture.format),Qu=no.convert(Uo.texture.type),ju=Eo(Uo.texture.internalFormat,Xu,Qu),Mu=nu(Uo);va.renderbufferStorageMultisample(36161,Mu,ju,Uo.width,Uo.height),va.bindFramebuffer(36160,Yo.__webglMultisampledFramebuffer),va.framebufferRenderbuffer(36160,36064,36161,Yo.__webglColorRenderbuffer),va.bindRenderbuffer(36161,null),Uo.depthBuffer&&(Yo.__webglDepthRenderbuffer=va.createRenderbuffer(),Ks(Yo.__webglDepthRenderbuffer,Uo,!0)),va.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(pu){eo.bindTexture(34067,mu.__webglTexture),Fo(34067,Uo.texture,_u);for(var bu=0;bu<6;bu++)au(Yo.__webglFramebuffer[bu],Uo,36064,34069+bu);yo(Uo.texture,_u)&&Ao(34067,Uo.texture,Uo.width,Uo.height),eo.bindTexture(34067,null)}else eo.bindTexture(3553,mu.__webglTexture),Fo(3553,Uo.texture,_u),au(Yo.__webglFramebuffer,Uo,36064,3553),yo(Uo.texture,_u)&&Ao(3553,Uo.texture,Uo.width,Uo.height),eo.bindTexture(3553,null);Uo.depthBuffer&&qs(Uo)}function ou(Uo){var Yo=Uo.texture,mu=lo(Uo)||ao;if(yo(Yo,mu)){var pu=Uo.isWebGLCubeRenderTarget?34067:3553,Su=to.get(Yo).__webglTexture;eo.bindTexture(pu,Su),Ao(pu,Yo,Uo.width,Uo.height),eo.bindTexture(pu,null)}}function ru(Uo){if(Uo.isWebGLMultisampleRenderTarget)if(ao){var Yo=to.get(Uo);va.bindFramebuffer(36008,Yo.__webglMultisampledFramebuffer),va.bindFramebuffer(36009,Yo.__webglFramebuffer);var mu=Uo.width,pu=Uo.height,Su=16384;Uo.depthBuffer&&(Su|=256),Uo.stencilBuffer&&(Su|=1024),va.blitFramebuffer(0,0,mu,pu,0,0,mu,pu,Su,9728),va.bindFramebuffer(36160,Yo.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function nu(Uo){return ao&&Uo.isWebGLMultisampleRenderTarget?Math.min(co,Uo.samples):0}function su(Uo){var Yo=io.render.frame;fo.get(Uo)!==Yo&&(fo.set(Uo,Yo),Uo.update())}var gu=!1,Au=!1;function $u(Uo,Yo){Uo&&Uo.isWebGLRenderTarget&&(gu===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),gu=!0),Uo=Uo.texture),So(Uo,Yo)}function ku(Uo,Yo){Uo&&Uo.isWebGLCubeRenderTarget&&(Au===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Au=!0),Uo=Uo.texture),Uo&&Uo.isCubeTexture||Array.isArray(Uo.image)&&Uo.image.length===6?Bo(Uo,Yo):$o(Uo,Yo)}this.allocateTextureUnit=bo,this.resetTextureUnits=xo,this.setTexture2D=So,this.setTexture2DArray=Do,this.setTexture3D=Oo,this.setTextureCube=Bo,this.setTextureCubeDynamic=$o,this.setupRenderTarget=lu,this.updateRenderTargetMipmap=ou,this.updateMultisampleRenderTarget=ru,this.safeSetTexture2D=$u,this.safeSetTextureCube=ku}function WebGLUtils(va,_a,eo){var to=eo.isWebGL2;function ro(no){var io;if(no===UnsignedByteType)return 5121;if(no===UnsignedShort4444Type)return 32819;if(no===UnsignedShort5551Type)return 32820;if(no===UnsignedShort565Type)return 33635;if(no===ByteType)return 5120;if(no===ShortType)return 5122;if(no===UnsignedShortType)return 5123;if(no===IntType)return 5124;if(no===UnsignedIntType)return 5125;if(no===FloatType)return 5126;if(no===HalfFloatType)return to?5131:(io=_a.get("OES_texture_half_float"),io!==null?io.HALF_FLOAT_OES:null);if(no===AlphaFormat)return 6406;if(no===RGBFormat)return 6407;if(no===RGBAFormat)return 6408;if(no===LuminanceFormat)return 6409;if(no===LuminanceAlphaFormat)return 6410;if(no===DepthFormat)return 6402;if(no===DepthStencilFormat)return 34041;if(no===RedFormat)return 6403;if(no===RedIntegerFormat)return 36244;if(no===RGFormat)return 33319;if(no===RGIntegerFormat)return 33320;if(no===RGBIntegerFormat)return 36248;if(no===RGBAIntegerFormat)return 36249;if(no===RGB_S3TC_DXT1_Format||no===RGBA_S3TC_DXT1_Format||no===RGBA_S3TC_DXT3_Format||no===RGBA_S3TC_DXT5_Format)if(io=_a.get("WEBGL_compressed_texture_s3tc"),io!==null){if(no===RGB_S3TC_DXT1_Format)return io.COMPRESSED_RGB_S3TC_DXT1_EXT;if(no===RGBA_S3TC_DXT1_Format)return io.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(no===RGBA_S3TC_DXT3_Format)return io.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(no===RGBA_S3TC_DXT5_Format)return io.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(no===RGB_PVRTC_4BPPV1_Format||no===RGB_PVRTC_2BPPV1_Format||no===RGBA_PVRTC_4BPPV1_Format||no===RGBA_PVRTC_2BPPV1_Format)if(io=_a.get("WEBGL_compressed_texture_pvrtc"),io!==null){if(no===RGB_PVRTC_4BPPV1_Format)return io.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(no===RGB_PVRTC_2BPPV1_Format)return io.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(no===RGBA_PVRTC_4BPPV1_Format)return io.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(no===RGBA_PVRTC_2BPPV1_Format)return io.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(no===RGB_ETC1_Format)return io=_a.get("WEBGL_compressed_texture_etc1"),io!==null?io.COMPRESSED_RGB_ETC1_WEBGL:null;if((no===RGB_ETC2_Format||no===RGBA_ETC2_EAC_Format)&&(io=_a.get("WEBGL_compressed_texture_etc"),io!==null)){if(no===RGB_ETC2_Format)return io.COMPRESSED_RGB8_ETC2;if(no===RGBA_ETC2_EAC_Format)return io.COMPRESSED_RGBA8_ETC2_EAC}if(no===RGBA_ASTC_4x4_Format||no===RGBA_ASTC_5x4_Format||no===RGBA_ASTC_5x5_Format||no===RGBA_ASTC_6x5_Format||no===RGBA_ASTC_6x6_Format||no===RGBA_ASTC_8x5_Format||no===RGBA_ASTC_8x6_Format||no===RGBA_ASTC_8x8_Format||no===RGBA_ASTC_10x5_Format||no===RGBA_ASTC_10x6_Format||no===RGBA_ASTC_10x8_Format||no===RGBA_ASTC_10x10_Format||no===RGBA_ASTC_12x10_Format||no===RGBA_ASTC_12x12_Format||no===SRGB8_ALPHA8_ASTC_4x4_Format||no===SRGB8_ALPHA8_ASTC_5x4_Format||no===SRGB8_ALPHA8_ASTC_5x5_Format||no===SRGB8_ALPHA8_ASTC_6x5_Format||no===SRGB8_ALPHA8_ASTC_6x6_Format||no===SRGB8_ALPHA8_ASTC_8x5_Format||no===SRGB8_ALPHA8_ASTC_8x6_Format||no===SRGB8_ALPHA8_ASTC_8x8_Format||no===SRGB8_ALPHA8_ASTC_10x5_Format||no===SRGB8_ALPHA8_ASTC_10x6_Format||no===SRGB8_ALPHA8_ASTC_10x8_Format||no===SRGB8_ALPHA8_ASTC_10x10_Format||no===SRGB8_ALPHA8_ASTC_12x10_Format||no===SRGB8_ALPHA8_ASTC_12x12_Format)return io=_a.get("WEBGL_compressed_texture_astc"),io!==null?no:null;if(no===RGBA_BPTC_Format)return io=_a.get("EXT_texture_compression_bptc"),io!==null?no:null;if(no===UnsignedInt248Type)return to?34042:(io=_a.get("WEBGL_depth_texture"),io!==null?io.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:ro}}function ArrayCamera(va){PerspectiveCamera.call(this),this.cameras=va||[]}ArrayCamera.prototype=Object.assign(Object.create(PerspectiveCamera.prototype),{constructor:ArrayCamera,isArrayCamera:!0});function Group$1(){Object3D.call(this),this.type="Group"}Group$1.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Group$1,isGroup:!0});function WebXRController(){this._targetRay=null,this._grip=null}Object.assign(WebXRController.prototype,{constructor:WebXRController,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Group$1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Group$1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(va){return this._targetRay!==null&&this._targetRay.dispatchEvent(va),this._grip!==null&&this._grip.dispatchEvent(va),this},disconnect:function(va){return this.dispatchEvent({type:"disconnected",data:va}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(va,_a,eo){var to=null,ro=null,no=this._targetRay,io=this._grip;return va&&(no!==null&&(to=_a.getPose(va.targetRaySpace,eo),to!==null&&(no.matrix.fromArray(to.transform.matrix),no.matrix.decompose(no.position,no.rotation,no.scale))),io!==null&&va.gripSpace&&(ro=_a.getPose(va.gripSpace,eo),ro!==null&&(io.matrix.fromArray(ro.transform.matrix),io.matrix.decompose(io.position,io.rotation,io.scale)))),no!==null&&(no.visible=to!==null),io!==null&&(io.visible=ro!==null),this}});function WebXRManager(va,_a){var eo=this,to=null,ro=1,no=null,io="local-floor",ao=null,oo=[],so=new Map,uo=new PerspectiveCamera;uo.layers.enable(1),uo.viewport=new Vector4;var co=new PerspectiveCamera;co.layers.enable(2),co.viewport=new Vector4;var fo=[uo,co],po=new ArrayCamera;po.layers.enable(1),po.layers.enable(2);var vo=null,go=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(wo){var xo=oo[wo];return xo===void 0&&(xo=new WebXRController,oo[wo]=xo),xo.getTargetRaySpace()},this.getControllerGrip=function(wo){var xo=oo[wo];return xo===void 0&&(xo=new WebXRController,oo[wo]=xo),xo.getGripSpace()};function mo(wo){var xo=so.get(wo.inputSource);xo&&xo.dispatchEvent({type:wo.type})}function lo(){so.forEach(function(wo,xo){wo.disconnect(xo)}),so.clear(),va.setFramebuffer(null),va.setRenderTarget(va.getRenderTarget()),Mo.stop(),eo.isPresenting=!1,eo.dispatchEvent({type:"sessionend"})}function ho(wo){no=wo,Mo.setContext(to),Mo.start(),eo.isPresenting=!0,eo.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(wo){ro=wo,eo.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(wo){io=wo,eo.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return no},this.getSession=function(){return to},this.setSession=function(wo){if(to=wo,to!==null){to.addEventListener("select",mo),to.addEventListener("selectstart",mo),to.addEventListener("selectend",mo),to.addEventListener("squeeze",mo),to.addEventListener("squeezestart",mo),to.addEventListener("squeezeend",mo),to.addEventListener("end",lo);var xo=_a.getContextAttributes();xo.xrCompatible!==!0&&_a.makeXRCompatible();var bo={antialias:xo.antialias,alpha:xo.alpha,depth:xo.depth,stencil:xo.stencil,framebufferScaleFactor:ro},So=new XRWebGLLayer(to,_a,bo);to.updateRenderState({baseLayer:So}),to.requestReferenceSpace(io).then(ho),to.addEventListener("inputsourceschange",yo)}};function yo(wo){for(var xo=to.inputSources,bo=0;bo<oo.length;bo++)so.set(xo[bo],oo[bo]);for(var bo=0;bo<wo.removed.length;bo++){var So=wo.removed[bo],Do=so.get(So);Do&&(Do.dispatchEvent({type:"disconnected",data:So}),so.delete(So))}for(var bo=0;bo<wo.added.length;bo++){var So=wo.added[bo],Do=so.get(So);Do&&Do.dispatchEvent({type:"connected",data:So})}}var Ao=new Vector3,Eo=new Vector3;function To(wo,xo,bo){Ao.setFromMatrixPosition(xo.matrixWorld),Eo.setFromMatrixPosition(bo.matrixWorld);var So=Ao.distanceTo(Eo),Do=xo.projectionMatrix.elements,Oo=bo.projectionMatrix.elements,Bo=Do[14]/(Do[10]-1),$o=Do[14]/(Do[10]+1),Vo=(Do[9]+1)/Do[5],Ho=(Do[9]-1)/Do[5],Fo=(Do[8]-1)/Do[0],Ko=(Oo[8]+1)/Oo[0],$s=Bo*Fo,au=Bo*Ko,Ks=So/(-Fo+Ko),Gs=Ks*-Fo;xo.matrixWorld.decompose(wo.position,wo.quaternion,wo.scale),wo.translateX(Gs),wo.translateZ(Ks),wo.matrixWorld.compose(wo.position,wo.quaternion,wo.scale),wo.matrixWorldInverse.getInverse(wo.matrixWorld);var qs=Bo+Ks,lu=$o+Ks,ou=$s-Gs,ru=au+(So-Gs),nu=Vo*$o/lu*qs,su=Ho*$o/lu*qs;wo.projectionMatrix.makePerspective(ou,ru,nu,su,qs,lu)}function No(wo,xo){xo===null?wo.matrixWorld.copy(wo.matrix):wo.matrixWorld.multiplyMatrices(xo.matrixWorld,wo.matrix),wo.matrixWorldInverse.getInverse(wo.matrixWorld)}this.getCamera=function(wo){po.near=co.near=uo.near=wo.near,po.far=co.far=uo.far=wo.far,(vo!==po.near||go!==po.far)&&(to.updateRenderState({depthNear:po.near,depthFar:po.far}),vo=po.near,go=po.far);var xo=wo.parent,bo=po.cameras;No(po,xo);for(var So=0;So<bo.length;So++)No(bo[So],xo);wo.matrixWorld.copy(po.matrixWorld);for(var Do=wo.children,So=0,Oo=Do.length;So<Oo;So++)Do[So].updateMatrixWorld(!0);return bo.length===2?To(po,uo,co):po.projectionMatrix.copy(uo.projectionMatrix),po};var Co=null;function Io(wo,xo){if(ao=xo.getViewerPose(no),ao!==null){var bo=ao.views,So=to.renderState.baseLayer;va.setFramebuffer(So.framebuffer);var Do=!1;bo.length!==po.cameras.length&&(po.cameras.length=0,Do=!0);for(var Oo=0;Oo<bo.length;Oo++){var Bo=bo[Oo],$o=So.getViewport(Bo),Vo=fo[Oo];Vo.matrix.fromArray(Bo.transform.matrix),Vo.projectionMatrix.fromArray(Bo.projectionMatrix),Vo.viewport.set($o.x,$o.y,$o.width,$o.height),Oo===0&&po.matrix.copy(Vo.matrix),Do===!0&&po.cameras.push(Vo)}}for(var Ho=to.inputSources,Oo=0;Oo<oo.length;Oo++){var Fo=oo[Oo],Ko=Ho[Oo];Fo.update(Ko,xo,no)}Co&&Co(wo,xo)}var Mo=new WebGLAnimation;Mo.setAnimationLoop(Io),this.setAnimationLoop=function(wo){Co=wo},this.dispose=function(){}}Object.assign(WebXRManager.prototype,EventDispatcher.prototype);function WebGLMaterials(va){function _a(lo,ho){lo.fogColor.value.copy(ho.color),ho.isFog?(lo.fogNear.value=ho.near,lo.fogFar.value=ho.far):ho.isFogExp2&&(lo.fogDensity.value=ho.density)}function eo(lo,ho,yo,Ao,Eo){ho.isMeshBasicMaterial?to(lo,ho):ho.isMeshLambertMaterial?(to(lo,ho),oo(lo,ho)):ho.isMeshToonMaterial?(to(lo,ho),uo(lo,ho)):ho.isMeshPhongMaterial?(to(lo,ho),so(lo,ho)):ho.isMeshStandardMaterial?(to(lo,ho,yo),ho.isMeshPhysicalMaterial?fo(lo,ho,yo):co(lo,ho,yo)):ho.isMeshMatcapMaterial?(to(lo,ho),po(lo,ho)):ho.isMeshDepthMaterial?(to(lo,ho),vo(lo,ho)):ho.isMeshDistanceMaterial?(to(lo,ho),go(lo,ho)):ho.isMeshNormalMaterial?(to(lo,ho),mo(lo,ho)):ho.isLineBasicMaterial?(ro(lo,ho),ho.isLineDashedMaterial&&no(lo,ho)):ho.isPointsMaterial?io(lo,ho,Ao,Eo):ho.isSpriteMaterial?ao(lo,ho):ho.isShadowMaterial?(lo.color.value.copy(ho.color),lo.opacity.value=ho.opacity):ho.isShaderMaterial&&(ho.uniformsNeedUpdate=!1)}function to(lo,ho,yo){lo.opacity.value=ho.opacity,ho.color&&lo.diffuse.value.copy(ho.color),ho.emissive&&lo.emissive.value.copy(ho.emissive).multiplyScalar(ho.emissiveIntensity),ho.map&&(lo.map.value=ho.map),ho.alphaMap&&(lo.alphaMap.value=ho.alphaMap),ho.specularMap&&(lo.specularMap.value=ho.specularMap);var Ao=ho.envMap||yo;Ao&&(lo.envMap.value=Ao,lo.flipEnvMap.value=Ao.isCubeTexture?-1:1,lo.reflectivity.value=ho.reflectivity,lo.refractionRatio.value=ho.refractionRatio,lo.maxMipLevel.value=va.get(Ao).__maxMipLevel),ho.lightMap&&(lo.lightMap.value=ho.lightMap,lo.lightMapIntensity.value=ho.lightMapIntensity),ho.aoMap&&(lo.aoMap.value=ho.aoMap,lo.aoMapIntensity.value=ho.aoMapIntensity);var Eo;ho.map?Eo=ho.map:ho.specularMap?Eo=ho.specularMap:ho.displacementMap?Eo=ho.displacementMap:ho.normalMap?Eo=ho.normalMap:ho.bumpMap?Eo=ho.bumpMap:ho.roughnessMap?Eo=ho.roughnessMap:ho.metalnessMap?Eo=ho.metalnessMap:ho.alphaMap?Eo=ho.alphaMap:ho.emissiveMap&&(Eo=ho.emissiveMap),Eo!==void 0&&(Eo.isWebGLRenderTarget&&(Eo=Eo.texture),Eo.matrixAutoUpdate===!0&&Eo.updateMatrix(),lo.uvTransform.value.copy(Eo.matrix));var To;ho.aoMap?To=ho.aoMap:ho.lightMap&&(To=ho.lightMap),To!==void 0&&(To.isWebGLRenderTarget&&(To=To.texture),To.matrixAutoUpdate===!0&&To.updateMatrix(),lo.uv2Transform.value.copy(To.matrix))}function ro(lo,ho){lo.diffuse.value.copy(ho.color),lo.opacity.value=ho.opacity}function no(lo,ho){lo.dashSize.value=ho.dashSize,lo.totalSize.value=ho.dashSize+ho.gapSize,lo.scale.value=ho.scale}function io(lo,ho,yo,Ao){lo.diffuse.value.copy(ho.color),lo.opacity.value=ho.opacity,lo.size.value=ho.size*yo,lo.scale.value=Ao*.5,ho.map&&(lo.map.value=ho.map),ho.alphaMap&&(lo.alphaMap.value=ho.alphaMap);var Eo;ho.map?Eo=ho.map:ho.alphaMap&&(Eo=ho.alphaMap),Eo!==void 0&&(Eo.matrixAutoUpdate===!0&&Eo.updateMatrix(),lo.uvTransform.value.copy(Eo.matrix))}function ao(lo,ho){lo.diffuse.value.copy(ho.color),lo.opacity.value=ho.opacity,lo.rotation.value=ho.rotation,ho.map&&(lo.map.value=ho.map),ho.alphaMap&&(lo.alphaMap.value=ho.alphaMap);var yo;ho.map?yo=ho.map:ho.alphaMap&&(yo=ho.alphaMap),yo!==void 0&&(yo.matrixAutoUpdate===!0&&yo.updateMatrix(),lo.uvTransform.value.copy(yo.matrix))}function oo(lo,ho){ho.emissiveMap&&(lo.emissiveMap.value=ho.emissiveMap)}function so(lo,ho){lo.specular.value.copy(ho.specular),lo.shininess.value=Math.max(ho.shininess,1e-4),ho.emissiveMap&&(lo.emissiveMap.value=ho.emissiveMap),ho.bumpMap&&(lo.bumpMap.value=ho.bumpMap,lo.bumpScale.value=ho.bumpScale,ho.side===BackSide&&(lo.bumpScale.value*=-1)),ho.normalMap&&(lo.normalMap.value=ho.normalMap,lo.normalScale.value.copy(ho.normalScale),ho.side===BackSide&&lo.normalScale.value.negate()),ho.displacementMap&&(lo.displacementMap.value=ho.displacementMap,lo.displacementScale.value=ho.displacementScale,lo.displacementBias.value=ho.displacementBias)}function uo(lo,ho){lo.specular.value.copy(ho.specular),lo.shininess.value=Math.max(ho.shininess,1e-4),ho.gradientMap&&(lo.gradientMap.value=ho.gradientMap),ho.emissiveMap&&(lo.emissiveMap.value=ho.emissiveMap),ho.bumpMap&&(lo.bumpMap.value=ho.bumpMap,lo.bumpScale.value=ho.bumpScale,ho.side===BackSide&&(lo.bumpScale.value*=-1)),ho.normalMap&&(lo.normalMap.value=ho.normalMap,lo.normalScale.value.copy(ho.normalScale),ho.side===BackSide&&lo.normalScale.value.negate()),ho.displacementMap&&(lo.displacementMap.value=ho.displacementMap,lo.displacementScale.value=ho.displacementScale,lo.displacementBias.value=ho.displacementBias)}function co(lo,ho,yo){lo.roughness.value=ho.roughness,lo.metalness.value=ho.metalness,ho.roughnessMap&&(lo.roughnessMap.value=ho.roughnessMap),ho.metalnessMap&&(lo.metalnessMap.value=ho.metalnessMap),ho.emissiveMap&&(lo.emissiveMap.value=ho.emissiveMap),ho.bumpMap&&(lo.bumpMap.value=ho.bumpMap,lo.bumpScale.value=ho.bumpScale,ho.side===BackSide&&(lo.bumpScale.value*=-1)),ho.normalMap&&(lo.normalMap.value=ho.normalMap,lo.normalScale.value.copy(ho.normalScale),ho.side===BackSide&&lo.normalScale.value.negate()),ho.displacementMap&&(lo.displacementMap.value=ho.displacementMap,lo.displacementScale.value=ho.displacementScale,lo.displacementBias.value=ho.displacementBias),(ho.envMap||yo)&&(lo.envMapIntensity.value=ho.envMapIntensity)}function fo(lo,ho,yo){co(lo,ho,yo),lo.reflectivity.value=ho.reflectivity,lo.clearcoat.value=ho.clearcoat,lo.clearcoatRoughness.value=ho.clearcoatRoughness,ho.sheen&&lo.sheen.value.copy(ho.sheen),ho.clearcoatMap&&(lo.clearcoatMap.value=ho.clearcoatMap),ho.clearcoatRoughnessMap&&(lo.clearcoatRoughnessMap.value=ho.clearcoatRoughnessMap),ho.clearcoatNormalMap&&(lo.clearcoatNormalScale.value.copy(ho.clearcoatNormalScale),lo.clearcoatNormalMap.value=ho.clearcoatNormalMap,ho.side===BackSide&&lo.clearcoatNormalScale.value.negate()),lo.transparency.value=ho.transparency}function po(lo,ho){ho.matcap&&(lo.matcap.value=ho.matcap),ho.bumpMap&&(lo.bumpMap.value=ho.bumpMap,lo.bumpScale.value=ho.bumpScale,ho.side===BackSide&&(lo.bumpScale.value*=-1)),ho.normalMap&&(lo.normalMap.value=ho.normalMap,lo.normalScale.value.copy(ho.normalScale),ho.side===BackSide&&lo.normalScale.value.negate()),ho.displacementMap&&(lo.displacementMap.value=ho.displacementMap,lo.displacementScale.value=ho.displacementScale,lo.displacementBias.value=ho.displacementBias)}function vo(lo,ho){ho.displacementMap&&(lo.displacementMap.value=ho.displacementMap,lo.displacementScale.value=ho.displacementScale,lo.displacementBias.value=ho.displacementBias)}function go(lo,ho){ho.displacementMap&&(lo.displacementMap.value=ho.displacementMap,lo.displacementScale.value=ho.displacementScale,lo.displacementBias.value=ho.displacementBias),lo.referencePosition.value.copy(ho.referencePosition),lo.nearDistance.value=ho.nearDistance,lo.farDistance.value=ho.farDistance}function mo(lo,ho){ho.bumpMap&&(lo.bumpMap.value=ho.bumpMap,lo.bumpScale.value=ho.bumpScale,ho.side===BackSide&&(lo.bumpScale.value*=-1)),ho.normalMap&&(lo.normalMap.value=ho.normalMap,lo.normalScale.value.copy(ho.normalScale),ho.side===BackSide&&lo.normalScale.value.negate()),ho.displacementMap&&(lo.displacementMap.value=ho.displacementMap,lo.displacementScale.value=ho.displacementScale,lo.displacementBias.value=ho.displacementBias)}return{refreshFogUniforms:_a,refreshMaterialUniforms:eo}}function WebGLRenderer(va){va=va||{};var _a=va.canvas!==void 0?va.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),eo=va.context!==void 0?va.context:null,to=va.alpha!==void 0?va.alpha:!1,ro=va.depth!==void 0?va.depth:!0,no=va.stencil!==void 0?va.stencil:!0,io=va.antialias!==void 0?va.antialias:!1,ao=va.premultipliedAlpha!==void 0?va.premultipliedAlpha:!0,oo=va.preserveDrawingBuffer!==void 0?va.preserveDrawingBuffer:!1,so=va.powerPreference!==void 0?va.powerPreference:"default",uo=va.failIfMajorPerformanceCaveat!==void 0?va.failIfMajorPerformanceCaveat:!1,co=null,fo=null;this.domElement=_a,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var po=this,vo=!1,go=null,mo=0,lo=0,ho=null,yo=null,Ao=-1,Eo={geometry:null,program:null,wireframe:!1},To=null,No=null,Co=new Vector4,Io=new Vector4,Mo=null,wo=_a.width,xo=_a.height,bo=1,So=null,Do=null,Oo=new Vector4(0,0,wo,xo),Bo=new Vector4(0,0,wo,xo),$o=!1,Vo=new Frustum,Ho=new WebGLClipping,Fo=!1,Ko=!1,$s=new Matrix4,au=new Vector3;function Ks(){return ho===null?bo:1}var Gs;try{var qs={alpha:to,depth:ro,stencil:no,antialias:io,premultipliedAlpha:ao,preserveDrawingBuffer:oo,powerPreference:so,failIfMajorPerformanceCaveat:uo};if(_a.addEventListener("webglcontextlost",wu,!1),_a.addEventListener("webglcontextrestored",du,!1),Gs=eo||_a.getContext("webgl",qs)||_a.getContext("experimental-webgl",qs),Gs===null)throw _a.getContext("webgl")!==null?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");Gs.getShaderPrecisionFormat===void 0&&(Gs.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Go){throw console.error("THREE.WebGLRenderer: "+Go.message),Go}var lu,ou,ru,nu,su,gu,Au,$u,ku,Uo,Yo,mu,pu,Su,_u,bu,Xu,Qu;function ju(){lu=new WebGLExtensions(Gs),ou=new WebGLCapabilities(Gs,lu,va),ou.isWebGL2===!1&&(lu.get("WEBGL_depth_texture"),lu.get("OES_texture_float"),lu.get("OES_texture_half_float"),lu.get("OES_texture_half_float_linear"),lu.get("OES_standard_derivatives"),lu.get("OES_element_index_uint"),lu.get("ANGLE_instanced_arrays")),lu.get("OES_texture_float_linear"),Qu=new WebGLUtils(Gs,lu,ou),ru=new WebGLState(Gs,lu,ou),ru.scissor(Io.copy(Bo).multiplyScalar(bo).floor()),ru.viewport(Co.copy(Oo).multiplyScalar(bo).floor()),nu=new WebGLInfo(Gs),su=new WebGLProperties,gu=new WebGLTextures(Gs,lu,ru,su,ou,Qu,nu),Au=new WebGLAttributes(Gs,ou),$u=new WebGLGeometries(Gs,Au,nu),ku=new WebGLObjects(Gs,$u,Au,nu),_u=new WebGLMorphtargets(Gs),Uo=new WebGLPrograms(po,lu,ou),Yo=new WebGLMaterials(su),mu=new WebGLRenderLists,pu=new WebGLRenderStates,Su=new WebGLBackground(po,ru,ku,ao),bu=new WebGLBufferRenderer(Gs,lu,nu,ou),Xu=new WebGLIndexedBufferRenderer(Gs,lu,nu,ou),nu.programs=Uo.programs,po.capabilities=ou,po.extensions=lu,po.properties=su,po.renderLists=mu,po.state=ru,po.info=nu}ju();var Mu=new WebXRManager(po,Gs);this.xr=Mu;var Nu=new WebGLShadowMap(po,ku,ou.maxTextureSize);this.shadowMap=Nu,this.getContext=function(){return Gs},this.getContextAttributes=function(){return Gs.getContextAttributes()},this.forceContextLoss=function(){var Go=lu.get("WEBGL_lose_context");Go&&Go.loseContext()},this.forceContextRestore=function(){var Go=lu.get("WEBGL_lose_context");Go&&Go.restoreContext()},this.getPixelRatio=function(){return bo},this.setPixelRatio=function(Go){Go!==void 0&&(bo=Go,this.setSize(wo,xo,!1))},this.getSize=function(Go){return Go===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Go=new Vector2),Go.set(wo,xo)},this.setSize=function(Go,iu,tu){if(Mu.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}wo=Go,xo=iu,_a.width=Math.floor(Go*bo),_a.height=Math.floor(iu*bo),tu!==!1&&(_a.style.width=Go+"px",_a.style.height=iu+"px"),this.setViewport(0,0,Go,iu)},this.getDrawingBufferSize=function(Go){return Go===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Go=new Vector2),Go.set(wo*bo,xo*bo).floor()},this.setDrawingBufferSize=function(Go,iu,tu){wo=Go,xo=iu,bo=tu,_a.width=Math.floor(Go*tu),_a.height=Math.floor(iu*tu),this.setViewport(0,0,Go,iu)},this.getCurrentViewport=function(Go){return Go===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Go=new Vector4),Go.copy(Co)},this.getViewport=function(Go){return Go.copy(Oo)},this.setViewport=function(Go,iu,tu,uu){Go.isVector4?Oo.set(Go.x,Go.y,Go.z,Go.w):Oo.set(Go,iu,tu,uu),ru.viewport(Co.copy(Oo).multiplyScalar(bo).floor())},this.getScissor=function(Go){return Go.copy(Bo)},this.setScissor=function(Go,iu,tu,uu){Go.isVector4?Bo.set(Go.x,Go.y,Go.z,Go.w):Bo.set(Go,iu,tu,uu),ru.scissor(Io.copy(Bo).multiplyScalar(bo).floor())},this.getScissorTest=function(){return $o},this.setScissorTest=function(Go){ru.setScissorTest($o=Go)},this.setOpaqueSort=function(Go){So=Go},this.setTransparentSort=function(Go){Do=Go},this.getClearColor=function(){return Su.getClearColor()},this.setClearColor=function(){Su.setClearColor.apply(Su,arguments)},this.getClearAlpha=function(){return Su.getClearAlpha()},this.setClearAlpha=function(){Su.setClearAlpha.apply(Su,arguments)},this.clear=function(Go,iu,tu){var uu=0;(Go===void 0||Go)&&(uu|=16384),(iu===void 0||iu)&&(uu|=256),(tu===void 0||tu)&&(uu|=1024),Gs.clear(uu)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){_a.removeEventListener("webglcontextlost",wu,!1),_a.removeEventListener("webglcontextrestored",du,!1),mu.dispose(),pu.dispose(),su.dispose(),ku.dispose(),Mu.dispose(),dl.stop()};function wu(Go){Go.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),vo=!0}function du(){console.log("THREE.WebGLRenderer: Context Restored."),vo=!1,ju()}function Jo(Go){var iu=Go.target;iu.removeEventListener("dispose",Jo),Eu(iu)}function Eu(Go){Du(Go),su.remove(Go)}function Du(Go){var iu=su.get(Go).program;Go.program=void 0,iu!==void 0&&Uo.releaseProgram(iu)}function Uu(Go,iu){Go.render(function(tu){po.renderBufferImmediate(tu,iu)})}this.renderBufferImmediate=function(Go,iu){ru.initAttributes();var tu=su.get(Go);Go.hasPositions&&!tu.position&&(tu.position=Gs.createBuffer()),Go.hasNormals&&!tu.normal&&(tu.normal=Gs.createBuffer()),Go.hasUvs&&!tu.uv&&(tu.uv=Gs.createBuffer()),Go.hasColors&&!tu.color&&(tu.color=Gs.createBuffer());var uu=iu.getAttributes();Go.hasPositions&&(Gs.bindBuffer(34962,tu.position),Gs.bufferData(34962,Go.positionArray,35048),ru.enableAttribute(uu.position),Gs.vertexAttribPointer(uu.position,3,5126,!1,0,0)),Go.hasNormals&&(Gs.bindBuffer(34962,tu.normal),Gs.bufferData(34962,Go.normalArray,35048),ru.enableAttribute(uu.normal),Gs.vertexAttribPointer(uu.normal,3,5126,!1,0,0)),Go.hasUvs&&(Gs.bindBuffer(34962,tu.uv),Gs.bufferData(34962,Go.uvArray,35048),ru.enableAttribute(uu.uv),Gs.vertexAttribPointer(uu.uv,2,5126,!1,0,0)),Go.hasColors&&(Gs.bindBuffer(34962,tu.color),Gs.bufferData(34962,Go.colorArray,35048),ru.enableAttribute(uu.color),Gs.vertexAttribPointer(uu.color,3,5126,!1,0,0)),ru.disableUnusedAttributes(),Gs.drawArrays(4,0,Go.count),Go.count=0};var Tu=new Scene;this.renderBufferDirect=function(Go,iu,tu,uu,yu,Vu){iu===null&&(iu=Tu);var Bu=yu.isMesh&&yu.matrixWorld.determinant()<0,Ou=ml(Go,iu,uu,yu);ru.setMaterial(uu,Bu);var Gu=!1;(Eo.geometry!==tu.id||Eo.program!==Ou.id||Eo.wireframe!==(uu.wireframe===!0))&&(Eo.geometry=tu.id,Eo.program=Ou.id,Eo.wireframe=uu.wireframe===!0,Gu=!0),(uu.morphTargets||uu.morphNormals)&&(_u.update(yu,tu,uu,Ou),Gu=!0),yu.isInstancedMesh===!0&&(Gu=!0);var Yu=tu.index,sl=tu.attributes.position;if(Yu===null){if(sl===void 0||sl.count===0)return}else if(Yu.count===0)return;var Ro=1;uu.wireframe===!0&&(Yu=$u.getWireframeAttribute(tu),Ro=2);var Qo,Zo=bu;Yu!==null&&(Qo=Au.get(Yu),Zo=Xu,Zo.setIndex(Qo)),Gu&&(Ru(yu,tu,uu,Ou),Yu!==null&&Gs.bindBuffer(34963,Qo.buffer));var Xs=Yu!==null?Yu.count:sl.count,cu=tu.drawRange.start*Ro,Pu=tu.drawRange.count*Ro,Iu=Vu!==null?Vu.start*Ro:0,ul=Vu!==null?Vu.count*Ro:1/0,Cu=Math.max(cu,Iu),cl=Math.min(Xs,cu+Pu,Iu+ul)-1,Ml=Math.max(0,cl-Cu+1);if(Ml!==0){if(yu.isMesh)uu.wireframe===!0?(ru.setLineWidth(uu.wireframeLinewidth*Ks()),Zo.setMode(1)):Zo.setMode(4);else if(yu.isLine){var bl=uu.linewidth;bl===void 0&&(bl=1),ru.setLineWidth(bl*Ks()),yu.isLineSegments?Zo.setMode(1):yu.isLineLoop?Zo.setMode(2):Zo.setMode(3)}else yu.isPoints?Zo.setMode(0):yu.isSprite&&Zo.setMode(4);if(yu.isInstancedMesh)Zo.renderInstances(tu,Cu,Ml,yu.count);else if(tu.isInstancedBufferGeometry){var Tl=Math.min(tu.instanceCount,tu._maxInstanceCount);Zo.renderInstances(tu,Cu,Ml,Tl)}else Zo.render(Cu,Ml)}};function Ru(Go,iu,tu,uu){if(!(ou.isWebGL2===!1&&(Go.isInstancedMesh||iu.isInstancedBufferGeometry)&&lu.get("ANGLE_instanced_arrays")===null)){ru.initAttributes();var yu=iu.attributes,Vu=uu.getAttributes(),Bu=tu.defaultAttributeValues;for(var Ou in Vu){var Gu=Vu[Ou];if(Gu>=0){var Yu=yu[Ou];if(Yu!==void 0){var sl=Yu.normalized,Ro=Yu.itemSize,Qo=Au.get(Yu);if(Qo===void 0)continue;var Zo=Qo.buffer,Xs=Qo.type,cu=Qo.bytesPerElement;if(Yu.isInterleavedBufferAttribute){var Pu=Yu.data,Iu=Pu.stride,ul=Yu.offset;Pu&&Pu.isInstancedInterleavedBuffer?(ru.enableAttributeAndDivisor(Gu,Pu.meshPerAttribute),iu._maxInstanceCount===void 0&&(iu._maxInstanceCount=Pu.meshPerAttribute*Pu.count)):ru.enableAttribute(Gu),Gs.bindBuffer(34962,Zo),ru.vertexAttribPointer(Gu,Ro,Xs,sl,Iu*cu,ul*cu)}else Yu.isInstancedBufferAttribute?(ru.enableAttributeAndDivisor(Gu,Yu.meshPerAttribute),iu._maxInstanceCount===void 0&&(iu._maxInstanceCount=Yu.meshPerAttribute*Yu.count)):ru.enableAttribute(Gu),Gs.bindBuffer(34962,Zo),ru.vertexAttribPointer(Gu,Ro,Xs,sl,0,0)}else if(Ou==="instanceMatrix"){var Qo=Au.get(Go.instanceMatrix);if(Qo===void 0)continue;var Zo=Qo.buffer,Xs=Qo.type;ru.enableAttributeAndDivisor(Gu+0,1),ru.enableAttributeAndDivisor(Gu+1,1),ru.enableAttributeAndDivisor(Gu+2,1),ru.enableAttributeAndDivisor(Gu+3,1),Gs.bindBuffer(34962,Zo),Gs.vertexAttribPointer(Gu+0,4,Xs,!1,64,0),Gs.vertexAttribPointer(Gu+1,4,Xs,!1,64,16),Gs.vertexAttribPointer(Gu+2,4,Xs,!1,64,32),Gs.vertexAttribPointer(Gu+3,4,Xs,!1,64,48)}else if(Bu!==void 0){var Cu=Bu[Ou];if(Cu!==void 0)switch(Cu.length){case 2:Gs.vertexAttrib2fv(Gu,Cu);break;case 3:Gs.vertexAttrib3fv(Gu,Cu);break;case 4:Gs.vertexAttrib4fv(Gu,Cu);break;default:Gs.vertexAttrib1fv(Gu,Cu)}}}}ru.disableUnusedAttributes()}}this.compile=function(Go,iu){fo=pu.get(Go,iu),fo.init(),Go.traverse(function(uu){uu.isLight&&(fo.pushLight(uu),uu.castShadow&&fo.pushShadow(uu))}),fo.setupLights(iu);const tu={};Go.traverse(function(uu){let yu=uu.material;if(yu)if(Array.isArray(yu))for(let Vu=0;Vu<yu.length;Vu++){let Bu=yu[Vu];Bu.uuid in tu||(fl(Bu,Go,uu),tu[Bu.uuid]=!0)}else yu.uuid in tu||(fl(yu,Go,uu),tu[yu.uuid]=!0)})};var Ju=null;function al(Go){Mu.isPresenting||Ju&&Ju(Go)}var dl=new WebGLAnimation;dl.setAnimationLoop(al),typeof window<"u"&&dl.setContext(window),this.setAnimationLoop=function(Go){Ju=Go,Mu.setAnimationLoop(Go),dl.start()},this.render=function(Go,iu){var tu,uu;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),tu=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),uu=arguments[3]),!(iu&&iu.isCamera)){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!vo){Eo.geometry=null,Eo.program=null,Eo.wireframe=!1,Ao=-1,To=null,Go.autoUpdate===!0&&Go.updateMatrixWorld(),iu.parent===null&&iu.updateMatrixWorld(),Mu.enabled&&Mu.isPresenting&&(iu=Mu.getCamera(iu)),Go.onBeforeRender(po,Go,iu,tu||ho),fo=pu.get(Go,iu),fo.init(),$s.multiplyMatrices(iu.projectionMatrix,iu.matrixWorldInverse),Vo.setFromProjectionMatrix($s),Ko=this.localClippingEnabled,Fo=Ho.init(this.clippingPlanes,Ko,iu),co=mu.get(Go,iu),co.init(),zu(Go,iu,0,po.sortObjects),co.finish(),po.sortObjects===!0&&co.sort(So,Do),Fo&&Ho.beginShadows();var yu=fo.state.shadowsArray;Nu.render(yu,Go,iu),fo.setupLights(iu),Fo&&Ho.endShadows(),this.info.autoReset&&this.info.reset(),tu!==void 0&&this.setRenderTarget(tu),Su.render(co,Go,iu,uu);var Vu=co.opaque,Bu=co.transparent;if(Go.overrideMaterial){var Ou=Go.overrideMaterial;Vu.length&&hl(Vu,Go,iu,Ou),Bu.length&&hl(Bu,Go,iu,Ou)}else Vu.length&&hl(Vu,Go,iu),Bu.length&&hl(Bu,Go,iu);Go.onAfterRender(po,Go,iu),ho!==null&&(gu.updateRenderTargetMipmap(ho),gu.updateMultisampleRenderTarget(ho)),ru.buffers.depth.setTest(!0),ru.buffers.depth.setMask(!0),ru.buffers.color.setMask(!0),ru.setPolygonOffset(!1),co=null,fo=null}};function zu(Go,iu,tu,uu){if(Go.visible!==!1){var yu=Go.layers.test(iu.layers);if(yu){if(Go.isGroup)tu=Go.renderOrder;else if(Go.isLOD)Go.autoUpdate===!0&&Go.update(iu);else if(Go.isLight)fo.pushLight(Go),Go.castShadow&&fo.pushShadow(Go);else if(Go.isSprite){if(!Go.frustumCulled||Vo.intersectsSprite(Go)){uu&&au.setFromMatrixPosition(Go.matrixWorld).applyMatrix4($s);var Vu=ku.update(Go),Bu=Go.material;Bu.visible&&co.push(Go,Vu,Bu,tu,au.z,null)}}else if(Go.isImmediateRenderObject)uu&&au.setFromMatrixPosition(Go.matrixWorld).applyMatrix4($s),co.push(Go,null,Go.material,tu,au.z,null);else if((Go.isMesh||Go.isLine||Go.isPoints)&&(Go.isSkinnedMesh&&Go.skeleton.frame!==nu.render.frame&&(Go.skeleton.update(),Go.skeleton.frame=nu.render.frame),!Go.frustumCulled||Vo.intersectsObject(Go))){uu&&au.setFromMatrixPosition(Go.matrixWorld).applyMatrix4($s);var Vu=ku.update(Go),Bu=Go.material;if(Array.isArray(Bu))for(var Ou=Vu.groups,Gu=0,Yu=Ou.length;Gu<Yu;Gu++){var sl=Ou[Gu],Ro=Bu[sl.materialIndex];Ro&&Ro.visible&&co.push(Go,Vu,Ro,tu,au.z,sl)}else Bu.visible&&co.push(Go,Vu,Bu,tu,au.z,null)}}for(var Qo=Go.children,Gu=0,Yu=Qo.length;Gu<Yu;Gu++)zu(Qo[Gu],iu,tu,uu)}}function hl(Go,iu,tu,uu){for(var yu=0,Vu=Go.length;yu<Vu;yu++){var Bu=Go[yu],Ou=Bu.object,Gu=Bu.geometry,Yu=uu===void 0?Bu.material:uu,sl=Bu.group;if(tu.isArrayCamera){No=tu;for(var Ro=tu.cameras,Qo=0,Zo=Ro.length;Qo<Zo;Qo++){var Xs=Ro[Qo];Ou.layers.test(Xs.layers)&&(ru.viewport(Co.copy(Xs.viewport)),fo.setupLights(Xs),pl(Ou,iu,Xs,Gu,Yu,sl))}}else No=null,pl(Ou,iu,tu,Gu,Yu,sl)}}function pl(Go,iu,tu,uu,yu,Vu){if(Go.onBeforeRender(po,iu,tu,uu,yu,Vu),fo=pu.get(iu,No||tu),Go.modelViewMatrix.multiplyMatrices(tu.matrixWorldInverse,Go.matrixWorld),Go.normalMatrix.getNormalMatrix(Go.modelViewMatrix),Go.isImmediateRenderObject){var Bu=ml(tu,iu,yu,Go);ru.setMaterial(yu),Eo.geometry=null,Eo.program=null,Eo.wireframe=!1,Uu(Go,Bu)}else po.renderBufferDirect(tu,iu,uu,yu,Go,Vu);Go.onAfterRender(po,iu,tu,uu,yu,Vu),fo=pu.get(iu,No||tu)}function fl(Go,iu,tu){var uu=su.get(Go),yu=fo.state.lights,Vu=fo.state.shadowsArray,Bu=yu.state.version,Ou=Uo.getParameters(Go,yu.state,Vu,iu,Ho.numPlanes,Ho.numIntersection,tu),Gu=Uo.getProgramCacheKey(Ou),Yu=uu.program,sl=!0;if(Yu===void 0)Go.addEventListener("dispose",Jo);else if(Yu.cacheKey!==Gu)Du(Go);else if(uu.lightsStateVersion!==Bu)uu.lightsStateVersion=Bu,sl=!1;else{if(Ou.shaderID!==void 0)return;sl=!1}sl&&(Yu=Uo.acquireProgram(Ou,Gu),uu.program=Yu,uu.uniforms=Ou.uniforms,uu.outputEncoding=Ou.outputEncoding,Go.program=Yu);var Ro=Yu.getAttributes();if(Go.morphTargets){Go.numSupportedMorphTargets=0;for(var Qo=0;Qo<po.maxMorphTargets;Qo++)Ro["morphTarget"+Qo]>=0&&Go.numSupportedMorphTargets++}if(Go.morphNormals){Go.numSupportedMorphNormals=0;for(var Qo=0;Qo<po.maxMorphNormals;Qo++)Ro["morphNormal"+Qo]>=0&&Go.numSupportedMorphNormals++}var Zo=uu.uniforms;(!Go.isShaderMaterial&&!Go.isRawShaderMaterial||Go.clipping===!0)&&(uu.numClippingPlanes=Ho.numPlanes,uu.numIntersection=Ho.numIntersection,Zo.clippingPlanes=Ho.uniform),uu.environment=Go.isMeshStandardMaterial?iu.environment:null,uu.fog=iu.fog,uu.needsLights=wl(Go),uu.lightsStateVersion=Bu,uu.needsLights&&(Zo.ambientLightColor.value=yu.state.ambient,Zo.lightProbe.value=yu.state.probe,Zo.directionalLights.value=yu.state.directional,Zo.directionalLightShadows.value=yu.state.directionalShadow,Zo.spotLights.value=yu.state.spot,Zo.spotLightShadows.value=yu.state.spotShadow,Zo.rectAreaLights.value=yu.state.rectArea,Zo.pointLights.value=yu.state.point,Zo.pointLightShadows.value=yu.state.pointShadow,Zo.hemisphereLights.value=yu.state.hemi,Zo.directionalShadowMap.value=yu.state.directionalShadowMap,Zo.directionalShadowMatrix.value=yu.state.directionalShadowMatrix,Zo.spotShadowMap.value=yu.state.spotShadowMap,Zo.spotShadowMatrix.value=yu.state.spotShadowMatrix,Zo.pointShadowMap.value=yu.state.pointShadowMap,Zo.pointShadowMatrix.value=yu.state.pointShadowMatrix);var Xs=uu.program.getUniforms(),cu=WebGLUniforms.seqWithValue(Xs.seq,Zo);uu.uniformsList=cu}function ml(Go,iu,tu,uu){gu.resetTextureUnits();var yu=iu.fog,Vu=tu.isMeshStandardMaterial?iu.environment:null,Bu=ho===null?po.outputEncoding:ho.texture.encoding,Ou=su.get(tu),Gu=fo.state.lights;if(Fo&&(Ko||Go!==To)){var Yu=Go===To&&tu.id===Ao;Ho.setState(tu.clippingPlanes,tu.clipIntersection,tu.clipShadows,Go,Ou,Yu)}tu.version===Ou.__version?(Ou.program===void 0||tu.fog&&Ou.fog!==yu||Ou.environment!==Vu||Ou.needsLights&&Ou.lightsStateVersion!==Gu.state.version||Ou.numClippingPlanes!==void 0&&(Ou.numClippingPlanes!==Ho.numPlanes||Ou.numIntersection!==Ho.numIntersection)||Ou.outputEncoding!==Bu)&&fl(tu,iu,uu):(fl(tu,iu,uu),Ou.__version=tu.version);var sl=!1,Ro=!1,Qo=!1,Zo=Ou.program,Xs=Zo.getUniforms(),cu=Ou.uniforms;if(ru.useProgram(Zo.program)&&(sl=!0,Ro=!0,Qo=!0),tu.id!==Ao&&(Ao=tu.id,Ro=!0),sl||To!==Go){if(Xs.setValue(Gs,"projectionMatrix",Go.projectionMatrix),ou.logarithmicDepthBuffer&&Xs.setValue(Gs,"logDepthBufFC",2/(Math.log(Go.far+1)/Math.LN2)),To!==Go&&(To=Go,Ro=!0,Qo=!0),tu.isShaderMaterial||tu.isMeshPhongMaterial||tu.isMeshToonMaterial||tu.isMeshStandardMaterial||tu.envMap){var Pu=Xs.map.cameraPosition;Pu!==void 0&&Pu.setValue(Gs,au.setFromMatrixPosition(Go.matrixWorld))}(tu.isMeshPhongMaterial||tu.isMeshToonMaterial||tu.isMeshLambertMaterial||tu.isMeshBasicMaterial||tu.isMeshStandardMaterial||tu.isShaderMaterial)&&Xs.setValue(Gs,"isOrthographic",Go.isOrthographicCamera===!0),(tu.isMeshPhongMaterial||tu.isMeshToonMaterial||tu.isMeshLambertMaterial||tu.isMeshBasicMaterial||tu.isMeshStandardMaterial||tu.isShaderMaterial||tu.skinning)&&Xs.setValue(Gs,"viewMatrix",Go.matrixWorldInverse)}if(tu.skinning){Xs.setOptional(Gs,uu,"bindMatrix"),Xs.setOptional(Gs,uu,"bindMatrixInverse");var Iu=uu.skeleton;if(Iu){var ul=Iu.bones;if(ou.floatVertexTextures){if(Iu.boneTexture===void 0){var Cu=Math.sqrt(ul.length*4);Cu=MathUtils.ceilPowerOfTwo(Cu),Cu=Math.max(Cu,4);var cl=new Float32Array(Cu*Cu*4);cl.set(Iu.boneMatrices);var Ml=new DataTexture(cl,Cu,Cu,RGBAFormat,FloatType);Iu.boneMatrices=cl,Iu.boneTexture=Ml,Iu.boneTextureSize=Cu}Xs.setValue(Gs,"boneTexture",Iu.boneTexture,gu),Xs.setValue(Gs,"boneTextureSize",Iu.boneTextureSize)}else Xs.setOptional(Gs,Iu,"boneMatrices")}}return(Ro||Ou.receiveShadow!==uu.receiveShadow)&&(Ou.receiveShadow=uu.receiveShadow,Xs.setValue(Gs,"receiveShadow",uu.receiveShadow)),Ro&&(Xs.setValue(Gs,"toneMappingExposure",po.toneMappingExposure),Xs.setValue(Gs,"toneMappingWhitePoint",po.toneMappingWhitePoint),Ou.needsLights&&ll(cu,Qo),yu&&tu.fog&&Yo.refreshFogUniforms(cu,yu),Yo.refreshMaterialUniforms(cu,tu,Vu,bo,xo),cu.ltc_1!==void 0&&(cu.ltc_1.value=UniformsLib.LTC_1),cu.ltc_2!==void 0&&(cu.ltc_2.value=UniformsLib.LTC_2),WebGLUniforms.upload(Gs,Ou.uniformsList,cu,gu)),tu.isShaderMaterial&&tu.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Gs,Ou.uniformsList,cu,gu),tu.uniformsNeedUpdate=!1),tu.isSpriteMaterial&&Xs.setValue(Gs,"center",uu.center),Xs.setValue(Gs,"modelViewMatrix",uu.modelViewMatrix),Xs.setValue(Gs,"normalMatrix",uu.normalMatrix),Xs.setValue(Gs,"modelMatrix",uu.matrixWorld),Zo}function ll(Go,iu){Go.ambientLightColor.needsUpdate=iu,Go.lightProbe.needsUpdate=iu,Go.directionalLights.needsUpdate=iu,Go.directionalLightShadows.needsUpdate=iu,Go.pointLights.needsUpdate=iu,Go.pointLightShadows.needsUpdate=iu,Go.spotLights.needsUpdate=iu,Go.spotLightShadows.needsUpdate=iu,Go.rectAreaLights.needsUpdate=iu,Go.hemisphereLights.needsUpdate=iu}function wl(Go){return Go.isMeshLambertMaterial||Go.isMeshToonMaterial||Go.isMeshPhongMaterial||Go.isMeshStandardMaterial||Go.isShadowMaterial||Go.isShaderMaterial&&Go.lights===!0}this.setFramebuffer=function(Go){go!==Go&&ho===null&&Gs.bindFramebuffer(36160,Go),go=Go},this.getActiveCubeFace=function(){return mo},this.getActiveMipmapLevel=function(){return lo},this.getRenderTarget=function(){return ho},this.setRenderTarget=function(Go,iu,tu){ho=Go,mo=iu,lo=tu,Go&&su.get(Go).__webglFramebuffer===void 0&&gu.setupRenderTarget(Go);var uu=go,yu=!1;if(Go){var Vu=su.get(Go).__webglFramebuffer;Go.isWebGLCubeRenderTarget?(uu=Vu[iu||0],yu=!0):Go.isWebGLMultisampleRenderTarget?uu=su.get(Go).__webglMultisampledFramebuffer:uu=Vu,Co.copy(Go.viewport),Io.copy(Go.scissor),Mo=Go.scissorTest}else Co.copy(Oo).multiplyScalar(bo).floor(),Io.copy(Bo).multiplyScalar(bo).floor(),Mo=$o;if(yo!==uu&&(Gs.bindFramebuffer(36160,uu),yo=uu),ru.viewport(Co),ru.scissor(Io),ru.setScissorTest(Mo),yu){var Bu=su.get(Go.texture);Gs.framebufferTexture2D(36160,36064,34069+(iu||0),Bu.__webglTexture,tu||0)}},this.readRenderTargetPixels=function(Go,iu,tu,uu,yu,Vu,Bu){if(!(Go&&Go.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}var Ou=su.get(Go).__webglFramebuffer;if(Go.isWebGLCubeRenderTarget&&Bu!==void 0&&(Ou=Ou[Bu]),Ou){var Gu=!1;Ou!==yo&&(Gs.bindFramebuffer(36160,Ou),Gu=!0);try{var Yu=Go.texture,sl=Yu.format,Ro=Yu.type;if(sl!==RGBAFormat&&Qu.convert(sl)!==Gs.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Ro!==UnsignedByteType&&Qu.convert(Ro)!==Gs.getParameter(35738)&&!(Ro===FloatType&&(ou.isWebGL2||lu.get("OES_texture_float")||lu.get("WEBGL_color_buffer_float")))&&!(Ro===HalfFloatType&&(ou.isWebGL2?lu.get("EXT_color_buffer_float"):lu.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Gs.checkFramebufferStatus(36160)===36053?iu>=0&&iu<=Go.width-uu&&tu>=0&&tu<=Go.height-yu&&Gs.readPixels(iu,tu,uu,yu,Qu.convert(sl),Qu.convert(Ro),Vu):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Gu&&Gs.bindFramebuffer(36160,yo)}}},this.copyFramebufferToTexture=function(Go,iu,tu){tu===void 0&&(tu=0);var uu=Math.pow(2,-tu),yu=Math.floor(iu.image.width*uu),Vu=Math.floor(iu.image.height*uu),Bu=Qu.convert(iu.format);gu.setTexture2D(iu,0),Gs.copyTexImage2D(3553,tu,Bu,Go.x,Go.y,yu,Vu,0),ru.unbindTexture()},this.copyTextureToTexture=function(Go,iu,tu,uu){uu===void 0&&(uu=0);var yu=iu.image.width,Vu=iu.image.height,Bu=Qu.convert(tu.format),Ou=Qu.convert(tu.type);gu.setTexture2D(tu,0),iu.isDataTexture?Gs.texSubImage2D(3553,uu,Go.x,Go.y,yu,Vu,Bu,Ou,iu.image.data):iu.isCompressedTexture?Gs.compressedTexSubImage2D(3553,uu,Go.x,Go.y,iu.mipmaps[0].width,iu.mipmaps[0].height,Bu,iu.mipmaps[0].data):Gs.texSubImage2D(3553,uu,Go.x,Go.y,Bu,Ou,iu.image),uu===0&&tu.generateMipmaps&&Gs.generateMipmap(3553),ru.unbindTexture()},this.initTexture=function(Go){gu.setTexture2D(Go,0),ru.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function FogExp2(va,_a){this.name="",this.color=new Color(va),this.density=_a!==void 0?_a:25e-5}Object.assign(FogExp2.prototype,{isFogExp2:!0,clone:function(){return new FogExp2(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});function Fog(va,_a,eo){this.name="",this.color=new Color(va),this.near=_a!==void 0?_a:1,this.far=eo!==void 0?eo:1e3}Object.assign(Fog.prototype,{isFog:!0,clone:function(){return new Fog(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});function InterleavedBuffer(va,_a){this.array=va,this.stride=_a,this.count=va!==void 0?va.length/_a:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(InterleavedBuffer.prototype,"needsUpdate",{set:function(va){va===!0&&this.version++}});Object.assign(InterleavedBuffer.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(va){return this.usage=va,this},copy:function(va){return this.array=new va.array.constructor(va.array),this.count=va.count,this.stride=va.stride,this.usage=va.usage,this},copyAt:function(va,_a,eo){va*=this.stride,eo*=_a.stride;for(var to=0,ro=this.stride;to<ro;to++)this.array[va+to]=_a.array[eo+to];return this},set:function(va,_a){return _a===void 0&&(_a=0),this.array.set(va,_a),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(va){return this.onUploadCallback=va,this}});var _vector$6=new Vector3;function InterleavedBufferAttribute(va,_a,eo,to){this.name="",this.data=va,this.itemSize=_a,this.offset=eo,this.normalized=to===!0}Object.defineProperties(InterleavedBufferAttribute.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(InterleavedBufferAttribute.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(va){for(var _a=0,eo=this.data.count;_a<eo;_a++)_vector$6.x=this.getX(_a),_vector$6.y=this.getY(_a),_vector$6.z=this.getZ(_a),_vector$6.applyMatrix4(va),this.setXYZ(_a,_vector$6.x,_vector$6.y,_vector$6.z);return this},setX:function(va,_a){return this.data.array[va*this.data.stride+this.offset]=_a,this},setY:function(va,_a){return this.data.array[va*this.data.stride+this.offset+1]=_a,this},setZ:function(va,_a){return this.data.array[va*this.data.stride+this.offset+2]=_a,this},setW:function(va,_a){return this.data.array[va*this.data.stride+this.offset+3]=_a,this},getX:function(va){return this.data.array[va*this.data.stride+this.offset]},getY:function(va){return this.data.array[va*this.data.stride+this.offset+1]},getZ:function(va){return this.data.array[va*this.data.stride+this.offset+2]},getW:function(va){return this.data.array[va*this.data.stride+this.offset+3]},setXY:function(va,_a,eo){return va=va*this.data.stride+this.offset,this.data.array[va+0]=_a,this.data.array[va+1]=eo,this},setXYZ:function(va,_a,eo,to){return va=va*this.data.stride+this.offset,this.data.array[va+0]=_a,this.data.array[va+1]=eo,this.data.array[va+2]=to,this},setXYZW:function(va,_a,eo,to,ro){return va=va*this.data.stride+this.offset,this.data.array[va+0]=_a,this.data.array[va+1]=eo,this.data.array[va+2]=to,this.data.array[va+3]=ro,this},clone:function(){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var va=[],_a=0;_a<this.count;_a++)for(var eo=_a*this.data.stride+this.offset,to=0;to<this.itemSize;to++)va.push(this.data.array[eo+to]);return new BufferAttribute(new this.array.constructor(va),this.itemSize,this.normalized)},toJSON:function(){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var va=[],_a=0;_a<this.count;_a++)for(var eo=_a*this.data.stride+this.offset,to=0;to<this.itemSize;to++)va.push(this.data.array[eo+to]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:va,normalized:this.normalized}}});function SpriteMaterial(va){Material.call(this),this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(va)}SpriteMaterial.prototype=Object.create(Material.prototype);SpriteMaterial.prototype.constructor=SpriteMaterial;SpriteMaterial.prototype.isSpriteMaterial=!0;SpriteMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.color.copy(va.color),this.map=va.map,this.alphaMap=va.alphaMap,this.rotation=va.rotation,this.sizeAttenuation=va.sizeAttenuation,this};var _geometry,_intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2;function Sprite(va){if(Object3D.call(this),this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;var _a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),eo=new InterleavedBuffer(_a,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(eo,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(eo,2,3,!1))}this.geometry=_geometry,this.material=va!==void 0?va:new SpriteMaterial,this.center=new Vector2(.5,.5)}Sprite.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Sprite,isSprite:!0,raycast:function(va,_a){va.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(va.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(va.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),va.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);var eo=this.material.rotation,to,ro;eo!==0&&(ro=Math.cos(eo),to=Math.sin(eo));var no=this.center;transformVertex(_vA$1.set(-.5,-.5,0),_mvPosition,no,_worldScale,to,ro),transformVertex(_vB$1.set(.5,-.5,0),_mvPosition,no,_worldScale,to,ro),transformVertex(_vC$1.set(.5,.5,0),_mvPosition,no,_worldScale,to,ro),_uvA$1.set(0,0),_uvB$1.set(1,0),_uvC$1.set(1,1);var io=va.ray.intersectTriangle(_vA$1,_vB$1,_vC$1,!1,_intersectPoint);if(!(io===null&&(transformVertex(_vB$1.set(-.5,.5,0),_mvPosition,no,_worldScale,to,ro),_uvB$1.set(0,1),io=va.ray.intersectTriangle(_vA$1,_vC$1,_vB$1,!1,_intersectPoint),io===null))){var ao=va.ray.origin.distanceTo(_intersectPoint);ao<va.near||ao>va.far||_a.push({distance:ao,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(va){return Object3D.prototype.copy.call(this,va),va.center!==void 0&&this.center.copy(va.center),this}});function transformVertex(va,_a,eo,to,ro,no){_alignedPosition.subVectors(va,eo).addScalar(.5).multiply(to),ro!==void 0?(_rotatedPosition.x=no*_alignedPosition.x-ro*_alignedPosition.y,_rotatedPosition.y=ro*_alignedPosition.x+no*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),va.copy(_a),va.x+=_rotatedPosition.x,va.y+=_rotatedPosition.y,va.applyMatrix4(_viewWorldMatrix)}var _v1$4=new Vector3,_v2$2=new Vector3;function LOD(){Object3D.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}LOD.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LOD,isLOD:!0,copy:function(va){Object3D.prototype.copy.call(this,va,!1);for(var _a=va.levels,eo=0,to=_a.length;eo<to;eo++){var ro=_a[eo];this.addLevel(ro.object.clone(),ro.distance)}return this.autoUpdate=va.autoUpdate,this},addLevel:function(va,_a){_a===void 0&&(_a=0),_a=Math.abs(_a);for(var eo=this.levels,to=0;to<eo.length&&!(_a<eo[to].distance);to++);return eo.splice(to,0,{distance:_a,object:va}),this.add(va),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(va){var _a=this.levels;if(_a.length>0){for(var eo=1,to=_a.length;eo<to&&!(va<_a[eo].distance);eo++);return _a[eo-1].object}return null},raycast:function(va,_a){var eo=this.levels;if(eo.length>0){_v1$4.setFromMatrixPosition(this.matrixWorld);var to=va.ray.origin.distanceTo(_v1$4);this.getObjectForDistance(to).raycast(va,_a)}},update:function(va){var _a=this.levels;if(_a.length>1){_v1$4.setFromMatrixPosition(va.matrixWorld),_v2$2.setFromMatrixPosition(this.matrixWorld);var eo=_v1$4.distanceTo(_v2$2)/va.zoom;_a[0].object.visible=!0;for(var to=1,ro=_a.length;to<ro&&eo>=_a[to].distance;to++)_a[to-1].object.visible=!1,_a[to].object.visible=!0;for(this._currentLevel=to-1;to<ro;to++)_a[to].object.visible=!1}},toJSON:function(va){var _a=Object3D.prototype.toJSON.call(this,va);this.autoUpdate===!1&&(_a.object.autoUpdate=!1),_a.object.levels=[];for(var eo=this.levels,to=0,ro=eo.length;to<ro;to++){var no=eo[to];_a.object.levels.push({object:no.object.uuid,distance:no.distance})}return _a}});function SkinnedMesh(va,_a){va&&va.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Mesh.call(this,va,_a),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}SkinnedMesh.prototype=Object.assign(Object.create(Mesh.prototype),{constructor:SkinnedMesh,isSkinnedMesh:!0,bind:function(va,_a){this.skeleton=va,_a===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),_a=this.matrixWorld),this.bindMatrix.copy(_a),this.bindMatrixInverse.getInverse(_a)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var va=new Vector4,_a=this.geometry.attributes.skinWeight,eo=0,to=_a.count;eo<to;eo++){va.x=_a.getX(eo),va.y=_a.getY(eo),va.z=_a.getZ(eo),va.w=_a.getW(eo);var ro=1/va.manhattanLength();ro!==1/0?va.multiplyScalar(ro):va.set(1,0,0,0),_a.setXYZW(eo,va.x,va.y,va.z,va.w)}},updateMatrixWorld:function(va){Mesh.prototype.updateMatrixWorld.call(this,va),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var va=new Vector3,_a=new Vector4,eo=new Vector4,to=new Vector3,ro=new Matrix4;return function(no,io){var ao=this.skeleton,oo=this.geometry;_a.fromBufferAttribute(oo.attributes.skinIndex,no),eo.fromBufferAttribute(oo.attributes.skinWeight,no),va.fromBufferAttribute(oo.attributes.position,no).applyMatrix4(this.bindMatrix),io.set(0,0,0);for(var so=0;so<4;so++){var uo=eo.getComponent(so);if(uo!==0){var co=_a.getComponent(so);ro.multiplyMatrices(ao.bones[co].matrixWorld,ao.boneInverses[co]),io.addScaledVector(to.copy(va).applyMatrix4(ro),uo)}}return io.applyMatrix4(this.bindMatrixInverse)}}()});var _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;function Skeleton(va,_a){if(va=va||[],this.bones=va.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,_a===void 0)this.calculateInverses();else if(this.bones.length===_a.length)this.boneInverses=_a.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var eo=0,to=this.bones.length;eo<to;eo++)this.boneInverses.push(new Matrix4)}}Object.assign(Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var va=0,_a=this.bones.length;va<_a;va++){var eo=new Matrix4;this.bones[va]&&eo.getInverse(this.bones[va].matrixWorld),this.boneInverses.push(eo)}},pose:function(){var va,_a,eo;for(_a=0,eo=this.bones.length;_a<eo;_a++)va=this.bones[_a],va&&va.matrixWorld.getInverse(this.boneInverses[_a]);for(_a=0,eo=this.bones.length;_a<eo;_a++)va=this.bones[_a],va&&(va.parent&&va.parent.isBone?(va.matrix.getInverse(va.parent.matrixWorld),va.matrix.multiply(va.matrixWorld)):va.matrix.copy(va.matrixWorld),va.matrix.decompose(va.position,va.quaternion,va.scale))},update:function(){for(var va=this.bones,_a=this.boneInverses,eo=this.boneMatrices,to=this.boneTexture,ro=0,no=va.length;ro<no;ro++){var io=va[ro]?va[ro].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(io,_a[ro]),_offsetMatrix.toArray(eo,ro*16)}to!==void 0&&(to.needsUpdate=!0)},clone:function(){return new Skeleton(this.bones,this.boneInverses)},getBoneByName:function(va){for(var _a=0,eo=this.bones.length;_a<eo;_a++){var to=this.bones[_a];if(to.name===va)return to}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function Bone(){Object3D.call(this),this.type="Bone"}Bone.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Bone,isBone:!0});var _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;function InstancedMesh(va,_a,eo){Mesh.call(this,va,_a),this.instanceMatrix=new BufferAttribute(new Float32Array(eo*16),16),this.count=eo,this.frustumCulled=!1}InstancedMesh.prototype=Object.assign(Object.create(Mesh.prototype),{constructor:InstancedMesh,isInstancedMesh:!0,getMatrixAt:function(va,_a){_a.fromArray(this.instanceMatrix.array,va*16)},raycast:function(va,_a){var eo=this.matrixWorld,to=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(var ro=0;ro<to;ro++){this.getMatrixAt(ro,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(eo,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(va,_instanceIntersects);for(var no=0,io=_instanceIntersects.length;no<io;no++){var ao=_instanceIntersects[no];ao.instanceId=ro,ao.object=this,_a.push(ao)}_instanceIntersects.length=0}},setMatrixAt:function(va,_a){_a.toArray(this.instanceMatrix.array,va*16)},updateMorphTargets:function(){}});function LineBasicMaterial(va){Material.call(this),this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(va)}LineBasicMaterial.prototype=Object.create(Material.prototype);LineBasicMaterial.prototype.constructor=LineBasicMaterial;LineBasicMaterial.prototype.isLineBasicMaterial=!0;LineBasicMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.color.copy(va.color),this.linewidth=va.linewidth,this.linecap=va.linecap,this.linejoin=va.linejoin,this.morphTargets=va.morphTargets,this};var _start=new Vector3,_end=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$2=new Sphere;function Line(va,_a,eo){eo===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Object3D.call(this),this.type="Line",this.geometry=va!==void 0?va:new BufferGeometry,this.material=_a!==void 0?_a:new LineBasicMaterial,this.updateMorphTargets()}Line.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Line,isLine:!0,computeLineDistances:function(){var va=this.geometry;if(va.isBufferGeometry)if(va.index===null){for(var _a=va.attributes.position,eo=[0],to=1,ro=_a.count;to<ro;to++)_start.fromBufferAttribute(_a,to-1),_end.fromBufferAttribute(_a,to),eo[to]=eo[to-1],eo[to]+=_start.distanceTo(_end);va.setAttribute("lineDistance",new Float32BufferAttribute(eo,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(va.isGeometry){var no=va.vertices,eo=va.lineDistances;eo[0]=0;for(var to=1,ro=no.length;to<ro;to++)eo[to]=eo[to-1],eo[to]+=no[to-1].distanceTo(no[to])}return this},raycast:function(va,_a){var eo=this.geometry,to=this.matrixWorld,ro=va.params.Line.threshold;if(eo.boundingSphere===null&&eo.computeBoundingSphere(),_sphere$2.copy(eo.boundingSphere),_sphere$2.applyMatrix4(to),_sphere$2.radius+=ro,va.ray.intersectsSphere(_sphere$2)!==!1){_inverseMatrix$1.getInverse(to),_ray$1.copy(va.ray).applyMatrix4(_inverseMatrix$1);var no=ro/((this.scale.x+this.scale.y+this.scale.z)/3),io=no*no,ao=new Vector3,oo=new Vector3,so=new Vector3,uo=new Vector3,co=this&&this.isLineSegments?2:1;if(eo.isBufferGeometry){var fo=eo.index,po=eo.attributes,vo=po.position.array;if(fo!==null)for(var go=fo.array,mo=0,lo=go.length-1;mo<lo;mo+=co){var ho=go[mo],yo=go[mo+1];ao.fromArray(vo,ho*3),oo.fromArray(vo,yo*3);var Ao=_ray$1.distanceSqToSegment(ao,oo,uo,so);if(!(Ao>io)){uo.applyMatrix4(this.matrixWorld);var Eo=va.ray.origin.distanceTo(uo);Eo<va.near||Eo>va.far||_a.push({distance:Eo,point:so.clone().applyMatrix4(this.matrixWorld),index:mo,face:null,faceIndex:null,object:this})}}else for(var mo=0,lo=vo.length/3-1;mo<lo;mo+=co){ao.fromArray(vo,3*mo),oo.fromArray(vo,3*mo+3);var Ao=_ray$1.distanceSqToSegment(ao,oo,uo,so);if(!(Ao>io)){uo.applyMatrix4(this.matrixWorld);var Eo=va.ray.origin.distanceTo(uo);Eo<va.near||Eo>va.far||_a.push({distance:Eo,point:so.clone().applyMatrix4(this.matrixWorld),index:mo,face:null,faceIndex:null,object:this})}}}else if(eo.isGeometry)for(var To=eo.vertices,No=To.length,mo=0;mo<No-1;mo+=co){var Ao=_ray$1.distanceSqToSegment(To[mo],To[mo+1],uo,so);if(!(Ao>io)){uo.applyMatrix4(this.matrixWorld);var Eo=va.ray.origin.distanceTo(uo);Eo<va.near||Eo>va.far||_a.push({distance:Eo,point:so.clone().applyMatrix4(this.matrixWorld),index:mo,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var va=this.geometry,_a,eo,to;if(va.isBufferGeometry){var ro=va.morphAttributes,no=Object.keys(ro);if(no.length>0){var io=ro[no[0]];if(io!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},_a=0,eo=io.length;_a<eo;_a++)to=io[_a].name||String(_a),this.morphTargetInfluences.push(0),this.morphTargetDictionary[to]=_a}}else{var ao=va.morphTargets;ao!==void 0&&ao.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var _start$1=new Vector3,_end$1=new Vector3;function LineSegments(va,_a){Line.call(this,va,_a),this.type="LineSegments"}LineSegments.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineSegments,isLineSegments:!0,computeLineDistances:function(){var va=this.geometry;if(va.isBufferGeometry)if(va.index===null){for(var _a=va.attributes.position,eo=[],to=0,ro=_a.count;to<ro;to+=2)_start$1.fromBufferAttribute(_a,to),_end$1.fromBufferAttribute(_a,to+1),eo[to]=to===0?0:eo[to-1],eo[to+1]=eo[to]+_start$1.distanceTo(_end$1);va.setAttribute("lineDistance",new Float32BufferAttribute(eo,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(va.isGeometry)for(var no=va.vertices,eo=va.lineDistances,to=0,ro=no.length;to<ro;to+=2)_start$1.copy(no[to]),_end$1.copy(no[to+1]),eo[to]=to===0?0:eo[to-1],eo[to+1]=eo[to]+_start$1.distanceTo(_end$1);return this}});function LineLoop(va,_a){Line.call(this,va,_a),this.type="LineLoop"}LineLoop.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineLoop,isLineLoop:!0});function PointsMaterial(va){Material.call(this),this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(va)}PointsMaterial.prototype=Object.create(Material.prototype);PointsMaterial.prototype.constructor=PointsMaterial;PointsMaterial.prototype.isPointsMaterial=!0;PointsMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.color.copy(va.color),this.map=va.map,this.alphaMap=va.alphaMap,this.size=va.size,this.sizeAttenuation=va.sizeAttenuation,this.morphTargets=va.morphTargets,this};var _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_position$1=new Vector3;function Points(va,_a){Object3D.call(this),this.type="Points",this.geometry=va!==void 0?va:new BufferGeometry,this.material=_a!==void 0?_a:new PointsMaterial,this.updateMorphTargets()}Points.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Points,isPoints:!0,raycast:function(va,_a){var eo=this.geometry,to=this.matrixWorld,ro=va.params.Points.threshold;if(eo.boundingSphere===null&&eo.computeBoundingSphere(),_sphere$3.copy(eo.boundingSphere),_sphere$3.applyMatrix4(to),_sphere$3.radius+=ro,va.ray.intersectsSphere(_sphere$3)!==!1){_inverseMatrix$2.getInverse(to),_ray$2.copy(va.ray).applyMatrix4(_inverseMatrix$2);var no=ro/((this.scale.x+this.scale.y+this.scale.z)/3),io=no*no;if(eo.isBufferGeometry){var ao=eo.index,oo=eo.attributes,so=oo.position.array;if(ao!==null)for(var uo=ao.array,co=0,fo=uo.length;co<fo;co++){var po=uo[co];_position$1.fromArray(so,po*3),testPoint(_position$1,po,io,to,va,_a,this)}else for(var co=0,vo=so.length/3;co<vo;co++)_position$1.fromArray(so,co*3),testPoint(_position$1,co,io,to,va,_a,this)}else for(var go=eo.vertices,co=0,vo=go.length;co<vo;co++)testPoint(go[co],co,io,to,va,_a,this)}},updateMorphTargets:function(){var va=this.geometry,_a,eo,to;if(va.isBufferGeometry){var ro=va.morphAttributes,no=Object.keys(ro);if(no.length>0){var io=ro[no[0]];if(io!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},_a=0,eo=io.length;_a<eo;_a++)to=io[_a].name||String(_a),this.morphTargetInfluences.push(0),this.morphTargetDictionary[to]=_a}}else{var ao=va.morphTargets;ao!==void 0&&ao.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function testPoint(va,_a,eo,to,ro,no,io){var ao=_ray$2.distanceSqToPoint(va);if(ao<eo){var oo=new Vector3;_ray$2.closestPointToPoint(va,oo),oo.applyMatrix4(to);var so=ro.ray.origin.distanceTo(oo);if(so<ro.near||so>ro.far)return;no.push({distance:so,distanceToRay:Math.sqrt(ao),point:oo,index:_a,face:null,object:io})}}function VideoTexture(va,_a,eo,to,ro,no,io,ao,oo){Texture.call(this,va,_a,eo,to,ro,no,io,ao,oo),this.format=io!==void 0?io:RGBFormat,this.minFilter=no!==void 0?no:LinearFilter,this.magFilter=ro!==void 0?ro:LinearFilter,this.generateMipmaps=!1}VideoTexture.prototype=Object.assign(Object.create(Texture.prototype),{constructor:VideoTexture,isVideoTexture:!0,update:function(){var va=this.image;va.readyState>=va.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function CompressedTexture(va,_a,eo,to,ro,no,io,ao,oo,so,uo,co){Texture.call(this,null,no,io,ao,oo,so,to,ro,uo,co),this.image={width:_a,height:eo},this.mipmaps=va,this.flipY=!1,this.generateMipmaps=!1}CompressedTexture.prototype=Object.create(Texture.prototype);CompressedTexture.prototype.constructor=CompressedTexture;CompressedTexture.prototype.isCompressedTexture=!0;function CanvasTexture(va,_a,eo,to,ro,no,io,ao,oo){Texture.call(this,va,_a,eo,to,ro,no,io,ao,oo),this.needsUpdate=!0}CanvasTexture.prototype=Object.create(Texture.prototype);CanvasTexture.prototype.constructor=CanvasTexture;CanvasTexture.prototype.isCanvasTexture=!0;function DepthTexture(va,_a,eo,to,ro,no,io,ao,oo,so){if(so=so!==void 0?so:DepthFormat,so!==DepthFormat&&so!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");eo===void 0&&so===DepthFormat&&(eo=UnsignedShortType),eo===void 0&&so===DepthStencilFormat&&(eo=UnsignedInt248Type),Texture.call(this,null,to,ro,no,io,ao,so,eo,oo),this.image={width:va,height:_a},this.magFilter=io!==void 0?io:NearestFilter,this.minFilter=ao!==void 0?ao:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}DepthTexture.prototype=Object.create(Texture.prototype);DepthTexture.prototype.constructor=DepthTexture;DepthTexture.prototype.isDepthTexture=!0;function WireframeGeometry(va){BufferGeometry.call(this),this.type="WireframeGeometry";var _a=[],eo,to,ro,no,io,ao=[0,0],oo={},so,uo,co,fo,po=["a","b","c"],vo;if(va&&va.isGeometry){var go=va.faces;for(eo=0,ro=go.length;eo<ro;eo++){var mo=go[eo];for(to=0;to<3;to++)uo=mo[po[to]],co=mo[po[(to+1)%3]],ao[0]=Math.min(uo,co),ao[1]=Math.max(uo,co),fo=ao[0]+","+ao[1],oo[fo]===void 0&&(oo[fo]={index1:ao[0],index2:ao[1]})}for(fo in oo)so=oo[fo],vo=va.vertices[so.index1],_a.push(vo.x,vo.y,vo.z),vo=va.vertices[so.index2],_a.push(vo.x,vo.y,vo.z)}else if(va&&va.isBufferGeometry){var lo,ho,yo,Ao,Eo,To,No,Co;if(vo=new Vector3,va.index!==null){for(lo=va.attributes.position,ho=va.index,yo=va.groups,yo.length===0&&(yo=[{start:0,count:ho.count,materialIndex:0}]),no=0,io=yo.length;no<io;++no)for(Ao=yo[no],Eo=Ao.start,To=Ao.count,eo=Eo,ro=Eo+To;eo<ro;eo+=3)for(to=0;to<3;to++)uo=ho.getX(eo+to),co=ho.getX(eo+(to+1)%3),ao[0]=Math.min(uo,co),ao[1]=Math.max(uo,co),fo=ao[0]+","+ao[1],oo[fo]===void 0&&(oo[fo]={index1:ao[0],index2:ao[1]});for(fo in oo)so=oo[fo],vo.fromBufferAttribute(lo,so.index1),_a.push(vo.x,vo.y,vo.z),vo.fromBufferAttribute(lo,so.index2),_a.push(vo.x,vo.y,vo.z)}else for(lo=va.attributes.position,eo=0,ro=lo.count/3;eo<ro;eo++)for(to=0;to<3;to++)No=3*eo+to,vo.fromBufferAttribute(lo,No),_a.push(vo.x,vo.y,vo.z),Co=3*eo+(to+1)%3,vo.fromBufferAttribute(lo,Co),_a.push(vo.x,vo.y,vo.z)}this.setAttribute("position",new Float32BufferAttribute(_a,3))}WireframeGeometry.prototype=Object.create(BufferGeometry.prototype);WireframeGeometry.prototype.constructor=WireframeGeometry;function ParametricGeometry(va,_a,eo){Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:va,slices:_a,stacks:eo},this.fromBufferGeometry(new ParametricBufferGeometry(va,_a,eo)),this.mergeVertices()}ParametricGeometry.prototype=Object.create(Geometry.prototype);ParametricGeometry.prototype.constructor=ParametricGeometry;function ParametricBufferGeometry(va,_a,eo){BufferGeometry.call(this),this.type="ParametricBufferGeometry",this.parameters={func:va,slices:_a,stacks:eo};var to=[],ro=[],no=[],io=[],ao=1e-5,oo=new Vector3,so=new Vector3,uo=new Vector3,co=new Vector3,fo=new Vector3,po,vo;va.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var go=_a+1;for(po=0;po<=eo;po++){var mo=po/eo;for(vo=0;vo<=_a;vo++){var lo=vo/_a;va(lo,mo,so),ro.push(so.x,so.y,so.z),lo-ao>=0?(va(lo-ao,mo,uo),co.subVectors(so,uo)):(va(lo+ao,mo,uo),co.subVectors(uo,so)),mo-ao>=0?(va(lo,mo-ao,uo),fo.subVectors(so,uo)):(va(lo,mo+ao,uo),fo.subVectors(uo,so)),oo.crossVectors(co,fo).normalize(),no.push(oo.x,oo.y,oo.z),io.push(lo,mo)}}for(po=0;po<eo;po++)for(vo=0;vo<_a;vo++){var ho=po*go+vo,yo=po*go+vo+1,Ao=(po+1)*go+vo+1,Eo=(po+1)*go+vo;to.push(ho,yo,Eo),to.push(yo,Ao,Eo)}this.setIndex(to),this.setAttribute("position",new Float32BufferAttribute(ro,3)),this.setAttribute("normal",new Float32BufferAttribute(no,3)),this.setAttribute("uv",new Float32BufferAttribute(io,2))}ParametricBufferGeometry.prototype=Object.create(BufferGeometry.prototype);ParametricBufferGeometry.prototype.constructor=ParametricBufferGeometry;function PolyhedronGeometry(va,_a,eo,to){Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:va,indices:_a,radius:eo,detail:to},this.fromBufferGeometry(new PolyhedronBufferGeometry(va,_a,eo,to)),this.mergeVertices()}PolyhedronGeometry.prototype=Object.create(Geometry.prototype);PolyhedronGeometry.prototype.constructor=PolyhedronGeometry;function PolyhedronBufferGeometry(va,_a,eo,to){BufferGeometry.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:va,indices:_a,radius:eo,detail:to},eo=eo||1,to=to||0;var ro=[],no=[];io(to),oo(eo),so(),this.setAttribute("position",new Float32BufferAttribute(ro,3)),this.setAttribute("normal",new Float32BufferAttribute(ro.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(no,2)),to===0?this.computeVertexNormals():this.normalizeNormals();function io(lo){for(var ho=new Vector3,yo=new Vector3,Ao=new Vector3,Eo=0;Eo<_a.length;Eo+=3)fo(_a[Eo+0],ho),fo(_a[Eo+1],yo),fo(_a[Eo+2],Ao),ao(ho,yo,Ao,lo)}function ao(lo,ho,yo,Ao){var Eo=Math.pow(2,Ao),To=[],No,Co;for(No=0;No<=Eo;No++){To[No]=[];var Io=lo.clone().lerp(yo,No/Eo),Mo=ho.clone().lerp(yo,No/Eo),wo=Eo-No;for(Co=0;Co<=wo;Co++)Co===0&&No===Eo?To[No][Co]=Io:To[No][Co]=Io.clone().lerp(Mo,Co/wo)}for(No=0;No<Eo;No++)for(Co=0;Co<2*(Eo-No)-1;Co++){var xo=Math.floor(Co/2);Co%2===0?(co(To[No][xo+1]),co(To[No+1][xo]),co(To[No][xo])):(co(To[No][xo+1]),co(To[No+1][xo+1]),co(To[No+1][xo]))}}function oo(lo){for(var ho=new Vector3,yo=0;yo<ro.length;yo+=3)ho.x=ro[yo+0],ho.y=ro[yo+1],ho.z=ro[yo+2],ho.normalize().multiplyScalar(lo),ro[yo+0]=ho.x,ro[yo+1]=ho.y,ro[yo+2]=ho.z}function so(){for(var lo=new Vector3,ho=0;ho<ro.length;ho+=3){lo.x=ro[ho+0],lo.y=ro[ho+1],lo.z=ro[ho+2];var yo=go(lo)/2/Math.PI+.5,Ao=mo(lo)/Math.PI+.5;no.push(yo,1-Ao)}po(),uo()}function uo(){for(var lo=0;lo<no.length;lo+=6){var ho=no[lo+0],yo=no[lo+2],Ao=no[lo+4],Eo=Math.max(ho,yo,Ao),To=Math.min(ho,yo,Ao);Eo>.9&&To<.1&&(ho<.2&&(no[lo+0]+=1),yo<.2&&(no[lo+2]+=1),Ao<.2&&(no[lo+4]+=1))}}function co(lo){ro.push(lo.x,lo.y,lo.z)}function fo(lo,ho){var yo=lo*3;ho.x=va[yo+0],ho.y=va[yo+1],ho.z=va[yo+2]}function po(){for(var lo=new Vector3,ho=new Vector3,yo=new Vector3,Ao=new Vector3,Eo=new Vector2,To=new Vector2,No=new Vector2,Co=0,Io=0;Co<ro.length;Co+=9,Io+=6){lo.set(ro[Co+0],ro[Co+1],ro[Co+2]),ho.set(ro[Co+3],ro[Co+4],ro[Co+5]),yo.set(ro[Co+6],ro[Co+7],ro[Co+8]),Eo.set(no[Io+0],no[Io+1]),To.set(no[Io+2],no[Io+3]),No.set(no[Io+4],no[Io+5]),Ao.copy(lo).add(ho).add(yo).divideScalar(3);var Mo=go(Ao);vo(Eo,Io+0,lo,Mo),vo(To,Io+2,ho,Mo),vo(No,Io+4,yo,Mo)}}function vo(lo,ho,yo,Ao){Ao<0&&lo.x===1&&(no[ho]=lo.x-1),yo.x===0&&yo.z===0&&(no[ho]=Ao/2/Math.PI+.5)}function go(lo){return Math.atan2(lo.z,-lo.x)}function mo(lo){return Math.atan2(-lo.y,Math.sqrt(lo.x*lo.x+lo.z*lo.z))}}PolyhedronBufferGeometry.prototype=Object.create(BufferGeometry.prototype);PolyhedronBufferGeometry.prototype.constructor=PolyhedronBufferGeometry;function TetrahedronGeometry(va,_a){Geometry.call(this),this.type="TetrahedronGeometry",this.parameters={radius:va,detail:_a},this.fromBufferGeometry(new TetrahedronBufferGeometry(va,_a)),this.mergeVertices()}TetrahedronGeometry.prototype=Object.create(Geometry.prototype);TetrahedronGeometry.prototype.constructor=TetrahedronGeometry;function TetrahedronBufferGeometry(va,_a){var eo=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],to=[2,1,0,0,3,2,1,3,0,2,3,1];PolyhedronBufferGeometry.call(this,eo,to,va,_a),this.type="TetrahedronBufferGeometry",this.parameters={radius:va,detail:_a}}TetrahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype);TetrahedronBufferGeometry.prototype.constructor=TetrahedronBufferGeometry;function OctahedronGeometry(va,_a){Geometry.call(this),this.type="OctahedronGeometry",this.parameters={radius:va,detail:_a},this.fromBufferGeometry(new OctahedronBufferGeometry(va,_a)),this.mergeVertices()}OctahedronGeometry.prototype=Object.create(Geometry.prototype);OctahedronGeometry.prototype.constructor=OctahedronGeometry;function OctahedronBufferGeometry(va,_a){var eo=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],to=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];PolyhedronBufferGeometry.call(this,eo,to,va,_a),this.type="OctahedronBufferGeometry",this.parameters={radius:va,detail:_a}}OctahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype);OctahedronBufferGeometry.prototype.constructor=OctahedronBufferGeometry;function IcosahedronGeometry(va,_a){Geometry.call(this),this.type="IcosahedronGeometry",this.parameters={radius:va,detail:_a},this.fromBufferGeometry(new IcosahedronBufferGeometry(va,_a)),this.mergeVertices()}IcosahedronGeometry.prototype=Object.create(Geometry.prototype);IcosahedronGeometry.prototype.constructor=IcosahedronGeometry;function IcosahedronBufferGeometry(va,_a){var eo=(1+Math.sqrt(5))/2,to=[-1,eo,0,1,eo,0,-1,-eo,0,1,-eo,0,0,-1,eo,0,1,eo,0,-1,-eo,0,1,-eo,eo,0,-1,eo,0,1,-eo,0,-1,-eo,0,1],ro=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];PolyhedronBufferGeometry.call(this,to,ro,va,_a),this.type="IcosahedronBufferGeometry",this.parameters={radius:va,detail:_a}}IcosahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype);IcosahedronBufferGeometry.prototype.constructor=IcosahedronBufferGeometry;function DodecahedronGeometry(va,_a){Geometry.call(this),this.type="DodecahedronGeometry",this.parameters={radius:va,detail:_a},this.fromBufferGeometry(new DodecahedronBufferGeometry(va,_a)),this.mergeVertices()}DodecahedronGeometry.prototype=Object.create(Geometry.prototype);DodecahedronGeometry.prototype.constructor=DodecahedronGeometry;function DodecahedronBufferGeometry(va,_a){var eo=(1+Math.sqrt(5))/2,to=1/eo,ro=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-to,-eo,0,-to,eo,0,to,-eo,0,to,eo,-to,-eo,0,-to,eo,0,to,-eo,0,to,eo,0,-eo,0,-to,eo,0,-to,-eo,0,to,eo,0,to],no=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];PolyhedronBufferGeometry.call(this,ro,no,va,_a),this.type="DodecahedronBufferGeometry",this.parameters={radius:va,detail:_a}}DodecahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype);DodecahedronBufferGeometry.prototype.constructor=DodecahedronBufferGeometry;function TubeGeometry(va,_a,eo,to,ro,no){Geometry.call(this),this.type="TubeGeometry",this.parameters={path:va,tubularSegments:_a,radius:eo,radialSegments:to,closed:ro},no!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");var io=new TubeBufferGeometry(va,_a,eo,to,ro);this.tangents=io.tangents,this.normals=io.normals,this.binormals=io.binormals,this.fromBufferGeometry(io),this.mergeVertices()}TubeGeometry.prototype=Object.create(Geometry.prototype);TubeGeometry.prototype.constructor=TubeGeometry;function TubeBufferGeometry(va,_a,eo,to,ro){BufferGeometry.call(this),this.type="TubeBufferGeometry",this.parameters={path:va,tubularSegments:_a,radius:eo,radialSegments:to,closed:ro},_a=_a||64,eo=eo||1,to=to||8,ro=ro||!1;var no=va.computeFrenetFrames(_a,ro);this.tangents=no.tangents,this.normals=no.normals,this.binormals=no.binormals;var io=new Vector3,ao=new Vector3,oo=new Vector2,so=new Vector3,uo,co,fo=[],po=[],vo=[],go=[];mo(),this.setIndex(go),this.setAttribute("position",new Float32BufferAttribute(fo,3)),this.setAttribute("normal",new Float32BufferAttribute(po,3)),this.setAttribute("uv",new Float32BufferAttribute(vo,2));function mo(){for(uo=0;uo<_a;uo++)lo(uo);lo(ro===!1?_a:0),yo(),ho()}function lo(Ao){so=va.getPointAt(Ao/_a,so);var Eo=no.normals[Ao],To=no.binormals[Ao];for(co=0;co<=to;co++){var No=co/to*Math.PI*2,Co=Math.sin(No),Io=-Math.cos(No);ao.x=Io*Eo.x+Co*To.x,ao.y=Io*Eo.y+Co*To.y,ao.z=Io*Eo.z+Co*To.z,ao.normalize(),po.push(ao.x,ao.y,ao.z),io.x=so.x+eo*ao.x,io.y=so.y+eo*ao.y,io.z=so.z+eo*ao.z,fo.push(io.x,io.y,io.z)}}function ho(){for(co=1;co<=_a;co++)for(uo=1;uo<=to;uo++){var Ao=(to+1)*(co-1)+(uo-1),Eo=(to+1)*co+(uo-1),To=(to+1)*co+uo,No=(to+1)*(co-1)+uo;go.push(Ao,Eo,No),go.push(Eo,To,No)}}function yo(){for(uo=0;uo<=_a;uo++)for(co=0;co<=to;co++)oo.x=uo/_a,oo.y=co/to,vo.push(oo.x,oo.y)}}TubeBufferGeometry.prototype=Object.create(BufferGeometry.prototype);TubeBufferGeometry.prototype.constructor=TubeBufferGeometry;TubeBufferGeometry.prototype.toJSON=function(){var va=BufferGeometry.prototype.toJSON.call(this);return va.path=this.parameters.path.toJSON(),va};function TorusKnotGeometry(va,_a,eo,to,ro,no,io){Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:va,tube:_a,tubularSegments:eo,radialSegments:to,p:ro,q:no},io!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new TorusKnotBufferGeometry(va,_a,eo,to,ro,no)),this.mergeVertices()}TorusKnotGeometry.prototype=Object.create(Geometry.prototype);TorusKnotGeometry.prototype.constructor=TorusKnotGeometry;function TorusKnotBufferGeometry(va,_a,eo,to,ro,no){BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:va,tube:_a,tubularSegments:eo,radialSegments:to,p:ro,q:no},va=va||1,_a=_a||.4,eo=Math.floor(eo)||64,to=Math.floor(to)||8,ro=ro||2,no=no||3;var io=[],ao=[],oo=[],so=[],uo,co,fo=new Vector3,po=new Vector3,vo=new Vector3,go=new Vector3,mo=new Vector3,lo=new Vector3,ho=new Vector3;for(uo=0;uo<=eo;++uo){var yo=uo/eo*ro*Math.PI*2;for(wo(yo,ro,no,va,vo),wo(yo+.01,ro,no,va,go),lo.subVectors(go,vo),ho.addVectors(go,vo),mo.crossVectors(lo,ho),ho.crossVectors(mo,lo),mo.normalize(),ho.normalize(),co=0;co<=to;++co){var Ao=co/to*Math.PI*2,Eo=-_a*Math.cos(Ao),To=_a*Math.sin(Ao);fo.x=vo.x+(Eo*ho.x+To*mo.x),fo.y=vo.y+(Eo*ho.y+To*mo.y),fo.z=vo.z+(Eo*ho.z+To*mo.z),ao.push(fo.x,fo.y,fo.z),po.subVectors(fo,vo).normalize(),oo.push(po.x,po.y,po.z),so.push(uo/eo),so.push(co/to)}}for(co=1;co<=eo;co++)for(uo=1;uo<=to;uo++){var No=(to+1)*(co-1)+(uo-1),Co=(to+1)*co+(uo-1),Io=(to+1)*co+uo,Mo=(to+1)*(co-1)+uo;io.push(No,Co,Mo),io.push(Co,Io,Mo)}this.setIndex(io),this.setAttribute("position",new Float32BufferAttribute(ao,3)),this.setAttribute("normal",new Float32BufferAttribute(oo,3)),this.setAttribute("uv",new Float32BufferAttribute(so,2));function wo(xo,bo,So,Do,Oo){var Bo=Math.cos(xo),$o=Math.sin(xo),Vo=So/bo*xo,Ho=Math.cos(Vo);Oo.x=Do*(2+Ho)*.5*Bo,Oo.y=Do*(2+Ho)*$o*.5,Oo.z=Do*Math.sin(Vo)*.5}}TorusKnotBufferGeometry.prototype=Object.create(BufferGeometry.prototype);TorusKnotBufferGeometry.prototype.constructor=TorusKnotBufferGeometry;function TorusGeometry(va,_a,eo,to,ro){Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:va,tube:_a,radialSegments:eo,tubularSegments:to,arc:ro},this.fromBufferGeometry(new TorusBufferGeometry(va,_a,eo,to,ro)),this.mergeVertices()}TorusGeometry.prototype=Object.create(Geometry.prototype);TorusGeometry.prototype.constructor=TorusGeometry;function TorusBufferGeometry(va,_a,eo,to,ro){BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:va,tube:_a,radialSegments:eo,tubularSegments:to,arc:ro},va=va||1,_a=_a||.4,eo=Math.floor(eo)||8,to=Math.floor(to)||6,ro=ro||Math.PI*2;var no=[],io=[],ao=[],oo=[],so=new Vector3,uo=new Vector3,co=new Vector3,fo,po;for(fo=0;fo<=eo;fo++)for(po=0;po<=to;po++){var vo=po/to*ro,go=fo/eo*Math.PI*2;uo.x=(va+_a*Math.cos(go))*Math.cos(vo),uo.y=(va+_a*Math.cos(go))*Math.sin(vo),uo.z=_a*Math.sin(go),io.push(uo.x,uo.y,uo.z),so.x=va*Math.cos(vo),so.y=va*Math.sin(vo),co.subVectors(uo,so).normalize(),ao.push(co.x,co.y,co.z),oo.push(po/to),oo.push(fo/eo)}for(fo=1;fo<=eo;fo++)for(po=1;po<=to;po++){var mo=(to+1)*fo+po-1,lo=(to+1)*(fo-1)+po-1,ho=(to+1)*(fo-1)+po,yo=(to+1)*fo+po;no.push(mo,lo,yo),no.push(lo,ho,yo)}this.setIndex(no),this.setAttribute("position",new Float32BufferAttribute(io,3)),this.setAttribute("normal",new Float32BufferAttribute(ao,3)),this.setAttribute("uv",new Float32BufferAttribute(oo,2))}TorusBufferGeometry.prototype=Object.create(BufferGeometry.prototype);TorusBufferGeometry.prototype.constructor=TorusBufferGeometry;var Earcut={triangulate:function(va,_a,eo){eo=eo||2;var to=_a&&_a.length,ro=to?_a[0]*eo:va.length,no=linkedList(va,0,ro,eo,!0),io=[];if(!no||no.next===no.prev)return io;var ao,oo,so,uo,co,fo,po;if(to&&(no=eliminateHoles(va,_a,no,eo)),va.length>80*eo){ao=so=va[0],oo=uo=va[1];for(var vo=eo;vo<ro;vo+=eo)co=va[vo],fo=va[vo+1],co<ao&&(ao=co),fo<oo&&(oo=fo),co>so&&(so=co),fo>uo&&(uo=fo);po=Math.max(so-ao,uo-oo),po=po!==0?1/po:0}return earcutLinked(no,io,eo,ao,oo,po),io}};function linkedList(va,_a,eo,to,ro){var no,io;if(ro===signedArea(va,_a,eo,to)>0)for(no=_a;no<eo;no+=to)io=insertNode(no,va[no],va[no+1],io);else for(no=eo-to;no>=_a;no-=to)io=insertNode(no,va[no],va[no+1],io);return io&&equals(io,io.next)&&(removeNode(io),io=io.next),io}function filterPoints(va,_a){if(!va)return va;_a||(_a=va);var eo=va,to;do if(to=!1,!eo.steiner&&(equals(eo,eo.next)||area(eo.prev,eo,eo.next)===0)){if(removeNode(eo),eo=_a=eo.prev,eo===eo.next)break;to=!0}else eo=eo.next;while(to||eo!==_a);return _a}function earcutLinked(va,_a,eo,to,ro,no,io){if(!!va){!io&&no&&indexCurve(va,to,ro,no);for(var ao=va,oo,so;va.prev!==va.next;){if(oo=va.prev,so=va.next,no?isEarHashed(va,to,ro,no):isEar(va)){_a.push(oo.i/eo),_a.push(va.i/eo),_a.push(so.i/eo),removeNode(va),va=so.next,ao=so.next;continue}if(va=so,va===ao){io?io===1?(va=cureLocalIntersections(filterPoints(va),_a,eo),earcutLinked(va,_a,eo,to,ro,no,2)):io===2&&splitEarcut(va,_a,eo,to,ro,no):earcutLinked(filterPoints(va),_a,eo,to,ro,no,1);break}}}}function isEar(va){var _a=va.prev,eo=va,to=va.next;if(area(_a,eo,to)>=0)return!1;for(var ro=va.next.next;ro!==va.prev;){if(pointInTriangle(_a.x,_a.y,eo.x,eo.y,to.x,to.y,ro.x,ro.y)&&area(ro.prev,ro,ro.next)>=0)return!1;ro=ro.next}return!0}function isEarHashed(va,_a,eo,to){var ro=va.prev,no=va,io=va.next;if(area(ro,no,io)>=0)return!1;for(var ao=ro.x<no.x?ro.x<io.x?ro.x:io.x:no.x<io.x?no.x:io.x,oo=ro.y<no.y?ro.y<io.y?ro.y:io.y:no.y<io.y?no.y:io.y,so=ro.x>no.x?ro.x>io.x?ro.x:io.x:no.x>io.x?no.x:io.x,uo=ro.y>no.y?ro.y>io.y?ro.y:io.y:no.y>io.y?no.y:io.y,co=zOrder(ao,oo,_a,eo,to),fo=zOrder(so,uo,_a,eo,to),po=va.prevZ,vo=va.nextZ;po&&po.z>=co&&vo&&vo.z<=fo;){if(po!==va.prev&&po!==va.next&&pointInTriangle(ro.x,ro.y,no.x,no.y,io.x,io.y,po.x,po.y)&&area(po.prev,po,po.next)>=0||(po=po.prevZ,vo!==va.prev&&vo!==va.next&&pointInTriangle(ro.x,ro.y,no.x,no.y,io.x,io.y,vo.x,vo.y)&&area(vo.prev,vo,vo.next)>=0))return!1;vo=vo.nextZ}for(;po&&po.z>=co;){if(po!==va.prev&&po!==va.next&&pointInTriangle(ro.x,ro.y,no.x,no.y,io.x,io.y,po.x,po.y)&&area(po.prev,po,po.next)>=0)return!1;po=po.prevZ}for(;vo&&vo.z<=fo;){if(vo!==va.prev&&vo!==va.next&&pointInTriangle(ro.x,ro.y,no.x,no.y,io.x,io.y,vo.x,vo.y)&&area(vo.prev,vo,vo.next)>=0)return!1;vo=vo.nextZ}return!0}function cureLocalIntersections(va,_a,eo){var to=va;do{var ro=to.prev,no=to.next.next;!equals(ro,no)&&intersects(ro,to,to.next,no)&&locallyInside(ro,no)&&locallyInside(no,ro)&&(_a.push(ro.i/eo),_a.push(to.i/eo),_a.push(no.i/eo),removeNode(to),removeNode(to.next),to=va=no),to=to.next}while(to!==va);return filterPoints(to)}function splitEarcut(va,_a,eo,to,ro,no){var io=va;do{for(var ao=io.next.next;ao!==io.prev;){if(io.i!==ao.i&&isValidDiagonal(io,ao)){var oo=splitPolygon(io,ao);io=filterPoints(io,io.next),oo=filterPoints(oo,oo.next),earcutLinked(io,_a,eo,to,ro,no),earcutLinked(oo,_a,eo,to,ro,no);return}ao=ao.next}io=io.next}while(io!==va)}function eliminateHoles(va,_a,eo,to){var ro=[],no,io,ao,oo,so;for(no=0,io=_a.length;no<io;no++)ao=_a[no]*to,oo=no<io-1?_a[no+1]*to:va.length,so=linkedList(va,ao,oo,to,!1),so===so.next&&(so.steiner=!0),ro.push(getLeftmost(so));for(ro.sort(compareX),no=0;no<ro.length;no++)eliminateHole(ro[no],eo),eo=filterPoints(eo,eo.next);return eo}function compareX(va,_a){return va.x-_a.x}function eliminateHole(va,_a){if(_a=findHoleBridge(va,_a),_a){var eo=splitPolygon(_a,va);filterPoints(_a,_a.next),filterPoints(eo,eo.next)}}function findHoleBridge(va,_a){var eo=_a,to=va.x,ro=va.y,no=-1/0,io;do{if(ro<=eo.y&&ro>=eo.next.y&&eo.next.y!==eo.y){var ao=eo.x+(ro-eo.y)*(eo.next.x-eo.x)/(eo.next.y-eo.y);if(ao<=to&&ao>no){if(no=ao,ao===to){if(ro===eo.y)return eo;if(ro===eo.next.y)return eo.next}io=eo.x<eo.next.x?eo:eo.next}}eo=eo.next}while(eo!==_a);if(!io)return null;if(to===no)return io;var oo=io,so=io.x,uo=io.y,co=1/0,fo;eo=io;do to>=eo.x&&eo.x>=so&&to!==eo.x&&pointInTriangle(ro<uo?to:no,ro,so,uo,ro<uo?no:to,ro,eo.x,eo.y)&&(fo=Math.abs(ro-eo.y)/(to-eo.x),locallyInside(eo,va)&&(fo<co||fo===co&&(eo.x>io.x||eo.x===io.x&&sectorContainsSector(io,eo)))&&(io=eo,co=fo)),eo=eo.next;while(eo!==oo);return io}function sectorContainsSector(va,_a){return area(va.prev,va,_a.prev)<0&&area(_a.next,va,va.next)<0}function indexCurve(va,_a,eo,to){var ro=va;do ro.z===null&&(ro.z=zOrder(ro.x,ro.y,_a,eo,to)),ro.prevZ=ro.prev,ro.nextZ=ro.next,ro=ro.next;while(ro!==va);ro.prevZ.nextZ=null,ro.prevZ=null,sortLinked(ro)}function sortLinked(va){var _a,eo,to,ro,no,io,ao,oo,so=1;do{for(eo=va,va=null,no=null,io=0;eo;){for(io++,to=eo,ao=0,_a=0;_a<so&&(ao++,to=to.nextZ,!!to);_a++);for(oo=so;ao>0||oo>0&&to;)ao!==0&&(oo===0||!to||eo.z<=to.z)?(ro=eo,eo=eo.nextZ,ao--):(ro=to,to=to.nextZ,oo--),no?no.nextZ=ro:va=ro,ro.prevZ=no,no=ro;eo=to}no.nextZ=null,so*=2}while(io>1);return va}function zOrder(va,_a,eo,to,ro){return va=32767*(va-eo)*ro,_a=32767*(_a-to)*ro,va=(va|va<<8)&16711935,va=(va|va<<4)&252645135,va=(va|va<<2)&858993459,va=(va|va<<1)&1431655765,_a=(_a|_a<<8)&16711935,_a=(_a|_a<<4)&252645135,_a=(_a|_a<<2)&858993459,_a=(_a|_a<<1)&1431655765,va|_a<<1}function getLeftmost(va){var _a=va,eo=va;do(_a.x<eo.x||_a.x===eo.x&&_a.y<eo.y)&&(eo=_a),_a=_a.next;while(_a!==va);return eo}function pointInTriangle(va,_a,eo,to,ro,no,io,ao){return(ro-io)*(_a-ao)-(va-io)*(no-ao)>=0&&(va-io)*(to-ao)-(eo-io)*(_a-ao)>=0&&(eo-io)*(no-ao)-(ro-io)*(to-ao)>=0}function isValidDiagonal(va,_a){return va.next.i!==_a.i&&va.prev.i!==_a.i&&!intersectsPolygon(va,_a)&&(locallyInside(va,_a)&&locallyInside(_a,va)&&middleInside(va,_a)&&(area(va.prev,va,_a.prev)||area(va,_a.prev,_a))||equals(va,_a)&&area(va.prev,va,va.next)>0&&area(_a.prev,_a,_a.next)>0)}function area(va,_a,eo){return(_a.y-va.y)*(eo.x-_a.x)-(_a.x-va.x)*(eo.y-_a.y)}function equals(va,_a){return va.x===_a.x&&va.y===_a.y}function intersects(va,_a,eo,to){var ro=sign(area(va,_a,eo)),no=sign(area(va,_a,to)),io=sign(area(eo,to,va)),ao=sign(area(eo,to,_a));return!!(ro!==no&&io!==ao||ro===0&&onSegment(va,eo,_a)||no===0&&onSegment(va,to,_a)||io===0&&onSegment(eo,va,to)||ao===0&&onSegment(eo,_a,to))}function onSegment(va,_a,eo){return _a.x<=Math.max(va.x,eo.x)&&_a.x>=Math.min(va.x,eo.x)&&_a.y<=Math.max(va.y,eo.y)&&_a.y>=Math.min(va.y,eo.y)}function sign(va){return va>0?1:va<0?-1:0}function intersectsPolygon(va,_a){var eo=va;do{if(eo.i!==va.i&&eo.next.i!==va.i&&eo.i!==_a.i&&eo.next.i!==_a.i&&intersects(eo,eo.next,va,_a))return!0;eo=eo.next}while(eo!==va);return!1}function locallyInside(va,_a){return area(va.prev,va,va.next)<0?area(va,_a,va.next)>=0&&area(va,va.prev,_a)>=0:area(va,_a,va.prev)<0||area(va,va.next,_a)<0}function middleInside(va,_a){var eo=va,to=!1,ro=(va.x+_a.x)/2,no=(va.y+_a.y)/2;do eo.y>no!=eo.next.y>no&&eo.next.y!==eo.y&&ro<(eo.next.x-eo.x)*(no-eo.y)/(eo.next.y-eo.y)+eo.x&&(to=!to),eo=eo.next;while(eo!==va);return to}function splitPolygon(va,_a){var eo=new Node(va.i,va.x,va.y),to=new Node(_a.i,_a.x,_a.y),ro=va.next,no=_a.prev;return va.next=_a,_a.prev=va,eo.next=ro,ro.prev=eo,to.next=eo,eo.prev=to,no.next=to,to.prev=no,to}function insertNode(va,_a,eo,to){var ro=new Node(va,_a,eo);return to?(ro.next=to.next,ro.prev=to,to.next.prev=ro,to.next=ro):(ro.prev=ro,ro.next=ro),ro}function removeNode(va){va.next.prev=va.prev,va.prev.next=va.next,va.prevZ&&(va.prevZ.nextZ=va.nextZ),va.nextZ&&(va.nextZ.prevZ=va.prevZ)}function Node(va,_a,eo){this.i=va,this.x=_a,this.y=eo,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(va,_a,eo,to){for(var ro=0,no=_a,io=eo-to;no<eo;no+=to)ro+=(va[io]-va[no])*(va[no+1]+va[io+1]),io=no;return ro}var ShapeUtils={area:function(va){for(var _a=va.length,eo=0,to=_a-1,ro=0;ro<_a;to=ro++)eo+=va[to].x*va[ro].y-va[ro].x*va[to].y;return eo*.5},isClockWise:function(va){return ShapeUtils.area(va)<0},triangulateShape:function(va,_a){var eo=[],to=[],ro=[];removeDupEndPts(va),addContour(eo,va);var no=va.length;_a.forEach(removeDupEndPts);for(var io=0;io<_a.length;io++)to.push(no),no+=_a[io].length,addContour(eo,_a[io]);for(var ao=Earcut.triangulate(eo,to),io=0;io<ao.length;io+=3)ro.push(ao.slice(io,io+3));return ro}};function removeDupEndPts(va){var _a=va.length;_a>2&&va[_a-1].equals(va[0])&&va.pop()}function addContour(va,_a){for(var eo=0;eo<_a.length;eo++)va.push(_a[eo].x),va.push(_a[eo].y)}function ExtrudeGeometry(va,_a){Geometry.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:va,options:_a},this.fromBufferGeometry(new ExtrudeBufferGeometry(va,_a)),this.mergeVertices()}ExtrudeGeometry.prototype=Object.create(Geometry.prototype);ExtrudeGeometry.prototype.constructor=ExtrudeGeometry;ExtrudeGeometry.prototype.toJSON=function(){var va=Geometry.prototype.toJSON.call(this),_a=this.parameters.shapes,eo=this.parameters.options;return toJSON(_a,eo,va)};function ExtrudeBufferGeometry(va,_a){BufferGeometry.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:va,options:_a},va=Array.isArray(va)?va:[va];for(var eo=this,to=[],ro=[],no=0,io=va.length;no<io;no++){var ao=va[no];oo(ao)}this.setAttribute("position",new Float32BufferAttribute(to,3)),this.setAttribute("uv",new Float32BufferAttribute(ro,2)),this.computeVertexNormals();function oo(so){var uo=[],co=_a.curveSegments!==void 0?_a.curveSegments:12,fo=_a.steps!==void 0?_a.steps:1,po=_a.depth!==void 0?_a.depth:100,vo=_a.bevelEnabled!==void 0?_a.bevelEnabled:!0,go=_a.bevelThickness!==void 0?_a.bevelThickness:6,mo=_a.bevelSize!==void 0?_a.bevelSize:go-2,lo=_a.bevelOffset!==void 0?_a.bevelOffset:0,ho=_a.bevelSegments!==void 0?_a.bevelSegments:3,yo=_a.extrudePath,Ao=_a.UVGenerator!==void 0?_a.UVGenerator:WorldUVGenerator;_a.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),po=_a.amount);var Eo,To=!1,No,Co,Io,Mo;yo&&(Eo=yo.getSpacedPoints(fo),To=!0,vo=!1,No=yo.computeFrenetFrames(fo,!1),Co=new Vector3,Io=new Vector3,Mo=new Vector3),vo||(ho=0,go=0,mo=0,lo=0);var wo,xo,bo,So=so.extractPoints(co),Do=So.shape,Oo=So.holes,Bo=!ShapeUtils.isClockWise(Do);if(Bo)for(Do=Do.reverse(),xo=0,bo=Oo.length;xo<bo;xo++)wo=Oo[xo],ShapeUtils.isClockWise(wo)&&(Oo[xo]=wo.reverse());var $o=ShapeUtils.triangulateShape(Do,Oo),Vo=Do;for(xo=0,bo=Oo.length;xo<bo;xo++)wo=Oo[xo],Do=Do.concat(wo);function Ho(Mu,Nu,wu){return Nu||console.error("THREE.ExtrudeGeometry: vec does not exist"),Nu.clone().multiplyScalar(wu).add(Mu)}var Fo,Ko,$s,au,Ks,Gs=Do.length,qs,lu=$o.length;function ou(Mu,Nu,wu){var du,Jo,Eu,Du=Mu.x-Nu.x,Uu=Mu.y-Nu.y,Tu=wu.x-Mu.x,Ru=wu.y-Mu.y,Ju=Du*Du+Uu*Uu,al=Du*Ru-Uu*Tu;if(Math.abs(al)>Number.EPSILON){var dl=Math.sqrt(Ju),zu=Math.sqrt(Tu*Tu+Ru*Ru),hl=Nu.x-Uu/dl,pl=Nu.y+Du/dl,fl=wu.x-Ru/zu,ml=wu.y+Tu/zu,ll=((fl-hl)*Ru-(ml-pl)*Tu)/(Du*Ru-Uu*Tu);du=hl+Du*ll-Mu.x,Jo=pl+Uu*ll-Mu.y;var wl=du*du+Jo*Jo;if(wl<=2)return new Vector2(du,Jo);Eu=Math.sqrt(wl/2)}else{var Go=!1;Du>Number.EPSILON?Tu>Number.EPSILON&&(Go=!0):Du<-Number.EPSILON?Tu<-Number.EPSILON&&(Go=!0):Math.sign(Uu)===Math.sign(Ru)&&(Go=!0),Go?(du=-Uu,Jo=Du,Eu=Math.sqrt(Ju)):(du=Du,Jo=Uu,Eu=Math.sqrt(Ju/2))}return new Vector2(du/Eu,Jo/Eu)}for(var ru=[],nu=0,su=Vo.length,gu=su-1,Au=nu+1;nu<su;nu++,gu++,Au++)gu===su&&(gu=0),Au===su&&(Au=0),ru[nu]=ou(Vo[nu],Vo[gu],Vo[Au]);var $u=[],ku,Uo=ru.concat();for(xo=0,bo=Oo.length;xo<bo;xo++){for(wo=Oo[xo],ku=[],nu=0,su=wo.length,gu=su-1,Au=nu+1;nu<su;nu++,gu++,Au++)gu===su&&(gu=0),Au===su&&(Au=0),ku[nu]=ou(wo[nu],wo[gu],wo[Au]);$u.push(ku),Uo=Uo.concat(ku)}for(Fo=0;Fo<ho;Fo++){for($s=Fo/ho,au=go*Math.cos($s*Math.PI/2),Ko=mo*Math.sin($s*Math.PI/2)+lo,nu=0,su=Vo.length;nu<su;nu++)Ks=Ho(Vo[nu],ru[nu],Ko),_u(Ks.x,Ks.y,-au);for(xo=0,bo=Oo.length;xo<bo;xo++)for(wo=Oo[xo],ku=$u[xo],nu=0,su=wo.length;nu<su;nu++)Ks=Ho(wo[nu],ku[nu],Ko),_u(Ks.x,Ks.y,-au)}for(Ko=mo+lo,nu=0;nu<Gs;nu++)Ks=vo?Ho(Do[nu],Uo[nu],Ko):Do[nu],To?(Io.copy(No.normals[0]).multiplyScalar(Ks.x),Co.copy(No.binormals[0]).multiplyScalar(Ks.y),Mo.copy(Eo[0]).add(Io).add(Co),_u(Mo.x,Mo.y,Mo.z)):_u(Ks.x,Ks.y,0);var Yo;for(Yo=1;Yo<=fo;Yo++)for(nu=0;nu<Gs;nu++)Ks=vo?Ho(Do[nu],Uo[nu],Ko):Do[nu],To?(Io.copy(No.normals[Yo]).multiplyScalar(Ks.x),Co.copy(No.binormals[Yo]).multiplyScalar(Ks.y),Mo.copy(Eo[Yo]).add(Io).add(Co),_u(Mo.x,Mo.y,Mo.z)):_u(Ks.x,Ks.y,po/fo*Yo);for(Fo=ho-1;Fo>=0;Fo--){for($s=Fo/ho,au=go*Math.cos($s*Math.PI/2),Ko=mo*Math.sin($s*Math.PI/2)+lo,nu=0,su=Vo.length;nu<su;nu++)Ks=Ho(Vo[nu],ru[nu],Ko),_u(Ks.x,Ks.y,po+au);for(xo=0,bo=Oo.length;xo<bo;xo++)for(wo=Oo[xo],ku=$u[xo],nu=0,su=wo.length;nu<su;nu++)Ks=Ho(wo[nu],ku[nu],Ko),To?_u(Ks.x,Ks.y+Eo[fo-1].y,Eo[fo-1].x+au):_u(Ks.x,Ks.y,po+au)}mu(),pu();function mu(){var Mu=to.length/3;if(vo){var Nu=0,wu=Gs*Nu;for(nu=0;nu<lu;nu++)qs=$o[nu],bu(qs[2]+wu,qs[1]+wu,qs[0]+wu);for(Nu=fo+ho*2,wu=Gs*Nu,nu=0;nu<lu;nu++)qs=$o[nu],bu(qs[0]+wu,qs[1]+wu,qs[2]+wu)}else{for(nu=0;nu<lu;nu++)qs=$o[nu],bu(qs[2],qs[1],qs[0]);for(nu=0;nu<lu;nu++)qs=$o[nu],bu(qs[0]+Gs*fo,qs[1]+Gs*fo,qs[2]+Gs*fo)}eo.addGroup(Mu,to.length/3-Mu,0)}function pu(){var Mu=to.length/3,Nu=0;for(Su(Vo,Nu),Nu+=Vo.length,xo=0,bo=Oo.length;xo<bo;xo++)wo=Oo[xo],Su(wo,Nu),Nu+=wo.length;eo.addGroup(Mu,to.length/3-Mu,1)}function Su(Mu,Nu){var wu,du;for(nu=Mu.length;--nu>=0;){wu=nu,du=nu-1,du<0&&(du=Mu.length-1);var Jo=0,Eu=fo+ho*2;for(Jo=0;Jo<Eu;Jo++){var Du=Gs*Jo,Uu=Gs*(Jo+1),Tu=Nu+wu+Du,Ru=Nu+du+Du,Ju=Nu+du+Uu,al=Nu+wu+Uu;Xu(Tu,Ru,Ju,al)}}}function _u(Mu,Nu,wu){uo.push(Mu),uo.push(Nu),uo.push(wu)}function bu(Mu,Nu,wu){Qu(Mu),Qu(Nu),Qu(wu);var du=to.length/3,Jo=Ao.generateTopUV(eo,to,du-3,du-2,du-1);ju(Jo[0]),ju(Jo[1]),ju(Jo[2])}function Xu(Mu,Nu,wu,du){Qu(Mu),Qu(Nu),Qu(du),Qu(Nu),Qu(wu),Qu(du);var Jo=to.length/3,Eu=Ao.generateSideWallUV(eo,to,Jo-6,Jo-3,Jo-2,Jo-1);ju(Eu[0]),ju(Eu[1]),ju(Eu[3]),ju(Eu[1]),ju(Eu[2]),ju(Eu[3])}function Qu(Mu){to.push(uo[Mu*3+0]),to.push(uo[Mu*3+1]),to.push(uo[Mu*3+2])}function ju(Mu){ro.push(Mu.x),ro.push(Mu.y)}}}ExtrudeBufferGeometry.prototype=Object.create(BufferGeometry.prototype);ExtrudeBufferGeometry.prototype.constructor=ExtrudeBufferGeometry;ExtrudeBufferGeometry.prototype.toJSON=function(){var va=BufferGeometry.prototype.toJSON.call(this),_a=this.parameters.shapes,eo=this.parameters.options;return toJSON(_a,eo,va)};var WorldUVGenerator={generateTopUV:function(va,_a,eo,to,ro){var no=_a[eo*3],io=_a[eo*3+1],ao=_a[to*3],oo=_a[to*3+1],so=_a[ro*3],uo=_a[ro*3+1];return[new Vector2(no,io),new Vector2(ao,oo),new Vector2(so,uo)]},generateSideWallUV:function(va,_a,eo,to,ro,no){var io=_a[eo*3],ao=_a[eo*3+1],oo=_a[eo*3+2],so=_a[to*3],uo=_a[to*3+1],co=_a[to*3+2],fo=_a[ro*3],po=_a[ro*3+1],vo=_a[ro*3+2],go=_a[no*3],mo=_a[no*3+1],lo=_a[no*3+2];return Math.abs(ao-uo)<.01?[new Vector2(io,1-oo),new Vector2(so,1-co),new Vector2(fo,1-vo),new Vector2(go,1-lo)]:[new Vector2(ao,1-oo),new Vector2(uo,1-co),new Vector2(po,1-vo),new Vector2(mo,1-lo)]}};function toJSON(va,_a,eo){if(eo.shapes=[],Array.isArray(va))for(var to=0,ro=va.length;to<ro;to++){var no=va[to];eo.shapes.push(no.uuid)}else eo.shapes.push(va.uuid);return _a.extrudePath!==void 0&&(eo.options.extrudePath=_a.extrudePath.toJSON()),eo}function TextGeometry(va,_a){Geometry.call(this),this.type="TextGeometry",this.parameters={text:va,parameters:_a},this.fromBufferGeometry(new TextBufferGeometry(va,_a)),this.mergeVertices()}TextGeometry.prototype=Object.create(Geometry.prototype);TextGeometry.prototype.constructor=TextGeometry;function TextBufferGeometry(va,_a){_a=_a||{};var eo=_a.font;if(!(eo&&eo.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Geometry;var to=eo.generateShapes(va,_a.size);_a.depth=_a.height!==void 0?_a.height:50,_a.bevelThickness===void 0&&(_a.bevelThickness=10),_a.bevelSize===void 0&&(_a.bevelSize=8),_a.bevelEnabled===void 0&&(_a.bevelEnabled=!1),ExtrudeBufferGeometry.call(this,to,_a),this.type="TextBufferGeometry"}TextBufferGeometry.prototype=Object.create(ExtrudeBufferGeometry.prototype);TextBufferGeometry.prototype.constructor=TextBufferGeometry;function SphereGeometry(va,_a,eo,to,ro,no,io){Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:va,widthSegments:_a,heightSegments:eo,phiStart:to,phiLength:ro,thetaStart:no,thetaLength:io},this.fromBufferGeometry(new SphereBufferGeometry(va,_a,eo,to,ro,no,io)),this.mergeVertices()}SphereGeometry.prototype=Object.create(Geometry.prototype);SphereGeometry.prototype.constructor=SphereGeometry;function SphereBufferGeometry(va,_a,eo,to,ro,no,io){BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:va,widthSegments:_a,heightSegments:eo,phiStart:to,phiLength:ro,thetaStart:no,thetaLength:io},va=va||1,_a=Math.max(3,Math.floor(_a)||8),eo=Math.max(2,Math.floor(eo)||6),to=to!==void 0?to:0,ro=ro!==void 0?ro:Math.PI*2,no=no!==void 0?no:0,io=io!==void 0?io:Math.PI;var ao=Math.min(no+io,Math.PI),oo,so,uo=0,co=[],fo=new Vector3,po=new Vector3,vo=[],go=[],mo=[],lo=[];for(so=0;so<=eo;so++){var ho=[],yo=so/eo,Ao=0;for(so==0&&no==0?Ao=.5/_a:so==eo&&ao==Math.PI&&(Ao=-.5/_a),oo=0;oo<=_a;oo++){var Eo=oo/_a;fo.x=-va*Math.cos(to+Eo*ro)*Math.sin(no+yo*io),fo.y=va*Math.cos(no+yo*io),fo.z=va*Math.sin(to+Eo*ro)*Math.sin(no+yo*io),go.push(fo.x,fo.y,fo.z),po.copy(fo).normalize(),mo.push(po.x,po.y,po.z),lo.push(Eo+Ao,1-yo),ho.push(uo++)}co.push(ho)}for(so=0;so<eo;so++)for(oo=0;oo<_a;oo++){var To=co[so][oo+1],No=co[so][oo],Co=co[so+1][oo],Io=co[so+1][oo+1];(so!==0||no>0)&&vo.push(To,No,Io),(so!==eo-1||ao<Math.PI)&&vo.push(No,Co,Io)}this.setIndex(vo),this.setAttribute("position",new Float32BufferAttribute(go,3)),this.setAttribute("normal",new Float32BufferAttribute(mo,3)),this.setAttribute("uv",new Float32BufferAttribute(lo,2))}SphereBufferGeometry.prototype=Object.create(BufferGeometry.prototype);SphereBufferGeometry.prototype.constructor=SphereBufferGeometry;function RingGeometry(va,_a,eo,to,ro,no){Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:va,outerRadius:_a,thetaSegments:eo,phiSegments:to,thetaStart:ro,thetaLength:no},this.fromBufferGeometry(new RingBufferGeometry(va,_a,eo,to,ro,no)),this.mergeVertices()}RingGeometry.prototype=Object.create(Geometry.prototype);RingGeometry.prototype.constructor=RingGeometry;function RingBufferGeometry(va,_a,eo,to,ro,no){BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:va,outerRadius:_a,thetaSegments:eo,phiSegments:to,thetaStart:ro,thetaLength:no},va=va||.5,_a=_a||1,ro=ro!==void 0?ro:0,no=no!==void 0?no:Math.PI*2,eo=eo!==void 0?Math.max(3,eo):8,to=to!==void 0?Math.max(1,to):1;var io=[],ao=[],oo=[],so=[],uo,co=va,fo=(_a-va)/to,po=new Vector3,vo=new Vector2,go,mo;for(go=0;go<=to;go++){for(mo=0;mo<=eo;mo++)uo=ro+mo/eo*no,po.x=co*Math.cos(uo),po.y=co*Math.sin(uo),ao.push(po.x,po.y,po.z),oo.push(0,0,1),vo.x=(po.x/_a+1)/2,vo.y=(po.y/_a+1)/2,so.push(vo.x,vo.y);co+=fo}for(go=0;go<to;go++){var lo=go*(eo+1);for(mo=0;mo<eo;mo++){uo=mo+lo;var ho=uo,yo=uo+eo+1,Ao=uo+eo+2,Eo=uo+1;io.push(ho,yo,Eo),io.push(yo,Ao,Eo)}}this.setIndex(io),this.setAttribute("position",new Float32BufferAttribute(ao,3)),this.setAttribute("normal",new Float32BufferAttribute(oo,3)),this.setAttribute("uv",new Float32BufferAttribute(so,2))}RingBufferGeometry.prototype=Object.create(BufferGeometry.prototype);RingBufferGeometry.prototype.constructor=RingBufferGeometry;function LatheGeometry(va,_a,eo,to){Geometry.call(this),this.type="LatheGeometry",this.parameters={points:va,segments:_a,phiStart:eo,phiLength:to},this.fromBufferGeometry(new LatheBufferGeometry(va,_a,eo,to)),this.mergeVertices()}LatheGeometry.prototype=Object.create(Geometry.prototype);LatheGeometry.prototype.constructor=LatheGeometry;function LatheBufferGeometry(va,_a,eo,to){BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:va,segments:_a,phiStart:eo,phiLength:to},_a=Math.floor(_a)||12,eo=eo||0,to=to||Math.PI*2,to=MathUtils.clamp(to,0,Math.PI*2);var ro=[],no=[],io=[],ao,oo=1/_a,so=new Vector3,uo=new Vector2,co,fo;for(co=0;co<=_a;co++){var po=eo+co*oo*to,vo=Math.sin(po),go=Math.cos(po);for(fo=0;fo<=va.length-1;fo++)so.x=va[fo].x*vo,so.y=va[fo].y,so.z=va[fo].x*go,no.push(so.x,so.y,so.z),uo.x=co/_a,uo.y=fo/(va.length-1),io.push(uo.x,uo.y)}for(co=0;co<_a;co++)for(fo=0;fo<va.length-1;fo++){ao=fo+co*va.length;var mo=ao,lo=ao+va.length,ho=ao+va.length+1,yo=ao+1;ro.push(mo,lo,yo),ro.push(lo,ho,yo)}if(this.setIndex(ro),this.setAttribute("position",new Float32BufferAttribute(no,3)),this.setAttribute("uv",new Float32BufferAttribute(io,2)),this.computeVertexNormals(),to===Math.PI*2){var Ao=this.attributes.normal.array,Eo=new Vector3,To=new Vector3,No=new Vector3;for(ao=_a*va.length*3,co=0,fo=0;co<va.length;co++,fo+=3)Eo.x=Ao[fo+0],Eo.y=Ao[fo+1],Eo.z=Ao[fo+2],To.x=Ao[ao+fo+0],To.y=Ao[ao+fo+1],To.z=Ao[ao+fo+2],No.addVectors(Eo,To).normalize(),Ao[fo+0]=Ao[ao+fo+0]=No.x,Ao[fo+1]=Ao[ao+fo+1]=No.y,Ao[fo+2]=Ao[ao+fo+2]=No.z}}LatheBufferGeometry.prototype=Object.create(BufferGeometry.prototype);LatheBufferGeometry.prototype.constructor=LatheBufferGeometry;function ShapeGeometry(va,_a){Geometry.call(this),this.type="ShapeGeometry",typeof _a=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),_a=_a.curveSegments),this.parameters={shapes:va,curveSegments:_a},this.fromBufferGeometry(new ShapeBufferGeometry(va,_a)),this.mergeVertices()}ShapeGeometry.prototype=Object.create(Geometry.prototype);ShapeGeometry.prototype.constructor=ShapeGeometry;ShapeGeometry.prototype.toJSON=function(){var va=Geometry.prototype.toJSON.call(this),_a=this.parameters.shapes;return toJSON$1(_a,va)};function ShapeBufferGeometry(va,_a){BufferGeometry.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:va,curveSegments:_a},_a=_a||12;var eo=[],to=[],ro=[],no=[],io=0,ao=0;if(Array.isArray(va)===!1)so(va);else for(var oo=0;oo<va.length;oo++)so(va[oo]),this.addGroup(io,ao,oo),io+=ao,ao=0;this.setIndex(eo),this.setAttribute("position",new Float32BufferAttribute(to,3)),this.setAttribute("normal",new Float32BufferAttribute(ro,3)),this.setAttribute("uv",new Float32BufferAttribute(no,2));function so(uo){var co,fo,po,vo=to.length/3,go=uo.extractPoints(_a),mo=go.shape,lo=go.holes;for(ShapeUtils.isClockWise(mo)===!1&&(mo=mo.reverse()),co=0,fo=lo.length;co<fo;co++)po=lo[co],ShapeUtils.isClockWise(po)===!0&&(lo[co]=po.reverse());var ho=ShapeUtils.triangulateShape(mo,lo);for(co=0,fo=lo.length;co<fo;co++)po=lo[co],mo=mo.concat(po);for(co=0,fo=mo.length;co<fo;co++){var yo=mo[co];to.push(yo.x,yo.y,0),ro.push(0,0,1),no.push(yo.x,yo.y)}for(co=0,fo=ho.length;co<fo;co++){var Ao=ho[co],Eo=Ao[0]+vo,To=Ao[1]+vo,No=Ao[2]+vo;eo.push(Eo,To,No),ao+=3}}}ShapeBufferGeometry.prototype=Object.create(BufferGeometry.prototype);ShapeBufferGeometry.prototype.constructor=ShapeBufferGeometry;ShapeBufferGeometry.prototype.toJSON=function(){var va=BufferGeometry.prototype.toJSON.call(this),_a=this.parameters.shapes;return toJSON$1(_a,va)};function toJSON$1(va,_a){if(_a.shapes=[],Array.isArray(va))for(var eo=0,to=va.length;eo<to;eo++){var ro=va[eo];_a.shapes.push(ro.uuid)}else _a.shapes.push(va.uuid);return _a}function EdgesGeometry(va,_a){BufferGeometry.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:_a},_a=_a!==void 0?_a:1;var eo=[],to=Math.cos(MathUtils.DEG2RAD*_a),ro=[0,0],no={},io,ao,oo,so=["a","b","c"],uo;va.isBufferGeometry?(uo=new Geometry,uo.fromBufferGeometry(va)):uo=va.clone(),uo.mergeVertices(),uo.computeFaceNormals();for(var co=uo.vertices,fo=uo.faces,po=0,vo=fo.length;po<vo;po++)for(var go=fo[po],mo=0;mo<3;mo++)io=go[so[mo]],ao=go[so[(mo+1)%3]],ro[0]=Math.min(io,ao),ro[1]=Math.max(io,ao),oo=ro[0]+","+ro[1],no[oo]===void 0?no[oo]={index1:ro[0],index2:ro[1],face1:po,face2:void 0}:no[oo].face2=po;for(oo in no){var lo=no[oo];if(lo.face2===void 0||fo[lo.face1].normal.dot(fo[lo.face2].normal)<=to){var ho=co[lo.index1];eo.push(ho.x,ho.y,ho.z),ho=co[lo.index2],eo.push(ho.x,ho.y,ho.z)}}this.setAttribute("position",new Float32BufferAttribute(eo,3))}EdgesGeometry.prototype=Object.create(BufferGeometry.prototype);EdgesGeometry.prototype.constructor=EdgesGeometry;function CylinderGeometry(va,_a,eo,to,ro,no,io,ao){Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:va,radiusBottom:_a,height:eo,radialSegments:to,heightSegments:ro,openEnded:no,thetaStart:io,thetaLength:ao},this.fromBufferGeometry(new CylinderBufferGeometry(va,_a,eo,to,ro,no,io,ao)),this.mergeVertices()}CylinderGeometry.prototype=Object.create(Geometry.prototype);CylinderGeometry.prototype.constructor=CylinderGeometry;function CylinderBufferGeometry(va,_a,eo,to,ro,no,io,ao){BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:va,radiusBottom:_a,height:eo,radialSegments:to,heightSegments:ro,openEnded:no,thetaStart:io,thetaLength:ao};var oo=this;va=va!==void 0?va:1,_a=_a!==void 0?_a:1,eo=eo||1,to=Math.floor(to)||8,ro=Math.floor(ro)||1,no=no!==void 0?no:!1,io=io!==void 0?io:0,ao=ao!==void 0?ao:Math.PI*2;var so=[],uo=[],co=[],fo=[],po=0,vo=[],go=eo/2,mo=0;lo(),no===!1&&(va>0&&ho(!0),_a>0&&ho(!1)),this.setIndex(so),this.setAttribute("position",new Float32BufferAttribute(uo,3)),this.setAttribute("normal",new Float32BufferAttribute(co,3)),this.setAttribute("uv",new Float32BufferAttribute(fo,2));function lo(){var yo,Ao,Eo=new Vector3,To=new Vector3,No=0,Co=(_a-va)/eo;for(Ao=0;Ao<=ro;Ao++){var Io=[],Mo=Ao/ro,wo=Mo*(_a-va)+va;for(yo=0;yo<=to;yo++){var xo=yo/to,bo=xo*ao+io,So=Math.sin(bo),Do=Math.cos(bo);To.x=wo*So,To.y=-Mo*eo+go,To.z=wo*Do,uo.push(To.x,To.y,To.z),Eo.set(So,Co,Do).normalize(),co.push(Eo.x,Eo.y,Eo.z),fo.push(xo,1-Mo),Io.push(po++)}vo.push(Io)}for(yo=0;yo<to;yo++)for(Ao=0;Ao<ro;Ao++){var Oo=vo[Ao][yo],Bo=vo[Ao+1][yo],$o=vo[Ao+1][yo+1],Vo=vo[Ao][yo+1];so.push(Oo,Bo,Vo),so.push(Bo,$o,Vo),No+=6}oo.addGroup(mo,No,0),mo+=No}function ho(yo){var Ao,Eo,To,No=new Vector2,Co=new Vector3,Io=0,Mo=yo===!0?va:_a,wo=yo===!0?1:-1;for(Eo=po,Ao=1;Ao<=to;Ao++)uo.push(0,go*wo,0),co.push(0,wo,0),fo.push(.5,.5),po++;for(To=po,Ao=0;Ao<=to;Ao++){var xo=Ao/to,bo=xo*ao+io,So=Math.cos(bo),Do=Math.sin(bo);Co.x=Mo*Do,Co.y=go*wo,Co.z=Mo*So,uo.push(Co.x,Co.y,Co.z),co.push(0,wo,0),No.x=So*.5+.5,No.y=Do*.5*wo+.5,fo.push(No.x,No.y),po++}for(Ao=0;Ao<to;Ao++){var Oo=Eo+Ao,Bo=To+Ao;yo===!0?so.push(Bo,Bo+1,Oo):so.push(Bo+1,Bo,Oo),Io+=3}oo.addGroup(mo,Io,yo===!0?1:2),mo+=Io}}CylinderBufferGeometry.prototype=Object.create(BufferGeometry.prototype);CylinderBufferGeometry.prototype.constructor=CylinderBufferGeometry;function ConeGeometry(va,_a,eo,to,ro,no,io){CylinderGeometry.call(this,0,va,_a,eo,to,ro,no,io),this.type="ConeGeometry",this.parameters={radius:va,height:_a,radialSegments:eo,heightSegments:to,openEnded:ro,thetaStart:no,thetaLength:io}}ConeGeometry.prototype=Object.create(CylinderGeometry.prototype);ConeGeometry.prototype.constructor=ConeGeometry;function ConeBufferGeometry(va,_a,eo,to,ro,no,io){CylinderBufferGeometry.call(this,0,va,_a,eo,to,ro,no,io),this.type="ConeBufferGeometry",this.parameters={radius:va,height:_a,radialSegments:eo,heightSegments:to,openEnded:ro,thetaStart:no,thetaLength:io}}ConeBufferGeometry.prototype=Object.create(CylinderBufferGeometry.prototype);ConeBufferGeometry.prototype.constructor=ConeBufferGeometry;function CircleGeometry(va,_a,eo,to){Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:va,segments:_a,thetaStart:eo,thetaLength:to},this.fromBufferGeometry(new CircleBufferGeometry(va,_a,eo,to)),this.mergeVertices()}CircleGeometry.prototype=Object.create(Geometry.prototype);CircleGeometry.prototype.constructor=CircleGeometry;function CircleBufferGeometry(va,_a,eo,to){BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:va,segments:_a,thetaStart:eo,thetaLength:to},va=va||1,_a=_a!==void 0?Math.max(3,_a):8,eo=eo!==void 0?eo:0,to=to!==void 0?to:Math.PI*2;var ro=[],no=[],io=[],ao=[],oo,so,uo=new Vector3,co=new Vector2;for(no.push(0,0,0),io.push(0,0,1),ao.push(.5,.5),so=0,oo=3;so<=_a;so++,oo+=3){var fo=eo+so/_a*to;uo.x=va*Math.cos(fo),uo.y=va*Math.sin(fo),no.push(uo.x,uo.y,uo.z),io.push(0,0,1),co.x=(no[oo]/va+1)/2,co.y=(no[oo+1]/va+1)/2,ao.push(co.x,co.y)}for(oo=1;oo<=_a;oo++)ro.push(oo,oo+1,0);this.setIndex(ro),this.setAttribute("position",new Float32BufferAttribute(no,3)),this.setAttribute("normal",new Float32BufferAttribute(io,3)),this.setAttribute("uv",new Float32BufferAttribute(ao,2))}CircleBufferGeometry.prototype=Object.create(BufferGeometry.prototype);CircleBufferGeometry.prototype.constructor=CircleBufferGeometry;var Geometries=Object.freeze({__proto__:null,WireframeGeometry,ParametricGeometry,ParametricBufferGeometry,TetrahedronGeometry,TetrahedronBufferGeometry,OctahedronGeometry,OctahedronBufferGeometry,IcosahedronGeometry,IcosahedronBufferGeometry,DodecahedronGeometry,DodecahedronBufferGeometry,PolyhedronGeometry,PolyhedronBufferGeometry,TubeGeometry,TubeBufferGeometry,TorusKnotGeometry,TorusKnotBufferGeometry,TorusGeometry,TorusBufferGeometry,TextGeometry,TextBufferGeometry,SphereGeometry,SphereBufferGeometry,RingGeometry,RingBufferGeometry,PlaneGeometry,PlaneBufferGeometry,LatheGeometry,LatheBufferGeometry,ShapeGeometry,ShapeBufferGeometry,ExtrudeGeometry,ExtrudeBufferGeometry,EdgesGeometry,ConeGeometry,ConeBufferGeometry,CylinderGeometry,CylinderBufferGeometry,CircleGeometry,CircleBufferGeometry,BoxGeometry,BoxBufferGeometry});function ShadowMaterial(va){Material.call(this),this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.setValues(va)}ShadowMaterial.prototype=Object.create(Material.prototype);ShadowMaterial.prototype.constructor=ShadowMaterial;ShadowMaterial.prototype.isShadowMaterial=!0;ShadowMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.color.copy(va.color),this};function RawShaderMaterial(va){ShaderMaterial.call(this,va),this.type="RawShaderMaterial"}RawShaderMaterial.prototype=Object.create(ShaderMaterial.prototype);RawShaderMaterial.prototype.constructor=RawShaderMaterial;RawShaderMaterial.prototype.isRawShaderMaterial=!0;function MeshStandardMaterial(va){Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(va)}MeshStandardMaterial.prototype=Object.create(Material.prototype);MeshStandardMaterial.prototype.constructor=MeshStandardMaterial;MeshStandardMaterial.prototype.isMeshStandardMaterial=!0;MeshStandardMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.defines={STANDARD:""},this.color.copy(va.color),this.roughness=va.roughness,this.metalness=va.metalness,this.map=va.map,this.lightMap=va.lightMap,this.lightMapIntensity=va.lightMapIntensity,this.aoMap=va.aoMap,this.aoMapIntensity=va.aoMapIntensity,this.emissive.copy(va.emissive),this.emissiveMap=va.emissiveMap,this.emissiveIntensity=va.emissiveIntensity,this.bumpMap=va.bumpMap,this.bumpScale=va.bumpScale,this.normalMap=va.normalMap,this.normalMapType=va.normalMapType,this.normalScale.copy(va.normalScale),this.displacementMap=va.displacementMap,this.displacementScale=va.displacementScale,this.displacementBias=va.displacementBias,this.roughnessMap=va.roughnessMap,this.metalnessMap=va.metalnessMap,this.alphaMap=va.alphaMap,this.envMap=va.envMap,this.envMapIntensity=va.envMapIntensity,this.refractionRatio=va.refractionRatio,this.wireframe=va.wireframe,this.wireframeLinewidth=va.wireframeLinewidth,this.wireframeLinecap=va.wireframeLinecap,this.wireframeLinejoin=va.wireframeLinejoin,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.morphNormals=va.morphNormals,this.vertexTangents=va.vertexTangents,this};function MeshPhysicalMaterial(va){MeshStandardMaterial.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(va)}MeshPhysicalMaterial.prototype=Object.create(MeshStandardMaterial.prototype);MeshPhysicalMaterial.prototype.constructor=MeshPhysicalMaterial;MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0;MeshPhysicalMaterial.prototype.copy=function(va){return MeshStandardMaterial.prototype.copy.call(this,va),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=va.clearcoat,this.clearcoatMap=va.clearcoatMap,this.clearcoatRoughness=va.clearcoatRoughness,this.clearcoatRoughnessMap=va.clearcoatRoughnessMap,this.clearcoatNormalMap=va.clearcoatNormalMap,this.clearcoatNormalScale.copy(va.clearcoatNormalScale),this.reflectivity=va.reflectivity,va.sheen?this.sheen=(this.sheen||new Color).copy(va.sheen):this.sheen=null,this.transparency=va.transparency,this};function MeshPhongMaterial(va){Material.call(this),this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(va)}MeshPhongMaterial.prototype=Object.create(Material.prototype);MeshPhongMaterial.prototype.constructor=MeshPhongMaterial;MeshPhongMaterial.prototype.isMeshPhongMaterial=!0;MeshPhongMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.color.copy(va.color),this.specular.copy(va.specular),this.shininess=va.shininess,this.map=va.map,this.lightMap=va.lightMap,this.lightMapIntensity=va.lightMapIntensity,this.aoMap=va.aoMap,this.aoMapIntensity=va.aoMapIntensity,this.emissive.copy(va.emissive),this.emissiveMap=va.emissiveMap,this.emissiveIntensity=va.emissiveIntensity,this.bumpMap=va.bumpMap,this.bumpScale=va.bumpScale,this.normalMap=va.normalMap,this.normalMapType=va.normalMapType,this.normalScale.copy(va.normalScale),this.displacementMap=va.displacementMap,this.displacementScale=va.displacementScale,this.displacementBias=va.displacementBias,this.specularMap=va.specularMap,this.alphaMap=va.alphaMap,this.envMap=va.envMap,this.combine=va.combine,this.reflectivity=va.reflectivity,this.refractionRatio=va.refractionRatio,this.wireframe=va.wireframe,this.wireframeLinewidth=va.wireframeLinewidth,this.wireframeLinecap=va.wireframeLinecap,this.wireframeLinejoin=va.wireframeLinejoin,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.morphNormals=va.morphNormals,this};function MeshToonMaterial(va){Material.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(va)}MeshToonMaterial.prototype=Object.create(Material.prototype);MeshToonMaterial.prototype.constructor=MeshToonMaterial;MeshToonMaterial.prototype.isMeshToonMaterial=!0;MeshToonMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.color.copy(va.color),this.specular.copy(va.specular),this.shininess=va.shininess,this.map=va.map,this.gradientMap=va.gradientMap,this.lightMap=va.lightMap,this.lightMapIntensity=va.lightMapIntensity,this.aoMap=va.aoMap,this.aoMapIntensity=va.aoMapIntensity,this.emissive.copy(va.emissive),this.emissiveMap=va.emissiveMap,this.emissiveIntensity=va.emissiveIntensity,this.bumpMap=va.bumpMap,this.bumpScale=va.bumpScale,this.normalMap=va.normalMap,this.normalMapType=va.normalMapType,this.normalScale.copy(va.normalScale),this.displacementMap=va.displacementMap,this.displacementScale=va.displacementScale,this.displacementBias=va.displacementBias,this.specularMap=va.specularMap,this.alphaMap=va.alphaMap,this.wireframe=va.wireframe,this.wireframeLinewidth=va.wireframeLinewidth,this.wireframeLinecap=va.wireframeLinecap,this.wireframeLinejoin=va.wireframeLinejoin,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.morphNormals=va.morphNormals,this};function MeshNormalMaterial(va){Material.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(va)}MeshNormalMaterial.prototype=Object.create(Material.prototype);MeshNormalMaterial.prototype.constructor=MeshNormalMaterial;MeshNormalMaterial.prototype.isMeshNormalMaterial=!0;MeshNormalMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.bumpMap=va.bumpMap,this.bumpScale=va.bumpScale,this.normalMap=va.normalMap,this.normalMapType=va.normalMapType,this.normalScale.copy(va.normalScale),this.displacementMap=va.displacementMap,this.displacementScale=va.displacementScale,this.displacementBias=va.displacementBias,this.wireframe=va.wireframe,this.wireframeLinewidth=va.wireframeLinewidth,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.morphNormals=va.morphNormals,this};function MeshLambertMaterial(va){Material.call(this),this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(va)}MeshLambertMaterial.prototype=Object.create(Material.prototype);MeshLambertMaterial.prototype.constructor=MeshLambertMaterial;MeshLambertMaterial.prototype.isMeshLambertMaterial=!0;MeshLambertMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.color.copy(va.color),this.map=va.map,this.lightMap=va.lightMap,this.lightMapIntensity=va.lightMapIntensity,this.aoMap=va.aoMap,this.aoMapIntensity=va.aoMapIntensity,this.emissive.copy(va.emissive),this.emissiveMap=va.emissiveMap,this.emissiveIntensity=va.emissiveIntensity,this.specularMap=va.specularMap,this.alphaMap=va.alphaMap,this.envMap=va.envMap,this.combine=va.combine,this.reflectivity=va.reflectivity,this.refractionRatio=va.refractionRatio,this.wireframe=va.wireframe,this.wireframeLinewidth=va.wireframeLinewidth,this.wireframeLinecap=va.wireframeLinecap,this.wireframeLinejoin=va.wireframeLinejoin,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.morphNormals=va.morphNormals,this};function MeshMatcapMaterial(va){Material.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(va)}MeshMatcapMaterial.prototype=Object.create(Material.prototype);MeshMatcapMaterial.prototype.constructor=MeshMatcapMaterial;MeshMatcapMaterial.prototype.isMeshMatcapMaterial=!0;MeshMatcapMaterial.prototype.copy=function(va){return Material.prototype.copy.call(this,va),this.defines={MATCAP:""},this.color.copy(va.color),this.matcap=va.matcap,this.map=va.map,this.bumpMap=va.bumpMap,this.bumpScale=va.bumpScale,this.normalMap=va.normalMap,this.normalMapType=va.normalMapType,this.normalScale.copy(va.normalScale),this.displacementMap=va.displacementMap,this.displacementScale=va.displacementScale,this.displacementBias=va.displacementBias,this.alphaMap=va.alphaMap,this.skinning=va.skinning,this.morphTargets=va.morphTargets,this.morphNormals=va.morphNormals,this};function LineDashedMaterial(va){LineBasicMaterial.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(va)}LineDashedMaterial.prototype=Object.create(LineBasicMaterial.prototype);LineDashedMaterial.prototype.constructor=LineDashedMaterial;LineDashedMaterial.prototype.isLineDashedMaterial=!0;LineDashedMaterial.prototype.copy=function(va){return LineBasicMaterial.prototype.copy.call(this,va),this.scale=va.scale,this.dashSize=va.dashSize,this.gapSize=va.gapSize,this};var Materials=Object.freeze({__proto__:null,ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material}),AnimationUtils={arraySlice:function(va,_a,eo){return AnimationUtils.isTypedArray(va)?new va.constructor(va.subarray(_a,eo!==void 0?eo:va.length)):va.slice(_a,eo)},convertArray:function(va,_a,eo){return!va||!eo&&va.constructor===_a?va:typeof _a.BYTES_PER_ELEMENT=="number"?new _a(va):Array.prototype.slice.call(va)},isTypedArray:function(va){return ArrayBuffer.isView(va)&&!(va instanceof DataView)},getKeyframeOrder:function(va){function _a(no,io){return va[no]-va[io]}for(var eo=va.length,to=new Array(eo),ro=0;ro!==eo;++ro)to[ro]=ro;return to.sort(_a),to},sortedArray:function(va,_a,eo){for(var to=va.length,ro=new va.constructor(to),no=0,io=0;io!==to;++no)for(var ao=eo[no]*_a,oo=0;oo!==_a;++oo)ro[io++]=va[ao+oo];return ro},flattenJSON:function(va,_a,eo,to){for(var ro=1,no=va[0];no!==void 0&&no[to]===void 0;)no=va[ro++];if(no!==void 0){var io=no[to];if(io!==void 0)if(Array.isArray(io))do io=no[to],io!==void 0&&(_a.push(no.time),eo.push.apply(eo,io)),no=va[ro++];while(no!==void 0);else if(io.toArray!==void 0)do io=no[to],io!==void 0&&(_a.push(no.time),io.toArray(eo,eo.length)),no=va[ro++];while(no!==void 0);else do io=no[to],io!==void 0&&(_a.push(no.time),eo.push(io)),no=va[ro++];while(no!==void 0)}},subclip:function(va,_a,eo,to,ro){ro=ro||30;var no=va.clone();no.name=_a;for(var io=[],ao=0;ao<no.tracks.length;++ao){for(var oo=no.tracks[ao],so=oo.getValueSize(),uo=[],co=[],fo=0;fo<oo.times.length;++fo){var po=oo.times[fo]*ro;if(!(po<eo||po>=to)){uo.push(oo.times[fo]);for(var vo=0;vo<so;++vo)co.push(oo.values[fo*so+vo])}}uo.length!==0&&(oo.times=AnimationUtils.convertArray(uo,oo.times.constructor),oo.values=AnimationUtils.convertArray(co,oo.values.constructor),io.push(oo))}no.tracks=io;for(var go=1/0,ao=0;ao<no.tracks.length;++ao)go>no.tracks[ao].times[0]&&(go=no.tracks[ao].times[0]);for(var ao=0;ao<no.tracks.length;++ao)no.tracks[ao].shift(-1*go);return no.resetDuration(),no},makeClipAdditive:function(va,_a,eo,to){_a===void 0&&(_a=0),eo===void 0&&(eo=va),(to===void 0||to<=0)&&(to=30);for(var ro=va.tracks.length,no=_a/to,io=0;io<ro;++io){var ao=eo.tracks[io],oo=ao.ValueTypeName;if(!(oo==="bool"||oo==="string")){var so=va.tracks.find(function(Ao){return Ao.name===ao.name&&Ao.ValueTypeName===oo});if(so!==void 0){var uo=ao.getValueSize(),co=ao.times.length-1,fo;if(no<=ao.times[0])fo=AnimationUtils.arraySlice(ao.values,0,ao.valueSize);else if(no>=ao.times[co]){var po=co*uo;fo=AnimationUtils.arraySlice(ao.values,po)}else{var vo=ao.createInterpolant();vo.evaluate(no),fo=vo.resultBuffer}if(oo==="quaternion"){var go=new Quaternion(fo[0],fo[1],fo[2],fo[3]).normalize().conjugate();go.toArray(fo)}for(var mo=so.times.length,lo=0;lo<mo;++lo){var ho=lo*uo;if(oo==="quaternion")Quaternion.multiplyQuaternionsFlat(so.values,ho,fo,0,so.values,ho);else for(var yo=0;yo<uo;++yo)so.values[ho+yo]-=fo[yo]}}}}return va.blendMode=AdditiveAnimationBlendMode,va}};function Interpolant(va,_a,eo,to){this.parameterPositions=va,this._cachedIndex=0,this.resultBuffer=to!==void 0?to:new _a.constructor(eo),this.sampleValues=_a,this.valueSize=eo}Object.assign(Interpolant.prototype,{evaluate:function(va){var _a=this.parameterPositions,eo=this._cachedIndex,to=_a[eo],ro=_a[eo-1];e:{t:{var no;r:{n:if(!(va<to)){for(var io=eo+2;;){if(to===void 0){if(va<ro)break n;return eo=_a.length,this._cachedIndex=eo,this.afterEnd_(eo-1,va,ro)}if(eo===io)break;if(ro=to,to=_a[++eo],va<to)break t}no=_a.length;break r}if(!(va>=ro)){var ao=_a[1];va<ao&&(eo=2,ro=ao);for(var io=eo-2;;){if(ro===void 0)return this._cachedIndex=0,this.beforeStart_(0,va,to);if(eo===io)break;if(to=ro,ro=_a[--eo-1],va>=ro)break t}no=eo,eo=0;break r}break e}for(;eo<no;){var oo=eo+no>>>1;va<_a[oo]?no=oo:eo=oo+1}if(to=_a[eo],ro=_a[eo-1],ro===void 0)return this._cachedIndex=0,this.beforeStart_(0,va,to);if(to===void 0)return eo=_a.length,this._cachedIndex=eo,this.afterEnd_(eo-1,ro,va)}this._cachedIndex=eo,this.intervalChanged_(eo,ro,to)}return this.interpolate_(eo,ro,va,to)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(va){for(var _a=this.resultBuffer,eo=this.sampleValues,to=this.valueSize,ro=va*to,no=0;no!==to;++no)_a[no]=eo[ro+no];return _a},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(Interpolant.prototype,{beforeStart_:Interpolant.prototype.copySampleValue_,afterEnd_:Interpolant.prototype.copySampleValue_});function CubicInterpolant(va,_a,eo,to){Interpolant.call(this,va,_a,eo,to),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}CubicInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:CubicInterpolant,DefaultSettings_:{endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},intervalChanged_:function(va,_a,eo){var to=this.parameterPositions,ro=va-2,no=va+1,io=to[ro],ao=to[no];if(io===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:ro=va,io=2*_a-eo;break;case WrapAroundEnding:ro=to.length-2,io=_a+to[ro]-to[ro+1];break;default:ro=va,io=eo}if(ao===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:no=va,ao=2*eo-_a;break;case WrapAroundEnding:no=1,ao=eo+to[1]-to[0];break;default:no=va-1,ao=_a}var oo=(eo-_a)*.5,so=this.valueSize;this._weightPrev=oo/(_a-io),this._weightNext=oo/(ao-eo),this._offsetPrev=ro*so,this._offsetNext=no*so},interpolate_:function(va,_a,eo,to){for(var ro=this.resultBuffer,no=this.sampleValues,io=this.valueSize,ao=va*io,oo=ao-io,so=this._offsetPrev,uo=this._offsetNext,co=this._weightPrev,fo=this._weightNext,po=(eo-_a)/(to-_a),vo=po*po,go=vo*po,mo=-co*go+2*co*vo-co*po,lo=(1+co)*go+(-1.5-2*co)*vo+(-.5+co)*po+1,ho=(-1-fo)*go+(1.5+fo)*vo+.5*po,yo=fo*go-fo*vo,Ao=0;Ao!==io;++Ao)ro[Ao]=mo*no[so+Ao]+lo*no[oo+Ao]+ho*no[ao+Ao]+yo*no[uo+Ao];return ro}});function LinearInterpolant(va,_a,eo,to){Interpolant.call(this,va,_a,eo,to)}LinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:LinearInterpolant,interpolate_:function(va,_a,eo,to){for(var ro=this.resultBuffer,no=this.sampleValues,io=this.valueSize,ao=va*io,oo=ao-io,so=(eo-_a)/(to-_a),uo=1-so,co=0;co!==io;++co)ro[co]=no[oo+co]*uo+no[ao+co]*so;return ro}});function DiscreteInterpolant(va,_a,eo,to){Interpolant.call(this,va,_a,eo,to)}DiscreteInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:DiscreteInterpolant,interpolate_:function(va){return this.copySampleValue_(va-1)}});function KeyframeTrack(va,_a,eo,to){if(va===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(_a===void 0||_a.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+va);this.name=va,this.times=AnimationUtils.convertArray(_a,this.TimeBufferType),this.values=AnimationUtils.convertArray(eo,this.ValueBufferType),this.setInterpolation(to||this.DefaultInterpolation)}Object.assign(KeyframeTrack,{toJSON:function(va){var _a=va.constructor,eo;if(_a.toJSON!==void 0)eo=_a.toJSON(va);else{eo={name:va.name,times:AnimationUtils.convertArray(va.times,Array),values:AnimationUtils.convertArray(va.values,Array)};var to=va.getInterpolation();to!==va.DefaultInterpolation&&(eo.interpolation=to)}return eo.type=va.ValueTypeName,eo}});Object.assign(KeyframeTrack.prototype,{constructor:KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:InterpolateLinear,InterpolantFactoryMethodDiscrete:function(va){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),va)},InterpolantFactoryMethodLinear:function(va){return new LinearInterpolant(this.times,this.values,this.getValueSize(),va)},InterpolantFactoryMethodSmooth:function(va){return new CubicInterpolant(this.times,this.values,this.getValueSize(),va)},setInterpolation:function(va){var _a;switch(va){case InterpolateDiscrete:_a=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:_a=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:_a=this.InterpolantFactoryMethodSmooth;break}if(_a===void 0){var eo="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(va!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(eo);return console.warn("THREE.KeyframeTrack:",eo),this}return this.createInterpolant=_a,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(va){if(va!==0)for(var _a=this.times,eo=0,to=_a.length;eo!==to;++eo)_a[eo]+=va;return this},scale:function(va){if(va!==1)for(var _a=this.times,eo=0,to=_a.length;eo!==to;++eo)_a[eo]*=va;return this},trim:function(va,_a){for(var eo=this.times,to=eo.length,ro=0,no=to-1;ro!==to&&eo[ro]<va;)++ro;for(;no!==-1&&eo[no]>_a;)--no;if(++no,ro!==0||no!==to){ro>=no&&(no=Math.max(no,1),ro=no-1);var io=this.getValueSize();this.times=AnimationUtils.arraySlice(eo,ro,no),this.values=AnimationUtils.arraySlice(this.values,ro*io,no*io)}return this},validate:function(){var va=!0,_a=this.getValueSize();_a-Math.floor(_a)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),va=!1);var eo=this.times,to=this.values,ro=eo.length;ro===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),va=!1);for(var no=null,io=0;io!==ro;io++){var ao=eo[io];if(typeof ao=="number"&&isNaN(ao)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,io,ao),va=!1;break}if(no!==null&&no>ao){console.error("THREE.KeyframeTrack: Out of order keys.",this,io,ao,no),va=!1;break}no=ao}if(to!==void 0&&AnimationUtils.isTypedArray(to))for(var io=0,oo=to.length;io!==oo;++io){var so=to[io];if(isNaN(so)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,io,so),va=!1;break}}return va},optimize:function(){for(var va=AnimationUtils.arraySlice(this.times),_a=AnimationUtils.arraySlice(this.values),eo=this.getValueSize(),to=this.getInterpolation()===InterpolateSmooth,ro=1,no=va.length-1,io=1;io<no;++io){var ao=!1,oo=va[io],so=va[io+1];if(oo!==so&&(io!==1||oo!==oo[0]))if(to)ao=!0;else for(var uo=io*eo,co=uo-eo,fo=uo+eo,po=0;po!==eo;++po){var vo=_a[uo+po];if(vo!==_a[co+po]||vo!==_a[fo+po]){ao=!0;break}}if(ao){if(io!==ro){va[ro]=va[io];for(var go=io*eo,mo=ro*eo,po=0;po!==eo;++po)_a[mo+po]=_a[go+po]}++ro}}if(no>0){va[ro]=va[no];for(var go=no*eo,mo=ro*eo,po=0;po!==eo;++po)_a[mo+po]=_a[go+po];++ro}return ro!==va.length?(this.times=AnimationUtils.arraySlice(va,0,ro),this.values=AnimationUtils.arraySlice(_a,0,ro*eo)):(this.times=va,this.values=_a),this},clone:function(){var va=AnimationUtils.arraySlice(this.times,0),_a=AnimationUtils.arraySlice(this.values,0),eo=this.constructor,to=new eo(this.name,va,_a);return to.createInterpolant=this.createInterpolant,to}});function BooleanKeyframeTrack(va,_a,eo){KeyframeTrack.call(this,va,_a,eo)}BooleanKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function ColorKeyframeTrack(va,_a,eo,to){KeyframeTrack.call(this,va,_a,eo,to)}ColorKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:ColorKeyframeTrack,ValueTypeName:"color"});function NumberKeyframeTrack(va,_a,eo,to){KeyframeTrack.call(this,va,_a,eo,to)}NumberKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:NumberKeyframeTrack,ValueTypeName:"number"});function QuaternionLinearInterpolant(va,_a,eo,to){Interpolant.call(this,va,_a,eo,to)}QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:QuaternionLinearInterpolant,interpolate_:function(va,_a,eo,to){for(var ro=this.resultBuffer,no=this.sampleValues,io=this.valueSize,ao=va*io,oo=(eo-_a)/(to-_a),so=ao+io;ao!==so;ao+=4)Quaternion.slerpFlat(ro,0,no,ao-io,no,ao,oo);return ro}});function QuaternionKeyframeTrack(va,_a,eo,to){KeyframeTrack.call(this,va,_a,eo,to)}QuaternionKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:InterpolateLinear,InterpolantFactoryMethodLinear:function(va){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),va)},InterpolantFactoryMethodSmooth:void 0});function StringKeyframeTrack(va,_a,eo,to){KeyframeTrack.call(this,va,_a,eo,to)}StringKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function VectorKeyframeTrack(va,_a,eo,to){KeyframeTrack.call(this,va,_a,eo,to)}VectorKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:VectorKeyframeTrack,ValueTypeName:"vector"});function AnimationClip(va,_a,eo,to){this.name=va,this.tracks=eo,this.duration=_a!==void 0?_a:-1,this.blendMode=to!==void 0?to:NormalAnimationBlendMode,this.uuid=MathUtils.generateUUID(),this.duration<0&&this.resetDuration()}function getTrackTypeForValueTypeName(va){switch(va.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+va)}function parseKeyframeTrack(va){if(va.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var _a=getTrackTypeForValueTypeName(va.type);if(va.times===void 0){var eo=[],to=[];AnimationUtils.flattenJSON(va.keys,eo,to,"value"),va.times=eo,va.values=to}return _a.parse!==void 0?_a.parse(va):new _a(va.name,va.times,va.values,va.interpolation)}Object.assign(AnimationClip,{parse:function(va){for(var _a=[],eo=va.tracks,to=1/(va.fps||1),ro=0,no=eo.length;ro!==no;++ro)_a.push(parseKeyframeTrack(eo[ro]).scale(to));return new AnimationClip(va.name,va.duration,_a,va.blendMode)},toJSON:function(va){for(var _a=[],eo=va.tracks,to={name:va.name,duration:va.duration,tracks:_a,uuid:va.uuid,blendMode:va.blendMode},ro=0,no=eo.length;ro!==no;++ro)_a.push(KeyframeTrack.toJSON(eo[ro]));return to},CreateFromMorphTargetSequence:function(va,_a,eo,to){for(var ro=_a.length,no=[],io=0;io<ro;io++){var ao=[],oo=[];ao.push((io+ro-1)%ro,io,(io+1)%ro),oo.push(0,1,0);var so=AnimationUtils.getKeyframeOrder(ao);ao=AnimationUtils.sortedArray(ao,1,so),oo=AnimationUtils.sortedArray(oo,1,so),!to&&ao[0]===0&&(ao.push(ro),oo.push(oo[0])),no.push(new NumberKeyframeTrack(".morphTargetInfluences["+_a[io].name+"]",ao,oo).scale(1/eo))}return new AnimationClip(va,-1,no)},findByName:function(va,_a){var eo=va;if(!Array.isArray(va)){var to=va;eo=to.geometry&&to.geometry.animations||to.animations}for(var ro=0;ro<eo.length;ro++)if(eo[ro].name===_a)return eo[ro];return null},CreateClipsFromMorphTargetSequences:function(va,_a,eo){for(var to={},ro=/^([\w-]*?)([\d]+)$/,no=0,io=va.length;no<io;no++){var ao=va[no],oo=ao.name.match(ro);if(oo&&oo.length>1){var so=oo[1],uo=to[so];uo||(to[so]=uo=[]),uo.push(ao)}}var co=[];for(var so in to)co.push(AnimationClip.CreateFromMorphTargetSequence(so,to[so],_a,eo));return co},parseAnimation:function(va,_a){if(!va)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var eo=function(Ao,Eo,To,No,Co){if(To.length!==0){var Io=[],Mo=[];AnimationUtils.flattenJSON(To,Io,Mo,No),Io.length!==0&&Co.push(new Ao(Eo,Io,Mo))}},to=[],ro=va.name||"default",no=va.length||-1,io=va.fps||30,ao=va.blendMode,oo=va.hierarchy||[],so=0;so<oo.length;so++){var uo=oo[so].keys;if(!(!uo||uo.length===0))if(uo[0].morphTargets){for(var co={},fo=0;fo<uo.length;fo++)if(uo[fo].morphTargets)for(var po=0;po<uo[fo].morphTargets.length;po++)co[uo[fo].morphTargets[po]]=-1;for(var vo in co){for(var go=[],mo=[],po=0;po!==uo[fo].morphTargets.length;++po){var lo=uo[fo];go.push(lo.time),mo.push(lo.morphTarget===vo?1:0)}to.push(new NumberKeyframeTrack(".morphTargetInfluence["+vo+"]",go,mo))}no=co.length*(io||1)}else{var ho=".bones["+_a[so].name+"]";eo(VectorKeyframeTrack,ho+".position",uo,"pos",to),eo(QuaternionKeyframeTrack,ho+".quaternion",uo,"rot",to),eo(VectorKeyframeTrack,ho+".scale",uo,"scl",to)}}if(to.length===0)return null;var yo=new AnimationClip(ro,no,to,ao);return yo}});Object.assign(AnimationClip.prototype,{resetDuration:function(){for(var va=this.tracks,_a=0,eo=0,to=va.length;eo!==to;++eo){var ro=this.tracks[eo];_a=Math.max(_a,ro.times[ro.times.length-1])}return this.duration=_a,this},trim:function(){for(var va=0;va<this.tracks.length;va++)this.tracks[va].trim(0,this.duration);return this},validate:function(){for(var va=!0,_a=0;_a<this.tracks.length;_a++)va=va&&this.tracks[_a].validate();return va},optimize:function(){for(var va=0;va<this.tracks.length;va++)this.tracks[va].optimize();return this},clone:function(){for(var va=[],_a=0;_a<this.tracks.length;_a++)va.push(this.tracks[_a].clone());return new AnimationClip(this.name,this.duration,va,this.blendMode)}});var Cache={enabled:!1,files:{},add:function(va,_a){this.enabled!==!1&&(this.files[va]=_a)},get:function(va){if(this.enabled!==!1)return this.files[va]},remove:function(va){delete this.files[va]},clear:function(){this.files={}}};function LoadingManager(va,_a,eo){var to=this,ro=!1,no=0,io=0,ao=void 0,oo=[];this.onStart=void 0,this.onLoad=va,this.onProgress=_a,this.onError=eo,this.itemStart=function(so){io++,ro===!1&&to.onStart!==void 0&&to.onStart(so,no,io),ro=!0},this.itemEnd=function(so){no++,to.onProgress!==void 0&&to.onProgress(so,no,io),no===io&&(ro=!1,to.onLoad!==void 0&&to.onLoad())},this.itemError=function(so){to.onError!==void 0&&to.onError(so)},this.resolveURL=function(so){return ao?ao(so):so},this.setURLModifier=function(so){return ao=so,this},this.addHandler=function(so,uo){return oo.push(so,uo),this},this.removeHandler=function(so){var uo=oo.indexOf(so);return uo!==-1&&oo.splice(uo,2),this},this.getHandler=function(so){for(var uo=0,co=oo.length;uo<co;uo+=2){var fo=oo[uo],po=oo[uo+1];if(fo.global&&(fo.lastIndex=0),fo.test(so))return po}return null}}var DefaultLoadingManager=new LoadingManager;function Loader(va){this.manager=va!==void 0?va:DefaultLoadingManager,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Loader.prototype,{load:function(){},loadAsync:function(va,_a){var eo=this;return new Promise(function(to,ro){eo.load(va,to,_a,ro)})},parse:function(){},setCrossOrigin:function(va){return this.crossOrigin=va,this},setPath:function(va){return this.path=va,this},setResourcePath:function(va){return this.resourcePath=va,this},setRequestHeader:function(va){return this.requestHeader=va,this}});var loading={};function FileLoader(va){Loader.call(this,va)}FileLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:FileLoader,load:function(va,_a,eo,to){va===void 0&&(va=""),this.path!==void 0&&(va=this.path+va),va=this.manager.resolveURL(va);var ro=this,no=Cache.get(va);if(no!==void 0)return ro.manager.itemStart(va),setTimeout(function(){_a&&_a(no),ro.manager.itemEnd(va)},0),no;if(loading[va]!==void 0){loading[va].push({onLoad:_a,onProgress:eo,onError:to});return}var io=/^data:(.*?)(;base64)?,(.*)$/,ao=va.match(io);if(ao){var oo=ao[1],so=!!ao[2],uo=ao[3];uo=decodeURIComponent(uo),so&&(uo=atob(uo));try{var co,fo=(this.responseType||"").toLowerCase();switch(fo){case"arraybuffer":case"blob":for(var po=new Uint8Array(uo.length),vo=0;vo<uo.length;vo++)po[vo]=uo.charCodeAt(vo);fo==="blob"?co=new Blob([po.buffer],{type:oo}):co=po.buffer;break;case"document":var go=new DOMParser;co=go.parseFromString(uo,oo);break;case"json":co=JSON.parse(uo);break;default:co=uo;break}setTimeout(function(){_a&&_a(co),ro.manager.itemEnd(va)},0)}catch(ho){setTimeout(function(){to&&to(ho),ro.manager.itemError(va),ro.manager.itemEnd(va)},0)}}else{loading[va]=[],loading[va].push({onLoad:_a,onProgress:eo,onError:to});var mo=new XMLHttpRequest;mo.open("GET",va,!0),mo.addEventListener("load",function(ho){var yo=this.response,Ao=loading[va];if(delete loading[va],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Cache.add(va,yo);for(var Eo=0,To=Ao.length;Eo<To;Eo++){var No=Ao[Eo];No.onLoad&&No.onLoad(yo)}ro.manager.itemEnd(va)}else{for(var Eo=0,To=Ao.length;Eo<To;Eo++){var No=Ao[Eo];No.onError&&No.onError(ho)}ro.manager.itemError(va),ro.manager.itemEnd(va)}},!1),mo.addEventListener("progress",function(ho){for(var yo=loading[va],Ao=0,Eo=yo.length;Ao<Eo;Ao++){var To=yo[Ao];To.onProgress&&To.onProgress(ho)}},!1),mo.addEventListener("error",function(ho){var yo=loading[va];delete loading[va];for(var Ao=0,Eo=yo.length;Ao<Eo;Ao++){var To=yo[Ao];To.onError&&To.onError(ho)}ro.manager.itemError(va),ro.manager.itemEnd(va)},!1),mo.addEventListener("abort",function(ho){var yo=loading[va];delete loading[va];for(var Ao=0,Eo=yo.length;Ao<Eo;Ao++){var To=yo[Ao];To.onError&&To.onError(ho)}ro.manager.itemError(va),ro.manager.itemEnd(va)},!1),this.responseType!==void 0&&(mo.responseType=this.responseType),this.withCredentials!==void 0&&(mo.withCredentials=this.withCredentials),mo.overrideMimeType&&mo.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(var lo in this.requestHeader)mo.setRequestHeader(lo,this.requestHeader[lo]);mo.send(null)}return ro.manager.itemStart(va),mo},setResponseType:function(va){return this.responseType=va,this},setWithCredentials:function(va){return this.withCredentials=va,this},setMimeType:function(va){return this.mimeType=va,this}});function AnimationLoader(va){Loader.call(this,va)}AnimationLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:AnimationLoader,load:function(va,_a,eo,to){var ro=this,no=new FileLoader(ro.manager);no.setPath(ro.path),no.load(va,function(io){try{_a(ro.parse(JSON.parse(io)))}catch(ao){to?to(ao):console.error(ao),ro.manager.itemError(va)}},eo,to)},parse:function(va){for(var _a=[],eo=0;eo<va.length;eo++){var to=AnimationClip.parse(va[eo]);_a.push(to)}return _a}});function CompressedTextureLoader(va){Loader.call(this,va)}CompressedTextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:CompressedTextureLoader,load:function(va,_a,eo,to){var ro=this,no=[],io=new CompressedTexture;io.image=no;var ao=new FileLoader(this.manager);ao.setPath(this.path),ao.setResponseType("arraybuffer");function oo(fo){ao.load(va[fo],function(po){var vo=ro.parse(po,!0);no[fo]={width:vo.width,height:vo.height,format:vo.format,mipmaps:vo.mipmaps},so+=1,so===6&&(vo.mipmapCount===1&&(io.minFilter=LinearFilter),io.format=vo.format,io.needsUpdate=!0,_a&&_a(io))},eo,to)}if(Array.isArray(va))for(var so=0,uo=0,co=va.length;uo<co;++uo)oo(uo);else ao.load(va,function(fo){var po=ro.parse(fo,!0);if(po.isCubemap)for(var vo=po.mipmaps.length/po.mipmapCount,go=0;go<vo;go++){no[go]={mipmaps:[]};for(var mo=0;mo<po.mipmapCount;mo++)no[go].mipmaps.push(po.mipmaps[go*po.mipmapCount+mo]),no[go].format=po.format,no[go].width=po.width,no[go].height=po.height}else io.image.width=po.width,io.image.height=po.height,io.mipmaps=po.mipmaps;po.mipmapCount===1&&(io.minFilter=LinearFilter),io.format=po.format,io.needsUpdate=!0,_a&&_a(io)},eo,to);return io}});function DataTextureLoader(va){Loader.call(this,va)}DataTextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:DataTextureLoader,load:function(va,_a,eo,to){var ro=this,no=new DataTexture,io=new FileLoader(this.manager);return io.setResponseType("arraybuffer"),io.setPath(this.path),io.load(va,function(ao){var oo=ro.parse(ao);!oo||(oo.image!==void 0?no.image=oo.image:oo.data!==void 0&&(no.image.width=oo.width,no.image.height=oo.height,no.image.data=oo.data),no.wrapS=oo.wrapS!==void 0?oo.wrapS:ClampToEdgeWrapping,no.wrapT=oo.wrapT!==void 0?oo.wrapT:ClampToEdgeWrapping,no.magFilter=oo.magFilter!==void 0?oo.magFilter:LinearFilter,no.minFilter=oo.minFilter!==void 0?oo.minFilter:LinearFilter,no.anisotropy=oo.anisotropy!==void 0?oo.anisotropy:1,oo.format!==void 0&&(no.format=oo.format),oo.type!==void 0&&(no.type=oo.type),oo.mipmaps!==void 0&&(no.mipmaps=oo.mipmaps,no.minFilter=LinearMipmapLinearFilter),oo.mipmapCount===1&&(no.minFilter=LinearFilter),no.needsUpdate=!0,_a&&_a(no,oo))},eo,to),no}});function ImageLoader(va){Loader.call(this,va)}ImageLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:ImageLoader,load:function(va,_a,eo,to){this.path!==void 0&&(va=this.path+va),va=this.manager.resolveURL(va);var ro=this,no=Cache.get(va);if(no!==void 0)return ro.manager.itemStart(va),setTimeout(function(){_a&&_a(no),ro.manager.itemEnd(va)},0),no;var io=document.createElementNS("http://www.w3.org/1999/xhtml","img");function ao(){io.removeEventListener("load",ao,!1),io.removeEventListener("error",oo,!1),Cache.add(va,this),_a&&_a(this),ro.manager.itemEnd(va)}function oo(so){io.removeEventListener("load",ao,!1),io.removeEventListener("error",oo,!1),to&&to(so),ro.manager.itemError(va),ro.manager.itemEnd(va)}return io.addEventListener("load",ao,!1),io.addEventListener("error",oo,!1),va.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(io.crossOrigin=this.crossOrigin),ro.manager.itemStart(va),io.src=va,io}});function CubeTextureLoader(va){Loader.call(this,va)}CubeTextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:CubeTextureLoader,load:function(va,_a,eo,to){var ro=new CubeTexture,no=new ImageLoader(this.manager);no.setCrossOrigin(this.crossOrigin),no.setPath(this.path);var io=0;function ao(so){no.load(va[so],function(uo){ro.images[so]=uo,io++,io===6&&(ro.needsUpdate=!0,_a&&_a(ro))},void 0,to)}for(var oo=0;oo<va.length;++oo)ao(oo);return ro}});function TextureLoader(va){Loader.call(this,va)}TextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:TextureLoader,load:function(va,_a,eo,to){var ro=new Texture,no=new ImageLoader(this.manager);return no.setCrossOrigin(this.crossOrigin),no.setPath(this.path),no.load(va,function(io){ro.image=io;var ao=va.search(/\.jpe?g($|\?)/i)>0||va.search(/^data\:image\/jpeg/)===0;ro.format=ao?RGBFormat:RGBAFormat,ro.needsUpdate=!0,_a!==void 0&&_a(ro)},eo,to),ro}});function Curve(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Curve.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(va,_a){var eo=this.getUtoTmapping(va);return this.getPoint(eo,_a)},getPoints:function(va){va===void 0&&(va=5);for(var _a=[],eo=0;eo<=va;eo++)_a.push(this.getPoint(eo/va));return _a},getSpacedPoints:function(va){va===void 0&&(va=5);for(var _a=[],eo=0;eo<=va;eo++)_a.push(this.getPointAt(eo/va));return _a},getLength:function(){var va=this.getLengths();return va[va.length-1]},getLengths:function(va){if(va===void 0&&(va=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===va+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var _a=[],eo,to=this.getPoint(0),ro,no=0;for(_a.push(0),ro=1;ro<=va;ro++)eo=this.getPoint(ro/va),no+=eo.distanceTo(to),_a.push(no),to=eo;return this.cacheArcLengths=_a,_a},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(va,_a){var eo=this.getLengths(),to=0,ro=eo.length,no;_a?no=_a:no=va*eo[ro-1];for(var io=0,ao=ro-1,oo;io<=ao;)if(to=Math.floor(io+(ao-io)/2),oo=eo[to]-no,oo<0)io=to+1;else if(oo>0)ao=to-1;else{ao=to;break}if(to=ao,eo[to]===no)return to/(ro-1);var so=eo[to],uo=eo[to+1],co=uo-so,fo=(no-so)/co,po=(to+fo)/(ro-1);return po},getTangent:function(va,_a){var eo=1e-4,to=va-eo,ro=va+eo;to<0&&(to=0),ro>1&&(ro=1);var no=this.getPoint(to),io=this.getPoint(ro),ao=_a||(no.isVector2?new Vector2:new Vector3);return ao.copy(io).sub(no).normalize(),ao},getTangentAt:function(va,_a){var eo=this.getUtoTmapping(va);return this.getTangent(eo,_a)},computeFrenetFrames:function(va,_a){var eo=new Vector3,to=[],ro=[],no=[],io=new Vector3,ao=new Matrix4,oo,so,uo;for(oo=0;oo<=va;oo++)so=oo/va,to[oo]=this.getTangentAt(so,new Vector3),to[oo].normalize();ro[0]=new Vector3,no[0]=new Vector3;var co=Number.MAX_VALUE,fo=Math.abs(to[0].x),po=Math.abs(to[0].y),vo=Math.abs(to[0].z);for(fo<=co&&(co=fo,eo.set(1,0,0)),po<=co&&(co=po,eo.set(0,1,0)),vo<=co&&eo.set(0,0,1),io.crossVectors(to[0],eo).normalize(),ro[0].crossVectors(to[0],io),no[0].crossVectors(to[0],ro[0]),oo=1;oo<=va;oo++)ro[oo]=ro[oo-1].clone(),no[oo]=no[oo-1].clone(),io.crossVectors(to[oo-1],to[oo]),io.length()>Number.EPSILON&&(io.normalize(),uo=Math.acos(MathUtils.clamp(to[oo-1].dot(to[oo]),-1,1)),ro[oo].applyMatrix4(ao.makeRotationAxis(io,uo))),no[oo].crossVectors(to[oo],ro[oo]);if(_a===!0)for(uo=Math.acos(MathUtils.clamp(ro[0].dot(ro[va]),-1,1)),uo/=va,to[0].dot(io.crossVectors(ro[0],ro[va]))>0&&(uo=-uo),oo=1;oo<=va;oo++)ro[oo].applyMatrix4(ao.makeRotationAxis(to[oo],uo*oo)),no[oo].crossVectors(to[oo],ro[oo]);return{tangents:to,normals:ro,binormals:no}},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.arcLengthDivisions=va.arcLengthDivisions,this},toJSON:function(){var va={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return va.arcLengthDivisions=this.arcLengthDivisions,va.type=this.type,va},fromJSON:function(va){return this.arcLengthDivisions=va.arcLengthDivisions,this}});function EllipseCurve(va,_a,eo,to,ro,no,io,ao){Curve.call(this),this.type="EllipseCurve",this.aX=va||0,this.aY=_a||0,this.xRadius=eo||1,this.yRadius=to||1,this.aStartAngle=ro||0,this.aEndAngle=no||2*Math.PI,this.aClockwise=io||!1,this.aRotation=ao||0}EllipseCurve.prototype=Object.create(Curve.prototype);EllipseCurve.prototype.constructor=EllipseCurve;EllipseCurve.prototype.isEllipseCurve=!0;EllipseCurve.prototype.getPoint=function(va,_a){for(var eo=_a||new Vector2,to=Math.PI*2,ro=this.aEndAngle-this.aStartAngle,no=Math.abs(ro)<Number.EPSILON;ro<0;)ro+=to;for(;ro>to;)ro-=to;ro<Number.EPSILON&&(no?ro=0:ro=to),this.aClockwise===!0&&!no&&(ro===to?ro=-to:ro=ro-to);var io=this.aStartAngle+va*ro,ao=this.aX+this.xRadius*Math.cos(io),oo=this.aY+this.yRadius*Math.sin(io);if(this.aRotation!==0){var so=Math.cos(this.aRotation),uo=Math.sin(this.aRotation),co=ao-this.aX,fo=oo-this.aY;ao=co*so-fo*uo+this.aX,oo=co*uo+fo*so+this.aY}return eo.set(ao,oo)};EllipseCurve.prototype.copy=function(va){return Curve.prototype.copy.call(this,va),this.aX=va.aX,this.aY=va.aY,this.xRadius=va.xRadius,this.yRadius=va.yRadius,this.aStartAngle=va.aStartAngle,this.aEndAngle=va.aEndAngle,this.aClockwise=va.aClockwise,this.aRotation=va.aRotation,this};EllipseCurve.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);return va.aX=this.aX,va.aY=this.aY,va.xRadius=this.xRadius,va.yRadius=this.yRadius,va.aStartAngle=this.aStartAngle,va.aEndAngle=this.aEndAngle,va.aClockwise=this.aClockwise,va.aRotation=this.aRotation,va};EllipseCurve.prototype.fromJSON=function(va){return Curve.prototype.fromJSON.call(this,va),this.aX=va.aX,this.aY=va.aY,this.xRadius=va.xRadius,this.yRadius=va.yRadius,this.aStartAngle=va.aStartAngle,this.aEndAngle=va.aEndAngle,this.aClockwise=va.aClockwise,this.aRotation=va.aRotation,this};function ArcCurve(va,_a,eo,to,ro,no){EllipseCurve.call(this,va,_a,eo,eo,to,ro,no),this.type="ArcCurve"}ArcCurve.prototype=Object.create(EllipseCurve.prototype);ArcCurve.prototype.constructor=ArcCurve;ArcCurve.prototype.isArcCurve=!0;function CubicPoly(){var va=0,_a=0,eo=0,to=0;function ro(no,io,ao,oo){va=no,_a=ao,eo=-3*no+3*io-2*ao-oo,to=2*no-2*io+ao+oo}return{initCatmullRom:function(no,io,ao,oo,so){ro(io,ao,so*(ao-no),so*(oo-io))},initNonuniformCatmullRom:function(no,io,ao,oo,so,uo,co){var fo=(io-no)/so-(ao-no)/(so+uo)+(ao-io)/uo,po=(ao-io)/uo-(oo-io)/(uo+co)+(oo-ao)/co;fo*=uo,po*=uo,ro(io,ao,fo,po)},calc:function(no){var io=no*no,ao=io*no;return va+_a*no+eo*io+to*ao}}}var tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;function CatmullRomCurve3(va,_a,eo,to){Curve.call(this),this.type="CatmullRomCurve3",this.points=va||[],this.closed=_a||!1,this.curveType=eo||"centripetal",this.tension=to||.5}CatmullRomCurve3.prototype=Object.create(Curve.prototype);CatmullRomCurve3.prototype.constructor=CatmullRomCurve3;CatmullRomCurve3.prototype.isCatmullRomCurve3=!0;CatmullRomCurve3.prototype.getPoint=function(va,_a){var eo=_a||new Vector3,to=this.points,ro=to.length,no=(ro-(this.closed?0:1))*va,io=Math.floor(no),ao=no-io;this.closed?io+=io>0?0:(Math.floor(Math.abs(io)/ro)+1)*ro:ao===0&&io===ro-1&&(io=ro-2,ao=1);var oo,so,uo,co;if(this.closed||io>0?oo=to[(io-1)%ro]:(tmp.subVectors(to[0],to[1]).add(to[0]),oo=tmp),so=to[io%ro],uo=to[(io+1)%ro],this.closed||io+2<ro?co=to[(io+2)%ro]:(tmp.subVectors(to[ro-1],to[ro-2]).add(to[ro-1]),co=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){var fo=this.curveType==="chordal"?.5:.25,po=Math.pow(oo.distanceToSquared(so),fo),vo=Math.pow(so.distanceToSquared(uo),fo),go=Math.pow(uo.distanceToSquared(co),fo);vo<1e-4&&(vo=1),po<1e-4&&(po=vo),go<1e-4&&(go=vo),px.initNonuniformCatmullRom(oo.x,so.x,uo.x,co.x,po,vo,go),py.initNonuniformCatmullRom(oo.y,so.y,uo.y,co.y,po,vo,go),pz.initNonuniformCatmullRom(oo.z,so.z,uo.z,co.z,po,vo,go)}else this.curveType==="catmullrom"&&(px.initCatmullRom(oo.x,so.x,uo.x,co.x,this.tension),py.initCatmullRom(oo.y,so.y,uo.y,co.y,this.tension),pz.initCatmullRom(oo.z,so.z,uo.z,co.z,this.tension));return eo.set(px.calc(ao),py.calc(ao),pz.calc(ao)),eo};CatmullRomCurve3.prototype.copy=function(va){Curve.prototype.copy.call(this,va),this.points=[];for(var _a=0,eo=va.points.length;_a<eo;_a++){var to=va.points[_a];this.points.push(to.clone())}return this.closed=va.closed,this.curveType=va.curveType,this.tension=va.tension,this};CatmullRomCurve3.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);va.points=[];for(var _a=0,eo=this.points.length;_a<eo;_a++){var to=this.points[_a];va.points.push(to.toArray())}return va.closed=this.closed,va.curveType=this.curveType,va.tension=this.tension,va};CatmullRomCurve3.prototype.fromJSON=function(va){Curve.prototype.fromJSON.call(this,va),this.points=[];for(var _a=0,eo=va.points.length;_a<eo;_a++){var to=va.points[_a];this.points.push(new Vector3().fromArray(to))}return this.closed=va.closed,this.curveType=va.curveType,this.tension=va.tension,this};function CatmullRom(va,_a,eo,to,ro){var no=(to-_a)*.5,io=(ro-eo)*.5,ao=va*va,oo=va*ao;return(2*eo-2*to+no+io)*oo+(-3*eo+3*to-2*no-io)*ao+no*va+eo}function QuadraticBezierP0(va,_a){var eo=1-va;return eo*eo*_a}function QuadraticBezierP1(va,_a){return 2*(1-va)*va*_a}function QuadraticBezierP2(va,_a){return va*va*_a}function QuadraticBezier(va,_a,eo,to){return QuadraticBezierP0(va,_a)+QuadraticBezierP1(va,eo)+QuadraticBezierP2(va,to)}function CubicBezierP0(va,_a){var eo=1-va;return eo*eo*eo*_a}function CubicBezierP1(va,_a){var eo=1-va;return 3*eo*eo*va*_a}function CubicBezierP2(va,_a){return 3*(1-va)*va*va*_a}function CubicBezierP3(va,_a){return va*va*va*_a}function CubicBezier(va,_a,eo,to,ro){return CubicBezierP0(va,_a)+CubicBezierP1(va,eo)+CubicBezierP2(va,to)+CubicBezierP3(va,ro)}function CubicBezierCurve(va,_a,eo,to){Curve.call(this),this.type="CubicBezierCurve",this.v0=va||new Vector2,this.v1=_a||new Vector2,this.v2=eo||new Vector2,this.v3=to||new Vector2}CubicBezierCurve.prototype=Object.create(Curve.prototype);CubicBezierCurve.prototype.constructor=CubicBezierCurve;CubicBezierCurve.prototype.isCubicBezierCurve=!0;CubicBezierCurve.prototype.getPoint=function(va,_a){var eo=_a||new Vector2,to=this.v0,ro=this.v1,no=this.v2,io=this.v3;return eo.set(CubicBezier(va,to.x,ro.x,no.x,io.x),CubicBezier(va,to.y,ro.y,no.y,io.y)),eo};CubicBezierCurve.prototype.copy=function(va){return Curve.prototype.copy.call(this,va),this.v0.copy(va.v0),this.v1.copy(va.v1),this.v2.copy(va.v2),this.v3.copy(va.v3),this};CubicBezierCurve.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);return va.v0=this.v0.toArray(),va.v1=this.v1.toArray(),va.v2=this.v2.toArray(),va.v3=this.v3.toArray(),va};CubicBezierCurve.prototype.fromJSON=function(va){return Curve.prototype.fromJSON.call(this,va),this.v0.fromArray(va.v0),this.v1.fromArray(va.v1),this.v2.fromArray(va.v2),this.v3.fromArray(va.v3),this};function CubicBezierCurve3(va,_a,eo,to){Curve.call(this),this.type="CubicBezierCurve3",this.v0=va||new Vector3,this.v1=_a||new Vector3,this.v2=eo||new Vector3,this.v3=to||new Vector3}CubicBezierCurve3.prototype=Object.create(Curve.prototype);CubicBezierCurve3.prototype.constructor=CubicBezierCurve3;CubicBezierCurve3.prototype.isCubicBezierCurve3=!0;CubicBezierCurve3.prototype.getPoint=function(va,_a){var eo=_a||new Vector3,to=this.v0,ro=this.v1,no=this.v2,io=this.v3;return eo.set(CubicBezier(va,to.x,ro.x,no.x,io.x),CubicBezier(va,to.y,ro.y,no.y,io.y),CubicBezier(va,to.z,ro.z,no.z,io.z)),eo};CubicBezierCurve3.prototype.copy=function(va){return Curve.prototype.copy.call(this,va),this.v0.copy(va.v0),this.v1.copy(va.v1),this.v2.copy(va.v2),this.v3.copy(va.v3),this};CubicBezierCurve3.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);return va.v0=this.v0.toArray(),va.v1=this.v1.toArray(),va.v2=this.v2.toArray(),va.v3=this.v3.toArray(),va};CubicBezierCurve3.prototype.fromJSON=function(va){return Curve.prototype.fromJSON.call(this,va),this.v0.fromArray(va.v0),this.v1.fromArray(va.v1),this.v2.fromArray(va.v2),this.v3.fromArray(va.v3),this};function LineCurve(va,_a){Curve.call(this),this.type="LineCurve",this.v1=va||new Vector2,this.v2=_a||new Vector2}LineCurve.prototype=Object.create(Curve.prototype);LineCurve.prototype.constructor=LineCurve;LineCurve.prototype.isLineCurve=!0;LineCurve.prototype.getPoint=function(va,_a){var eo=_a||new Vector2;return va===1?eo.copy(this.v2):(eo.copy(this.v2).sub(this.v1),eo.multiplyScalar(va).add(this.v1)),eo};LineCurve.prototype.getPointAt=function(va,_a){return this.getPoint(va,_a)};LineCurve.prototype.getTangent=function(va,_a){var eo=_a||new Vector2,eo=eo.copy(this.v2).sub(this.v1).normalize();return eo};LineCurve.prototype.copy=function(va){return Curve.prototype.copy.call(this,va),this.v1.copy(va.v1),this.v2.copy(va.v2),this};LineCurve.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);return va.v1=this.v1.toArray(),va.v2=this.v2.toArray(),va};LineCurve.prototype.fromJSON=function(va){return Curve.prototype.fromJSON.call(this,va),this.v1.fromArray(va.v1),this.v2.fromArray(va.v2),this};function LineCurve3(va,_a){Curve.call(this),this.type="LineCurve3",this.v1=va||new Vector3,this.v2=_a||new Vector3}LineCurve3.prototype=Object.create(Curve.prototype);LineCurve3.prototype.constructor=LineCurve3;LineCurve3.prototype.isLineCurve3=!0;LineCurve3.prototype.getPoint=function(va,_a){var eo=_a||new Vector3;return va===1?eo.copy(this.v2):(eo.copy(this.v2).sub(this.v1),eo.multiplyScalar(va).add(this.v1)),eo};LineCurve3.prototype.getPointAt=function(va,_a){return this.getPoint(va,_a)};LineCurve3.prototype.copy=function(va){return Curve.prototype.copy.call(this,va),this.v1.copy(va.v1),this.v2.copy(va.v2),this};LineCurve3.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);return va.v1=this.v1.toArray(),va.v2=this.v2.toArray(),va};LineCurve3.prototype.fromJSON=function(va){return Curve.prototype.fromJSON.call(this,va),this.v1.fromArray(va.v1),this.v2.fromArray(va.v2),this};function QuadraticBezierCurve(va,_a,eo){Curve.call(this),this.type="QuadraticBezierCurve",this.v0=va||new Vector2,this.v1=_a||new Vector2,this.v2=eo||new Vector2}QuadraticBezierCurve.prototype=Object.create(Curve.prototype);QuadraticBezierCurve.prototype.constructor=QuadraticBezierCurve;QuadraticBezierCurve.prototype.isQuadraticBezierCurve=!0;QuadraticBezierCurve.prototype.getPoint=function(va,_a){var eo=_a||new Vector2,to=this.v0,ro=this.v1,no=this.v2;return eo.set(QuadraticBezier(va,to.x,ro.x,no.x),QuadraticBezier(va,to.y,ro.y,no.y)),eo};QuadraticBezierCurve.prototype.copy=function(va){return Curve.prototype.copy.call(this,va),this.v0.copy(va.v0),this.v1.copy(va.v1),this.v2.copy(va.v2),this};QuadraticBezierCurve.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);return va.v0=this.v0.toArray(),va.v1=this.v1.toArray(),va.v2=this.v2.toArray(),va};QuadraticBezierCurve.prototype.fromJSON=function(va){return Curve.prototype.fromJSON.call(this,va),this.v0.fromArray(va.v0),this.v1.fromArray(va.v1),this.v2.fromArray(va.v2),this};function QuadraticBezierCurve3(va,_a,eo){Curve.call(this),this.type="QuadraticBezierCurve3",this.v0=va||new Vector3,this.v1=_a||new Vector3,this.v2=eo||new Vector3}QuadraticBezierCurve3.prototype=Object.create(Curve.prototype);QuadraticBezierCurve3.prototype.constructor=QuadraticBezierCurve3;QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3=!0;QuadraticBezierCurve3.prototype.getPoint=function(va,_a){var eo=_a||new Vector3,to=this.v0,ro=this.v1,no=this.v2;return eo.set(QuadraticBezier(va,to.x,ro.x,no.x),QuadraticBezier(va,to.y,ro.y,no.y),QuadraticBezier(va,to.z,ro.z,no.z)),eo};QuadraticBezierCurve3.prototype.copy=function(va){return Curve.prototype.copy.call(this,va),this.v0.copy(va.v0),this.v1.copy(va.v1),this.v2.copy(va.v2),this};QuadraticBezierCurve3.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);return va.v0=this.v0.toArray(),va.v1=this.v1.toArray(),va.v2=this.v2.toArray(),va};QuadraticBezierCurve3.prototype.fromJSON=function(va){return Curve.prototype.fromJSON.call(this,va),this.v0.fromArray(va.v0),this.v1.fromArray(va.v1),this.v2.fromArray(va.v2),this};function SplineCurve(va){Curve.call(this),this.type="SplineCurve",this.points=va||[]}SplineCurve.prototype=Object.create(Curve.prototype);SplineCurve.prototype.constructor=SplineCurve;SplineCurve.prototype.isSplineCurve=!0;SplineCurve.prototype.getPoint=function(va,_a){var eo=_a||new Vector2,to=this.points,ro=(to.length-1)*va,no=Math.floor(ro),io=ro-no,ao=to[no===0?no:no-1],oo=to[no],so=to[no>to.length-2?to.length-1:no+1],uo=to[no>to.length-3?to.length-1:no+2];return eo.set(CatmullRom(io,ao.x,oo.x,so.x,uo.x),CatmullRom(io,ao.y,oo.y,so.y,uo.y)),eo};SplineCurve.prototype.copy=function(va){Curve.prototype.copy.call(this,va),this.points=[];for(var _a=0,eo=va.points.length;_a<eo;_a++){var to=va.points[_a];this.points.push(to.clone())}return this};SplineCurve.prototype.toJSON=function(){var va=Curve.prototype.toJSON.call(this);va.points=[];for(var _a=0,eo=this.points.length;_a<eo;_a++){var to=this.points[_a];va.points.push(to.toArray())}return va};SplineCurve.prototype.fromJSON=function(va){Curve.prototype.fromJSON.call(this,va),this.points=[];for(var _a=0,eo=va.points.length;_a<eo;_a++){var to=va.points[_a];this.points.push(new Vector2().fromArray(to))}return this};var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});function CurvePath(){Curve.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}CurvePath.prototype=Object.assign(Object.create(Curve.prototype),{constructor:CurvePath,add:function(va){this.curves.push(va)},closePath:function(){var va=this.curves[0].getPoint(0),_a=this.curves[this.curves.length-1].getPoint(1);va.equals(_a)||this.curves.push(new LineCurve(_a,va))},getPoint:function(va){for(var _a=va*this.getLength(),eo=this.getCurveLengths(),to=0;to<eo.length;){if(eo[to]>=_a){var ro=eo[to]-_a,no=this.curves[to],io=no.getLength(),ao=io===0?0:1-ro/io;return no.getPointAt(ao)}to++}return null},getLength:function(){var va=this.getCurveLengths();return va[va.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var va=[],_a=0,eo=0,to=this.curves.length;eo<to;eo++)_a+=this.curves[eo].getLength(),va.push(_a);return this.cacheLengths=va,va},getSpacedPoints:function(va){va===void 0&&(va=40);for(var _a=[],eo=0;eo<=va;eo++)_a.push(this.getPoint(eo/va));return this.autoClose&&_a.push(_a[0]),_a},getPoints:function(va){va=va||12;for(var _a=[],eo,to=0,ro=this.curves;to<ro.length;to++)for(var no=ro[to],io=no&&no.isEllipseCurve?va*2:no&&(no.isLineCurve||no.isLineCurve3)?1:no&&no.isSplineCurve?va*no.points.length:va,ao=no.getPoints(io),oo=0;oo<ao.length;oo++){var so=ao[oo];eo&&eo.equals(so)||(_a.push(so),eo=so)}return this.autoClose&&_a.length>1&&!_a[_a.length-1].equals(_a[0])&&_a.push(_a[0]),_a},copy:function(va){Curve.prototype.copy.call(this,va),this.curves=[];for(var _a=0,eo=va.curves.length;_a<eo;_a++){var to=va.curves[_a];this.curves.push(to.clone())}return this.autoClose=va.autoClose,this},toJSON:function(){var va=Curve.prototype.toJSON.call(this);va.autoClose=this.autoClose,va.curves=[];for(var _a=0,eo=this.curves.length;_a<eo;_a++){var to=this.curves[_a];va.curves.push(to.toJSON())}return va},fromJSON:function(va){Curve.prototype.fromJSON.call(this,va),this.autoClose=va.autoClose,this.curves=[];for(var _a=0,eo=va.curves.length;_a<eo;_a++){var to=va.curves[_a];this.curves.push(new Curves[to.type]().fromJSON(to))}return this}});function Path(va){CurvePath.call(this),this.type="Path",this.currentPoint=new Vector2,va&&this.setFromPoints(va)}Path.prototype=Object.assign(Object.create(CurvePath.prototype),{constructor:Path,setFromPoints:function(va){this.moveTo(va[0].x,va[0].y);for(var _a=1,eo=va.length;_a<eo;_a++)this.lineTo(va[_a].x,va[_a].y);return this},moveTo:function(va,_a){return this.currentPoint.set(va,_a),this},lineTo:function(va,_a){var eo=new LineCurve(this.currentPoint.clone(),new Vector2(va,_a));return this.curves.push(eo),this.currentPoint.set(va,_a),this},quadraticCurveTo:function(va,_a,eo,to){var ro=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(va,_a),new Vector2(eo,to));return this.curves.push(ro),this.currentPoint.set(eo,to),this},bezierCurveTo:function(va,_a,eo,to,ro,no){var io=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(va,_a),new Vector2(eo,to),new Vector2(ro,no));return this.curves.push(io),this.currentPoint.set(ro,no),this},splineThru:function(va){var _a=[this.currentPoint.clone()].concat(va),eo=new SplineCurve(_a);return this.curves.push(eo),this.currentPoint.copy(va[va.length-1]),this},arc:function(va,_a,eo,to,ro,no){var io=this.currentPoint.x,ao=this.currentPoint.y;return this.absarc(va+io,_a+ao,eo,to,ro,no),this},absarc:function(va,_a,eo,to,ro,no){return this.absellipse(va,_a,eo,eo,to,ro,no),this},ellipse:function(va,_a,eo,to,ro,no,io,ao){var oo=this.currentPoint.x,so=this.currentPoint.y;return this.absellipse(va+oo,_a+so,eo,to,ro,no,io,ao),this},absellipse:function(va,_a,eo,to,ro,no,io,ao){var oo=new EllipseCurve(va,_a,eo,to,ro,no,io,ao);if(this.curves.length>0){var so=oo.getPoint(0);so.equals(this.currentPoint)||this.lineTo(so.x,so.y)}this.curves.push(oo);var uo=oo.getPoint(1);return this.currentPoint.copy(uo),this},copy:function(va){return CurvePath.prototype.copy.call(this,va),this.currentPoint.copy(va.currentPoint),this},toJSON:function(){var va=CurvePath.prototype.toJSON.call(this);return va.currentPoint=this.currentPoint.toArray(),va},fromJSON:function(va){return CurvePath.prototype.fromJSON.call(this,va),this.currentPoint.fromArray(va.currentPoint),this}});function Shape(va){Path.call(this,va),this.uuid=MathUtils.generateUUID(),this.type="Shape",this.holes=[]}Shape.prototype=Object.assign(Object.create(Path.prototype),{constructor:Shape,getPointsHoles:function(va){for(var _a=[],eo=0,to=this.holes.length;eo<to;eo++)_a[eo]=this.holes[eo].getPoints(va);return _a},extractPoints:function(va){return{shape:this.getPoints(va),holes:this.getPointsHoles(va)}},copy:function(va){Path.prototype.copy.call(this,va),this.holes=[];for(var _a=0,eo=va.holes.length;_a<eo;_a++){var to=va.holes[_a];this.holes.push(to.clone())}return this},toJSON:function(){var va=Path.prototype.toJSON.call(this);va.uuid=this.uuid,va.holes=[];for(var _a=0,eo=this.holes.length;_a<eo;_a++){var to=this.holes[_a];va.holes.push(to.toJSON())}return va},fromJSON:function(va){Path.prototype.fromJSON.call(this,va),this.uuid=va.uuid,this.holes=[];for(var _a=0,eo=va.holes.length;_a<eo;_a++){var to=va.holes[_a];this.holes.push(new Path().fromJSON(to))}return this}});function Light(va,_a){Object3D.call(this),this.type="Light",this.color=new Color(va),this.intensity=_a!==void 0?_a:1,this.receiveShadow=void 0}Light.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Light,isLight:!0,copy:function(va){return Object3D.prototype.copy.call(this,va),this.color.copy(va.color),this.intensity=va.intensity,this},toJSON:function(va){var _a=Object3D.prototype.toJSON.call(this,va);return _a.object.color=this.color.getHex(),_a.object.intensity=this.intensity,this.groundColor!==void 0&&(_a.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(_a.object.distance=this.distance),this.angle!==void 0&&(_a.object.angle=this.angle),this.decay!==void 0&&(_a.object.decay=this.decay),this.penumbra!==void 0&&(_a.object.penumbra=this.penumbra),this.shadow!==void 0&&(_a.object.shadow=this.shadow.toJSON()),_a}});function HemisphereLight(va,_a,eo){Light.call(this,va,eo),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(_a)}HemisphereLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:HemisphereLight,isHemisphereLight:!0,copy:function(va){return Light.prototype.copy.call(this,va),this.groundColor.copy(va.groundColor),this}});function LightShadow(va){this.camera=va,this.bias=0,this.radius=1,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}Object.assign(LightShadow.prototype,{_projScreenMatrix:new Matrix4,_lightPositionWorld:new Vector3,_lookTarget:new Vector3,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(va){var _a=this.camera,eo=this.matrix,to=this._projScreenMatrix,ro=this._lookTarget,no=this._lightPositionWorld;no.setFromMatrixPosition(va.matrixWorld),_a.position.copy(no),ro.setFromMatrixPosition(va.target.matrixWorld),_a.lookAt(ro),_a.updateMatrixWorld(),to.multiplyMatrices(_a.projectionMatrix,_a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(to),eo.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),eo.multiply(_a.projectionMatrix),eo.multiply(_a.matrixWorldInverse)},getViewport:function(va){return this._viewports[va]},getFrameExtents:function(){return this._frameExtents},copy:function(va){return this.camera=va.camera.clone(),this.bias=va.bias,this.radius=va.radius,this.mapSize.copy(va.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var va={};return this.bias!==0&&(va.bias=this.bias),this.radius!==1&&(va.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(va.mapSize=this.mapSize.toArray()),va.camera=this.camera.toJSON(!1).object,delete va.camera.matrix,va}});function SpotLightShadow(){LightShadow.call(this,new PerspectiveCamera(50,1,.5,500))}SpotLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:SpotLightShadow,isSpotLightShadow:!0,updateMatrices:function(va){var _a=this.camera,eo=MathUtils.RAD2DEG*2*va.angle,to=this.mapSize.width/this.mapSize.height,ro=va.distance||_a.far;(eo!==_a.fov||to!==_a.aspect||ro!==_a.far)&&(_a.fov=eo,_a.aspect=to,_a.far=ro,_a.updateProjectionMatrix()),LightShadow.prototype.updateMatrices.call(this,va)}});function SpotLight(va,_a,eo,to,ro,no){Light.call(this,va,_a),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(io){this.intensity=io/Math.PI}}),this.distance=eo!==void 0?eo:0,this.angle=to!==void 0?to:Math.PI/3,this.penumbra=ro!==void 0?ro:0,this.decay=no!==void 0?no:1,this.shadow=new SpotLightShadow}SpotLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:SpotLight,isSpotLight:!0,copy:function(va){return Light.prototype.copy.call(this,va),this.distance=va.distance,this.angle=va.angle,this.penumbra=va.penumbra,this.decay=va.decay,this.target=va.target.clone(),this.shadow=va.shadow.clone(),this}});function PointLightShadow(){LightShadow.call(this,new PerspectiveCamera(90,1,.5,500)),this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}PointLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:PointLightShadow,isPointLightShadow:!0,updateMatrices:function(va,_a){_a===void 0&&(_a=0);var eo=this.camera,to=this.matrix,ro=this._lightPositionWorld,no=this._lookTarget,io=this._projScreenMatrix;ro.setFromMatrixPosition(va.matrixWorld),eo.position.copy(ro),no.copy(eo.position),no.add(this._cubeDirections[_a]),eo.up.copy(this._cubeUps[_a]),eo.lookAt(no),eo.updateMatrixWorld(),to.makeTranslation(-ro.x,-ro.y,-ro.z),io.multiplyMatrices(eo.projectionMatrix,eo.matrixWorldInverse),this._frustum.setFromProjectionMatrix(io)}});function PointLight(va,_a,eo,to){Light.call(this,va,_a),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(ro){this.intensity=ro/(4*Math.PI)}}),this.distance=eo!==void 0?eo:0,this.decay=to!==void 0?to:1,this.shadow=new PointLightShadow}PointLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:PointLight,isPointLight:!0,copy:function(va){return Light.prototype.copy.call(this,va),this.distance=va.distance,this.decay=va.decay,this.shadow=va.shadow.clone(),this}});function OrthographicCamera(va,_a,eo,to,ro,no){Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=va!==void 0?va:-1,this.right=_a!==void 0?_a:1,this.top=eo!==void 0?eo:1,this.bottom=to!==void 0?to:-1,this.near=ro!==void 0?ro:.1,this.far=no!==void 0?no:2e3,this.updateProjectionMatrix()}OrthographicCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:OrthographicCamera,isOrthographicCamera:!0,copy:function(va,_a){return Camera.prototype.copy.call(this,va,_a),this.left=va.left,this.right=va.right,this.top=va.top,this.bottom=va.bottom,this.near=va.near,this.far=va.far,this.zoom=va.zoom,this.view=va.view===null?null:Object.assign({},va.view),this},setViewOffset:function(va,_a,eo,to,ro,no){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=va,this.view.fullHeight=_a,this.view.offsetX=eo,this.view.offsetY=to,this.view.width=ro,this.view.height=no,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var va=(this.right-this.left)/(2*this.zoom),_a=(this.top-this.bottom)/(2*this.zoom),eo=(this.right+this.left)/2,to=(this.top+this.bottom)/2,ro=eo-va,no=eo+va,io=to+_a,ao=to-_a;if(this.view!==null&&this.view.enabled){var oo=(this.right-this.left)/this.view.fullWidth/this.zoom,so=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ro+=oo*this.view.offsetX,no=ro+oo*this.view.width,io-=so*this.view.offsetY,ao=io-so*this.view.height}this.projectionMatrix.makeOrthographic(ro,no,io,ao,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(va){var _a=Object3D.prototype.toJSON.call(this,va);return _a.object.zoom=this.zoom,_a.object.left=this.left,_a.object.right=this.right,_a.object.top=this.top,_a.object.bottom=this.bottom,_a.object.near=this.near,_a.object.far=this.far,this.view!==null&&(_a.object.view=Object.assign({},this.view)),_a}});function DirectionalLightShadow(){LightShadow.call(this,new OrthographicCamera(-5,5,5,-5,.5,500))}DirectionalLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:DirectionalLightShadow,isDirectionalLightShadow:!0,updateMatrices:function(va){LightShadow.prototype.updateMatrices.call(this,va)}});function DirectionalLight(va,_a){Light.call(this,va,_a),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}DirectionalLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:DirectionalLight,isDirectionalLight:!0,copy:function(va){return Light.prototype.copy.call(this,va),this.target=va.target.clone(),this.shadow=va.shadow.clone(),this}});function AmbientLight(va,_a){Light.call(this,va,_a),this.type="AmbientLight",this.castShadow=void 0}AmbientLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:AmbientLight,isAmbientLight:!0});function RectAreaLight(va,_a,eo,to){Light.call(this,va,_a),this.type="RectAreaLight",this.width=eo!==void 0?eo:10,this.height=to!==void 0?to:10}RectAreaLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:RectAreaLight,isRectAreaLight:!0,copy:function(va){return Light.prototype.copy.call(this,va),this.width=va.width,this.height=va.height,this},toJSON:function(va){var _a=Light.prototype.toJSON.call(this,va);return _a.object.width=this.width,_a.object.height=this.height,_a}});function SphericalHarmonics3(){this.coefficients=[];for(var va=0;va<9;va++)this.coefficients.push(new Vector3)}Object.assign(SphericalHarmonics3.prototype,{isSphericalHarmonics3:!0,set:function(va){for(var _a=0;_a<9;_a++)this.coefficients[_a].copy(va[_a]);return this},zero:function(){for(var va=0;va<9;va++)this.coefficients[va].set(0,0,0);return this},getAt:function(va,_a){var eo=va.x,to=va.y,ro=va.z,no=this.coefficients;return _a.copy(no[0]).multiplyScalar(.282095),_a.addScaledVector(no[1],.488603*to),_a.addScaledVector(no[2],.488603*ro),_a.addScaledVector(no[3],.488603*eo),_a.addScaledVector(no[4],1.092548*(eo*to)),_a.addScaledVector(no[5],1.092548*(to*ro)),_a.addScaledVector(no[6],.315392*(3*ro*ro-1)),_a.addScaledVector(no[7],1.092548*(eo*ro)),_a.addScaledVector(no[8],.546274*(eo*eo-to*to)),_a},getIrradianceAt:function(va,_a){var eo=va.x,to=va.y,ro=va.z,no=this.coefficients;return _a.copy(no[0]).multiplyScalar(.886227),_a.addScaledVector(no[1],2*.511664*to),_a.addScaledVector(no[2],2*.511664*ro),_a.addScaledVector(no[3],2*.511664*eo),_a.addScaledVector(no[4],2*.429043*eo*to),_a.addScaledVector(no[5],2*.429043*to*ro),_a.addScaledVector(no[6],.743125*ro*ro-.247708),_a.addScaledVector(no[7],2*.429043*eo*ro),_a.addScaledVector(no[8],.429043*(eo*eo-to*to)),_a},add:function(va){for(var _a=0;_a<9;_a++)this.coefficients[_a].add(va.coefficients[_a]);return this},addScaledSH:function(va,_a){for(var eo=0;eo<9;eo++)this.coefficients[eo].addScaledVector(va.coefficients[eo],_a);return this},scale:function(va){for(var _a=0;_a<9;_a++)this.coefficients[_a].multiplyScalar(va);return this},lerp:function(va,_a){for(var eo=0;eo<9;eo++)this.coefficients[eo].lerp(va.coefficients[eo],_a);return this},equals:function(va){for(var _a=0;_a<9;_a++)if(!this.coefficients[_a].equals(va.coefficients[_a]))return!1;return!0},copy:function(va){return this.set(va.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(va,_a){_a===void 0&&(_a=0);for(var eo=this.coefficients,to=0;to<9;to++)eo[to].fromArray(va,_a+to*3);return this},toArray:function(va,_a){va===void 0&&(va=[]),_a===void 0&&(_a=0);for(var eo=this.coefficients,to=0;to<9;to++)eo[to].toArray(va,_a+to*3);return va}});Object.assign(SphericalHarmonics3,{getBasisAt:function(va,_a){var eo=va.x,to=va.y,ro=va.z;_a[0]=.282095,_a[1]=.488603*to,_a[2]=.488603*ro,_a[3]=.488603*eo,_a[4]=1.092548*eo*to,_a[5]=1.092548*to*ro,_a[6]=.315392*(3*ro*ro-1),_a[7]=1.092548*eo*ro,_a[8]=.546274*(eo*eo-to*to)}});function LightProbe(va,_a){Light.call(this,void 0,_a),this.type="LightProbe",this.sh=va!==void 0?va:new SphericalHarmonics3}LightProbe.prototype=Object.assign(Object.create(Light.prototype),{constructor:LightProbe,isLightProbe:!0,copy:function(va){return Light.prototype.copy.call(this,va),this.sh.copy(va.sh),this},fromJSON:function(va){return this.intensity=va.intensity,this.sh.fromArray(va.sh),this},toJSON:function(va){var _a=Light.prototype.toJSON.call(this,va);return _a.object.sh=this.sh.toArray(),_a}});function MaterialLoader(va){Loader.call(this,va),this.textures={}}MaterialLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:MaterialLoader,load:function(va,_a,eo,to){var ro=this,no=new FileLoader(ro.manager);no.setPath(ro.path),no.load(va,function(io){try{_a(ro.parse(JSON.parse(io)))}catch(ao){to?to(ao):console.error(ao),ro.manager.itemError(va)}},eo,to)},parse:function(va){var _a=this.textures;function eo(oo){return _a[oo]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",oo),_a[oo]}var to=new Materials[va.type];if(va.uuid!==void 0&&(to.uuid=va.uuid),va.name!==void 0&&(to.name=va.name),va.color!==void 0&&to.color.setHex(va.color),va.roughness!==void 0&&(to.roughness=va.roughness),va.metalness!==void 0&&(to.metalness=va.metalness),va.sheen!==void 0&&(to.sheen=new Color().setHex(va.sheen)),va.emissive!==void 0&&to.emissive.setHex(va.emissive),va.specular!==void 0&&to.specular.setHex(va.specular),va.shininess!==void 0&&(to.shininess=va.shininess),va.clearcoat!==void 0&&(to.clearcoat=va.clearcoat),va.clearcoatRoughness!==void 0&&(to.clearcoatRoughness=va.clearcoatRoughness),va.fog!==void 0&&(to.fog=va.fog),va.flatShading!==void 0&&(to.flatShading=va.flatShading),va.blending!==void 0&&(to.blending=va.blending),va.combine!==void 0&&(to.combine=va.combine),va.side!==void 0&&(to.side=va.side),va.opacity!==void 0&&(to.opacity=va.opacity),va.transparent!==void 0&&(to.transparent=va.transparent),va.alphaTest!==void 0&&(to.alphaTest=va.alphaTest),va.depthTest!==void 0&&(to.depthTest=va.depthTest),va.depthWrite!==void 0&&(to.depthWrite=va.depthWrite),va.colorWrite!==void 0&&(to.colorWrite=va.colorWrite),va.stencilWrite!==void 0&&(to.stencilWrite=va.stencilWrite),va.stencilWriteMask!==void 0&&(to.stencilWriteMask=va.stencilWriteMask),va.stencilFunc!==void 0&&(to.stencilFunc=va.stencilFunc),va.stencilRef!==void 0&&(to.stencilRef=va.stencilRef),va.stencilFuncMask!==void 0&&(to.stencilFuncMask=va.stencilFuncMask),va.stencilFail!==void 0&&(to.stencilFail=va.stencilFail),va.stencilZFail!==void 0&&(to.stencilZFail=va.stencilZFail),va.stencilZPass!==void 0&&(to.stencilZPass=va.stencilZPass),va.wireframe!==void 0&&(to.wireframe=va.wireframe),va.wireframeLinewidth!==void 0&&(to.wireframeLinewidth=va.wireframeLinewidth),va.wireframeLinecap!==void 0&&(to.wireframeLinecap=va.wireframeLinecap),va.wireframeLinejoin!==void 0&&(to.wireframeLinejoin=va.wireframeLinejoin),va.rotation!==void 0&&(to.rotation=va.rotation),va.linewidth!==1&&(to.linewidth=va.linewidth),va.dashSize!==void 0&&(to.dashSize=va.dashSize),va.gapSize!==void 0&&(to.gapSize=va.gapSize),va.scale!==void 0&&(to.scale=va.scale),va.polygonOffset!==void 0&&(to.polygonOffset=va.polygonOffset),va.polygonOffsetFactor!==void 0&&(to.polygonOffsetFactor=va.polygonOffsetFactor),va.polygonOffsetUnits!==void 0&&(to.polygonOffsetUnits=va.polygonOffsetUnits),va.skinning!==void 0&&(to.skinning=va.skinning),va.morphTargets!==void 0&&(to.morphTargets=va.morphTargets),va.morphNormals!==void 0&&(to.morphNormals=va.morphNormals),va.dithering!==void 0&&(to.dithering=va.dithering),va.vertexTangents!==void 0&&(to.vertexTangents=va.vertexTangents),va.visible!==void 0&&(to.visible=va.visible),va.toneMapped!==void 0&&(to.toneMapped=va.toneMapped),va.userData!==void 0&&(to.userData=va.userData),va.vertexColors!==void 0&&(typeof va.vertexColors=="number"?to.vertexColors=va.vertexColors>0:to.vertexColors=va.vertexColors),va.uniforms!==void 0)for(var ro in va.uniforms){var no=va.uniforms[ro];switch(to.uniforms[ro]={},no.type){case"t":to.uniforms[ro].value=eo(no.value);break;case"c":to.uniforms[ro].value=new Color().setHex(no.value);break;case"v2":to.uniforms[ro].value=new Vector2().fromArray(no.value);break;case"v3":to.uniforms[ro].value=new Vector3().fromArray(no.value);break;case"v4":to.uniforms[ro].value=new Vector4().fromArray(no.value);break;case"m3":to.uniforms[ro].value=new Matrix3().fromArray(no.value);case"m4":to.uniforms[ro].value=new Matrix4().fromArray(no.value);break;default:to.uniforms[ro].value=no.value}}if(va.defines!==void 0&&(to.defines=va.defines),va.vertexShader!==void 0&&(to.vertexShader=va.vertexShader),va.fragmentShader!==void 0&&(to.fragmentShader=va.fragmentShader),va.extensions!==void 0)for(var io in va.extensions)to.extensions[io]=va.extensions[io];if(va.shading!==void 0&&(to.flatShading=va.shading===1),va.size!==void 0&&(to.size=va.size),va.sizeAttenuation!==void 0&&(to.sizeAttenuation=va.sizeAttenuation),va.map!==void 0&&(to.map=eo(va.map)),va.matcap!==void 0&&(to.matcap=eo(va.matcap)),va.alphaMap!==void 0&&(to.alphaMap=eo(va.alphaMap)),va.bumpMap!==void 0&&(to.bumpMap=eo(va.bumpMap)),va.bumpScale!==void 0&&(to.bumpScale=va.bumpScale),va.normalMap!==void 0&&(to.normalMap=eo(va.normalMap)),va.normalMapType!==void 0&&(to.normalMapType=va.normalMapType),va.normalScale!==void 0){var ao=va.normalScale;Array.isArray(ao)===!1&&(ao=[ao,ao]),to.normalScale=new Vector2().fromArray(ao)}return va.displacementMap!==void 0&&(to.displacementMap=eo(va.displacementMap)),va.displacementScale!==void 0&&(to.displacementScale=va.displacementScale),va.displacementBias!==void 0&&(to.displacementBias=va.displacementBias),va.roughnessMap!==void 0&&(to.roughnessMap=eo(va.roughnessMap)),va.metalnessMap!==void 0&&(to.metalnessMap=eo(va.metalnessMap)),va.emissiveMap!==void 0&&(to.emissiveMap=eo(va.emissiveMap)),va.emissiveIntensity!==void 0&&(to.emissiveIntensity=va.emissiveIntensity),va.specularMap!==void 0&&(to.specularMap=eo(va.specularMap)),va.envMap!==void 0&&(to.envMap=eo(va.envMap)),va.envMapIntensity!==void 0&&(to.envMapIntensity=va.envMapIntensity),va.reflectivity!==void 0&&(to.reflectivity=va.reflectivity),va.refractionRatio!==void 0&&(to.refractionRatio=va.refractionRatio),va.lightMap!==void 0&&(to.lightMap=eo(va.lightMap)),va.lightMapIntensity!==void 0&&(to.lightMapIntensity=va.lightMapIntensity),va.aoMap!==void 0&&(to.aoMap=eo(va.aoMap)),va.aoMapIntensity!==void 0&&(to.aoMapIntensity=va.aoMapIntensity),va.gradientMap!==void 0&&(to.gradientMap=eo(va.gradientMap)),va.clearcoatMap!==void 0&&(to.clearcoatMap=eo(va.clearcoatMap)),va.clearcoatRoughnessMap!==void 0&&(to.clearcoatRoughnessMap=eo(va.clearcoatRoughnessMap)),va.clearcoatNormalMap!==void 0&&(to.clearcoatNormalMap=eo(va.clearcoatNormalMap)),va.clearcoatNormalScale!==void 0&&(to.clearcoatNormalScale=new Vector2().fromArray(va.clearcoatNormalScale)),to},setTextures:function(va){return this.textures=va,this}});var LoaderUtils={decodeText:function(va){if(typeof TextDecoder<"u")return new TextDecoder().decode(va);for(var _a="",eo=0,to=va.length;eo<to;eo++)_a+=String.fromCharCode(va[eo]);try{return decodeURIComponent(escape(_a))}catch{return _a}},extractUrlBase:function(va){var _a=va.lastIndexOf("/");return _a===-1?"./":va.substr(0,_a+1)}};function InstancedBufferGeometry(){BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}InstancedBufferGeometry.prototype=Object.assign(Object.create(BufferGeometry.prototype),{constructor:InstancedBufferGeometry,isInstancedBufferGeometry:!0,copy:function(va){return BufferGeometry.prototype.copy.call(this,va),this.instanceCount=va.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var va=BufferGeometry.prototype.toJSON.call(this);return va.instanceCount=this.instanceCount,va.isInstancedBufferGeometry=!0,va}});function InstancedBufferAttribute(va,_a,eo,to){typeof eo=="number"&&(to=eo,eo=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),BufferAttribute.call(this,va,_a,eo),this.meshPerAttribute=to||1}InstancedBufferAttribute.prototype=Object.assign(Object.create(BufferAttribute.prototype),{constructor:InstancedBufferAttribute,isInstancedBufferAttribute:!0,copy:function(va){return BufferAttribute.prototype.copy.call(this,va),this.meshPerAttribute=va.meshPerAttribute,this},toJSON:function(){var va=BufferAttribute.prototype.toJSON.call(this);return va.meshPerAttribute=this.meshPerAttribute,va.isInstancedBufferAttribute=!0,va}});function BufferGeometryLoader(va){Loader.call(this,va)}BufferGeometryLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:BufferGeometryLoader,load:function(va,_a,eo,to){var ro=this,no=new FileLoader(ro.manager);no.setPath(ro.path),no.load(va,function(io){try{_a(ro.parse(JSON.parse(io)))}catch(ao){to?to(ao):console.error(ao),ro.manager.itemError(va)}},eo,to)},parse:function(va){var _a=va.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,eo=va.data.index;if(eo!==void 0){var to=new TYPED_ARRAYS[eo.type](eo.array);_a.setIndex(new BufferAttribute(to,1))}var ro=va.data.attributes;for(var no in ro){var io=ro[no],to=new TYPED_ARRAYS[io.type](io.array),ao=io.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute,oo=new ao(to,io.itemSize,io.normalized);io.name!==void 0&&(oo.name=io.name),_a.setAttribute(no,oo)}var so=va.data.morphAttributes;if(so)for(var no in so){for(var uo=so[no],co=[],fo=0,po=uo.length;fo<po;fo++){var io=uo[fo],to=new TYPED_ARRAYS[io.type](io.array),oo=new BufferAttribute(to,io.itemSize,io.normalized);io.name!==void 0&&(oo.name=io.name),co.push(oo)}_a.morphAttributes[no]=co}var vo=va.data.morphTargetsRelative;vo&&(_a.morphTargetsRelative=!0);var go=va.data.groups||va.data.drawcalls||va.data.offsets;if(go!==void 0)for(var fo=0,mo=go.length;fo!==mo;++fo){var lo=go[fo];_a.addGroup(lo.start,lo.count,lo.materialIndex)}var ho=va.data.boundingSphere;if(ho!==void 0){var yo=new Vector3;ho.center!==void 0&&yo.fromArray(ho.center),_a.boundingSphere=new Sphere(yo,ho.radius)}return va.name&&(_a.name=va.name),va.userData&&(_a.userData=va.userData),_a}});var TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ObjectLoader(va){Loader.call(this,va)}ObjectLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:ObjectLoader,load:function(va,_a,eo,to){var ro=this,no=this.path===""?LoaderUtils.extractUrlBase(va):this.path;this.resourcePath=this.resourcePath||no;var io=new FileLoader(ro.manager);io.setPath(this.path),io.load(va,function(ao){var oo=null;try{oo=JSON.parse(ao)}catch(uo){to!==void 0&&to(uo),console.error("THREE:ObjectLoader: Can't parse "+va+".",uo.message);return}var so=oo.metadata;if(so===void 0||so.type===void 0||so.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+va);return}ro.parse(oo,_a)},eo,to)},parse:function(va,_a){var eo=this.parseShape(va.shapes),to=this.parseGeometries(va.geometries,eo),ro=this.parseImages(va.images,function(){_a!==void 0&&_a(ao)}),no=this.parseTextures(va.textures,ro),io=this.parseMaterials(va.materials,no),ao=this.parseObject(va.object,to,io);return va.animations&&(ao.animations=this.parseAnimations(va.animations)),(va.images===void 0||va.images.length===0)&&_a!==void 0&&_a(ao),ao},parseShape:function(va){var _a={};if(va!==void 0)for(var eo=0,to=va.length;eo<to;eo++){var ro=new Shape().fromJSON(va[eo]);_a[ro.uuid]=ro}return _a},parseGeometries:function(va,_a){var eo={};if(va!==void 0)for(var to=new BufferGeometryLoader,ro=0,no=va.length;ro<no;ro++){var io,ao=va[ro];switch(ao.type){case"PlaneGeometry":case"PlaneBufferGeometry":io=new Geometries[ao.type](ao.width,ao.height,ao.widthSegments,ao.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":io=new Geometries[ao.type](ao.width,ao.height,ao.depth,ao.widthSegments,ao.heightSegments,ao.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":io=new Geometries[ao.type](ao.radius,ao.segments,ao.thetaStart,ao.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":io=new Geometries[ao.type](ao.radiusTop,ao.radiusBottom,ao.height,ao.radialSegments,ao.heightSegments,ao.openEnded,ao.thetaStart,ao.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":io=new Geometries[ao.type](ao.radius,ao.height,ao.radialSegments,ao.heightSegments,ao.openEnded,ao.thetaStart,ao.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":io=new Geometries[ao.type](ao.radius,ao.widthSegments,ao.heightSegments,ao.phiStart,ao.phiLength,ao.thetaStart,ao.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":io=new Geometries[ao.type](ao.radius,ao.detail);break;case"RingGeometry":case"RingBufferGeometry":io=new Geometries[ao.type](ao.innerRadius,ao.outerRadius,ao.thetaSegments,ao.phiSegments,ao.thetaStart,ao.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":io=new Geometries[ao.type](ao.radius,ao.tube,ao.radialSegments,ao.tubularSegments,ao.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":io=new Geometries[ao.type](ao.radius,ao.tube,ao.tubularSegments,ao.radialSegments,ao.p,ao.q);break;case"TubeGeometry":case"TubeBufferGeometry":io=new Geometries[ao.type](new Curves[ao.path.type]().fromJSON(ao.path),ao.tubularSegments,ao.radius,ao.radialSegments,ao.closed);break;case"LatheGeometry":case"LatheBufferGeometry":io=new Geometries[ao.type](ao.points,ao.segments,ao.phiStart,ao.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":io=new Geometries[ao.type](ao.vertices,ao.indices,ao.radius,ao.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var co=[],oo=0,so=ao.shapes.length;oo<so;oo++){var uo=_a[ao.shapes[oo]];co.push(uo)}io=new Geometries[ao.type](co,ao.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var co=[],oo=0,so=ao.shapes.length;oo<so;oo++){var uo=_a[ao.shapes[oo]];co.push(uo)}var fo=ao.options.extrudePath;fo!==void 0&&(ao.options.extrudePath=new Curves[fo.type]().fromJSON(fo)),io=new Geometries[ao.type](co,ao.options);break;case"BufferGeometry":case"InstancedBufferGeometry":io=to.parse(ao);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+ao.type+'"');continue}io.uuid=ao.uuid,ao.name!==void 0&&(io.name=ao.name),io.isBufferGeometry===!0&&ao.userData!==void 0&&(io.userData=ao.userData),eo[ao.uuid]=io}return eo},parseMaterials:function(va,_a){var eo={},to={};if(va!==void 0){var ro=new MaterialLoader;ro.setTextures(_a);for(var no=0,io=va.length;no<io;no++){var ao=va[no];if(ao.type==="MultiMaterial"){for(var oo=[],so=0;so<ao.materials.length;so++){var uo=ao.materials[so];eo[uo.uuid]===void 0&&(eo[uo.uuid]=ro.parse(uo)),oo.push(eo[uo.uuid])}to[ao.uuid]=oo}else eo[ao.uuid]===void 0&&(eo[ao.uuid]=ro.parse(ao)),to[ao.uuid]=eo[ao.uuid]}}return to},parseAnimations:function(va){for(var _a=[],eo=0;eo<va.length;eo++){var to=va[eo],ro=AnimationClip.parse(to);to.uuid!==void 0&&(ro.uuid=to.uuid),_a.push(ro)}return _a},parseImages:function(va,_a){var eo=this,to={};function ro(go){return eo.manager.itemStart(go),io.load(go,function(){eo.manager.itemEnd(go)},void 0,function(){eo.manager.itemError(go),eo.manager.itemEnd(go)})}if(va!==void 0&&va.length>0){var no=new LoadingManager(_a),io=new ImageLoader(no);io.setCrossOrigin(this.crossOrigin);for(var ao=0,oo=va.length;ao<oo;ao++){var so=va[ao],uo=so.url;if(Array.isArray(uo)){to[so.uuid]=[];for(var co=0,fo=uo.length;co<fo;co++){var po=uo[co],vo=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(po)?po:eo.resourcePath+po;to[so.uuid].push(ro(vo))}}else{var vo=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(so.url)?so.url:eo.resourcePath+so.url;to[so.uuid]=ro(vo)}}}return to},parseTextures:function(va,_a){function eo(oo,so){return typeof oo=="number"?oo:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",oo),so[oo])}var to={};if(va!==void 0)for(var ro=0,no=va.length;ro<no;ro++){var io=va[ro];io.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',io.uuid),_a[io.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",io.image);var ao;Array.isArray(_a[io.image])?ao=new CubeTexture(_a[io.image]):ao=new Texture(_a[io.image]),ao.needsUpdate=!0,ao.uuid=io.uuid,io.name!==void 0&&(ao.name=io.name),io.mapping!==void 0&&(ao.mapping=eo(io.mapping,TEXTURE_MAPPING)),io.offset!==void 0&&ao.offset.fromArray(io.offset),io.repeat!==void 0&&ao.repeat.fromArray(io.repeat),io.center!==void 0&&ao.center.fromArray(io.center),io.rotation!==void 0&&(ao.rotation=io.rotation),io.wrap!==void 0&&(ao.wrapS=eo(io.wrap[0],TEXTURE_WRAPPING),ao.wrapT=eo(io.wrap[1],TEXTURE_WRAPPING)),io.format!==void 0&&(ao.format=io.format),io.type!==void 0&&(ao.type=io.type),io.encoding!==void 0&&(ao.encoding=io.encoding),io.minFilter!==void 0&&(ao.minFilter=eo(io.minFilter,TEXTURE_FILTER)),io.magFilter!==void 0&&(ao.magFilter=eo(io.magFilter,TEXTURE_FILTER)),io.anisotropy!==void 0&&(ao.anisotropy=io.anisotropy),io.flipY!==void 0&&(ao.flipY=io.flipY),io.premultiplyAlpha!==void 0&&(ao.premultiplyAlpha=io.premultiplyAlpha),io.unpackAlignment!==void 0&&(ao.unpackAlignment=io.unpackAlignment),to[io.uuid]=ao}return to},parseObject:function(va,_a,eo){var to;function ro(mo){return _a[mo]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",mo),_a[mo]}function no(mo){if(mo!==void 0){if(Array.isArray(mo)){for(var lo=[],ho=0,yo=mo.length;ho<yo;ho++){var Ao=mo[ho];eo[Ao]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ao),lo.push(eo[Ao])}return lo}return eo[mo]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",mo),eo[mo]}}switch(va.type){case"Scene":to=new Scene,va.background!==void 0&&Number.isInteger(va.background)&&(to.background=new Color(va.background)),va.fog!==void 0&&(va.fog.type==="Fog"?to.fog=new Fog(va.fog.color,va.fog.near,va.fog.far):va.fog.type==="FogExp2"&&(to.fog=new FogExp2(va.fog.color,va.fog.density)));break;case"PerspectiveCamera":to=new PerspectiveCamera(va.fov,va.aspect,va.near,va.far),va.focus!==void 0&&(to.focus=va.focus),va.zoom!==void 0&&(to.zoom=va.zoom),va.filmGauge!==void 0&&(to.filmGauge=va.filmGauge),va.filmOffset!==void 0&&(to.filmOffset=va.filmOffset),va.view!==void 0&&(to.view=Object.assign({},va.view));break;case"OrthographicCamera":to=new OrthographicCamera(va.left,va.right,va.top,va.bottom,va.near,va.far),va.zoom!==void 0&&(to.zoom=va.zoom),va.view!==void 0&&(to.view=Object.assign({},va.view));break;case"AmbientLight":to=new AmbientLight(va.color,va.intensity);break;case"DirectionalLight":to=new DirectionalLight(va.color,va.intensity);break;case"PointLight":to=new PointLight(va.color,va.intensity,va.distance,va.decay);break;case"RectAreaLight":to=new RectAreaLight(va.color,va.intensity,va.width,va.height);break;case"SpotLight":to=new SpotLight(va.color,va.intensity,va.distance,va.angle,va.penumbra,va.decay);break;case"HemisphereLight":to=new HemisphereLight(va.color,va.groundColor,va.intensity);break;case"LightProbe":to=new LightProbe().fromJSON(va);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var io=ro(va.geometry),ao=no(va.material);to=new Mesh(io,ao);break;case"InstancedMesh":var io=ro(va.geometry),ao=no(va.material),oo=va.count,so=va.instanceMatrix;to=new InstancedMesh(io,ao,oo),to.instanceMatrix=new BufferAttribute(new Float32Array(so.array),16);break;case"LOD":to=new LOD;break;case"Line":to=new Line(ro(va.geometry),no(va.material),va.mode);break;case"LineLoop":to=new LineLoop(ro(va.geometry),no(va.material));break;case"LineSegments":to=new LineSegments(ro(va.geometry),no(va.material));break;case"PointCloud":case"Points":to=new Points(ro(va.geometry),no(va.material));break;case"Sprite":to=new Sprite(no(va.material));break;case"Group":to=new Group$1;break;default:to=new Object3D}if(to.uuid=va.uuid,va.name!==void 0&&(to.name=va.name),va.matrix!==void 0?(to.matrix.fromArray(va.matrix),va.matrixAutoUpdate!==void 0&&(to.matrixAutoUpdate=va.matrixAutoUpdate),to.matrixAutoUpdate&&to.matrix.decompose(to.position,to.quaternion,to.scale)):(va.position!==void 0&&to.position.fromArray(va.position),va.rotation!==void 0&&to.rotation.fromArray(va.rotation),va.quaternion!==void 0&&to.quaternion.fromArray(va.quaternion),va.scale!==void 0&&to.scale.fromArray(va.scale)),va.castShadow!==void 0&&(to.castShadow=va.castShadow),va.receiveShadow!==void 0&&(to.receiveShadow=va.receiveShadow),va.shadow&&(va.shadow.bias!==void 0&&(to.shadow.bias=va.shadow.bias),va.shadow.radius!==void 0&&(to.shadow.radius=va.shadow.radius),va.shadow.mapSize!==void 0&&to.shadow.mapSize.fromArray(va.shadow.mapSize),va.shadow.camera!==void 0&&(to.shadow.camera=this.parseObject(va.shadow.camera))),va.visible!==void 0&&(to.visible=va.visible),va.frustumCulled!==void 0&&(to.frustumCulled=va.frustumCulled),va.renderOrder!==void 0&&(to.renderOrder=va.renderOrder),va.userData!==void 0&&(to.userData=va.userData),va.layers!==void 0&&(to.layers.mask=va.layers),va.children!==void 0)for(var uo=va.children,co=0;co<uo.length;co++)to.add(this.parseObject(uo[co],_a,eo));if(va.type==="LOD"){va.autoUpdate!==void 0&&(to.autoUpdate=va.autoUpdate);for(var fo=va.levels,po=0;po<fo.length;po++){var vo=fo[po],go=to.getObjectByProperty("uuid",vo.object);go!==void 0&&to.addLevel(go,vo.distance)}}return to}});var TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,SphericalReflectionMapping,CubeUVReflectionMapping,CubeUVRefractionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};function ImageBitmapLoader(va){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Loader.call(this,va),this.options=void 0}ImageBitmapLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:ImageBitmapLoader,setOptions:function(_a){return this.options=_a,this},load:function(va,_a,eo,to){va===void 0&&(va=""),this.path!==void 0&&(va=this.path+va),va=this.manager.resolveURL(va);var ro=this,no=Cache.get(va);if(no!==void 0)return ro.manager.itemStart(va),setTimeout(function(){_a&&_a(no),ro.manager.itemEnd(va)},0),no;fetch(va).then(function(io){return io.blob()}).then(function(io){return ro.options===void 0?createImageBitmap(io):createImageBitmap(io,ro.options)}).then(function(io){Cache.add(va,io),_a&&_a(io),ro.manager.itemEnd(va)}).catch(function(io){to&&to(io),ro.manager.itemError(va),ro.manager.itemEnd(va)}),ro.manager.itemStart(va)}});function ShapePath(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}Object.assign(ShapePath.prototype,{moveTo:function(va,_a){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(va,_a),this},lineTo:function(va,_a){return this.currentPath.lineTo(va,_a),this},quadraticCurveTo:function(va,_a,eo,to){return this.currentPath.quadraticCurveTo(va,_a,eo,to),this},bezierCurveTo:function(va,_a,eo,to,ro,no){return this.currentPath.bezierCurveTo(va,_a,eo,to,ro,no),this},splineThru:function(va){return this.currentPath.splineThru(va),this},toShapes:function(va,_a){function eo(Do){for(var Oo=[],Bo=0,$o=Do.length;Bo<$o;Bo++){var Vo=Do[Bo],Ho=new Shape;Ho.curves=Vo.curves,Oo.push(Ho)}return Oo}function to(Do,Oo){for(var Bo=Oo.length,$o=!1,Vo=Bo-1,Ho=0;Ho<Bo;Vo=Ho++){var Fo=Oo[Vo],Ko=Oo[Ho],$s=Ko.x-Fo.x,au=Ko.y-Fo.y;if(Math.abs(au)>Number.EPSILON){if(au<0&&(Fo=Oo[Ho],$s=-$s,Ko=Oo[Vo],au=-au),Do.y<Fo.y||Do.y>Ko.y)continue;if(Do.y===Fo.y){if(Do.x===Fo.x)return!0}else{var Ks=au*(Do.x-Fo.x)-$s*(Do.y-Fo.y);if(Ks===0)return!0;if(Ks<0)continue;$o=!$o}}else{if(Do.y!==Fo.y)continue;if(Ko.x<=Do.x&&Do.x<=Fo.x||Fo.x<=Do.x&&Do.x<=Ko.x)return!0}}return $o}var ro=ShapeUtils.isClockWise,no=this.subPaths;if(no.length===0)return[];if(_a===!0)return eo(no);var io,ao,oo,so=[];if(no.length===1)return ao=no[0],oo=new Shape,oo.curves=ao.curves,so.push(oo),so;var uo=!ro(no[0].getPoints());uo=va?!uo:uo;var co=[],fo=[],po=[],vo=0,go;fo[vo]=void 0,po[vo]=[];for(var mo=0,lo=no.length;mo<lo;mo++)ao=no[mo],go=ao.getPoints(),io=ro(go),io=va?!io:io,io?(!uo&&fo[vo]&&vo++,fo[vo]={s:new Shape,p:go},fo[vo].s.curves=ao.curves,uo&&vo++,po[vo]=[]):po[vo].push({h:ao,p:go[0]});if(!fo[0])return eo(no);if(fo.length>1){for(var ho=!1,yo=[],Ao=0,Eo=fo.length;Ao<Eo;Ao++)co[Ao]=[];for(var Ao=0,Eo=fo.length;Ao<Eo;Ao++)for(var To=po[Ao],No=0;No<To.length;No++){for(var Co=To[No],Io=!0,Mo=0;Mo<fo.length;Mo++)to(Co.p,fo[Mo].p)&&(Ao!==Mo&&yo.push({froms:Ao,tos:Mo,hole:No}),Io?(Io=!1,co[Mo].push(Co)):ho=!0);Io&&co[Ao].push(Co)}yo.length>0&&(ho||(po=co))}for(var wo,mo=0,xo=fo.length;mo<xo;mo++){oo=fo[mo].s,so.push(oo),wo=po[mo];for(var bo=0,So=wo.length;bo<So;bo++)oo.holes.push(wo[bo].h)}return so}});function Font(va){this.type="Font",this.data=va}Object.assign(Font.prototype,{isFont:!0,generateShapes:function(va,_a){_a===void 0&&(_a=100);for(var eo=[],to=createPaths(va,_a,this.data),ro=0,no=to.length;ro<no;ro++)Array.prototype.push.apply(eo,to[ro].toShapes());return eo}});function createPaths(va,_a,eo){for(var to=Array.from?Array.from(va):String(va).split(""),ro=_a/eo.resolution,no=(eo.boundingBox.yMax-eo.boundingBox.yMin+eo.underlineThickness)*ro,io=[],ao=0,oo=0,so=0;so<to.length;so++){var uo=to[so];if(uo===`
`)ao=0,oo-=no;else{var co=createPath(uo,ro,ao,oo,eo);ao+=co.offsetX,io.push(co.path)}}return io}function createPath(va,_a,eo,to,ro){var no=ro.glyphs[va]||ro.glyphs["?"];if(!no){console.error('THREE.Font: character "'+va+'" does not exists in font family '+ro.familyName+".");return}var io=new ShapePath,ao,oo,so,uo,co,fo,po,vo;if(no.o)for(var go=no._cachedOutline||(no._cachedOutline=no.o.split(" ")),mo=0,lo=go.length;mo<lo;){var ho=go[mo++];switch(ho){case"m":ao=go[mo++]*_a+eo,oo=go[mo++]*_a+to,io.moveTo(ao,oo);break;case"l":ao=go[mo++]*_a+eo,oo=go[mo++]*_a+to,io.lineTo(ao,oo);break;case"q":so=go[mo++]*_a+eo,uo=go[mo++]*_a+to,co=go[mo++]*_a+eo,fo=go[mo++]*_a+to,io.quadraticCurveTo(co,fo,so,uo);break;case"b":so=go[mo++]*_a+eo,uo=go[mo++]*_a+to,co=go[mo++]*_a+eo,fo=go[mo++]*_a+to,po=go[mo++]*_a+eo,vo=go[mo++]*_a+to,io.bezierCurveTo(co,fo,po,vo,so,uo);break}}return{offsetX:no.ha*_a,path:io}}function FontLoader(va){Loader.call(this,va)}FontLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:FontLoader,load:function(va,_a,eo,to){var ro=this,no=new FileLoader(this.manager);no.setPath(this.path),no.load(va,function(io){var ao;try{ao=JSON.parse(io)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),ao=JSON.parse(io.substring(65,io.length-2))}var oo=ro.parse(ao);_a&&_a(oo)},eo,to)},parse:function(va){return new Font(va)}});var _context,AudioContext={getContext:function(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context},setContext:function(va){_context=va}};function AudioLoader(va){Loader.call(this,va)}AudioLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:AudioLoader,load:function(va,_a,eo,to){var ro=this,no=new FileLoader(ro.manager);no.setResponseType("arraybuffer"),no.setPath(ro.path),no.load(va,function(io){try{var ao=io.slice(0),oo=AudioContext.getContext();oo.decodeAudioData(ao,function(so){_a(so)})}catch(so){to?to(so):console.error(so),ro.manager.itemError(va)}},eo,to)}});function HemisphereLightProbe(va,_a,eo){LightProbe.call(this,void 0,eo);var to=new Color().set(va),ro=new Color().set(_a),no=new Vector3(to.r,to.g,to.b),io=new Vector3(ro.r,ro.g,ro.b),ao=Math.sqrt(Math.PI),oo=ao*Math.sqrt(.75);this.sh.coefficients[0].copy(no).add(io).multiplyScalar(ao),this.sh.coefficients[1].copy(no).sub(io).multiplyScalar(oo)}HemisphereLightProbe.prototype=Object.assign(Object.create(LightProbe.prototype),{constructor:HemisphereLightProbe,isHemisphereLightProbe:!0,copy:function(va){return LightProbe.prototype.copy.call(this,va),this},toJSON:function(va){var _a=LightProbe.prototype.toJSON.call(this,va);return _a}});function AmbientLightProbe(va,_a){LightProbe.call(this,void 0,_a);var eo=new Color().set(va);this.sh.coefficients[0].set(eo.r,eo.g,eo.b).multiplyScalar(2*Math.sqrt(Math.PI))}AmbientLightProbe.prototype=Object.assign(Object.create(LightProbe.prototype),{constructor:AmbientLightProbe,isAmbientLightProbe:!0,copy:function(va){return LightProbe.prototype.copy.call(this,va),this},toJSON:function(va){var _a=LightProbe.prototype.toJSON.call(this,va);return _a}});var _eyeRight=new Matrix4,_eyeLeft=new Matrix4;function StereoCamera(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(StereoCamera.prototype,{update:function(va){var _a=this._cache,eo=_a.focus!==va.focus||_a.fov!==va.fov||_a.aspect!==va.aspect*this.aspect||_a.near!==va.near||_a.far!==va.far||_a.zoom!==va.zoom||_a.eyeSep!==this.eyeSep;if(eo){_a.focus=va.focus,_a.fov=va.fov,_a.aspect=va.aspect*this.aspect,_a.near=va.near,_a.far=va.far,_a.zoom=va.zoom,_a.eyeSep=this.eyeSep;var to=va.projectionMatrix.clone(),ro=_a.eyeSep/2,no=ro*_a.near/_a.focus,io=_a.near*Math.tan(MathUtils.DEG2RAD*_a.fov*.5)/_a.zoom,ao,oo;_eyeLeft.elements[12]=-ro,_eyeRight.elements[12]=ro,ao=-io*_a.aspect+no,oo=io*_a.aspect+no,to.elements[0]=2*_a.near/(oo-ao),to.elements[8]=(oo+ao)/(oo-ao),this.cameraL.projectionMatrix.copy(to),ao=-io*_a.aspect-no,oo=io*_a.aspect-no,to.elements[0]=2*_a.near/(oo-ao),to.elements[8]=(oo+ao)/(oo-ao),this.cameraR.projectionMatrix.copy(to)}this.cameraL.matrixWorld.copy(va.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(va.matrixWorld).multiply(_eyeRight)}});function Clock(va){this.autoStart=va!==void 0?va:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Clock.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var va=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var _a=(typeof performance>"u"?Date:performance).now();va=(_a-this.oldTime)/1e3,this.oldTime=_a,this.elapsedTime+=va}return va}});var _position$2=new Vector3,_quaternion$3=new Quaternion,_scale$1=new Vector3,_orientation=new Vector3;function AudioListener(){Object3D.call(this),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}AudioListener.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:AudioListener,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(va){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=va,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(va){return this.gain.gain.setTargetAtTime(va,this.context.currentTime,.01),this},updateMatrixWorld:function(va){Object3D.prototype.updateMatrixWorld.call(this,va);var _a=this.context.listener,eo=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$2,_quaternion$3,_scale$1),_orientation.set(0,0,-1).applyQuaternion(_quaternion$3),_a.positionX){var to=this.context.currentTime+this.timeDelta;_a.positionX.linearRampToValueAtTime(_position$2.x,to),_a.positionY.linearRampToValueAtTime(_position$2.y,to),_a.positionZ.linearRampToValueAtTime(_position$2.z,to),_a.forwardX.linearRampToValueAtTime(_orientation.x,to),_a.forwardY.linearRampToValueAtTime(_orientation.y,to),_a.forwardZ.linearRampToValueAtTime(_orientation.z,to),_a.upX.linearRampToValueAtTime(eo.x,to),_a.upY.linearRampToValueAtTime(eo.y,to),_a.upZ.linearRampToValueAtTime(eo.z,to)}else _a.setPosition(_position$2.x,_position$2.y,_position$2.z),_a.setOrientation(_orientation.x,_orientation.y,_orientation.z,eo.x,eo.y,eo.z)}});function Audio(va){Object3D.call(this),this.type="Audio",this.listener=va,this.context=va.context,this.gain=this.context.createGain(),this.gain.connect(va.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}Audio.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Audio,getOutput:function(){return this.gain},setNodeSource:function(va){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=va,this.connect(),this},setMediaElementSource:function(va){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(va),this.connect(),this},setMediaStreamSource:function(va){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(va),this.connect(),this},setBuffer:function(va){return this.buffer=va,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(va){if(va===void 0&&(va=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+va;var _a=this.context.createBufferSource();return _a.buffer=this.buffer,_a.loop=this.loop,_a.loopStart=this.loopStart,_a.loopEnd=this.loopEnd,_a.onended=this.onEnded.bind(this),_a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=_a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var va=1,_a=this.filters.length;va<_a;va++)this.filters[va-1].connect(this.filters[va]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var va=1,_a=this.filters.length;va<_a;va++)this.filters[va-1].disconnect(this.filters[va]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(va){return va||(va=[]),this.isPlaying===!0?(this.disconnect(),this.filters=va,this.connect()):this.filters=va,this},setDetune:function(va){if(this.detune=va,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(va){return this.setFilters(va?[va]:[])},setPlaybackRate:function(va){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=va,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(va){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=va,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(va){return this.loopStart=va,this},setLoopEnd:function(va){return this.loopEnd=va,this},getVolume:function(){return this.gain.gain.value},setVolume:function(va){return this.gain.gain.setTargetAtTime(va,this.context.currentTime,.01),this}});var _position$3=new Vector3,_quaternion$4=new Quaternion,_scale$2=new Vector3,_orientation$1=new Vector3;function PositionalAudio(va){Audio.call(this,va),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}PositionalAudio.prototype=Object.assign(Object.create(Audio.prototype),{constructor:PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(va){return this.panner.refDistance=va,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(va){return this.panner.rolloffFactor=va,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(va){return this.panner.distanceModel=va,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(va){return this.panner.maxDistance=va,this},setDirectionalCone:function(va,_a,eo){return this.panner.coneInnerAngle=va,this.panner.coneOuterAngle=_a,this.panner.coneOuterGain=eo,this},updateMatrixWorld:function(va){if(Object3D.prototype.updateMatrixWorld.call(this,va),!(this.hasPlaybackControl===!0&&this.isPlaying===!1)){this.matrixWorld.decompose(_position$3,_quaternion$4,_scale$2),_orientation$1.set(0,0,1).applyQuaternion(_quaternion$4);var _a=this.panner;if(_a.positionX){var eo=this.context.currentTime+this.listener.timeDelta;_a.positionX.linearRampToValueAtTime(_position$3.x,eo),_a.positionY.linearRampToValueAtTime(_position$3.y,eo),_a.positionZ.linearRampToValueAtTime(_position$3.z,eo),_a.orientationX.linearRampToValueAtTime(_orientation$1.x,eo),_a.orientationY.linearRampToValueAtTime(_orientation$1.y,eo),_a.orientationZ.linearRampToValueAtTime(_orientation$1.z,eo)}else _a.setPosition(_position$3.x,_position$3.y,_position$3.z),_a.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z)}}});function AudioAnalyser(va,_a){this.analyser=va.context.createAnalyser(),this.analyser.fftSize=_a!==void 0?_a:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),va.getOutput().connect(this.analyser)}Object.assign(AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var va=0,_a=this.getFrequencyData(),eo=0;eo<_a.length;eo++)va+=_a[eo];return va/_a.length}});function PropertyMixer(va,_a,eo){this.binding=va,this.valueSize=eo;var to,ro,no;switch(_a){case"quaternion":to=this._slerp,ro=this._slerpAdditive,no=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(eo*6),this._workIndex=5;break;case"string":case"bool":to=this._select,ro=this._select,no=this._setAdditiveIdentityOther,this.buffer=new Array(eo*5);break;default:to=this._lerp,ro=this._lerpAdditive,no=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(eo*5)}this._mixBufferRegion=to,this._mixBufferRegionAdditive=ro,this._setIdentity=no,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(PropertyMixer.prototype,{accumulate:function(va,_a){var eo=this.buffer,to=this.valueSize,ro=va*to+to,no=this.cumulativeWeight;if(no===0){for(var io=0;io!==to;++io)eo[ro+io]=eo[io];no=_a}else{no+=_a;var ao=_a/no;this._mixBufferRegion(eo,ro,0,ao,to)}this.cumulativeWeight=no},accumulateAdditive:function(va){var _a=this.buffer,eo=this.valueSize,to=eo*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(_a,to,0,va,eo),this.cumulativeWeightAdditive+=va},apply:function(va){var _a=this.valueSize,eo=this.buffer,to=va*_a+_a,ro=this.cumulativeWeight,no=this.cumulativeWeightAdditive,io=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,ro<1){var ao=_a*this._origIndex;this._mixBufferRegion(eo,to,ao,1-ro,_a)}no>0&&this._mixBufferRegionAdditive(eo,to,this._addIndex*_a,1,_a);for(var oo=_a,so=_a+_a;oo!==so;++oo)if(eo[oo]!==eo[oo+_a]){io.setValue(eo,to);break}},saveOriginalState:function(){var va=this.binding,_a=this.buffer,eo=this.valueSize,to=eo*this._origIndex;va.getValue(_a,to);for(var ro=eo,no=to;ro!==no;++ro)_a[ro]=_a[to+ro%eo];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var va=this.valueSize*3;this.binding.setValue(this.buffer,va)},_setAdditiveIdentityNumeric:function(){for(var va=this._addIndex*this.valueSize,_a=va+this.valueSize,eo=va;eo<_a;eo++)this.buffer[eo]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*4+3]=1},_setAdditiveIdentityOther:function(){for(var va=this._origIndex*this.valueSize,_a=this._addIndex*this.valueSize,eo=0;eo<this.valueSize;eo++)this.buffer[_a+eo]=this.buffer[va+eo]},_select:function(va,_a,eo,to,ro){if(to>=.5)for(var no=0;no!==ro;++no)va[_a+no]=va[eo+no]},_slerp:function(va,_a,eo,to){Quaternion.slerpFlat(va,_a,va,_a,va,eo,to)},_slerpAdditive:function(va,_a,eo,to,ro){var no=this._workIndex*ro;Quaternion.multiplyQuaternionsFlat(va,no,va,_a,va,eo),Quaternion.slerpFlat(va,_a,va,_a,va,no,to)},_lerp:function(va,_a,eo,to,ro){for(var no=1-to,io=0;io!==ro;++io){var ao=_a+io;va[ao]=va[ao]*no+va[eo+io]*to}},_lerpAdditive:function(va,_a,eo,to,ro){for(var no=0;no!==ro;++no){var io=_a+no;va[io]=va[io]+va[eo+no]*to}}});var _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones"];function Composite(va,_a,eo){var to=eo||PropertyBinding.parseTrackName(_a);this._targetGroup=va,this._bindings=va.subscribe_(_a,to)}Object.assign(Composite.prototype,{getValue:function(va,_a){this.bind();var eo=this._targetGroup.nCachedObjects_,to=this._bindings[eo];to!==void 0&&to.getValue(va,_a)},setValue:function(va,_a){for(var eo=this._bindings,to=this._targetGroup.nCachedObjects_,ro=eo.length;to!==ro;++to)eo[to].setValue(va,_a)},bind:function(){for(var va=this._bindings,_a=this._targetGroup.nCachedObjects_,eo=va.length;_a!==eo;++_a)va[_a].bind()},unbind:function(){for(var va=this._bindings,_a=this._targetGroup.nCachedObjects_,eo=va.length;_a!==eo;++_a)va[_a].unbind()}});function PropertyBinding(va,_a,eo){this.path=_a,this.parsedPath=eo||PropertyBinding.parseTrackName(_a),this.node=PropertyBinding.findNode(va,this.parsedPath.nodeName)||va,this.rootNode=va}Object.assign(PropertyBinding,{Composite,create:function(va,_a,eo){return va&&va.isAnimationObjectGroup?new PropertyBinding.Composite(va,_a,eo):new PropertyBinding(va,_a,eo)},sanitizeNodeName:function(va){return va.replace(/\s/g,"_").replace(_reservedRe,"")},parseTrackName:function(va){var _a=_trackRe.exec(va);if(!_a)throw new Error("PropertyBinding: Cannot parse trackName: "+va);var eo={nodeName:_a[2],objectName:_a[3],objectIndex:_a[4],propertyName:_a[5],propertyIndex:_a[6]},to=eo.nodeName&&eo.nodeName.lastIndexOf(".");if(to!==void 0&&to!==-1){var ro=eo.nodeName.substring(to+1);_supportedObjectNames.indexOf(ro)!==-1&&(eo.nodeName=eo.nodeName.substring(0,to),eo.objectName=ro)}if(eo.propertyName===null||eo.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+va);return eo},findNode:function(va,_a){if(!_a||_a===""||_a==="."||_a===-1||_a===va.name||_a===va.uuid)return va;if(va.skeleton){var eo=va.skeleton.getBoneByName(_a);if(eo!==void 0)return eo}if(va.children){var to=function(no){for(var io=0;io<no.length;io++){var ao=no[io];if(ao.name===_a||ao.uuid===_a)return ao;var oo=to(ao.children);if(oo)return oo}return null},ro=to(va.children);if(ro)return ro}return null}});Object.assign(PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(_a,eo){_a[eo]=this.node[this.propertyName]},function(_a,eo){for(var to=this.resolvedProperty,ro=0,no=to.length;ro!==no;++ro)_a[eo++]=to[ro]},function(_a,eo){_a[eo]=this.resolvedProperty[this.propertyIndex]},function(_a,eo){this.resolvedProperty.toArray(_a,eo)}],SetterByBindingTypeAndVersioning:[[function(_a,eo){this.targetObject[this.propertyName]=_a[eo]},function(_a,eo){this.targetObject[this.propertyName]=_a[eo],this.targetObject.needsUpdate=!0},function(_a,eo){this.targetObject[this.propertyName]=_a[eo],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(_a,eo){for(var to=this.resolvedProperty,ro=0,no=to.length;ro!==no;++ro)to[ro]=_a[eo++]},function(_a,eo){for(var to=this.resolvedProperty,ro=0,no=to.length;ro!==no;++ro)to[ro]=_a[eo++];this.targetObject.needsUpdate=!0},function(_a,eo){for(var to=this.resolvedProperty,ro=0,no=to.length;ro!==no;++ro)to[ro]=_a[eo++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(_a,eo){this.resolvedProperty[this.propertyIndex]=_a[eo]},function(_a,eo){this.resolvedProperty[this.propertyIndex]=_a[eo],this.targetObject.needsUpdate=!0},function(_a,eo){this.resolvedProperty[this.propertyIndex]=_a[eo],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(_a,eo){this.resolvedProperty.fromArray(_a,eo)},function(_a,eo){this.resolvedProperty.fromArray(_a,eo),this.targetObject.needsUpdate=!0},function(_a,eo){this.resolvedProperty.fromArray(_a,eo),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(_a,eo){this.bind(),this.getValue(_a,eo)},setValue:function(_a,eo){this.bind(),this.setValue(_a,eo)},bind:function(){var va=this.node,_a=this.parsedPath,eo=_a.objectName,to=_a.propertyName,ro=_a.propertyIndex;if(va||(va=PropertyBinding.findNode(this.rootNode,_a.nodeName)||this.rootNode,this.node=va),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!va){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(eo){var no=_a.objectIndex;switch(eo){case"materials":if(!va.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!va.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}va=va.material.materials;break;case"bones":if(!va.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}va=va.skeleton.bones;for(var io=0;io<va.length;io++)if(va[io].name===no){no=io;break}break;default:if(va[eo]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}va=va[eo]}if(no!==void 0){if(va[no]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,va);return}va=va[no]}}var ao=va[to];if(ao===void 0){var oo=_a.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+oo+"."+to+" but it wasn't found.",va);return}var so=this.Versioning.None;this.targetObject=va,va.needsUpdate!==void 0?so=this.Versioning.NeedsUpdate:va.matrixWorldNeedsUpdate!==void 0&&(so=this.Versioning.MatrixWorldNeedsUpdate);var uo=this.BindingType.Direct;if(ro!==void 0){if(to==="morphTargetInfluences"){if(!va.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(va.geometry.isBufferGeometry){if(!va.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}va.morphTargetDictionary[ro]!==void 0&&(ro=va.morphTargetDictionary[ro])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}uo=this.BindingType.ArrayElement,this.resolvedProperty=ao,this.propertyIndex=ro}else ao.fromArray!==void 0&&ao.toArray!==void 0?(uo=this.BindingType.HasFromToArray,this.resolvedProperty=ao):Array.isArray(ao)?(uo=this.BindingType.EntireArray,this.resolvedProperty=ao):this.propertyName=to;this.getValue=this.GetterByBindingType[uo],this.setValue=this.SetterByBindingTypeAndVersioning[uo][so]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(PropertyBinding.prototype,{_getValue_unbound:PropertyBinding.prototype.getValue,_setValue_unbound:PropertyBinding.prototype.setValue});function AnimationObjectGroup(){this.uuid=MathUtils.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var va={};this._indicesByUUID=va;for(var _a=0,eo=arguments.length;_a!==eo;++_a)va[arguments[_a].uuid]=_a;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var to=this;this.stats={objects:{get total(){return to._objects.length},get inUse(){return this.total-to.nCachedObjects_}},get bindingsPerObject(){return to._bindings.length}}}Object.assign(AnimationObjectGroup.prototype,{isAnimationObjectGroup:!0,add:function(){for(var va=this._objects,_a=va.length,eo=this.nCachedObjects_,to=this._indicesByUUID,ro=this._paths,no=this._parsedPaths,io=this._bindings,ao=io.length,oo=void 0,so=0,uo=arguments.length;so!==uo;++so){var co=arguments[so],fo=co.uuid,po=to[fo];if(po===void 0){po=_a++,to[fo]=po,va.push(co);for(var vo=0,go=ao;vo!==go;++vo)io[vo].push(new PropertyBinding(co,ro[vo],no[vo]))}else if(po<eo){oo=va[po];var mo=--eo,lo=va[mo];to[lo.uuid]=po,va[po]=lo,to[fo]=mo,va[mo]=co;for(var vo=0,go=ao;vo!==go;++vo){var ho=io[vo],yo=ho[mo],Ao=ho[po];ho[po]=yo,Ao===void 0&&(Ao=new PropertyBinding(co,ro[vo],no[vo])),ho[mo]=Ao}}else va[po]!==oo&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=eo},remove:function(){for(var va=this._objects,_a=this.nCachedObjects_,eo=this._indicesByUUID,to=this._bindings,ro=to.length,no=0,io=arguments.length;no!==io;++no){var ao=arguments[no],oo=ao.uuid,so=eo[oo];if(so!==void 0&&so>=_a){var uo=_a++,co=va[uo];eo[co.uuid]=so,va[so]=co,eo[oo]=uo,va[uo]=ao;for(var fo=0,po=ro;fo!==po;++fo){var vo=to[fo],go=vo[uo],mo=vo[so];vo[so]=go,vo[uo]=mo}}}this.nCachedObjects_=_a},uncache:function(){for(var va=this._objects,_a=va.length,eo=this.nCachedObjects_,to=this._indicesByUUID,ro=this._bindings,no=ro.length,io=0,ao=arguments.length;io!==ao;++io){var oo=arguments[io],so=oo.uuid,uo=to[so];if(uo!==void 0)if(delete to[so],uo<eo){var co=--eo,fo=va[co],po=--_a,vo=va[po];to[fo.uuid]=uo,va[uo]=fo,to[vo.uuid]=co,va[co]=vo,va.pop();for(var go=0,mo=no;go!==mo;++go){var lo=ro[go],ho=lo[co],yo=lo[po];lo[uo]=ho,lo[co]=yo,lo.pop()}}else{var po=--_a,vo=va[po];to[vo.uuid]=uo,va[uo]=vo,va.pop();for(var go=0,mo=no;go!==mo;++go){var lo=ro[go];lo[uo]=lo[po],lo.pop()}}}this.nCachedObjects_=eo},subscribe_:function(va,_a){var eo=this._bindingsIndicesByPath,to=eo[va],ro=this._bindings;if(to!==void 0)return ro[to];var no=this._paths,io=this._parsedPaths,ao=this._objects,oo=ao.length,so=this.nCachedObjects_,uo=new Array(oo);to=ro.length,eo[va]=to,no.push(va),io.push(_a),ro.push(uo);for(var co=so,fo=ao.length;co!==fo;++co){var po=ao[co];uo[co]=new PropertyBinding(po,va,_a)}return uo},unsubscribe_:function(va){var _a=this._bindingsIndicesByPath,eo=_a[va];if(eo!==void 0){var to=this._paths,ro=this._parsedPaths,no=this._bindings,io=no.length-1,ao=no[io],oo=va[io];_a[oo]=eo,no[eo]=ao,no.pop(),ro[eo]=ro[io],ro.pop(),to[eo]=to[io],to.pop()}}});function AnimationAction(va,_a,eo,to){this._mixer=va,this._clip=_a,this._localRoot=eo||null,this.blendMode=to||_a.blendMode;for(var ro=_a.tracks,no=ro.length,io=new Array(no),ao={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding},oo=0;oo!==no;++oo){var so=ro[oo].createInterpolant(null);io[oo]=so,so.settings=ao}this._interpolantSettings=ao,this._interpolants=io,this._propertyBindings=new Array(no),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(AnimationAction.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(va){return this._startTime=va,this},setLoop:function(va,_a){return this.loop=va,this.repetitions=_a,this},setEffectiveWeight:function(va){return this.weight=va,this._effectiveWeight=this.enabled?va:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(va){return this._scheduleFading(va,0,1)},fadeOut:function(va){return this._scheduleFading(va,1,0)},crossFadeFrom:function(va,_a,eo){if(va.fadeOut(_a),this.fadeIn(_a),eo){var to=this._clip.duration,ro=va._clip.duration,no=ro/to,io=to/ro;va.warp(1,no,_a),this.warp(io,1,_a)}return this},crossFadeTo:function(va,_a,eo){return va.crossFadeFrom(this,_a,eo)},stopFading:function(){var va=this._weightInterpolant;return va!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(va)),this},setEffectiveTimeScale:function(va){return this.timeScale=va,this._effectiveTimeScale=this.paused?0:va,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(va){return this.timeScale=this._clip.duration/va,this.stopWarping()},syncWith:function(va){return this.time=va.time,this.timeScale=va.timeScale,this.stopWarping()},halt:function(va){return this.warp(this._effectiveTimeScale,0,va)},warp:function(va,_a,eo){var to=this._mixer,ro=to.time,no=this._timeScaleInterpolant,io=this.timeScale;no===null&&(no=to._lendControlInterpolant(),this._timeScaleInterpolant=no);var ao=no.parameterPositions,oo=no.sampleValues;return ao[0]=ro,ao[1]=ro+eo,oo[0]=va/io,oo[1]=_a/io,this},stopWarping:function(){var va=this._timeScaleInterpolant;return va!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(va)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(va,_a,eo,to){if(!this.enabled){this._updateWeight(va);return}var ro=this._startTime;if(ro!==null){var no=(va-ro)*eo;if(no<0||eo===0)return;this._startTime=null,_a=eo*no}_a*=this._updateTimeScale(va);var io=this._updateTime(_a),ao=this._updateWeight(va);if(ao>0){var oo=this._interpolants,so=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(var uo=0,co=oo.length;uo!==co;++uo)oo[uo].evaluate(io),so[uo].accumulateAdditive(ao);break;case NormalAnimationBlendMode:default:for(var uo=0,co=oo.length;uo!==co;++uo)oo[uo].evaluate(io),so[uo].accumulate(to,ao)}}},_updateWeight:function(va){var _a=0;if(this.enabled){_a=this.weight;var eo=this._weightInterpolant;if(eo!==null){var to=eo.evaluate(va)[0];_a*=to,va>eo.parameterPositions[1]&&(this.stopFading(),to===0&&(this.enabled=!1))}}return this._effectiveWeight=_a,_a},_updateTimeScale:function(va){var _a=0;if(!this.paused){_a=this.timeScale;var eo=this._timeScaleInterpolant;if(eo!==null){var to=eo.evaluate(va)[0];_a*=to,va>eo.parameterPositions[1]&&(this.stopWarping(),_a===0?this.paused=!0:this.timeScale=_a)}}return this._effectiveTimeScale=_a,_a},_updateTime:function(va){var _a=this.time+va,eo=this._clip.duration,to=this.loop,ro=this._loopCount,no=to===LoopPingPong;if(va===0)return ro===-1?_a:no&&(ro&1)===1?eo-_a:_a;if(to===LoopOnce){ro===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(_a>=eo)_a=eo;else if(_a<0)_a=0;else{this.time=_a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=_a,this._mixer.dispatchEvent({type:"finished",action:this,direction:va<0?-1:1})}}else{if(ro===-1&&(va>=0?(ro=0,this._setEndings(!0,this.repetitions===0,no)):this._setEndings(this.repetitions===0,!0,no)),_a>=eo||_a<0){var io=Math.floor(_a/eo);_a-=eo*io,ro+=Math.abs(io);var ao=this.repetitions-ro;if(ao<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,_a=va>0?eo:0,this.time=_a,this._mixer.dispatchEvent({type:"finished",action:this,direction:va>0?1:-1});else{if(ao===1){var oo=va<0;this._setEndings(oo,!oo,no)}else this._setEndings(!1,!1,no);this._loopCount=ro,this.time=_a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:io})}}else this.time=_a;if(no&&(ro&1)===1)return eo-_a}return _a},_setEndings:function(va,_a,eo){var to=this._interpolantSettings;eo?(to.endingStart=ZeroSlopeEnding,to.endingEnd=ZeroSlopeEnding):(va?to.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:to.endingStart=WrapAroundEnding,_a?to.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:to.endingEnd=WrapAroundEnding)},_scheduleFading:function(va,_a,eo){var to=this._mixer,ro=to.time,no=this._weightInterpolant;no===null&&(no=to._lendControlInterpolant(),this._weightInterpolant=no);var io=no.parameterPositions,ao=no.sampleValues;return io[0]=ro,ao[0]=_a,io[1]=ro+va,ao[1]=eo,this}});function AnimationMixer(va){this._root=va,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}AnimationMixer.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:AnimationMixer,_bindAction:function(va,_a){var eo=va._localRoot||this._root,to=va._clip.tracks,ro=to.length,no=va._propertyBindings,io=va._interpolants,ao=eo.uuid,oo=this._bindingsByRootAndName,so=oo[ao];so===void 0&&(so={},oo[ao]=so);for(var uo=0;uo!==ro;++uo){var co=to[uo],fo=co.name,po=so[fo];if(po!==void 0)no[uo]=po;else{if(po=no[uo],po!==void 0){po._cacheIndex===null&&(++po.referenceCount,this._addInactiveBinding(po,ao,fo));continue}var vo=_a&&_a._propertyBindings[uo].binding.parsedPath;po=new PropertyMixer(PropertyBinding.create(eo,fo,vo),co.ValueTypeName,co.getValueSize()),++po.referenceCount,this._addInactiveBinding(po,ao,fo),no[uo]=po}io[uo].resultBuffer=po.buffer}},_activateAction:function(va){if(!this._isActiveAction(va)){if(va._cacheIndex===null){var _a=(va._localRoot||this._root).uuid,eo=va._clip.uuid,to=this._actionsByClip[eo];this._bindAction(va,to&&to.knownActions[0]),this._addInactiveAction(va,eo,_a)}for(var ro=va._propertyBindings,no=0,io=ro.length;no!==io;++no){var ao=ro[no];ao.useCount++===0&&(this._lendBinding(ao),ao.saveOriginalState())}this._lendAction(va)}},_deactivateAction:function(va){if(this._isActiveAction(va)){for(var _a=va._propertyBindings,eo=0,to=_a.length;eo!==to;++eo){var ro=_a[eo];--ro.useCount===0&&(ro.restoreOriginalState(),this._takeBackBinding(ro))}this._takeBackAction(va)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var va=this;this.stats={actions:{get total(){return va._actions.length},get inUse(){return va._nActiveActions}},bindings:{get total(){return va._bindings.length},get inUse(){return va._nActiveBindings}},controlInterpolants:{get total(){return va._controlInterpolants.length},get inUse(){return va._nActiveControlInterpolants}}}},_isActiveAction:function(va){var _a=va._cacheIndex;return _a!==null&&_a<this._nActiveActions},_addInactiveAction:function(va,_a,eo){var to=this._actions,ro=this._actionsByClip,no=ro[_a];if(no===void 0)no={knownActions:[va],actionByRoot:{}},va._byClipCacheIndex=0,ro[_a]=no;else{var io=no.knownActions;va._byClipCacheIndex=io.length,io.push(va)}va._cacheIndex=to.length,to.push(va),no.actionByRoot[eo]=va},_removeInactiveAction:function(va){var _a=this._actions,eo=_a[_a.length-1],to=va._cacheIndex;eo._cacheIndex=to,_a[to]=eo,_a.pop(),va._cacheIndex=null;var ro=va._clip.uuid,no=this._actionsByClip,io=no[ro],ao=io.knownActions,oo=ao[ao.length-1],so=va._byClipCacheIndex;oo._byClipCacheIndex=so,ao[so]=oo,ao.pop(),va._byClipCacheIndex=null;var uo=io.actionByRoot,co=(va._localRoot||this._root).uuid;delete uo[co],ao.length===0&&delete no[ro],this._removeInactiveBindingsForAction(va)},_removeInactiveBindingsForAction:function(va){for(var _a=va._propertyBindings,eo=0,to=_a.length;eo!==to;++eo){var ro=_a[eo];--ro.referenceCount===0&&this._removeInactiveBinding(ro)}},_lendAction:function(va){var _a=this._actions,eo=va._cacheIndex,to=this._nActiveActions++,ro=_a[to];va._cacheIndex=to,_a[to]=va,ro._cacheIndex=eo,_a[eo]=ro},_takeBackAction:function(va){var _a=this._actions,eo=va._cacheIndex,to=--this._nActiveActions,ro=_a[to];va._cacheIndex=to,_a[to]=va,ro._cacheIndex=eo,_a[eo]=ro},_addInactiveBinding:function(va,_a,eo){var to=this._bindingsByRootAndName,ro=to[_a],no=this._bindings;ro===void 0&&(ro={},to[_a]=ro),ro[eo]=va,va._cacheIndex=no.length,no.push(va)},_removeInactiveBinding:function(va){var _a=this._bindings,eo=va.binding,to=eo.rootNode.uuid,ro=eo.path,no=this._bindingsByRootAndName,io=no[to],ao=_a[_a.length-1],oo=va._cacheIndex;ao._cacheIndex=oo,_a[oo]=ao,_a.pop(),delete io[ro],Object.keys(io).length===0&&delete no[to]},_lendBinding:function(va){var _a=this._bindings,eo=va._cacheIndex,to=this._nActiveBindings++,ro=_a[to];va._cacheIndex=to,_a[to]=va,ro._cacheIndex=eo,_a[eo]=ro},_takeBackBinding:function(va){var _a=this._bindings,eo=va._cacheIndex,to=--this._nActiveBindings,ro=_a[to];va._cacheIndex=to,_a[to]=va,ro._cacheIndex=eo,_a[eo]=ro},_lendControlInterpolant:function(){var va=this._controlInterpolants,_a=this._nActiveControlInterpolants++,eo=va[_a];return eo===void 0&&(eo=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),eo.__cacheIndex=_a,va[_a]=eo),eo},_takeBackControlInterpolant:function(va){var _a=this._controlInterpolants,eo=va.__cacheIndex,to=--this._nActiveControlInterpolants,ro=_a[to];va.__cacheIndex=to,_a[to]=va,ro.__cacheIndex=eo,_a[eo]=ro},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(va,_a,eo){var to=_a||this._root,ro=to.uuid,no=typeof va=="string"?AnimationClip.findByName(to,va):va,io=no!==null?no.uuid:va,ao=this._actionsByClip[io],oo=null;if(eo===void 0&&(no!==null?eo=no.blendMode:eo=NormalAnimationBlendMode),ao!==void 0){var so=ao.actionByRoot[ro];if(so!==void 0&&so.blendMode===eo)return so;oo=ao.knownActions[0],no===null&&(no=oo._clip)}if(no===null)return null;var uo=new AnimationAction(this,no,_a,eo);return this._bindAction(uo,oo),this._addInactiveAction(uo,io,ro),uo},existingAction:function(va,_a){var eo=_a||this._root,to=eo.uuid,ro=typeof va=="string"?AnimationClip.findByName(eo,va):va,no=ro?ro.uuid:va,io=this._actionsByClip[no];return io!==void 0&&io.actionByRoot[to]||null},stopAllAction:function(){for(var va=this._actions,_a=this._nActiveActions,eo=_a-1;eo>=0;--eo)va[eo].stop();return this},update:function(va){va*=this.timeScale;for(var _a=this._actions,eo=this._nActiveActions,to=this.time+=va,ro=Math.sign(va),no=this._accuIndex^=1,io=0;io!==eo;++io){var ao=_a[io];ao._update(to,va,ro,no)}for(var oo=this._bindings,so=this._nActiveBindings,io=0;io!==so;++io)oo[io].apply(no);return this},setTime:function(va){this.time=0;for(var _a=0;_a<this._actions.length;_a++)this._actions[_a].time=0;return this.update(va)},getRoot:function(){return this._root},uncacheClip:function(va){var _a=this._actions,eo=va.uuid,to=this._actionsByClip,ro=to[eo];if(ro!==void 0){for(var no=ro.knownActions,io=0,ao=no.length;io!==ao;++io){var oo=no[io];this._deactivateAction(oo);var so=oo._cacheIndex,uo=_a[_a.length-1];oo._cacheIndex=null,oo._byClipCacheIndex=null,uo._cacheIndex=so,_a[so]=uo,_a.pop(),this._removeInactiveBindingsForAction(oo)}delete to[eo]}},uncacheRoot:function(va){var _a=va.uuid,eo=this._actionsByClip;for(var to in eo){var ro=eo[to].actionByRoot,no=ro[_a];no!==void 0&&(this._deactivateAction(no),this._removeInactiveAction(no))}var io=this._bindingsByRootAndName,ao=io[_a];if(ao!==void 0)for(var oo in ao){var so=ao[oo];so.restoreOriginalState(),this._removeInactiveBinding(so)}},uncacheAction:function(va,_a){var eo=this.existingAction(va,_a);eo!==null&&(this._deactivateAction(eo),this._removeInactiveAction(eo))}});function Uniform(va){typeof va=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),va=arguments[1]),this.value=va}Uniform.prototype.clone=function(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())};function InstancedInterleavedBuffer(va,_a,eo){InterleavedBuffer.call(this,va,_a),this.meshPerAttribute=eo||1}InstancedInterleavedBuffer.prototype=Object.assign(Object.create(InterleavedBuffer.prototype),{constructor:InstancedInterleavedBuffer,isInstancedInterleavedBuffer:!0,copy:function(va){return InterleavedBuffer.prototype.copy.call(this,va),this.meshPerAttribute=va.meshPerAttribute,this}});function Raycaster(va,_a,eo,to){this.ray=new Ray(va,_a),this.near=eo||0,this.far=to||1/0,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ascSort(va,_a){return va.distance-_a.distance}function intersectObject(va,_a,eo,to){if(va.layers.test(_a.layers)&&va.raycast(_a,eo),to===!0)for(var ro=va.children,no=0,io=ro.length;no<io;no++)intersectObject(ro[no],_a,eo,!0)}Object.assign(Raycaster.prototype,{set:function(va,_a){this.ray.set(va,_a)},setFromCamera:function(va,_a){_a&&_a.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(_a.matrixWorld),this.ray.direction.set(va.x,va.y,.5).unproject(_a).sub(this.ray.origin).normalize(),this.camera=_a):_a&&_a.isOrthographicCamera?(this.ray.origin.set(va.x,va.y,(_a.near+_a.far)/(_a.near-_a.far)).unproject(_a),this.ray.direction.set(0,0,-1).transformDirection(_a.matrixWorld),this.camera=_a):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(va,_a,eo){var to=eo||[];return intersectObject(va,this,to,_a),to.sort(ascSort),to},intersectObjects:function(va,_a,eo){var to=eo||[];if(Array.isArray(va)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),to;for(var ro=0,no=va.length;ro<no;ro++)intersectObject(va[ro],this,to,_a);return to.sort(ascSort),to}});function Spherical(va,_a,eo){return this.radius=va!==void 0?va:1,this.phi=_a!==void 0?_a:0,this.theta=eo!==void 0?eo:0,this}Object.assign(Spherical.prototype,{set:function(va,_a,eo){return this.radius=va,this.phi=_a,this.theta=eo,this},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.radius=va.radius,this.phi=va.phi,this.theta=va.theta,this},makeSafe:function(){var va=1e-6;return this.phi=Math.max(va,Math.min(Math.PI-va,this.phi)),this},setFromVector3:function(va){return this.setFromCartesianCoords(va.x,va.y,va.z)},setFromCartesianCoords:function(va,_a,eo){return this.radius=Math.sqrt(va*va+_a*_a+eo*eo),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(va,eo),this.phi=Math.acos(MathUtils.clamp(_a/this.radius,-1,1))),this}});function Cylindrical(va,_a,eo){return this.radius=va!==void 0?va:1,this.theta=_a!==void 0?_a:0,this.y=eo!==void 0?eo:0,this}Object.assign(Cylindrical.prototype,{set:function(va,_a,eo){return this.radius=va,this.theta=_a,this.y=eo,this},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.radius=va.radius,this.theta=va.theta,this.y=va.y,this},setFromVector3:function(va){return this.setFromCartesianCoords(va.x,va.y,va.z)},setFromCartesianCoords:function(va,_a,eo){return this.radius=Math.sqrt(va*va+eo*eo),this.theta=Math.atan2(va,eo),this.y=_a,this}});var _vector$7=new Vector2;function Box2(va,_a){this.min=va!==void 0?va:new Vector2(1/0,1/0),this.max=_a!==void 0?_a:new Vector2(-1/0,-1/0)}Object.assign(Box2.prototype,{set:function(va,_a){return this.min.copy(va),this.max.copy(_a),this},setFromPoints:function(va){this.makeEmpty();for(var _a=0,eo=va.length;_a<eo;_a++)this.expandByPoint(va[_a]);return this},setFromCenterAndSize:function(va,_a){var eo=_vector$7.copy(_a).multiplyScalar(.5);return this.min.copy(va).sub(eo),this.max.copy(va).add(eo),this},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.min.copy(va.min),this.max.copy(va.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(va){return va===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),va=new Vector2),this.isEmpty()?va.set(0,0):va.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(va){return va===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),va=new Vector2),this.isEmpty()?va.set(0,0):va.subVectors(this.max,this.min)},expandByPoint:function(va){return this.min.min(va),this.max.max(va),this},expandByVector:function(va){return this.min.sub(va),this.max.add(va),this},expandByScalar:function(va){return this.min.addScalar(-va),this.max.addScalar(va),this},containsPoint:function(va){return!(va.x<this.min.x||va.x>this.max.x||va.y<this.min.y||va.y>this.max.y)},containsBox:function(va){return this.min.x<=va.min.x&&va.max.x<=this.max.x&&this.min.y<=va.min.y&&va.max.y<=this.max.y},getParameter:function(va,_a){return _a===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),_a=new Vector2),_a.set((va.x-this.min.x)/(this.max.x-this.min.x),(va.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(va){return!(va.max.x<this.min.x||va.min.x>this.max.x||va.max.y<this.min.y||va.min.y>this.max.y)},clampPoint:function(va,_a){return _a===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),_a=new Vector2),_a.copy(va).clamp(this.min,this.max)},distanceToPoint:function(va){var _a=_vector$7.copy(va).clamp(this.min,this.max);return _a.sub(va).length()},intersect:function(va){return this.min.max(va.min),this.max.min(va.max),this},union:function(va){return this.min.min(va.min),this.max.max(va.max),this},translate:function(va){return this.min.add(va),this.max.add(va),this},equals:function(va){return va.min.equals(this.min)&&va.max.equals(this.max)}});var _startP=new Vector3,_startEnd=new Vector3;function Line3(va,_a){this.start=va!==void 0?va:new Vector3,this.end=_a!==void 0?_a:new Vector3}Object.assign(Line3.prototype,{set:function(va,_a){return this.start.copy(va),this.end.copy(_a),this},clone:function(){return new this.constructor().copy(this)},copy:function(va){return this.start.copy(va.start),this.end.copy(va.end),this},getCenter:function(va){return va===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),va=new Vector3),va.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(va){return va===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),va=new Vector3),va.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(va,_a){return _a===void 0&&(console.warn("THREE.Line3: .at() target is now required"),_a=new Vector3),this.delta(_a).multiplyScalar(va).add(this.start)},closestPointToPointParameter:function(va,_a){_startP.subVectors(va,this.start),_startEnd.subVectors(this.end,this.start);var eo=_startEnd.dot(_startEnd),to=_startEnd.dot(_startP),ro=to/eo;return _a&&(ro=MathUtils.clamp(ro,0,1)),ro},closestPointToPoint:function(va,_a,eo){var to=this.closestPointToPointParameter(va,_a);return eo===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),eo=new Vector3),this.delta(eo).multiplyScalar(to).add(this.start)},applyMatrix4:function(va){return this.start.applyMatrix4(va),this.end.applyMatrix4(va),this},equals:function(va){return va.start.equals(this.start)&&va.end.equals(this.end)}});function ImmediateRenderObject(va){Object3D.call(this),this.material=va,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}ImmediateRenderObject.prototype=Object.create(Object3D.prototype);ImmediateRenderObject.prototype.constructor=ImmediateRenderObject;ImmediateRenderObject.prototype.isImmediateRenderObject=!0;var _vector$8=new Vector3;function SpotLightHelper(va,_a){Object3D.call(this),this.light=va,this.light.updateMatrixWorld(),this.matrix=va.matrixWorld,this.matrixAutoUpdate=!1,this.color=_a;for(var eo=new BufferGeometry,to=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],ro=0,no=1,io=32;ro<io;ro++,no++){var ao=ro/io*Math.PI*2,oo=no/io*Math.PI*2;to.push(Math.cos(ao),Math.sin(ao),1,Math.cos(oo),Math.sin(oo),1)}eo.setAttribute("position",new Float32BufferAttribute(to,3));var so=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(eo,so),this.add(this.cone),this.update()}SpotLightHelper.prototype=Object.create(Object3D.prototype);SpotLightHelper.prototype.constructor=SpotLightHelper;SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};SpotLightHelper.prototype.update=function(){this.light.updateMatrixWorld();var va=this.light.distance?this.light.distance:1e3,_a=va*Math.tan(this.light.angle);this.cone.scale.set(_a,_a,va),_vector$8.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$8),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var _vector$9=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;function getBoneList(va){var _a=[];va&&va.isBone&&_a.push(va);for(var eo=0;eo<va.children.length;eo++)_a.push.apply(_a,getBoneList(va.children[eo]));return _a}function SkeletonHelper(va){for(var _a=getBoneList(va),eo=new BufferGeometry,to=[],ro=[],no=new Color(0,0,1),io=new Color(0,1,0),ao=0;ao<_a.length;ao++){var oo=_a[ao];oo.parent&&oo.parent.isBone&&(to.push(0,0,0),to.push(0,0,0),ro.push(no.r,no.g,no.b),ro.push(io.r,io.g,io.b))}eo.setAttribute("position",new Float32BufferAttribute(to,3)),eo.setAttribute("color",new Float32BufferAttribute(ro,3));var so=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});LineSegments.call(this,eo,so),this.type="SkeletonHelper",this.root=va,this.bones=_a,this.matrix=va.matrixWorld,this.matrixAutoUpdate=!1}SkeletonHelper.prototype=Object.create(LineSegments.prototype);SkeletonHelper.prototype.constructor=SkeletonHelper;SkeletonHelper.prototype.isSkeletonHelper=!0;SkeletonHelper.prototype.updateMatrixWorld=function(va){var _a=this.bones,eo=this.geometry,to=eo.getAttribute("position");_matrixWorldInv.getInverse(this.root.matrixWorld);for(var ro=0,no=0;ro<_a.length;ro++){var io=_a[ro];io.parent&&io.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,io.matrixWorld),_vector$9.setFromMatrixPosition(_boneMatrix),to.setXYZ(no,_vector$9.x,_vector$9.y,_vector$9.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,io.parent.matrixWorld),_vector$9.setFromMatrixPosition(_boneMatrix),to.setXYZ(no+1,_vector$9.x,_vector$9.y,_vector$9.z),no+=2)}eo.getAttribute("position").needsUpdate=!0,Object3D.prototype.updateMatrixWorld.call(this,va)};function PointLightHelper(va,_a,eo){this.light=va,this.light.updateMatrixWorld(),this.color=eo;var to=new SphereBufferGeometry(_a,4,2),ro=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});Mesh.call(this,to,ro),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}PointLightHelper.prototype=Object.create(Mesh.prototype);PointLightHelper.prototype.constructor=PointLightHelper;PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};PointLightHelper.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var _vector$a=new Vector3,_color1=new Color,_color2=new Color;function HemisphereLightHelper(va,_a,eo){Object3D.call(this),this.light=va,this.light.updateMatrixWorld(),this.matrix=va.matrixWorld,this.matrixAutoUpdate=!1,this.color=eo;var to=new OctahedronBufferGeometry(_a);to.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);var ro=to.getAttribute("position"),no=new Float32Array(ro.count*3);to.setAttribute("color",new BufferAttribute(no,3)),this.add(new Mesh(to,this.material)),this.update()}HemisphereLightHelper.prototype=Object.create(Object3D.prototype);HemisphereLightHelper.prototype.constructor=HemisphereLightHelper;HemisphereLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};HemisphereLightHelper.prototype.update=function(){var va=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var _a=va.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(var eo=0,to=_a.count;eo<to;eo++){var ro=eo<to/2?_color1:_color2;_a.setXYZ(eo,ro.r,ro.g,ro.b)}_a.needsUpdate=!0}va.lookAt(_vector$a.setFromMatrixPosition(this.light.matrixWorld).negate())};function GridHelper(va,_a,eo,to){va=va||10,_a=_a||10,eo=new Color(eo!==void 0?eo:4473924),to=new Color(to!==void 0?to:8947848);for(var ro=_a/2,no=va/_a,io=va/2,ao=[],oo=[],so=0,uo=0,co=-io;so<=_a;so++,co+=no){ao.push(-io,0,co,io,0,co),ao.push(co,0,-io,co,0,io);var fo=so===ro?eo:to;fo.toArray(oo,uo),uo+=3,fo.toArray(oo,uo),uo+=3,fo.toArray(oo,uo),uo+=3,fo.toArray(oo,uo),uo+=3}var po=new BufferGeometry;po.setAttribute("position",new Float32BufferAttribute(ao,3)),po.setAttribute("color",new Float32BufferAttribute(oo,3));var vo=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});LineSegments.call(this,po,vo),this.type="GridHelper"}GridHelper.prototype=Object.assign(Object.create(LineSegments.prototype),{constructor:GridHelper,copy:function(va){return LineSegments.prototype.copy.call(this,va),this.geometry.copy(va.geometry),this.material.copy(va.material),this},clone:function(){return new this.constructor().copy(this)}});function PolarGridHelper(va,_a,eo,to,ro,no){va=va||10,_a=_a||16,eo=eo||8,to=to||64,ro=new Color(ro!==void 0?ro:4473924),no=new Color(no!==void 0?no:8947848);var io=[],ao=[],oo,so,uo,co,fo,po,vo;for(co=0;co<=_a;co++)uo=co/_a*(Math.PI*2),oo=Math.sin(uo)*va,so=Math.cos(uo)*va,io.push(0,0,0),io.push(oo,0,so),vo=co&1?ro:no,ao.push(vo.r,vo.g,vo.b),ao.push(vo.r,vo.g,vo.b);for(co=0;co<=eo;co++)for(vo=co&1?ro:no,po=va-va/eo*co,fo=0;fo<to;fo++)uo=fo/to*(Math.PI*2),oo=Math.sin(uo)*po,so=Math.cos(uo)*po,io.push(oo,0,so),ao.push(vo.r,vo.g,vo.b),uo=(fo+1)/to*(Math.PI*2),oo=Math.sin(uo)*po,so=Math.cos(uo)*po,io.push(oo,0,so),ao.push(vo.r,vo.g,vo.b);var go=new BufferGeometry;go.setAttribute("position",new Float32BufferAttribute(io,3)),go.setAttribute("color",new Float32BufferAttribute(ao,3));var mo=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});LineSegments.call(this,go,mo),this.type="PolarGridHelper"}PolarGridHelper.prototype=Object.create(LineSegments.prototype);PolarGridHelper.prototype.constructor=PolarGridHelper;var _v1$5=new Vector3,_v2$3=new Vector3,_v3$1=new Vector3;function DirectionalLightHelper(va,_a,eo){Object3D.call(this),this.light=va,this.light.updateMatrixWorld(),this.matrix=va.matrixWorld,this.matrixAutoUpdate=!1,this.color=eo,_a===void 0&&(_a=1);var to=new BufferGeometry;to.setAttribute("position",new Float32BufferAttribute([-_a,_a,0,_a,_a,0,_a,-_a,0,-_a,-_a,0,-_a,_a,0],3));var ro=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(to,ro),this.add(this.lightPlane),to=new BufferGeometry,to.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(to,ro),this.add(this.targetLine),this.update()}DirectionalLightHelper.prototype=Object.create(Object3D.prototype);DirectionalLightHelper.prototype.constructor=DirectionalLightHelper;DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};DirectionalLightHelper.prototype.update=function(){_v1$5.setFromMatrixPosition(this.light.matrixWorld),_v2$3.setFromMatrixPosition(this.light.target.matrixWorld),_v3$1.subVectors(_v2$3,_v1$5),this.lightPlane.lookAt(_v2$3),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2$3),this.targetLine.scale.z=_v3$1.length()};var _vector$b=new Vector3,_camera=new Camera;function CameraHelper(va){var _a=new BufferGeometry,eo=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),to=[],ro=[],no={},io=new Color(16755200),ao=new Color(16711680),oo=new Color(43775),so=new Color(16777215),uo=new Color(3355443);co("n1","n2",io),co("n2","n4",io),co("n4","n3",io),co("n3","n1",io),co("f1","f2",io),co("f2","f4",io),co("f4","f3",io),co("f3","f1",io),co("n1","f1",io),co("n2","f2",io),co("n3","f3",io),co("n4","f4",io),co("p","n1",ao),co("p","n2",ao),co("p","n3",ao),co("p","n4",ao),co("u1","u2",oo),co("u2","u3",oo),co("u3","u1",oo),co("c","t",so),co("p","c",uo),co("cn1","cn2",uo),co("cn3","cn4",uo),co("cf1","cf2",uo),co("cf3","cf4",uo);function co(po,vo,go){fo(po,go),fo(vo,go)}function fo(po,vo){to.push(0,0,0),ro.push(vo.r,vo.g,vo.b),no[po]===void 0&&(no[po]=[]),no[po].push(to.length/3-1)}_a.setAttribute("position",new Float32BufferAttribute(to,3)),_a.setAttribute("color",new Float32BufferAttribute(ro,3)),LineSegments.call(this,_a,eo),this.type="CameraHelper",this.camera=va,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=va.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=no,this.update()}CameraHelper.prototype=Object.create(LineSegments.prototype);CameraHelper.prototype.constructor=CameraHelper;CameraHelper.prototype.update=function(){var va=this.geometry,_a=this.pointMap,eo=1,to=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",_a,va,_camera,0,0,-1),setPoint("t",_a,va,_camera,0,0,1),setPoint("n1",_a,va,_camera,-eo,-to,-1),setPoint("n2",_a,va,_camera,eo,-to,-1),setPoint("n3",_a,va,_camera,-eo,to,-1),setPoint("n4",_a,va,_camera,eo,to,-1),setPoint("f1",_a,va,_camera,-eo,-to,1),setPoint("f2",_a,va,_camera,eo,-to,1),setPoint("f3",_a,va,_camera,-eo,to,1),setPoint("f4",_a,va,_camera,eo,to,1),setPoint("u1",_a,va,_camera,eo*.7,to*1.1,-1),setPoint("u2",_a,va,_camera,-eo*.7,to*1.1,-1),setPoint("u3",_a,va,_camera,0,to*2,-1),setPoint("cf1",_a,va,_camera,-eo,0,1),setPoint("cf2",_a,va,_camera,eo,0,1),setPoint("cf3",_a,va,_camera,0,-to,1),setPoint("cf4",_a,va,_camera,0,to,1),setPoint("cn1",_a,va,_camera,-eo,0,-1),setPoint("cn2",_a,va,_camera,eo,0,-1),setPoint("cn3",_a,va,_camera,0,-to,-1),setPoint("cn4",_a,va,_camera,0,to,-1),va.getAttribute("position").needsUpdate=!0};function setPoint(va,_a,eo,to,ro,no,io){_vector$b.set(ro,no,io).unproject(to);var ao=_a[va];if(ao!==void 0)for(var oo=eo.getAttribute("position"),so=0,uo=ao.length;so<uo;so++)oo.setXYZ(ao[so],_vector$b.x,_vector$b.y,_vector$b.z)}var _box$3=new Box3;function BoxHelper(va,_a){this.object=va,_a===void 0&&(_a=16776960);var eo=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),to=new Float32Array(8*3),ro=new BufferGeometry;ro.setIndex(new BufferAttribute(eo,1)),ro.setAttribute("position",new BufferAttribute(to,3)),LineSegments.call(this,ro,new LineBasicMaterial({color:_a,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}BoxHelper.prototype=Object.create(LineSegments.prototype);BoxHelper.prototype.constructor=BoxHelper;BoxHelper.prototype.update=function(va){if(va!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box$3.setFromObject(this.object),!_box$3.isEmpty()){var _a=_box$3.min,eo=_box$3.max,to=this.geometry.attributes.position,ro=to.array;ro[0]=eo.x,ro[1]=eo.y,ro[2]=eo.z,ro[3]=_a.x,ro[4]=eo.y,ro[5]=eo.z,ro[6]=_a.x,ro[7]=_a.y,ro[8]=eo.z,ro[9]=eo.x,ro[10]=_a.y,ro[11]=eo.z,ro[12]=eo.x,ro[13]=eo.y,ro[14]=_a.z,ro[15]=_a.x,ro[16]=eo.y,ro[17]=_a.z,ro[18]=_a.x,ro[19]=_a.y,ro[20]=_a.z,ro[21]=eo.x,ro[22]=_a.y,ro[23]=_a.z,to.needsUpdate=!0,this.geometry.computeBoundingSphere()}};BoxHelper.prototype.setFromObject=function(va){return this.object=va,this.update(),this};BoxHelper.prototype.copy=function(va){return LineSegments.prototype.copy.call(this,va),this.object=va.object,this};BoxHelper.prototype.clone=function(){return new this.constructor().copy(this)};function Box3Helper(va,_a){this.type="Box3Helper",this.box=va,_a=_a||16776960;var eo=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),to=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],ro=new BufferGeometry;ro.setIndex(new BufferAttribute(eo,1)),ro.setAttribute("position",new Float32BufferAttribute(to,3)),LineSegments.call(this,ro,new LineBasicMaterial({color:_a,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}Box3Helper.prototype=Object.create(LineSegments.prototype);Box3Helper.prototype.constructor=Box3Helper;Box3Helper.prototype.updateMatrixWorld=function(va){var _a=this.box;_a.isEmpty()||(_a.getCenter(this.position),_a.getSize(this.scale),this.scale.multiplyScalar(.5),Object3D.prototype.updateMatrixWorld.call(this,va))};function PlaneHelper(va,_a,eo){this.plane=va,this.size=_a===void 0?1:_a;var to=eo!==void 0?eo:16776960,ro=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],no=new BufferGeometry;no.setAttribute("position",new Float32BufferAttribute(ro,3)),no.computeBoundingSphere(),Line.call(this,no,new LineBasicMaterial({color:to,toneMapped:!1})),this.type="PlaneHelper";var io=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],ao=new BufferGeometry;ao.setAttribute("position",new Float32BufferAttribute(io,3)),ao.computeBoundingSphere(),this.add(new Mesh(ao,new MeshBasicMaterial({color:to,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}PlaneHelper.prototype=Object.create(Line.prototype);PlaneHelper.prototype.constructor=PlaneHelper;PlaneHelper.prototype.updateMatrixWorld=function(va){var _a=-this.plane.constant;Math.abs(_a)<1e-8&&(_a=1e-8),this.scale.set(.5*this.size,.5*this.size,_a),this.children[0].material.side=_a<0?BackSide:FrontSide,this.lookAt(this.plane.normal),Object3D.prototype.updateMatrixWorld.call(this,va)};var _axis=new Vector3,_lineGeometry,_coneGeometry;function ArrowHelper(va,_a,eo,to,ro,no){Object3D.call(this),this.type="ArrowHelper",va===void 0&&(va=new Vector3(0,0,1)),_a===void 0&&(_a=new Vector3(0,0,0)),eo===void 0&&(eo=1),to===void 0&&(to=16776960),ro===void 0&&(ro=.2*eo),no===void 0&&(no=.2*ro),_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderBufferGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(_a),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:to,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:to,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(va),this.setLength(eo,ro,no)}ArrowHelper.prototype=Object.create(Object3D.prototype);ArrowHelper.prototype.constructor=ArrowHelper;ArrowHelper.prototype.setDirection=function(va){if(va.y>.99999)this.quaternion.set(0,0,0,1);else if(va.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(va.z,0,-va.x).normalize();var _a=Math.acos(va.y);this.quaternion.setFromAxisAngle(_axis,_a)}};ArrowHelper.prototype.setLength=function(va,_a,eo){_a===void 0&&(_a=.2*va),eo===void 0&&(eo=.2*_a),this.line.scale.set(1,Math.max(1e-4,va-_a),1),this.line.updateMatrix(),this.cone.scale.set(eo,_a,eo),this.cone.position.y=va,this.cone.updateMatrix()};ArrowHelper.prototype.setColor=function(va){this.line.material.color.set(va),this.cone.material.color.set(va)};ArrowHelper.prototype.copy=function(va){return Object3D.prototype.copy.call(this,va,!1),this.line.copy(va.line),this.cone.copy(va.cone),this};ArrowHelper.prototype.clone=function(){return new this.constructor().copy(this)};function AxesHelper(va){va=va||1;var _a=[0,0,0,va,0,0,0,0,0,0,va,0,0,0,0,0,0,va],eo=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],to=new BufferGeometry;to.setAttribute("position",new Float32BufferAttribute(_a,3)),to.setAttribute("color",new Float32BufferAttribute(eo,3));var ro=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});LineSegments.call(this,to,ro),this.type="AxesHelper"}AxesHelper.prototype=Object.create(LineSegments.prototype);AxesHelper.prototype.constructor=AxesHelper;var LOD_MIN=4,LOD_MAX=8,SIZE_MAX=Math.pow(2,LOD_MAX),EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],TOTAL_LODS=LOD_MAX-LOD_MIN+1+EXTRA_LOD_SIGMA.length,MAX_SAMPLES=20,ENCODINGS={[LinearEncoding]:0,[sRGBEncoding]:1,[RGBEEncoding]:2,[RGBM7Encoding]:3,[RGBM16Encoding]:4,[RGBDEncoding]:5,[GammaEncoding]:6},_flatCamera=new OrthographicCamera,{_lodPlanes,_sizeLods,_sigmas}=_createPlanes(),_oldTarget=null,PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];function PMREMGenerator(va){this._renderer=va,this._pingPongRenderTarget=null,this._blurMaterial=_getBlurShader(MAX_SAMPLES),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}PMREMGenerator.prototype={constructor:PMREMGenerator,fromScene:function(va,_a=0,eo=.1,to=100){_oldTarget=this._renderer.getRenderTarget();var ro=this._allocateTargets();return this._sceneToCubeUV(va,eo,to,ro),_a>0&&this._blur(ro,0,0,_a),this._applyPMREM(ro),this._cleanup(ro),ro},fromEquirectangular:function(va){return va.magFilter=NearestFilter,va.minFilter=NearestFilter,va.generateMipmaps=!1,this.fromCubemap(va)},fromCubemap:function(va){_oldTarget=this._renderer.getRenderTarget();var _a=this._allocateTargets(va);return this._textureToCubeUV(va,_a),this._applyPMREM(_a),this._cleanup(_a),_a},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=_getCubemapShader(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=_getEquirectShader(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(var va=0;va<_lodPlanes.length;va++)_lodPlanes[va].dispose()},_cleanup:function(va){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(_oldTarget),va.scissorTest=!1,va.setSize(va.width,va.height)},_allocateTargets:function(va){var _a={magFilter:NearestFilter,minFilter:NearestFilter,generateMipmaps:!1,type:UnsignedByteType,format:RGBEFormat,encoding:_isLDR(va)?va.encoding:RGBEEncoding,depthBuffer:!1,stencilBuffer:!1},eo=_createRenderTarget(_a);return eo.depthBuffer=!va,this._pingPongRenderTarget=_createRenderTarget(_a),eo},_compileMaterial:function(va){var _a=new Mesh(_lodPlanes[0],va);this._renderer.compile(_a,_flatCamera)},_sceneToCubeUV:function(va,_a,eo,to){var ro=90,no=1,io=new PerspectiveCamera(ro,no,_a,eo),ao=[1,-1,1,1,1,1],oo=[1,1,1,-1,-1,-1],so=this._renderer,uo=so.outputEncoding,co=so.toneMapping,fo=so.toneMappingExposure,po=so.getClearColor(),vo=so.getClearAlpha();so.toneMapping=LinearToneMapping,so.toneMappingExposure=1,so.outputEncoding=LinearEncoding;var go=va.background;if(go&&go.isColor){go.convertSRGBToLinear();var mo=Math.max(go.r,go.g,go.b),lo=Math.min(Math.max(Math.ceil(Math.log2(mo)),-128),127);go=go.multiplyScalar(Math.pow(2,-lo));var ho=(lo+128)/255;so.setClearColor(go,ho),va.background=null}for(var yo=0;yo<6;yo++){var Ao=yo%3;Ao==0?(io.up.set(0,ao[yo],0),io.lookAt(oo[yo],0,0)):Ao==1?(io.up.set(0,0,ao[yo]),io.lookAt(0,oo[yo],0)):(io.up.set(0,ao[yo],0),io.lookAt(0,0,oo[yo])),_setViewport(to,Ao*SIZE_MAX,yo>2?SIZE_MAX:0,SIZE_MAX,SIZE_MAX),so.setRenderTarget(to),so.render(va,io)}so.toneMapping=co,so.toneMappingExposure=fo,so.outputEncoding=uo,so.setClearColor(po,vo)},_textureToCubeUV:function(va,_a){var eo=this._renderer;va.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=_getCubemapShader()):this._equirectShader==null&&(this._equirectShader=_getEquirectShader());var to=va.isCubeTexture?this._cubemapShader:this._equirectShader,ro=new Mesh(_lodPlanes[0],to),no=to.uniforms;no.envMap.value=va,va.isCubeTexture||no.texelSize.value.set(1/va.image.width,1/va.image.height),no.inputEncoding.value=ENCODINGS[va.encoding],no.outputEncoding.value=ENCODINGS[_a.texture.encoding],_setViewport(_a,0,0,3*SIZE_MAX,2*SIZE_MAX),eo.setRenderTarget(_a),eo.render(ro,_flatCamera)},_applyPMREM:function(va){var _a=this._renderer,eo=_a.autoClear;_a.autoClear=!1;for(var to=1;to<TOTAL_LODS;to++){var ro=Math.sqrt(_sigmas[to]*_sigmas[to]-_sigmas[to-1]*_sigmas[to-1]),no=_axisDirections[(to-1)%_axisDirections.length];this._blur(va,to-1,to,ro,no)}_a.autoClear=eo},_blur:function(va,_a,eo,to,ro){var no=this._pingPongRenderTarget;this._halfBlur(va,no,_a,eo,to,"latitudinal",ro),this._halfBlur(no,va,eo,eo,to,"longitudinal",ro)},_halfBlur:function(va,_a,eo,to,ro,no,io){var ao=this._renderer,oo=this._blurMaterial;no!=="latitudinal"&&no!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");var so=3,uo=new Mesh(_lodPlanes[to],oo),co=oo.uniforms,fo=_sizeLods[eo]-1,po=isFinite(ro)?Math.PI/(2*fo):2*Math.PI/(2*MAX_SAMPLES-1),vo=ro/po,go=isFinite(ro)?1+Math.floor(so*vo):MAX_SAMPLES;go>MAX_SAMPLES&&console.warn(`sigmaRadians, ${ro}, is too large and will clip, as it requested ${go} samples when the maximum is set to ${MAX_SAMPLES}`);for(var mo=[],lo=0,ho=0;ho<MAX_SAMPLES;++ho){var Eo=ho/vo,yo=Math.exp(-Eo*Eo/2);mo.push(yo),ho==0?lo+=yo:ho<go&&(lo+=2*yo)}for(var ho=0;ho<mo.length;ho++)mo[ho]=mo[ho]/lo;co.envMap.value=va.texture,co.samples.value=go,co.weights.value=mo,co.latitudinal.value=no==="latitudinal",io&&(co.poleAxis.value=io),co.dTheta.value=po,co.mipInt.value=LOD_MAX-eo,co.inputEncoding.value=ENCODINGS[va.texture.encoding],co.outputEncoding.value=ENCODINGS[va.texture.encoding];var Ao=_sizeLods[to],Eo=3*Math.max(0,SIZE_MAX-2*Ao),To=(to===0?0:2*SIZE_MAX)+2*Ao*(to>LOD_MAX-LOD_MIN?to-LOD_MAX+LOD_MIN:0);_setViewport(_a,Eo,To,3*Ao,2*Ao),ao.setRenderTarget(_a),ao.render(uo,_flatCamera)}};function _isLDR(va){return va===void 0||va.type!==UnsignedByteType?!1:va.encoding===LinearEncoding||va.encoding===sRGBEncoding||va.encoding===GammaEncoding}function _createPlanes(){for(var va=[],_a=[],eo=[],to=LOD_MAX,ro=0;ro<TOTAL_LODS;ro++){var no=Math.pow(2,to);_a.push(no);var io=1/no;ro>LOD_MAX-LOD_MIN?io=EXTRA_LOD_SIGMA[ro-LOD_MAX+LOD_MIN-1]:ro==0&&(io=0),eo.push(io);for(var ao=1/(no-1),oo=-ao/2,so=1+ao/2,uo=[oo,oo,so,oo,so,so,oo,oo,so,so,oo,so],co=6,fo=6,po=3,vo=2,go=1,mo=new Float32Array(po*fo*co),lo=new Float32Array(vo*fo*co),ho=new Float32Array(go*fo*co),yo=0;yo<co;yo++){var Ao=yo%3*2/3-1,Eo=yo>2?0:-1,To=[Ao,Eo,0,Ao+2/3,Eo,0,Ao+2/3,Eo+1,0,Ao,Eo,0,Ao+2/3,Eo+1,0,Ao,Eo+1,0];mo.set(To,po*fo*yo),lo.set(uo,vo*fo*yo);var No=[yo,yo,yo,yo,yo,yo];ho.set(No,go*fo*yo)}var Co=new BufferGeometry;Co.setAttribute("position",new BufferAttribute(mo,po)),Co.setAttribute("uv",new BufferAttribute(lo,vo)),Co.setAttribute("faceIndex",new BufferAttribute(ho,go)),va.push(Co),to>LOD_MIN&&to--}return{_lodPlanes:va,_sizeLods:_a,_sigmas:eo}}function _createRenderTarget(va){var _a=new WebGLRenderTarget(3*SIZE_MAX,3*SIZE_MAX,va);return _a.texture.mapping=CubeUVReflectionMapping,_a.texture.name="PMREM.cubeUv",_a.scissorTest=!0,_a}function _setViewport(va,_a,eo,to,ro){va.viewport.set(_a,eo,to,ro),va.scissor.set(_a,eo,to,ro)}function _getBlurShader(va){var _a=new Float32Array(va),eo=new Vector3(0,1,0),to=new RawShaderMaterial({defines:{n:va},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:_a},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:eo},inputEncoding:{value:ENCODINGS[LinearEncoding]},outputEncoding:{value:ENCODINGS[LinearEncoding]}},vertexShader:_getCommonVertexShader(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

${_getEncodings()}

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1});return to.type="SphericalGaussianBlur",to}function _getEquirectShader(){var va=new Vector2(1,1),_a=new RawShaderMaterial({uniforms:{envMap:{value:null},texelSize:{value:va},inputEncoding:{value:ENCODINGS[LinearEncoding]},outputEncoding:{value:ENCODINGS[LinearEncoding]}},vertexShader:_getCommonVertexShader(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

${_getEncodings()}

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1});return _a.type="EquirectangularToCubeUV",_a}function _getCubemapShader(){var va=new RawShaderMaterial({uniforms:{envMap:{value:null},inputEncoding:{value:ENCODINGS[LinearEncoding]},outputEncoding:{value:ENCODINGS[LinearEncoding]}},vertexShader:_getCommonVertexShader(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

${_getEncodings()}

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1});return va.type="CubemapToCubeUV",va}function _getCommonVertexShader(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function _getEncodings(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}function Face4(va,_a,eo,to,ro,no,io){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Face3(va,_a,eo,ro,no,io)}var LineStrip=0,LinePieces=1,NoColors=0,FaceColors=1,VertexColors=2;function MeshFaceMaterial(va){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),va}function MultiMaterial(va){return va===void 0&&(va=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),va.isMultiMaterial=!0,va.materials=va,va.clone=function(){return va.slice()},va}function PointCloud(va,_a){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Points(va,_a)}function Particle(va){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Sprite(va)}function ParticleSystem(va,_a){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Points(va,_a)}function PointCloudMaterial(va){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(va)}function ParticleBasicMaterial(va){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(va)}function ParticleSystemMaterial(va){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(va)}function Vertex(va,_a,eo){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Vector3(va,_a,eo)}function DynamicBufferAttribute(va,_a){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new BufferAttribute(va,_a).setUsage(DynamicDrawUsage)}function Int8Attribute(va,_a){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Int8BufferAttribute(va,_a)}function Uint8Attribute(va,_a){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Uint8BufferAttribute(va,_a)}function Uint8ClampedAttribute(va,_a){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Uint8ClampedBufferAttribute(va,_a)}function Int16Attribute(va,_a){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Int16BufferAttribute(va,_a)}function Uint16Attribute(va,_a){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Uint16BufferAttribute(va,_a)}function Int32Attribute(va,_a){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Int32BufferAttribute(va,_a)}function Uint32Attribute(va,_a){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Uint32BufferAttribute(va,_a)}function Float32Attribute(va,_a){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Float32BufferAttribute(va,_a)}function Float64Attribute(va,_a){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Float64BufferAttribute(va,_a)}Curve.create=function(va,_a){return console.log("THREE.Curve.create() has been deprecated"),va.prototype=Object.create(Curve.prototype),va.prototype.constructor=va,va.prototype.getPoint=_a,va};Object.assign(CurvePath.prototype,{createPointsGeometry:function(va){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var _a=this.getPoints(va);return this.createGeometry(_a)},createSpacedPointsGeometry:function(va){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var _a=this.getSpacedPoints(va);return this.createGeometry(_a)},createGeometry:function(va){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var _a=new Geometry,eo=0,to=va.length;eo<to;eo++){var ro=va[eo];_a.vertices.push(new Vector3(ro.x,ro.y,ro.z||0))}return _a}});Object.assign(Path.prototype,{fromPoints:function(va){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(va)}});function ClosedSplineCurve3(va){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,va),this.type="catmullrom",this.closed=!0}ClosedSplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype);function SplineCurve3(va){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,va),this.type="catmullrom"}SplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype);function Spline(va){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,va),this.type="catmullrom"}Spline.prototype=Object.create(CatmullRomCurve3.prototype);Object.assign(Spline.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function AxisHelper(va){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new AxesHelper(va)}function BoundingBoxHelper(va,_a){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new BoxHelper(va,_a)}function EdgesHelper(va,_a){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new LineSegments(new EdgesGeometry(va.geometry),new LineBasicMaterial({color:_a!==void 0?_a:16777215}))}GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};SkeletonHelper.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function WireframeHelper(va,_a){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new LineSegments(new WireframeGeometry(va.geometry),new LineBasicMaterial({color:_a!==void 0?_a:16777215}))}Object.assign(Loader.prototype,{extractUrlBase:function(va){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),LoaderUtils.extractUrlBase(va)}});Loader.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function XHRLoader(va){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new FileLoader(va)}function BinaryTextureLoader(va){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new DataTextureLoader(va)}Object.assign(ObjectLoader.prototype,{setTexturePath:function(va){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(va)}});Object.assign(Box2.prototype,{center:function(va){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(va)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(va){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(va)},size:function(va){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(va)}});Object.assign(Box3.prototype,{center:function(va){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(va)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(va){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(va)},isIntersectionSphere:function(va){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(va)},size:function(va){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(va)}});Object.assign(Sphere.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});Frustum.prototype.setFromMatrix=function(va){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(va)};Line3.prototype.center=function(va){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(va)};Object.assign(MathUtils,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(va){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),MathUtils.floorPowerOfTwo(va)},nextPowerOfTwo:function(va){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),MathUtils.ceilPowerOfTwo(va)}});Object.assign(Matrix3.prototype,{flattenToArrayOffset:function(va,_a){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(va,_a)},multiplyVector3:function(va){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),va.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(va){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),va.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(Matrix4.prototype,{extractPosition:function(va){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(va)},flattenToArrayOffset:function(va,_a){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(va,_a)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Vector3().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(va){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(va)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(va){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),va.applyMatrix4(this)},multiplyVector4:function(va){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),va.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(va){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),va.transformDirection(this)},crossVector:function(va){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),va.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(va){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),va.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(va,_a,eo,to,ro,no){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(va,_a,to,eo,ro,no)}});Plane.prototype.isIntersectionLine=function(va){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(va)};Quaternion.prototype.multiplyVector3=function(va){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),va.applyQuaternion(this)};Object.assign(Ray.prototype,{isIntersectionBox:function(va){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(va)},isIntersectionPlane:function(va){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(va)},isIntersectionSphere:function(va){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(va)}});Object.assign(Triangle.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(va,_a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(va,_a)},midpoint:function(va){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(va)},normal:function(va){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(va)},plane:function(va){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(va)}});Object.assign(Triangle,{barycoordFromPoint:function(va,_a,eo,to,ro){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Triangle.getBarycoord(va,_a,eo,to,ro)},normal:function(va,_a,eo,to){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Triangle.getNormal(va,_a,eo,to)}});Object.assign(Shape.prototype,{extractAllPoints:function(va){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(va)},extrude:function(va){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,va)},makeGeometry:function(va){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,va)}});Object.assign(Vector2.prototype,{fromAttribute:function(va,_a,eo){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(va,_a,eo)},distanceToManhattan:function(va){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(va)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(va){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(va)},getScaleFromMatrix:function(va){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(va)},getColumnFromMatrix:function(va,_a){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(_a,va)},applyProjection:function(va){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(va)},fromAttribute:function(va,_a,eo){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(va,_a,eo)},distanceToManhattan:function(va){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(va)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Vector4.prototype,{fromAttribute:function(va,_a,eo){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(va,_a,eo)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Geometry.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(va){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(va)}});Object.assign(Object3D.prototype,{getChildByName:function(va){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(va)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(va,_a){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(_a,va)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(va){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(va)}});Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(va){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=va}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Mesh.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Mesh.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),TrianglesDrawMode},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(LOD.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Skeleton.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});SkinnedMesh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Curve.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(va){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=va}});PerspectiveCamera.prototype.setLens=function(va,_a){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),_a!==void 0&&(this.filmGauge=_a),this.setFocalLength(va)};Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(va){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=va}},shadowCameraLeft:{set:function(va){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=va}},shadowCameraRight:{set:function(va){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=va}},shadowCameraTop:{set:function(va){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=va}},shadowCameraBottom:{set:function(va){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=va}},shadowCameraNear:{set:function(va){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=va}},shadowCameraFar:{set:function(va){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=va}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(va){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=va}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(va){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=va}},shadowMapHeight:{set:function(va){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=va}}});Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===DynamicDrawUsage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(DynamicDrawUsage)}}});Object.assign(BufferAttribute.prototype,{setDynamic:function(va){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(va===!0?DynamicDrawUsage:StaticDrawUsage),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(BufferGeometry.prototype,{addIndex:function(va){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(va)},addAttribute:function(va,_a){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(_a&&_a.isBufferAttribute)&&!(_a&&_a.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(va,new BufferAttribute(arguments[1],arguments[2]))):va==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(_a),this):this.setAttribute(va,_a)},addDrawCall:function(va,_a,eo){eo!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(va,_a)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(va){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(va)},applyMatrix:function(va){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(va)}});Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(InstancedBufferGeometry.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(va){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=va}}});Object.defineProperties(Raycaster.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(va){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=va}}});Object.defineProperties(InterleavedBuffer.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===DynamicDrawUsage},set:function(va){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(va)}}});Object.assign(InterleavedBuffer.prototype,{setDynamic:function(va){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(va===!0?DynamicDrawUsage:StaticDrawUsage),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(ExtrudeBufferGeometry.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Uniform.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(va){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=va===FlatShading}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(va){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=va}}});Object.defineProperties(MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(va){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=va}}});Object.assign(WebGLRenderer.prototype,{clearTarget:function(va,_a,eo,to){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(va),this.clear(_a,eo,to)},animate:function(va){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(va)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(va){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(va)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(va){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=va}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(va){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=va}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(va){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=va===!0?sRGBEncoding:LinearEncoding}}});Object.defineProperties(WebGLShadowMap.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function WebGLRenderTargetCube(va,_a,eo){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new WebGLCubeRenderTarget(va,eo)}Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(va){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=va}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(va){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=va}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(va){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=va}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(va){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=va}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(va){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=va}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(va){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=va}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(va){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=va}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(va){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=va}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(va){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=va}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(va){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=va}}});Object.defineProperties(Audio.prototype,{load:{value:function(va){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var _a=this,eo=new AudioLoader;return eo.load(va,function(to){_a.setBuffer(to)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});AudioAnalyser.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};CubeCamera.prototype.updateCubeMap=function(va,_a){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(va,_a)};var GeometryUtils={merge:function(va,_a,eo){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var to;_a.isMesh&&(_a.matrixAutoUpdate&&_a.updateMatrix(),to=_a.matrix,_a=_a.geometry),va.merge(_a,to,eo)},center:function(va){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),va.center()}};ImageUtils.crossOrigin=void 0;ImageUtils.loadTexture=function(va,_a,eo,to){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var ro=new TextureLoader;ro.setCrossOrigin(this.crossOrigin);var no=ro.load(va,eo,void 0,to);return _a&&(no.mapping=_a),no};ImageUtils.loadTextureCube=function(va,_a,eo,to){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var ro=new CubeTextureLoader;ro.setCrossOrigin(this.crossOrigin);var no=ro.load(va,eo,void 0,to);return _a&&(no.mapping=_a),no};ImageUtils.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ImageUtils.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function CanvasRenderer(){console.error("THREE.CanvasRenderer has been removed")}function JSONLoader(){console.error("THREE.JSONLoader has been removed.")}var SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function LensFlare(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));var THREE=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,AxisHelper,BackSide,BasicDepthPacking,BasicShadowMap,BinaryTextureLoader,Bone,BooleanKeyframeTrack,BoundingBoxHelper,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasRenderer,CanvasTexture,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,ClosedSplineCurve3,Color,ColorKeyframeTrack,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeGeometry:BoxGeometry,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubeUVRefractionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CylinderBufferGeometry,CylinderGeometry,Cylindrical,DataTexture,DataTexture2DArray,DataTexture3D,DataTextureLoader,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DirectionalLightShadow,DiscreteInterpolant,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicBufferAttribute,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EdgesHelper,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,Face3,Face4,FaceColors,FileLoader,FlatShading,Float32Attribute,Float32BufferAttribute,Float64Attribute,Float64BufferAttribute,FloatType,Fog,FogExp2,Font,FontLoader,FrontFaceDirectionCCW,FrontFaceDirectionCW,FrontSide,Frustum,GammaEncoding,Geometry,GeometryUtils,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group:Group$1,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,ImmediateRenderObject,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16Attribute,Int16BufferAttribute,Int32Attribute,Int32BufferAttribute,Int8Attribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,JSONLoader,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LensFlare,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,LightShadow,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LinePieces,LineSegments,LineStrip,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LogLuvEncoding,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,Math:MathUtils,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshFaceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiMaterial,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColors,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,ParametricBufferGeometry,ParametricGeometry,Particle,ParticleBasicMaterial,ParticleSystem,ParticleSystemMaterial,Path,PerspectiveCamera,Plane,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointCloud,PointCloudMaterial,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDEncoding,RGBEEncoding,RGBEFormat,RGBFormat,RGBIntegerFormat,RGBM16Encoding,RGBM7Encoding,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SRGB8_ALPHA8_ASTC_10x10_Format,SRGB8_ALPHA8_ASTC_10x5_Format,SRGB8_ALPHA8_ASTC_10x6_Format,SRGB8_ALPHA8_ASTC_10x8_Format,SRGB8_ALPHA8_ASTC_12x10_Format,SRGB8_ALPHA8_ASTC_12x12_Format,SRGB8_ALPHA8_ASTC_4x4_Format,SRGB8_ALPHA8_ASTC_5x4_Format,SRGB8_ALPHA8_ASTC_5x5_Format,SRGB8_ALPHA8_ASTC_6x5_Format,SRGB8_ALPHA8_ASTC_6x6_Format,SRGB8_ALPHA8_ASTC_8x5_Format,SRGB8_ALPHA8_ASTC_8x6_Format,SRGB8_ALPHA8_ASTC_8x8_Format,Scene,SceneUtils,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,SmoothShading,Sphere,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SphericalReflectionMapping,Spline,SplineCurve,SplineCurve3,SpotLight,SpotLightHelper,SpotLightShadow,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,TextBufferGeometry,TextGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,UVMapping,Uint16Attribute,Uint16BufferAttribute,Uint32Attribute,Uint32BufferAttribute,Uint8Attribute,Uint8BufferAttribute,Uint8ClampedAttribute,Uint8ClampedBufferAttribute,Uncharted2ToneMapping,Uniform,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShort565Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,Vertex,VertexColors,VideoTexture,WebGLCubeRenderTarget,WebGLMultisampleRenderTarget,WebGLRenderTarget,WebGLRenderTargetCube,WebGLRenderer,WebGLUtils,WireframeGeometry,WireframeHelper,WrapAroundEnding,XHRLoader,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,sRGBEncoding}),CSS3DObject=function(va){Object3D.call(this),this.element=va,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",function(){this.traverse(function(_a){_a.element instanceof Element&&_a.element.parentNode!==null&&_a.element.parentNode.removeChild(_a.element)})})};CSS3DObject.prototype=Object.create(Object3D.prototype);CSS3DObject.prototype.constructor=CSS3DObject;var CSS3DSprite=function(va){CSS3DObject.call(this,va)};CSS3DSprite.prototype=Object.create(CSS3DObject.prototype);CSS3DSprite.prototype.constructor=CSS3DSprite;var CSS3DRenderer=function(){var va=this,_a,eo,to,ro,no=new Matrix4,io={camera:{fov:0,style:""},objects:new WeakMap},ao=document.createElement("div");ao.style.overflow="hidden",this.domElement=ao;var oo=document.createElement("div");oo.style.WebkitTransformStyle="preserve-3d",oo.style.transformStyle="preserve-3d",oo.style.pointerEvents="none",ao.appendChild(oo);var so=/Trident/i.test(navigator.userAgent);this.getSize=function(){return{width:_a,height:eo}},this.setSize=function(lo,ho){_a=lo,eo=ho,to=_a/2,ro=eo/2,ao.style.width=lo+"px",ao.style.height=ho+"px",oo.style.width=lo+"px",oo.style.height=ho+"px"};function uo(lo){return Math.abs(lo)<1e-10?0:lo}function co(lo){var ho=lo.elements;return"matrix3d("+uo(ho[0])+","+uo(-ho[1])+","+uo(ho[2])+","+uo(ho[3])+","+uo(ho[4])+","+uo(-ho[5])+","+uo(ho[6])+","+uo(ho[7])+","+uo(ho[8])+","+uo(-ho[9])+","+uo(ho[10])+","+uo(ho[11])+","+uo(ho[12])+","+uo(-ho[13])+","+uo(ho[14])+","+uo(ho[15])+")"}function fo(lo,ho){var yo=lo.elements,Ao="matrix3d("+uo(yo[0])+","+uo(yo[1])+","+uo(yo[2])+","+uo(yo[3])+","+uo(-yo[4])+","+uo(-yo[5])+","+uo(-yo[6])+","+uo(-yo[7])+","+uo(yo[8])+","+uo(yo[9])+","+uo(yo[10])+","+uo(yo[11])+","+uo(yo[12])+","+uo(yo[13])+","+uo(yo[14])+","+uo(yo[15])+")";return so?"translate(-50%,-50%)translate("+to+"px,"+ro+"px)"+ho+Ao:"translate(-50%,-50%)"+Ao}function po(lo,ho,yo,Ao){if(lo instanceof CSS3DObject){lo.onBeforeRender(va,ho,yo);var Eo;lo instanceof CSS3DSprite?(no.copy(yo.matrixWorldInverse),no.transpose(),no.copyPosition(lo.matrixWorld),no.scale(lo.scale),no.elements[3]=0,no.elements[7]=0,no.elements[11]=0,no.elements[15]=1,Eo=fo(no,Ao)):Eo=fo(lo.matrixWorld,Ao);var To=lo.element,No=io.objects.get(lo);if(No===void 0||No.style!==Eo){To.style.WebkitTransform=Eo,To.style.transform=Eo;var Co={style:Eo};so&&(Co.distanceToCameraSquared=vo(yo,lo)),io.objects.set(lo,Co)}To.style.display=lo.visible?"":"none",To.parentNode!==oo&&oo.appendChild(To),lo.onAfterRender(va,ho,yo)}for(var Io=0,Mo=lo.children.length;Io<Mo;Io++)po(lo.children[Io],ho,yo,Ao)}var vo=function(){var lo=new Vector3,ho=new Vector3;return function(yo,Ao){return lo.setFromMatrixPosition(yo.matrixWorld),ho.setFromMatrixPosition(Ao.matrixWorld),lo.distanceToSquared(ho)}}();function go(lo){var ho=[];return lo.traverse(function(yo){yo instanceof CSS3DObject&&ho.push(yo)}),ho}function mo(lo){for(var ho=go(lo).sort(function(To,No){var Co=io.objects.get(To).distanceToCameraSquared,Io=io.objects.get(No).distanceToCameraSquared;return Co-Io}),yo=ho.length,Ao=0,Eo=ho.length;Ao<Eo;Ao++)ho[Ao].element.style.zIndex=yo-Ao}this.render=function(lo,ho){var yo=ho.projectionMatrix.elements[5]*ro;if(io.camera.fov!==yo&&(ho.isPerspectiveCamera?(ao.style.WebkitPerspective=yo+"px",ao.style.perspective=yo+"px"):(ao.style.WebkitPerspective="",ao.style.perspective=""),io.camera.fov=yo),lo.autoUpdate===!0&&lo.updateMatrixWorld(),ho.parent===null&&ho.updateMatrixWorld(),ho.isOrthographicCamera)var Ao=-(ho.right+ho.left)/2,Eo=(ho.top+ho.bottom)/2;var To=ho.isOrthographicCamera?"scale("+yo+")translate("+uo(Ao)+"px,"+uo(Eo)+"px)"+co(ho.matrixWorldInverse):"translateZ("+yo+"px)"+co(ho.matrixWorldInverse),No=To+"translate("+to+"px,"+ro+"px)";io.camera.style!==No&&!so&&(oo.style.WebkitTransform=No,oo.style.transform=No,io.camera.style=No),po(lo,lo,ho,To),so&&mo(lo)}},line$1={},tslib={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(va){var _a,eo,to,ro,no,io,ao,oo,so,uo,co,fo,po,vo,go,mo,lo,ho,yo,Ao,Eo,To,No,Co;(function(Io){var Mo=typeof commonjsGlobal=="object"?commonjsGlobal:typeof self=="object"?self:typeof this=="object"?this:{};Io(wo(Mo,wo(va.exports)));function wo(xo,bo){return xo!==Mo&&(typeof Object.create=="function"?Object.defineProperty(xo,"__esModule",{value:!0}):xo.__esModule=!0),function(So,Do){return xo[So]=bo?bo(So,Do):Do}}})(function(Io){var Mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xo,bo){xo.__proto__=bo}||function(xo,bo){for(var So in bo)Object.prototype.hasOwnProperty.call(bo,So)&&(xo[So]=bo[So])};_a=function(xo,bo){if(typeof bo!="function"&&bo!==null)throw new TypeError("Class extends value "+String(bo)+" is not a constructor or null");Mo(xo,bo);function So(){this.constructor=xo}xo.prototype=bo===null?Object.create(bo):(So.prototype=bo.prototype,new So)},eo=Object.assign||function(xo){for(var bo,So=1,Do=arguments.length;So<Do;So++){bo=arguments[So];for(var Oo in bo)Object.prototype.hasOwnProperty.call(bo,Oo)&&(xo[Oo]=bo[Oo])}return xo},to=function(xo,bo){var So={};for(var Do in xo)Object.prototype.hasOwnProperty.call(xo,Do)&&bo.indexOf(Do)<0&&(So[Do]=xo[Do]);if(xo!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Oo=0,Do=Object.getOwnPropertySymbols(xo);Oo<Do.length;Oo++)bo.indexOf(Do[Oo])<0&&Object.prototype.propertyIsEnumerable.call(xo,Do[Oo])&&(So[Do[Oo]]=xo[Do[Oo]]);return So},ro=function(xo,bo,So,Do){var Oo=arguments.length,Bo=Oo<3?bo:Do===null?Do=Object.getOwnPropertyDescriptor(bo,So):Do,$o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bo=Reflect.decorate(xo,bo,So,Do);else for(var Vo=xo.length-1;Vo>=0;Vo--)($o=xo[Vo])&&(Bo=(Oo<3?$o(Bo):Oo>3?$o(bo,So,Bo):$o(bo,So))||Bo);return Oo>3&&Bo&&Object.defineProperty(bo,So,Bo),Bo},no=function(xo,bo){return function(So,Do){bo(So,Do,xo)}},io=function(xo,bo){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(xo,bo)},ao=function(xo,bo,So,Do){function Oo(Bo){return Bo instanceof So?Bo:new So(function($o){$o(Bo)})}return new(So||(So=Promise))(function(Bo,$o){function Vo(Ko){try{Fo(Do.next(Ko))}catch($s){$o($s)}}function Ho(Ko){try{Fo(Do.throw(Ko))}catch($s){$o($s)}}function Fo(Ko){Ko.done?Bo(Ko.value):Oo(Ko.value).then(Vo,Ho)}Fo((Do=Do.apply(xo,bo||[])).next())})},oo=function(xo,bo){var So={label:0,sent:function(){if(Bo[0]&1)throw Bo[1];return Bo[1]},trys:[],ops:[]},Do,Oo,Bo,$o;return $o={next:Vo(0),throw:Vo(1),return:Vo(2)},typeof Symbol=="function"&&($o[Symbol.iterator]=function(){return this}),$o;function Vo(Fo){return function(Ko){return Ho([Fo,Ko])}}function Ho(Fo){if(Do)throw new TypeError("Generator is already executing.");for(;So;)try{if(Do=1,Oo&&(Bo=Fo[0]&2?Oo.return:Fo[0]?Oo.throw||((Bo=Oo.return)&&Bo.call(Oo),0):Oo.next)&&!(Bo=Bo.call(Oo,Fo[1])).done)return Bo;switch(Oo=0,Bo&&(Fo=[Fo[0]&2,Bo.value]),Fo[0]){case 0:case 1:Bo=Fo;break;case 4:return So.label++,{value:Fo[1],done:!1};case 5:So.label++,Oo=Fo[1],Fo=[0];continue;case 7:Fo=So.ops.pop(),So.trys.pop();continue;default:if(Bo=So.trys,!(Bo=Bo.length>0&&Bo[Bo.length-1])&&(Fo[0]===6||Fo[0]===2)){So=0;continue}if(Fo[0]===3&&(!Bo||Fo[1]>Bo[0]&&Fo[1]<Bo[3])){So.label=Fo[1];break}if(Fo[0]===6&&So.label<Bo[1]){So.label=Bo[1],Bo=Fo;break}if(Bo&&So.label<Bo[2]){So.label=Bo[2],So.ops.push(Fo);break}Bo[2]&&So.ops.pop(),So.trys.pop();continue}Fo=bo.call(xo,So)}catch(Ko){Fo=[6,Ko],Oo=0}finally{Do=Bo=0}if(Fo[0]&5)throw Fo[1];return{value:Fo[0]?Fo[1]:void 0,done:!0}}},so=function(xo,bo){for(var So in xo)So!=="default"&&!Object.prototype.hasOwnProperty.call(bo,So)&&Co(bo,xo,So)},Co=Object.create?function(xo,bo,So,Do){Do===void 0&&(Do=So),Object.defineProperty(xo,Do,{enumerable:!0,get:function(){return bo[So]}})}:function(xo,bo,So,Do){Do===void 0&&(Do=So),xo[Do]=bo[So]},uo=function(xo){var bo=typeof Symbol=="function"&&Symbol.iterator,So=bo&&xo[bo],Do=0;if(So)return So.call(xo);if(xo&&typeof xo.length=="number")return{next:function(){return xo&&Do>=xo.length&&(xo=void 0),{value:xo&&xo[Do++],done:!xo}}};throw new TypeError(bo?"Object is not iterable.":"Symbol.iterator is not defined.")},co=function(xo,bo){var So=typeof Symbol=="function"&&xo[Symbol.iterator];if(!So)return xo;var Do=So.call(xo),Oo,Bo=[],$o;try{for(;(bo===void 0||bo-- >0)&&!(Oo=Do.next()).done;)Bo.push(Oo.value)}catch(Vo){$o={error:Vo}}finally{try{Oo&&!Oo.done&&(So=Do.return)&&So.call(Do)}finally{if($o)throw $o.error}}return Bo},fo=function(){for(var xo=[],bo=0;bo<arguments.length;bo++)xo=xo.concat(co(arguments[bo]));return xo},po=function(){for(var xo=0,bo=0,So=arguments.length;bo<So;bo++)xo+=arguments[bo].length;for(var Do=Array(xo),Oo=0,bo=0;bo<So;bo++)for(var Bo=arguments[bo],$o=0,Vo=Bo.length;$o<Vo;$o++,Oo++)Do[Oo]=Bo[$o];return Do},vo=function(xo,bo,So){if(So||arguments.length===2)for(var Do=0,Oo=bo.length,Bo;Do<Oo;Do++)(Bo||!(Do in bo))&&(Bo||(Bo=Array.prototype.slice.call(bo,0,Do)),Bo[Do]=bo[Do]);return xo.concat(Bo||Array.prototype.slice.call(bo))},go=function(xo){return this instanceof go?(this.v=xo,this):new go(xo)},mo=function(xo,bo,So){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Do=So.apply(xo,bo||[]),Oo,Bo=[];return Oo={},$o("next"),$o("throw"),$o("return"),Oo[Symbol.asyncIterator]=function(){return this},Oo;function $o(au){Do[au]&&(Oo[au]=function(Ks){return new Promise(function(Gs,qs){Bo.push([au,Ks,Gs,qs])>1||Vo(au,Ks)})})}function Vo(au,Ks){try{Ho(Do[au](Ks))}catch(Gs){$s(Bo[0][3],Gs)}}function Ho(au){au.value instanceof go?Promise.resolve(au.value.v).then(Fo,Ko):$s(Bo[0][2],au)}function Fo(au){Vo("next",au)}function Ko(au){Vo("throw",au)}function $s(au,Ks){au(Ks),Bo.shift(),Bo.length&&Vo(Bo[0][0],Bo[0][1])}},lo=function(xo){var bo,So;return bo={},Do("next"),Do("throw",function(Oo){throw Oo}),Do("return"),bo[Symbol.iterator]=function(){return this},bo;function Do(Oo,Bo){bo[Oo]=xo[Oo]?function($o){return(So=!So)?{value:go(xo[Oo]($o)),done:Oo==="return"}:Bo?Bo($o):$o}:Bo}},ho=function(xo){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bo=xo[Symbol.asyncIterator],So;return bo?bo.call(xo):(xo=typeof uo=="function"?uo(xo):xo[Symbol.iterator](),So={},Do("next"),Do("throw"),Do("return"),So[Symbol.asyncIterator]=function(){return this},So);function Do(Bo){So[Bo]=xo[Bo]&&function($o){return new Promise(function(Vo,Ho){$o=xo[Bo]($o),Oo(Vo,Ho,$o.done,$o.value)})}}function Oo(Bo,$o,Vo,Ho){Promise.resolve(Ho).then(function(Fo){Bo({value:Fo,done:Vo})},$o)}},yo=function(xo,bo){return Object.defineProperty?Object.defineProperty(xo,"raw",{value:bo}):xo.raw=bo,xo};var wo=Object.create?function(xo,bo){Object.defineProperty(xo,"default",{enumerable:!0,value:bo})}:function(xo,bo){xo.default=bo};Ao=function(xo){if(xo&&xo.__esModule)return xo;var bo={};if(xo!=null)for(var So in xo)So!=="default"&&Object.prototype.hasOwnProperty.call(xo,So)&&Co(bo,xo,So);return wo(bo,xo),bo},Eo=function(xo){return xo&&xo.__esModule?xo:{default:xo}},To=function(xo,bo,So,Do){if(So==="a"&&!Do)throw new TypeError("Private accessor was defined without a getter");if(typeof bo=="function"?xo!==bo||!Do:!bo.has(xo))throw new TypeError("Cannot read private member from an object whose class did not declare it");return So==="m"?Do:So==="a"?Do.call(xo):Do?Do.value:bo.get(xo)},No=function(xo,bo,So,Do,Oo){if(Do==="m")throw new TypeError("Private method is not writable");if(Do==="a"&&!Oo)throw new TypeError("Private accessor was defined without a setter");if(typeof bo=="function"?xo!==bo||!Oo:!bo.has(xo))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Do==="a"?Oo.call(xo,So):Oo?Oo.value=So:bo.set(xo,So),So},Io("__extends",_a),Io("__assign",eo),Io("__rest",to),Io("__decorate",ro),Io("__param",no),Io("__metadata",io),Io("__awaiter",ao),Io("__generator",oo),Io("__exportStar",so),Io("__createBinding",Co),Io("__values",uo),Io("__read",co),Io("__spread",fo),Io("__spreadArrays",po),Io("__spreadArray",vo),Io("__await",go),Io("__asyncGenerator",mo),Io("__asyncDelegator",lo),Io("__asyncValues",ho),Io("__makeTemplateObject",yo),Io("__importStar",Ao),Io("__importDefault",Eo),Io("__classPrivateFieldGet",To),Io("__classPrivateFieldSet",No)})})(tslib);var require$$2$1=getAugmentedNamespace(THREE);Object.defineProperty(line$1,"__esModule",{value:!0});var t$4=tslib.exports;function e$4(va){if(va&&va.__esModule)return va;var _a=Object.create(null);return va&&Object.keys(va).forEach(function(eo){if(eo!=="default"){var to=Object.getOwnPropertyDescriptor(va,eo);Object.defineProperty(_a,eo,to.get?to:{enumerable:!0,get:function(){return va[eo]}})}}),_a.default=va,Object.freeze(_a)}var n$5=e$4(require$$2$1),i$2=function(va){function _a(){var eo=va.call(this)||this;return eo.type="LineSegmentsGeometry",eo.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),eo.setAttribute("position",new n$5.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),eo.setAttribute("uv",new n$5.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2)),eo}return t$4.__extends(_a,va),_a.prototype.applyMatrix4=function(eo){var to=this.attributes.instanceStart,ro=this.attributes.instanceEnd;return to!==void 0&&(to.applyMatrix4(eo),ro.applyMatrix4(eo),to.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},_a.prototype.setPositions=function(eo){var to;to=eo instanceof Float32Array?eo:Array.isArray(eo)?new Float32Array(eo):new Float32Array;var ro=new n$5.InstancedInterleavedBuffer(to,6,1);return this.setAttribute("instanceStart",new n$5.InterleavedBufferAttribute(ro,3,0)),this.setAttribute("instanceEnd",new n$5.InterleavedBufferAttribute(ro,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},_a.prototype.setColors=function(eo){var to;to=eo instanceof Float32Array?eo:Array.isArray(eo)?new Float32Array(eo):new Float32Array;var ro=new n$5.InstancedInterleavedBuffer(to,6,1);return this.setAttribute("instanceColorStart",new n$5.InterleavedBufferAttribute(ro,3,0)),this.setAttribute("instanceColorEnd",new n$5.InterleavedBufferAttribute(ro,3,3)),this},_a.prototype.fromWireframeGeometry=function(eo){return this.setPositions(eo.attributes.position.array),this},_a.prototype.fromEdgesGeometry=function(eo){return this.setPositions(eo.attributes.position.array),this},_a.prototype.fromMesh=function(eo){return this.fromWireframeGeometry(new n$5.WireframeGeometry(eo.geometry)),this},_a.prototype.fromLineSegments=function(eo){var to=eo.geometry;if(to instanceof n$5.Geometry){var ro=new n$5.BufferGeometry().fromGeometry(to);this.setPositions(ro.attributes.position.array)}else to instanceof n$5.BufferGeometry&&this.setPositions(to.attributes.position.array);return this},_a.prototype.computeBoundingBox=function(){this.boundingBox===null&&(this.boundingBox=new n$5.Box3);var eo=this.attributes.instanceStart,to=this.attributes.instanceEnd;if(eo!==void 0&&to!==void 0){var ro=new n$5.Box3;this.boundingBox.setFromBufferAttribute(eo),ro.setFromBufferAttribute(to),this.boundingBox.union(ro)}},_a.prototype.computeBoundingSphere=function(){this.boundingSphere===null&&(this.boundingSphere=new n$5.Sphere),this.boundingBox===null&&this.computeBoundingBox();var eo=this.attributes.instanceStart,to=this.attributes.instanceEnd;if(eo!==void 0&&to!==void 0){var ro=this.boundingSphere.center;this.boundingBox.getCenter(ro);for(var no=0,io=new n$5.Vector3,ao=0,oo=eo.count;ao<oo;ao++)io.fromBufferAttribute(eo,ao),no=Math.max(no,ro.distanceToSquared(io)),io.fromBufferAttribute(to,ao),no=Math.max(no,ro.distanceToSquared(io));this.boundingSphere.radius=Math.sqrt(no),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}},_a.prototype.toJSON=function(){},_a}(n$5.InstancedBufferGeometry);Object.assign(i$2.prototype,{isLineSegmentsGeometry:!0});var r$5={uniforms:n$5.UniformsUtils.merge([n$5.UniformsLib.common,n$5.UniformsLib.fog,{linewidth:{value:1},resolution:{value:new n$5.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1},opacity:{value:1}}]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		varying vec2 vUv;

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;

			#endif

			float aspect = resolution.x / resolution.y;

			vUv = uv;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec2 ndcStart = clipStart.xy / clipStart.w;
			vec2 ndcEnd = clipEnd.xy / clipEnd.w;

			// direction
			vec2 dir = ndcEnd - ndcStart;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			// perpendicular to dir
			vec2 offset = vec2( dir.y, - dir.x );

			// undo aspect ratio adjustment
			dir.x /= aspect;
			offset.x /= aspect;

			// sign flip
			if ( position.x < 0.0 ) offset *= - 1.0;

			// endcaps
			if ( position.y < 0.0 ) {

				offset += - dir;

			} else if ( position.y > 1.0 ) {

				offset += dir;

			}

			// adjust for linewidth
			offset *= linewidth;

			// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
			offset /= resolution.y;

			// select end
			vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

			// back to clip space
			offset *= clip.w;

			clip.xy += offset;

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;

		#ifdef USE_DASH

			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		varying vec2 vUv;

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			if ( abs( vUv.y ) > 1.0 ) {

				float a = vUv.x;
				float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
				float len2 = a * a + b * b;

				if ( len2 > 1.0 ) discard;

			}

			vec4 diffuseColor = vec4( diffuse, opacity );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );

			#include <tonemapping_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`},o$2=function(va){function _a(eo){var to=va.call(this,{uniforms:n$5.UniformsUtils.clone(r$5.uniforms),vertexShader:r$5.vertexShader,fragmentShader:r$5.fragmentShader,clipping:!0})||this;return to.type="LineMaterial",to.dashed=!1,Object.defineProperties(to,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(ro){this.uniforms.diffuse.value=ro}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(ro){this.uniforms.linewidth.value=ro}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(ro){this.uniforms.dashScale.value=ro}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(ro){this.uniforms.dashSize.value=ro}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(ro){this.uniforms.gapSize.value=ro}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(ro){this.uniforms.opacity.value=ro}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(ro){this.uniforms.resolution.value.copy(ro)}}}),to.setValues(eo),to}return t$4.__extends(_a,va),_a}(n$5.ShaderMaterial);Object.assign(o$2.prototype,{isLineMaterial:!0});var a$2=function(va){function _a(eo,to){var ro=va.call(this)||this;return ro.type="LineSegments2",ro.geometry=eo!==void 0?eo:new i$2,ro.material=to!==void 0?to:new o$2({color:16777215*Math.random()}),ro}return t$4.__extends(_a,va),_a.prototype.computeLineDistances=function(){for(var eo=this.geometry,to=eo.attributes.instanceStart,ro=eo.attributes.instanceEnd,no=new Float32Array(2*to.count),io=new n$5.Vector3,ao=new n$5.Vector3,oo=0,so=0,uo=to.count;oo<uo;oo++,so+=2)io.fromBufferAttribute(to,oo),ao.fromBufferAttribute(ro,oo),no[so]=so===0?0:no[so-1],no[so+1]=no[so]+io.distanceTo(ao);var co=new n$5.InstancedInterleavedBuffer(no,2,1);return eo.setAttribute("instanceDistanceStart",new n$5.InterleavedBufferAttribute(co,1,0)),eo.setAttribute("instanceDistanceEnd",new n$5.InterleavedBufferAttribute(co,1,1)),this},_a.prototype.raycast=function(eo,to){eo.camera===null&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var ro=eo.ray,no=eo.camera,io=no.projectionMatrix,ao=this.geometry,oo=this.material,so=oo.resolution,uo=oo.linewidth,co=ao.attributes.instanceStart,fo=ao.attributes.instanceEnd,po=new n$5.Vector4,vo=new n$5.Vector4,go=new n$5.Vector4,mo=new n$5.Vector3,lo=new n$5.Matrix4,ho=new n$5.Line3,yo=new n$5.Vector3;ro.at(1,go),go.w=1,go.applyMatrix4(no.matrixWorldInverse),go.applyMatrix4(io),go.multiplyScalar(1/go.w),go.x*=so.x/2,go.y*=so.y/2,go.z=0,mo.copy(go);var Ao=this.matrixWorld;lo.multiplyMatrices(no.matrixWorldInverse,Ao);for(var Eo=0,To=co.count;Eo<To;Eo++){po.fromBufferAttribute(co,Eo),vo.fromBufferAttribute(fo,Eo),po.w=1,vo.w=1,po.applyMatrix4(lo),vo.applyMatrix4(lo),po.applyMatrix4(io),vo.applyMatrix4(io),po.multiplyScalar(1/po.w),vo.multiplyScalar(1/vo.w);var No=po.z<-1&&vo.z<-1,Co=po.z>1&&vo.z>1;if(!No&&!Co){po.x*=so.x/2,po.y*=so.y/2,vo.x*=so.x/2,vo.y*=so.y/2,ho.start.copy(po),ho.start.z=0,ho.end.copy(vo),ho.end.z=0;var Io=ho.closestPointToPointParameter(mo,!0);ho.at(Io,yo);var Mo=n$5.MathUtils.lerp(po.z,vo.z,Io),wo=Mo>=-1&&Mo<=1,xo=mo.distanceTo(yo)<.5*uo;if(wo&&xo){ho.start.fromBufferAttribute(co,Eo),ho.end.fromBufferAttribute(fo,Eo),ho.start.applyMatrix4(Ao),ho.end.applyMatrix4(Ao);var bo=new n$5.Vector3,So=new n$5.Vector3;ro.distanceSqToSegment(ho.start,ho.end,So,bo),to.push({point:So,pointOnLine:bo,distance:ro.origin.distanceTo(So),object:this,faceIndex:Eo})}}}},_a}(n$5.Mesh);Object.assign(a$2.prototype,{isLineSegments2:!0});var s$2=function(va){function _a(eo,to){var ro=va.call(this,eo,to)||this;return ro.type="Line2",ro}return t$4.__extends(_a,va),_a}(a$2);Object.assign(s$2.prototype,{isLine2:!0});var u$3=function(va){function _a(){var eo=va.call(this)||this;return eo.type="LineGeometry",eo}return t$4.__extends(_a,va),_a.prototype.setPositions=function(eo){for(var to=eo.length-3,ro=new Float32Array(2*to),no=0;no<to;no+=3)ro[2*no]=eo[no],ro[2*no+1]=eo[no+1],ro[2*no+2]=eo[no+2],ro[2*no+3]=eo[no+3],ro[2*no+4]=eo[no+4],ro[2*no+5]=eo[no+5];return va.prototype.setPositions.call(this,ro),this},_a.prototype.setColors=function(eo){for(var to=eo.length-3,ro=new Float32Array(2*to),no=0;no<to;no+=3)ro[2*no]=eo[no],ro[2*no+1]=eo[no+1],ro[2*no+2]=eo[no+2],ro[2*no+3]=eo[no+3],ro[2*no+4]=eo[no+4],ro[2*no+5]=eo[no+5];return va.prototype.setColors.call(this,ro),this},_a.prototype.fromLine=function(eo){var to=eo.geometry;if(to instanceof n$5.Geometry){var ro=new n$5.BufferGeometry().fromGeometry(to);this.setPositions(ro.attributes.position.array)}else to instanceof n$5.BufferGeometry&&this.setPositions(to.attributes.position.array);return this},_a.prototype.copy=function(){return this},_a}(i$2);Object.assign(u$3.prototype,{isLineGeometry:!0});var c$4=null,l$5=function(va){function _a(eo,to){eo===void 0&&(eo=new n$5.Vector3),to===void 0&&(to=new n$5.Vector3);var ro=va.call(this)||this;ro.type="FiveLine",ro.needsRender=!0;var no=new u$3,io=new o$2({color:14467195,linewidth:2,dashScale:20,dashed:!1});ro.line=new s$2(no,io);var ao=new n$5.BufferGeometry,oo=new n$5.PointsMaterial({color:14467195,size:8,map:c$4||(c$4=new n$5.TextureLoader().load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sHDgwCEMBJZu0AAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAABM5JREFUWMO1V0tPG2cUPZ4Hxh6DazIOrjFNqJs0FIMqWFgWQkatsmvVbtggKlSVRVf5AWz4AWz4AUSKEChll19QJYSXkECuhFxsHjEhxCYm+DWGMZ5HF72DJq4bAzFXurI0M/I5997v3u9cC65vTJVn2lX/xHINQOYSBLTLEuIuCWw4Z3IGAEvf6ASmVHjNzHCXBG4A0AjACsAOwEbO0nsFQBnAGYASAIl+ZRMR7SolMEdsByD09fV5R0ZGgg8ePPjW5/N1iqLYpuu6RZblciKR2I9Go69evnwZnZ+fjwI4IS8AKBIRzeQfJWCANwKwh0KhtrGxsYehUOin1tbW+zzP23ietzY2NnIAoGmaLsuyUiqVyvl8XtrY2NiamZn589mzZxsAUgCOAeQAnFI2tI+VxIjaAeDzoaGh7xYWFuZOTk6OZVk+12uYqqq6JEnn0Wg0OT4+/geAXwGEAdwDIFJQXC1wO4DWR48e/RCPxxclSSroVzRFUbSDg4P848ePFwH8DuAhkWih83TRQWxFOXgAwvDwcOfo6OhvXV1d39tsNtuVBwTDWBwOh1UUxVsMw1hXVlbSdCgNV43uYSvrHg6H24aHh38eHBz85TrgF9FYLHA4HLzH43FvbW2d7u/vG+dANp8FpqIlbd3d3V8Fg8EfBUFw4BONZVmL3+9vHhkZCQL4AoAHgJPK8G+yzC0XDofdoVAo5PP5vkadTBAEtr+/39ff3x8gAp/RPOEqx2qjx+NpvXv3bk9DQ0NDvQgwDIOWlhZrMBj8kgi0UJdxRgYMArzL5XJ7vd57qLPZ7Xamp6fnNgBXtQxcjFuHw+Hyer3t9SYgCAITCAScAJoBNNEY/08GOFVVrfVMv7kMNDntFD1vjIAPrlRN0xjckOm6biFQ3jwNPwDMZrOnqVTqfb3Bi8Wivru7W/VCYkwPlKOjo0IikXh7EwQikYgE4Nw0CfXKDCipVCoTj8df3QABbW1tLUc6oUgkFPMkVACUNjc337148eKvw8PDbJ2jP1taWkoCyNDVXDSECmNSK4qiKNLq6urW8+fPI/UicHx8rD59+jSVy+WOAKSJhKENwFItLtoxk8mwsixzHR0dHe3t7c5PAU+n09rs7OzJkydPYqVSaQfANoDXALIk31S2smU1TWMPDg7K5XKZ7+3t9TudTut1U7+wsFCcmJiIpdPpbQBxADsAknQWymYCOukBHYCuKApisdhpMpnURFEU79y503TVyKenpzOTk5M7e3t7MQKPV0Zv1gNm+awB0MvlshqLxfLb29uyJElWURSbXC4XXyvqxcXFs6mpqeTc3Nzu3t7e3wQcA7BPZ8Cov1pNlJplmQtAG8MwHV6v95tAINA5MDBwPxAIuLu6upr8fr/VAN3c3JQjkcjZ+vp6fnl5+d2bN29SuVzuNYAEpf01CdRChUL+X1VskHACuA3Ay3Fcu9vt7nA6nZ7m5uYWQRCaNE3jVVW15PP580KhIGUymWw2m00DOAJwSP4WwPtq4LX2Ao6USxNlQyS/RcQcdLGwlNIz6vEMAaZpNzCk2Pll94LK/cDYimxERiBwG10sxjgvEZBE0UpE6vxj+0Ct5bTaXthgEhRmja8QWNkkPGsuIpfdjpkK+cZUWTC0KredVmtD/gdlSl6EG4AMvQAAAABJRU5ErkJggg==")),sizeAttenuation:!1,transparent:!0});return ro.points=new n$5.Points(ao,oo),ro.points.renderOrder=11,ro.points.frustumCulled=!1,ro.setPoints(eo,to),ro.add(ro.line,ro.points),ro}return t$4.__extends(_a,va),_a.prototype.setPoints=function(eo,to){var ro=[].concat(eo.toArray(),to.toArray());this.points.geometry.setAttribute("position",new n$5.BufferAttribute(new Float32Array(ro),3)),this.line.geometry.setPositions(ro),this.line.computeLineDistances(),this.needsRender=!0},_a.prototype.getPoints=function(){var eo=this.points.geometry.attributes.position.array;return[new n$5.Vector3(eo[0],eo[1],eo[2]),new n$5.Vector3(eo[3],eo[4],eo[5])]},_a.prototype.setMaterial=function(eo){var to=this.line.material;for(var ro in eo)if(eo.hasOwnProperty(ro)){var no=eo[ro];ro==="dashed"?(to.dashed=no,no?to.defines.USE_DASH="":delete to.defines.USE_DASH,to.needsUpdate=!0):to[ro]=eo[ro]}this.needsRender=!0},_a.prototype.setResolution=function(eo,to){var ro=this.line.material.resolution;ro.x===eo&&ro.y===to||(ro.set(eo,to),this.needsRender=!0)},_a}(n$5.Object3D);Object.assign(l$5.prototype,{isFiveLine:!0}),line$1.Line=l$5,line$1.LineGeometry=u$3,line$1.LineMaterial=o$2,line$1.LineSegmentsGeometry=i$2,line$1.THREE_Line2=s$2,line$1.THREE_LineSegments2=a$2;function noop$1(){}const identity=va=>va;function assign$1(va,_a){for(const eo in _a)va[eo]=_a[eo];return va}function run(va){return va()}function blank_object(){return Object.create(null)}function run_all(va){va.forEach(run)}function is_function(va){return typeof va=="function"}function safe_not_equal(va,_a){return va!=va?_a==_a:va!==_a||va&&typeof va=="object"||typeof va=="function"}let src_url_equal_anchor;function src_url_equal(va,_a){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=_a,va===src_url_equal_anchor.href}function is_empty(va){return Object.keys(va).length===0}const is_client=typeof window<"u";let now$2=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?va=>requestAnimationFrame(va):noop$1;const tasks=new Set;function run_tasks(va){tasks.forEach(_a=>{_a.c(va)||(tasks.delete(_a),_a.f())}),tasks.size!==0&&raf(run_tasks)}function loop(va){let _a;return tasks.size===0&&raf(run_tasks),{promise:new Promise(eo=>{tasks.add(_a={c:va,f:eo})}),abort(){tasks.delete(_a)}}}function append$1(va,_a){va.appendChild(_a)}function get_root_for_style(va){if(!va)return document;const _a=va.getRootNode?va.getRootNode():va.ownerDocument;return _a&&_a.host?_a:va.ownerDocument}function append_empty_stylesheet(va){const _a=element("style");return append_stylesheet(get_root_for_style(va),_a),_a.sheet}function append_stylesheet(va,_a){append$1(va.head||va,_a)}function insert(va,_a,eo){va.insertBefore(_a,eo||null)}function detach(va){va.parentNode.removeChild(va)}function destroy_each(va,_a){for(let eo=0;eo<va.length;eo+=1)va[eo]&&va[eo].d(_a)}function element(va){return document.createElement(va)}function svg_element(va){return document.createElementNS("http://www.w3.org/2000/svg",va)}function text(va){return document.createTextNode(va)}function space(){return text(" ")}function empty(){return text("")}function listen(va,_a,eo,to){return va.addEventListener(_a,eo,to),()=>va.removeEventListener(_a,eo,to)}function attr(va,_a,eo){eo==null?va.removeAttribute(_a):va.getAttribute(_a)!==eo&&va.setAttribute(_a,eo)}function children(va){return Array.from(va.childNodes)}function set_data(va,_a){_a=""+_a,va.wholeText!==_a&&(va.data=_a)}function set_style(va,_a,eo,to){eo===null?va.style.removeProperty(_a):va.style.setProperty(_a,eo,to?"important":"")}let crossorigin;function is_crossorigin(){if(crossorigin===void 0){crossorigin=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{crossorigin=!0}}return crossorigin}function add_resize_listener(va,_a){getComputedStyle(va).position==="static"&&(va.style.position="relative");const to=element("iframe");to.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),to.setAttribute("aria-hidden","true"),to.tabIndex=-1;const ro=is_crossorigin();let no;return ro?(to.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",no=listen(window,"message",io=>{io.source===to.contentWindow&&_a()})):(to.src="about:blank",to.onload=()=>{no=listen(to.contentWindow,"resize",_a)}),append$1(va,to),()=>{(ro||no&&to.contentWindow)&&no(),detach(to)}}function toggle_class(va,_a,eo){va.classList[eo?"add":"remove"](_a)}function custom_event(va,_a,eo=!1){const to=document.createEvent("CustomEvent");return to.initCustomEvent(va,eo,!1,_a),to}class HtmlTag{constructor(){this.e=this.n=null}c(_a){this.h(_a)}m(_a,eo,to=null){this.e||(this.e=element(eo.nodeName),this.t=eo,this.c(_a)),this.i(to)}h(_a){this.e.innerHTML=_a,this.n=Array.from(this.e.childNodes)}i(_a){for(let eo=0;eo<this.n.length;eo+=1)insert(this.t,this.n[eo],_a)}p(_a){this.d(),this.h(_a),this.i(this.a)}d(){this.n.forEach(detach)}}const managed_styles=new Map;let active=0;function hash$1(va){let _a=5381,eo=va.length;for(;eo--;)_a=(_a<<5)-_a^va.charCodeAt(eo);return _a>>>0}function create_style_information(va,_a){const eo={stylesheet:append_empty_stylesheet(_a),rules:{}};return managed_styles.set(va,eo),eo}function create_rule(va,_a,eo,to,ro,no,io,ao=0){const oo=16.666/to;let so=`{
`;for(let mo=0;mo<=1;mo+=oo){const lo=_a+(eo-_a)*no(mo);so+=mo*100+`%{${io(lo,1-lo)}}
`}const uo=so+`100% {${io(eo,1-eo)}}
}`,co=`__svelte_${hash$1(uo)}_${ao}`,fo=get_root_for_style(va),{stylesheet:po,rules:vo}=managed_styles.get(fo)||create_style_information(fo,va);vo[co]||(vo[co]=!0,po.insertRule(`@keyframes ${co} ${uo}`,po.cssRules.length));const go=va.style.animation||"";return va.style.animation=`${go?`${go}, `:""}${co} ${to}ms linear ${ro}ms 1 both`,active+=1,co}function delete_rule(va,_a){const eo=(va.style.animation||"").split(", "),to=eo.filter(_a?no=>no.indexOf(_a)<0:no=>no.indexOf("__svelte")===-1),ro=eo.length-to.length;ro&&(va.style.animation=to.join(", "),active-=ro,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(va=>{const{stylesheet:_a}=va;let eo=_a.cssRules.length;for(;eo--;)_a.deleteRule(eo);va.rules={}}),managed_styles.clear())})}let current_component;function set_current_component(va){current_component=va}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(va){get_current_component().$$.on_mount.push(va)}function onDestroy(va){get_current_component().$$.on_destroy.push(va)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(va){render_callbacks.push(va)}const seen_callbacks=new Set;let flushidx=0;function flush(){const va=current_component;do{for(;flushidx<dirty_components.length;){const _a=dirty_components[flushidx];flushidx++,set_current_component(_a),update$1(_a.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let _a=0;_a<render_callbacks.length;_a+=1){const eo=render_callbacks[_a];seen_callbacks.has(eo)||(seen_callbacks.add(eo),eo())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(va)}function update$1(va){if(va.fragment!==null){va.update(),run_all(va.before_update);const _a=va.dirty;va.dirty=[-1],va.fragment&&va.fragment.p(va.ctx,_a),va.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(va,_a,eo){va.dispatchEvent(custom_event(`${_a?"intro":"outro"}${eo}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(va,_a){va&&va.i&&(outroing.delete(va),va.i(_a))}function transition_out(va,_a,eo,to){if(va&&va.o){if(outroing.has(va))return;outroing.add(va),outros.c.push(()=>{outroing.delete(va),to&&(eo&&va.d(1),to())}),va.o(_a)}}const null_transition={duration:0};function create_in_transition(va,_a,eo){let to=_a(va,eo),ro=!1,no,io,ao=0;function oo(){no&&delete_rule(va,no)}function so(){const{delay:co=0,duration:fo=300,easing:po=identity,tick:vo=noop$1,css:go}=to||null_transition;go&&(no=create_rule(va,0,1,fo,co,po,go,ao++)),vo(0,1);const mo=now$2()+co,lo=mo+fo;io&&io.abort(),ro=!0,add_render_callback(()=>dispatch(va,!0,"start")),io=loop(ho=>{if(ro){if(ho>=lo)return vo(1,0),dispatch(va,!0,"end"),oo(),ro=!1;if(ho>=mo){const yo=po((ho-mo)/fo);vo(yo,1-yo)}}return ro})}let uo=!1;return{start(){uo||(uo=!0,delete_rule(va),is_function(to)?(to=to(),wait().then(so)):so())},invalidate(){uo=!1},end(){ro&&(oo(),ro=!1)}}}function destroy_block(va,_a){va.d(1),_a.delete(va.key)}function outro_and_destroy_block(va,_a){transition_out(va,1,1,()=>{_a.delete(va.key)})}function update_keyed_each(va,_a,eo,to,ro,no,io,ao,oo,so,uo,co){let fo=va.length,po=no.length,vo=fo;const go={};for(;vo--;)go[va[vo].key]=vo;const mo=[],lo=new Map,ho=new Map;for(vo=po;vo--;){const To=co(ro,no,vo),No=eo(To);let Co=io.get(No);Co?to&&Co.p(To,_a):(Co=so(No,To),Co.c()),lo.set(No,mo[vo]=Co),No in go&&ho.set(No,Math.abs(vo-go[No]))}const yo=new Set,Ao=new Set;function Eo(To){transition_in(To,1),To.m(ao,uo),io.set(To.key,To),uo=To.first,po--}for(;fo&&po;){const To=mo[po-1],No=va[fo-1],Co=To.key,Io=No.key;To===No?(uo=To.first,fo--,po--):lo.has(Io)?!io.has(Co)||yo.has(Co)?Eo(To):Ao.has(Io)?fo--:ho.get(Co)>ho.get(Io)?(Ao.add(Co),Eo(To)):(yo.add(Io),fo--):(oo(No,io),fo--)}for(;fo--;){const To=va[fo];lo.has(To.key)||oo(To,io)}for(;po;)Eo(mo[po-1]);return mo}function get_spread_update(va,_a){const eo={},to={},ro={$$scope:1};let no=va.length;for(;no--;){const io=va[no],ao=_a[no];if(ao){for(const oo in io)oo in ao||(to[oo]=1);for(const oo in ao)ro[oo]||(eo[oo]=ao[oo],ro[oo]=1);va[no]=ao}else for(const oo in io)ro[oo]=1}for(const io in to)io in eo||(eo[io]=void 0);return eo}function create_component(va){va&&va.c()}function mount_component(va,_a,eo,to){const{fragment:ro,on_mount:no,on_destroy:io,after_update:ao}=va.$$;ro&&ro.m(_a,eo),to||add_render_callback(()=>{const oo=no.map(run).filter(is_function);io?io.push(...oo):run_all(oo),va.$$.on_mount=[]}),ao.forEach(add_render_callback)}function destroy_component(va,_a){const eo=va.$$;eo.fragment!==null&&(run_all(eo.on_destroy),eo.fragment&&eo.fragment.d(_a),eo.on_destroy=eo.fragment=null,eo.ctx=[])}function make_dirty(va,_a){va.$$.dirty[0]===-1&&(dirty_components.push(va),schedule_update(),va.$$.dirty.fill(0)),va.$$.dirty[_a/31|0]|=1<<_a%31}function init(va,_a,eo,to,ro,no,io,ao=[-1]){const oo=current_component;set_current_component(va);const so=va.$$={fragment:null,ctx:null,props:no,update:noop$1,not_equal:ro,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(_a.context||(oo?oo.$$.context:[])),callbacks:blank_object(),dirty:ao,skip_bound:!1,root:_a.target||oo.$$.root};io&&io(so.root);let uo=!1;if(so.ctx=eo?eo(va,_a.props||{},(co,fo,...po)=>{const vo=po.length?po[0]:fo;return so.ctx&&ro(so.ctx[co],so.ctx[co]=vo)&&(!so.skip_bound&&so.bound[co]&&so.bound[co](vo),uo&&make_dirty(va,co)),fo}):[],so.update(),uo=!0,run_all(so.before_update),so.fragment=to?to(so.ctx):!1,_a.target){if(_a.hydrate){const co=children(_a.target);so.fragment&&so.fragment.l(co),co.forEach(detach)}else so.fragment&&so.fragment.c();_a.intro&&transition_in(va.$$.fragment),mount_component(va,_a.target,_a.anchor,_a.customElement),flush()}set_current_component(oo)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$1}$on(_a,eo){const to=this.$$.callbacks[_a]||(this.$$.callbacks[_a]=[]);return to.push(eo),()=>{const ro=to.indexOf(eo);ro!==-1&&to.splice(ro,1)}}$set(_a){this.$$set&&!is_empty(_a)&&(this.$$.skip_bound=!0,this.$$set(_a),this.$$.skip_bound=!1)}}function fade(va,{delay:_a=0,duration:eo=400,easing:to=identity}={}){const ro=+getComputedStyle(va).opacity;return{delay:_a,duration:eo,easing:to,css:no=>`opacity: ${no*ro}`}}var five={},indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(va,_a){for(var eo=new Array(arguments.length-1),to=0,ro=2,no=!0;ro<arguments.length;)eo[to++]=arguments[ro++];return new Promise(function(ao,oo){eo[to]=function(uo){if(no)if(no=!1,uo)oo(uo);else{for(var co=new Array(arguments.length-1),fo=0;fo<co.length;)co[fo++]=arguments[fo];ao.apply(null,co)}};try{va.apply(_a||null,eo)}catch(so){no&&(no=!1,oo(so))}})}var base64$1={};(function(va){var _a=va;_a.length=function(ao){var oo=ao.length;if(!oo)return 0;for(var so=0;--oo%4>1&&ao.charAt(oo)==="=";)++so;return Math.ceil(ao.length*3)/4-so};for(var eo=new Array(64),to=new Array(123),ro=0;ro<64;)to[eo[ro]=ro<26?ro+65:ro<52?ro+71:ro<62?ro-4:ro-59|43]=ro++;_a.encode=function(ao,oo,so){for(var uo=null,co=[],fo=0,po=0,vo;oo<so;){var go=ao[oo++];switch(po){case 0:co[fo++]=eo[go>>2],vo=(go&3)<<4,po=1;break;case 1:co[fo++]=eo[vo|go>>4],vo=(go&15)<<2,po=2;break;case 2:co[fo++]=eo[vo|go>>6],co[fo++]=eo[go&63],po=0;break}fo>8191&&((uo||(uo=[])).push(String.fromCharCode.apply(String,co)),fo=0)}return po&&(co[fo++]=eo[vo],co[fo++]=61,po===1&&(co[fo++]=61)),uo?(fo&&uo.push(String.fromCharCode.apply(String,co.slice(0,fo))),uo.join("")):String.fromCharCode.apply(String,co.slice(0,fo))};var no="invalid encoding";_a.decode=function(ao,oo,so){for(var uo=so,co=0,fo,po=0;po<ao.length;){var vo=ao.charCodeAt(po++);if(vo===61&&co>1)break;if((vo=to[vo])===void 0)throw Error(no);switch(co){case 0:fo=vo,co=1;break;case 1:oo[so++]=fo<<2|(vo&48)>>4,fo=vo,co=2;break;case 2:oo[so++]=(fo&15)<<4|(vo&60)>>2,fo=vo,co=3;break;case 3:oo[so++]=(fo&3)<<6|vo,co=0;break}}if(co===1)throw Error(no);return so-uo},_a.test=function(ao){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ao)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(_a,eo,to){return(this._listeners[_a]||(this._listeners[_a]=[])).push({fn:eo,ctx:to||this}),this};EventEmitter.prototype.off=function(_a,eo){if(_a===void 0)this._listeners={};else if(eo===void 0)this._listeners[_a]=[];else for(var to=this._listeners[_a],ro=0;ro<to.length;)to[ro].fn===eo?to.splice(ro,1):++ro;return this};EventEmitter.prototype.emit=function(_a){var eo=this._listeners[_a];if(eo){for(var to=[],ro=1;ro<arguments.length;)to.push(arguments[ro++]);for(ro=0;ro<eo.length;)eo[ro].fn.apply(eo[ro++].ctx,to)}return this};var float=factory(factory);function factory(va){return typeof Float32Array<"u"?function(){var _a=new Float32Array([-0]),eo=new Uint8Array(_a.buffer),to=eo[3]===128;function ro(oo,so,uo){_a[0]=oo,so[uo]=eo[0],so[uo+1]=eo[1],so[uo+2]=eo[2],so[uo+3]=eo[3]}function no(oo,so,uo){_a[0]=oo,so[uo]=eo[3],so[uo+1]=eo[2],so[uo+2]=eo[1],so[uo+3]=eo[0]}va.writeFloatLE=to?ro:no,va.writeFloatBE=to?no:ro;function io(oo,so){return eo[0]=oo[so],eo[1]=oo[so+1],eo[2]=oo[so+2],eo[3]=oo[so+3],_a[0]}function ao(oo,so){return eo[3]=oo[so],eo[2]=oo[so+1],eo[1]=oo[so+2],eo[0]=oo[so+3],_a[0]}va.readFloatLE=to?io:ao,va.readFloatBE=to?ao:io}():function(){function _a(to,ro,no,io){var ao=ro<0?1:0;if(ao&&(ro=-ro),ro===0)to(1/ro>0?0:2147483648,no,io);else if(isNaN(ro))to(2143289344,no,io);else if(ro>34028234663852886e22)to((ao<<31|2139095040)>>>0,no,io);else if(ro<11754943508222875e-54)to((ao<<31|Math.round(ro/1401298464324817e-60))>>>0,no,io);else{var oo=Math.floor(Math.log(ro)/Math.LN2),so=Math.round(ro*Math.pow(2,-oo)*8388608)&8388607;to((ao<<31|oo+127<<23|so)>>>0,no,io)}}va.writeFloatLE=_a.bind(null,writeUintLE),va.writeFloatBE=_a.bind(null,writeUintBE);function eo(to,ro,no){var io=to(ro,no),ao=(io>>31)*2+1,oo=io>>>23&255,so=io&8388607;return oo===255?so?NaN:ao*(1/0):oo===0?ao*1401298464324817e-60*so:ao*Math.pow(2,oo-150)*(so+8388608)}va.readFloatLE=eo.bind(null,readUintLE),va.readFloatBE=eo.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var _a=new Float64Array([-0]),eo=new Uint8Array(_a.buffer),to=eo[7]===128;function ro(oo,so,uo){_a[0]=oo,so[uo]=eo[0],so[uo+1]=eo[1],so[uo+2]=eo[2],so[uo+3]=eo[3],so[uo+4]=eo[4],so[uo+5]=eo[5],so[uo+6]=eo[6],so[uo+7]=eo[7]}function no(oo,so,uo){_a[0]=oo,so[uo]=eo[7],so[uo+1]=eo[6],so[uo+2]=eo[5],so[uo+3]=eo[4],so[uo+4]=eo[3],so[uo+5]=eo[2],so[uo+6]=eo[1],so[uo+7]=eo[0]}va.writeDoubleLE=to?ro:no,va.writeDoubleBE=to?no:ro;function io(oo,so){return eo[0]=oo[so],eo[1]=oo[so+1],eo[2]=oo[so+2],eo[3]=oo[so+3],eo[4]=oo[so+4],eo[5]=oo[so+5],eo[6]=oo[so+6],eo[7]=oo[so+7],_a[0]}function ao(oo,so){return eo[7]=oo[so],eo[6]=oo[so+1],eo[5]=oo[so+2],eo[4]=oo[so+3],eo[3]=oo[so+4],eo[2]=oo[so+5],eo[1]=oo[so+6],eo[0]=oo[so+7],_a[0]}va.readDoubleLE=to?io:ao,va.readDoubleBE=to?ao:io}():function(){function _a(to,ro,no,io,ao,oo){var so=io<0?1:0;if(so&&(io=-io),io===0)to(0,ao,oo+ro),to(1/io>0?0:2147483648,ao,oo+no);else if(isNaN(io))to(0,ao,oo+ro),to(2146959360,ao,oo+no);else if(io>17976931348623157e292)to(0,ao,oo+ro),to((so<<31|2146435072)>>>0,ao,oo+no);else{var uo;if(io<22250738585072014e-324)uo=io/5e-324,to(uo>>>0,ao,oo+ro),to((so<<31|uo/4294967296)>>>0,ao,oo+no);else{var co=Math.floor(Math.log(io)/Math.LN2);co===1024&&(co=1023),uo=io*Math.pow(2,-co),to(uo*4503599627370496>>>0,ao,oo+ro),to((so<<31|co+1023<<20|uo*1048576&1048575)>>>0,ao,oo+no)}}}va.writeDoubleLE=_a.bind(null,writeUintLE,0,4),va.writeDoubleBE=_a.bind(null,writeUintBE,4,0);function eo(to,ro,no,io,ao){var oo=to(io,ao+ro),so=to(io,ao+no),uo=(so>>31)*2+1,co=so>>>20&2047,fo=4294967296*(so&1048575)+oo;return co===2047?fo?NaN:uo*(1/0):co===0?uo*5e-324*fo:uo*Math.pow(2,co-1075)*(fo+4503599627370496)}va.readDoubleLE=eo.bind(null,readUintLE,0,4),va.readDoubleBE=eo.bind(null,readUintBE,4,0)}(),va}function writeUintLE(va,_a,eo){_a[eo]=va&255,_a[eo+1]=va>>>8&255,_a[eo+2]=va>>>16&255,_a[eo+3]=va>>>24}function writeUintBE(va,_a,eo){_a[eo]=va>>>24,_a[eo+1]=va>>>16&255,_a[eo+2]=va>>>8&255,_a[eo+3]=va&255}function readUintLE(va,_a){return(va[_a]|va[_a+1]<<8|va[_a+2]<<16|va[_a+3]<<24)>>>0}function readUintBE(va,_a){return(va[_a]<<24|va[_a+1]<<16|va[_a+2]<<8|va[_a+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(va){}return null}var utf8$2={};(function(va){var _a=va;_a.length=function(to){for(var ro=0,no=0,io=0;io<to.length;++io)no=to.charCodeAt(io),no<128?ro+=1:no<2048?ro+=2:(no&64512)===55296&&(to.charCodeAt(io+1)&64512)===56320?(++io,ro+=4):ro+=3;return ro},_a.read=function(to,ro,no){var io=no-ro;if(io<1)return"";for(var ao=null,oo=[],so=0,uo;ro<no;)uo=to[ro++],uo<128?oo[so++]=uo:uo>191&&uo<224?oo[so++]=(uo&31)<<6|to[ro++]&63:uo>239&&uo<365?(uo=((uo&7)<<18|(to[ro++]&63)<<12|(to[ro++]&63)<<6|to[ro++]&63)-65536,oo[so++]=55296+(uo>>10),oo[so++]=56320+(uo&1023)):oo[so++]=(uo&15)<<12|(to[ro++]&63)<<6|to[ro++]&63,so>8191&&((ao||(ao=[])).push(String.fromCharCode.apply(String,oo)),so=0);return ao?(so&&ao.push(String.fromCharCode.apply(String,oo.slice(0,so))),ao.join("")):String.fromCharCode.apply(String,oo.slice(0,so))},_a.write=function(to,ro,no){for(var io=no,ao,oo,so=0;so<to.length;++so)ao=to.charCodeAt(so),ao<128?ro[no++]=ao:ao<2048?(ro[no++]=ao>>6|192,ro[no++]=ao&63|128):(ao&64512)===55296&&((oo=to.charCodeAt(so+1))&64512)===56320?(ao=65536+((ao&1023)<<10)+(oo&1023),++so,ro[no++]=ao>>18|240,ro[no++]=ao>>12&63|128,ro[no++]=ao>>6&63|128,ro[no++]=ao&63|128):(ro[no++]=ao>>12|224,ro[no++]=ao>>6&63|128,ro[no++]=ao&63|128);return no-io}})(utf8$2);var pool_1=pool;function pool(va,_a,eo){var to=eo||8192,ro=to>>>1,no=null,io=to;return function(oo){if(oo<1||oo>ro)return va(oo);io+oo>to&&(no=va(to),io=0);var so=_a.call(no,io,io+=oo);return io&7&&(io=(io|7)+1),so}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(va,_a){this.lo=va>>>0,this.hi=_a>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0};zero.zzEncode=zero.zzDecode=function(){return this};zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function va(_a){if(_a===0)return zero;var eo=_a<0;eo&&(_a=-_a);var to=_a>>>0,ro=(_a-to)/4294967296>>>0;return eo&&(ro=~ro>>>0,to=~to>>>0,++to>4294967295&&(to=0,++ro>4294967295&&(ro=0))),new LongBits$2(to,ro)};LongBits$2.from=function va(_a){if(typeof _a=="number")return LongBits$2.fromNumber(_a);if(util$5.isString(_a))if(util$5.Long)_a=util$5.Long.fromString(_a);else return LongBits$2.fromNumber(parseInt(_a,10));return _a.low||_a.high?new LongBits$2(_a.low>>>0,_a.high>>>0):zero};LongBits$2.prototype.toNumber=function va(_a){if(!_a&&this.hi>>>31){var eo=~this.lo+1>>>0,to=~this.hi>>>0;return eo||(to=to+1>>>0),-(eo+to*4294967296)}return this.lo+this.hi*4294967296};LongBits$2.prototype.toLong=function va(_a){return util$5.Long?new util$5.Long(this.lo|0,this.hi|0,Boolean(_a)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(_a)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function va(_a){return _a===zeroHash?zero:new LongBits$2((charCodeAt.call(_a,0)|charCodeAt.call(_a,1)<<8|charCodeAt.call(_a,2)<<16|charCodeAt.call(_a,3)<<24)>>>0,(charCodeAt.call(_a,4)|charCodeAt.call(_a,5)<<8|charCodeAt.call(_a,6)<<16|charCodeAt.call(_a,7)<<24)>>>0)};LongBits$2.prototype.toHash=function va(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};LongBits$2.prototype.zzEncode=function va(){var _a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^_a)>>>0,this.lo=(this.lo<<1^_a)>>>0,this};LongBits$2.prototype.zzDecode=function va(){var _a=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^_a)>>>0,this.hi=(this.hi>>>1^_a)>>>0,this};LongBits$2.prototype.length=function va(){var _a=this.lo,eo=(this.lo>>>28|this.hi<<4)>>>0,to=this.hi>>>24;return to===0?eo===0?_a<16384?_a<128?1:2:_a<2097152?3:4:eo<16384?eo<128?5:6:eo<2097152?7:8:to<128?9:10};(function(va){var _a=va;_a.asPromise=aspromise,_a.base64=base64$1,_a.EventEmitter=eventemitter,_a.float=float,_a.inquire=inquire_1,_a.utf8=utf8$2,_a.pool=pool_1,_a.LongBits=longbits,_a.isNode=Boolean(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),_a.global=_a.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,_a.emptyArray=Object.freeze?Object.freeze([]):[],_a.emptyObject=Object.freeze?Object.freeze({}):{},_a.isInteger=Number.isInteger||function(no){return typeof no=="number"&&isFinite(no)&&Math.floor(no)===no},_a.isString=function(no){return typeof no=="string"||no instanceof String},_a.isObject=function(no){return no&&typeof no=="object"},_a.isset=_a.isSet=function(no,io){var ao=no[io];return ao!=null&&no.hasOwnProperty(io)?typeof ao!="object"||(Array.isArray(ao)?ao.length:Object.keys(ao).length)>0:!1},_a.Buffer=function(){try{var ro=_a.inquire("buffer").Buffer;return ro.prototype.utf8Write?ro:null}catch{return null}}(),_a._Buffer_from=null,_a._Buffer_allocUnsafe=null,_a.newBuffer=function(no){return typeof no=="number"?_a.Buffer?_a._Buffer_allocUnsafe(no):new _a.Array(no):_a.Buffer?_a._Buffer_from(no):typeof Uint8Array>"u"?no:new Uint8Array(no)},_a.Array=typeof Uint8Array<"u"?Uint8Array:Array,_a.Long=_a.global.dcodeIO&&_a.global.dcodeIO.Long||_a.global.Long||_a.inquire("long"),_a.key2Re=/^true|false|0|1$/,_a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,_a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,_a.longToHash=function(no){return no?_a.LongBits.from(no).toHash():_a.LongBits.zeroHash},_a.longFromHash=function(no,io){var ao=_a.LongBits.fromHash(no);return _a.Long?_a.Long.fromBits(ao.lo,ao.hi,io):ao.toNumber(Boolean(io))};function eo(ro,no,io){for(var ao=Object.keys(no),oo=0;oo<ao.length;++oo)(ro[ao[oo]]===void 0||!io)&&(ro[ao[oo]]=no[ao[oo]]);return ro}_a.merge=eo,_a.lcFirst=function(no){return no.charAt(0).toLowerCase()+no.substring(1)};function to(ro){function no(io,ao){if(!(this instanceof no))return new no(io,ao);Object.defineProperty(this,"message",{get:function(){return io}}),Error.captureStackTrace?Error.captureStackTrace(this,no):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ao&&eo(this,ao)}return(no.prototype=Object.create(Error.prototype)).constructor=no,Object.defineProperty(no.prototype,"name",{get:function(){return ro}}),no.prototype.toString=function(){return this.name+": "+this.message},no}_a.newError=to,_a.ProtocolError=to("ProtocolError"),_a.oneOfGetter=function(no){for(var io={},ao=0;ao<no.length;++ao)io[no[ao]]=1;return function(){for(var oo=Object.keys(this),so=oo.length-1;so>-1;--so)if(io[oo[so]]===1&&this[oo[so]]!==void 0&&this[oo[so]]!==null)return oo[so]}},_a.oneOfSetter=function(no){return function(io){for(var ao=0;ao<no.length;++ao)no[ao]!==io&&delete this[no[ao]]}},_a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},_a._configure=function(){var ro=_a.Buffer;if(!ro){_a._Buffer_from=_a._Buffer_allocUnsafe=null;return}_a._Buffer_from=ro.from!==Uint8Array.from&&ro.from||function(io,ao){return new ro(io,ao)},_a._Buffer_allocUnsafe=ro.allocUnsafe||function(io){return new ro(io)}}})(minimal$1);var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(va,_a,eo){this.fn=va,this.len=_a,this.next=void 0,this.val=eo}function noop(){}function State(va){this.head=va.head,this.tail=va.tail,this.len=va.len,this.next=va.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function va(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function va(_a){return new util$4.Array(_a)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function va(_a,eo,to){return this.tail=this.tail.next=new Op(_a,eo,to),this.len+=eo,this};function writeByte(va,_a,eo){_a[eo]=va&255}function writeVarint32(va,_a,eo){for(;va>127;)_a[eo++]=va&127|128,va>>>=7;_a[eo]=va}function VarintOp(va,_a){this.len=va,this.next=void 0,this.val=_a}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function va(_a){return this.len+=(this.tail=this.tail.next=new VarintOp((_a=_a>>>0)<128?1:_a<16384?2:_a<2097152?3:_a<268435456?4:5,_a)).len,this};Writer$1.prototype.int32=function va(_a){return _a<0?this._push(writeVarint64,10,LongBits$1.fromNumber(_a)):this.uint32(_a)};Writer$1.prototype.sint32=function va(_a){return this.uint32((_a<<1^_a>>31)>>>0)};function writeVarint64(va,_a,eo){for(;va.hi;)_a[eo++]=va.lo&127|128,va.lo=(va.lo>>>7|va.hi<<25)>>>0,va.hi>>>=7;for(;va.lo>127;)_a[eo++]=va.lo&127|128,va.lo=va.lo>>>7;_a[eo++]=va.lo}Writer$1.prototype.uint64=function va(_a){var eo=LongBits$1.from(_a);return this._push(writeVarint64,eo.length(),eo)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function va(_a){var eo=LongBits$1.from(_a).zzEncode();return this._push(writeVarint64,eo.length(),eo)};Writer$1.prototype.bool=function va(_a){return this._push(writeByte,1,_a?1:0)};function writeFixed32(va,_a,eo){_a[eo]=va&255,_a[eo+1]=va>>>8&255,_a[eo+2]=va>>>16&255,_a[eo+3]=va>>>24}Writer$1.prototype.fixed32=function va(_a){return this._push(writeFixed32,4,_a>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function va(_a){var eo=LongBits$1.from(_a);return this._push(writeFixed32,4,eo.lo)._push(writeFixed32,4,eo.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function va(_a){return this._push(util$4.float.writeFloatLE,4,_a)};Writer$1.prototype.double=function va(_a){return this._push(util$4.float.writeDoubleLE,8,_a)};var writeBytes=util$4.Array.prototype.set?function va(_a,eo,to){eo.set(_a,to)}:function va(_a,eo,to){for(var ro=0;ro<_a.length;++ro)eo[to+ro]=_a[ro]};Writer$1.prototype.bytes=function va(_a){var eo=_a.length>>>0;if(!eo)return this._push(writeByte,1,0);if(util$4.isString(_a)){var to=Writer$1.alloc(eo=base64.length(_a));base64.decode(_a,to,0),_a=to}return this.uint32(eo)._push(writeBytes,eo,_a)};Writer$1.prototype.string=function va(_a){var eo=utf8$1.length(_a);return eo?this.uint32(eo)._push(utf8$1.write,eo,_a):this._push(writeByte,1,0)};Writer$1.prototype.fork=function va(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function va(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function va(){var _a=this.head,eo=this.tail,to=this.len;return this.reset().uint32(to),to&&(this.tail.next=_a.next,this.tail=eo,this.len+=to),this};Writer$1.prototype.finish=function va(){for(var _a=this.head.next,eo=this.constructor.alloc(this.len),to=0;_a;)_a.fn(_a.val,eo,to),to+=_a.len,_a=_a.next;return eo};Writer$1._configure=function(va){BufferWriter$1=va,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(_a,eo,to){eo.set(_a,to)}:function(_a,eo,to){if(_a.copy)_a.copy(eo,to,0,_a.length);else for(var ro=0;ro<_a.length;)eo[to++]=_a[ro++]}};BufferWriter.prototype.bytes=function va(_a){util$3.isString(_a)&&(_a=util$3._Buffer_from(_a,"base64"));var eo=_a.length>>>0;return this.uint32(eo),eo&&this._push(BufferWriter.writeBytesBuffer,eo,_a),this};function writeStringBuffer(va,_a,eo){va.length<40?util$3.utf8.write(va,_a,eo):_a.utf8Write?_a.utf8Write(va,eo):_a.write(va,eo)}BufferWriter.prototype.string=function va(_a){var eo=util$3.Buffer.byteLength(_a);return this.uint32(eo),eo&&this._push(writeStringBuffer,eo,_a),this};BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(va,_a){return RangeError("index out of range: "+va.pos+" + "+(_a||1)+" > "+va.len)}function Reader$1(va){this.buf=va,this.pos=0,this.len=va.length}var create_array=typeof Uint8Array<"u"?function va(_a){if(_a instanceof Uint8Array||Array.isArray(_a))return new Reader$1(_a);throw Error("illegal buffer")}:function va(_a){if(Array.isArray(_a))return new Reader$1(_a);throw Error("illegal buffer")},create=function va(){return util$2.Buffer?function(eo){return(Reader$1.create=function(ro){return util$2.Buffer.isBuffer(ro)?new BufferReader$1(ro):create_array(ro)})(eo)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function va(){var _a=4294967295;return function(){if(_a=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(_a=(_a|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(_a=(_a|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(_a=(_a|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(_a=(_a|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return _a;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return _a}}();Reader$1.prototype.int32=function va(){return this.uint32()|0};Reader$1.prototype.sint32=function va(){var _a=this.uint32();return _a>>>1^-(_a&1)|0};function readLongVarint(){var va=new LongBits(0,0),_a=0;if(this.len-this.pos>4){for(;_a<4;++_a)if(va.lo=(va.lo|(this.buf[this.pos]&127)<<_a*7)>>>0,this.buf[this.pos++]<128)return va;if(va.lo=(va.lo|(this.buf[this.pos]&127)<<28)>>>0,va.hi=(va.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return va;_a=0}else{for(;_a<3;++_a){if(this.pos>=this.len)throw indexOutOfRange(this);if(va.lo=(va.lo|(this.buf[this.pos]&127)<<_a*7)>>>0,this.buf[this.pos++]<128)return va}return va.lo=(va.lo|(this.buf[this.pos++]&127)<<_a*7)>>>0,va}if(this.len-this.pos>4){for(;_a<5;++_a)if(va.hi=(va.hi|(this.buf[this.pos]&127)<<_a*7+3)>>>0,this.buf[this.pos++]<128)return va}else for(;_a<5;++_a){if(this.pos>=this.len)throw indexOutOfRange(this);if(va.hi=(va.hi|(this.buf[this.pos]&127)<<_a*7+3)>>>0,this.buf[this.pos++]<128)return va}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function va(){return this.uint32()!==0};function readFixed32_end(va,_a){return(va[_a-4]|va[_a-3]<<8|va[_a-2]<<16|va[_a-1]<<24)>>>0}Reader$1.prototype.fixed32=function va(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function va(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function va(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var _a=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,_a};Reader$1.prototype.double=function va(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var _a=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,_a};Reader$1.prototype.bytes=function va(){var _a=this.uint32(),eo=this.pos,to=this.pos+_a;if(to>this.len)throw indexOutOfRange(this,_a);return this.pos+=_a,Array.isArray(this.buf)?this.buf.slice(eo,to):eo===to?new this.buf.constructor(0):this._slice.call(this.buf,eo,to)};Reader$1.prototype.string=function va(){var _a=this.bytes();return utf8.read(_a,0,_a.length)};Reader$1.prototype.skip=function va(_a){if(typeof _a=="number"){if(this.pos+_a>this.len)throw indexOutOfRange(this,_a);this.pos+=_a}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(va){switch(va){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(va=this.uint32()&7)!==4;)this.skipType(va);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+va+" at offset "+this.pos)}return this};Reader$1._configure=function(va){BufferReader$1=va,Reader$1.create=create(),BufferReader$1._configure();var _a=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[_a](!1)},uint64:function(){return readLongVarint.call(this)[_a](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[_a](!1)},fixed64:function(){return readFixed64.call(this)[_a](!0)},sfixed64:function(){return readFixed64.call(this)[_a](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(va){Reader.call(this,va)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function va(){var _a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+_a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+_a,this.len))};BufferReader._configure();var rpc={},service=Service,util=minimal$1;(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(va,_a,eo){if(typeof va!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=va,this.requestDelimited=Boolean(_a),this.responseDelimited=Boolean(eo)}Service.prototype.rpcCall=function va(_a,eo,to,ro,no){if(!ro)throw TypeError("request must be specified");var io=this;if(!no)return util.asPromise(va,io,_a,eo,to,ro);if(!io.rpcImpl){setTimeout(function(){no(Error("already ended"))},0);return}try{return io.rpcImpl(_a,eo[io.requestDelimited?"encodeDelimited":"encode"](ro).finish(),function(oo,so){if(oo)return io.emit("error",oo,_a),no(oo);if(so===null){io.end(!0);return}if(!(so instanceof to))try{so=to[io.responseDelimited?"decodeDelimited":"decode"](so)}catch(uo){return io.emit("error",uo,_a),no(uo)}return io.emit("data",so,_a),no(null,so)})}catch(ao){io.emit("error",ao,_a),setTimeout(function(){no(ao)},0);return}};Service.prototype.end=function va(_a){return this.rpcImpl&&(_a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(va){var _a=va;_a.Service=service})(rpc);var roots={};(function(va){var _a=va;_a.build="minimal",_a.Writer=writer,_a.BufferWriter=writer_buffer,_a.Reader=reader,_a.BufferReader=reader_buffer,_a.util=minimal$1,_a.rpc=rpc,_a.roots=roots,_a.configure=eo;function eo(){_a.util._configure(),_a.Writer._configure(_a.BufferWriter),_a.Reader._configure(_a.BufferReader)}eo()})(indexMinimal);var minimal=indexMinimal,parseWork,Subscribe,Five;Object.defineProperty(five,"__esModule",{value:!0});var e$3=require$$2$1,t$3=tslib.exports,i$1=minimal;function n$4(va){if(va&&va.__esModule)return va;var _a=Object.create(null);return va&&Object.keys(va).forEach(function(eo){if(eo!=="default"){var to=Object.getOwnPropertyDescriptor(va,eo);Object.defineProperty(_a,eo,to.get?to:{enumerable:!0,get:function(){return va[eo]}})}}),_a.default=va,Object.freeze(_a)}var r$4=n$4(e$3),s$1=n$4(i$1),o$1=Number(r$4.REVISION);if(o$1<115||o$1>117)throw new Error('"Five" needs "THREE.js" version between 125 - 117.');/**
 * @license
 * The 'jsrsasign'(RSA-Sign JavaScript Library) License
 *
 * Copyright (c) 2010-2021 Kenji Urushima
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * LICENSE: MIT License
 *//**
 * @license
 * RSA and ECC in JavaScript
 *
 * Copyright (c) 2003-2005  Tom Wu All Rights Reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY
 * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,
 * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER
 * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF
 * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT
 * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * In addition, the following condition applies:
 *
 * All redistributions must retain an intact copy of this copyright notice
 * and disclaimer.
 *
 * http://www-cs-students.stanford.edu/~tjw/jsbn/
 * LICENSE: BSD License
 * PART: ext/{base64,jsbn,jsbn2,prgn4,rng,rsa,rsa2}
 *//**
 * @license
 * CryptoJS
 *
 * Copyright (c) 2009-2013 Jeff Mott
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * https://code.google.com/p/crypto-js/wiki/License
 * PART: ext/cryptojs
 */var a$1,u$2={},c$3={},A$4=A$4||function(va,_a){var eo={},to=eo.lib={},ro=to.Base=function(){function fo(){}return{extend:function(po){fo.prototype=this;var vo=new fo;return po&&vo.mixIn(po),vo.hasOwnProperty("init")||(vo.init=function(){vo.$super.init.apply(this,arguments)}),vo.init.prototype=vo,vo.$super=this,vo},create:function(){var po=this.extend();return po.init.apply(po,arguments),po},init:function(){},mixIn:function(po){for(var vo in po)po.hasOwnProperty(vo)&&(this[vo]=po[vo]);po.hasOwnProperty("toString")&&(this.toString=po.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),no=to.WordArray=ro.extend({init:function(fo,po){fo=this.words=fo||[],this.sigBytes=po??4*fo.length},toString:function(fo){return(fo||ao).stringify(this)},concat:function(fo){var po=this.words,vo=fo.words,go=this.sigBytes,mo=fo.sigBytes;if(this.clamp(),go%4)for(var lo=0;lo<mo;lo++){var ho=vo[lo>>>2]>>>24-lo%4*8&255;po[go+lo>>>2]|=ho<<24-(go+lo)%4*8}else for(lo=0;lo<mo;lo+=4)po[go+lo>>>2]=vo[lo>>>2];return this.sigBytes+=mo,this},clamp:function(){var fo=this.words,po=this.sigBytes;fo[po>>>2]&=4294967295<<32-po%4*8,fo.length=va.ceil(po/4)},clone:function(){var fo=ro.clone.call(this);return fo.words=this.words.slice(0),fo},random:function(fo){for(var po=[],vo=0;vo<fo;vo+=4)po.push(4294967296*va.random()|0);return new no.init(po,fo)}}),io=eo.enc={},ao=io.Hex={stringify:function(fo){for(var po=fo.words,vo=fo.sigBytes,go=[],mo=0;mo<vo;mo++){var lo=po[mo>>>2]>>>24-mo%4*8&255;go.push((lo>>>4).toString(16)),go.push((15&lo).toString(16))}return go.join("")},parse:function(fo){for(var po=fo.length,vo=[],go=0;go<po;go+=2)vo[go>>>3]|=parseInt(fo.substr(go,2),16)<<24-go%8*4;return new no.init(vo,po/2)}},oo=io.Latin1={stringify:function(fo){for(var po=fo.words,vo=fo.sigBytes,go=[],mo=0;mo<vo;mo++){var lo=po[mo>>>2]>>>24-mo%4*8&255;go.push(String.fromCharCode(lo))}return go.join("")},parse:function(fo){for(var po=fo.length,vo=[],go=0;go<po;go++)vo[go>>>2]|=(255&fo.charCodeAt(go))<<24-go%4*8;return new no.init(vo,po)}},so=io.Utf8={stringify:function(fo){try{return decodeURIComponent(escape(oo.stringify(fo)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(fo){return oo.parse(unescape(encodeURIComponent(fo)))}},uo=to.BufferedBlockAlgorithm=ro.extend({reset:function(){this._data=new no.init,this._nDataBytes=0},_append:function(fo){typeof fo=="string"&&(fo=so.parse(fo)),this._data.concat(fo),this._nDataBytes+=fo.sigBytes},_process:function(fo){var po=this._data,vo=po.words,go=po.sigBytes,mo=this.blockSize,lo=go/(4*mo),ho=(lo=fo?va.ceil(lo):va.max((0|lo)-this._minBufferSize,0))*mo,yo=va.min(4*ho,go);if(ho){for(var Ao=0;Ao<ho;Ao+=mo)this._doProcessBlock(vo,Ao);var Eo=vo.splice(0,ho);po.sigBytes-=yo}return new no.init(Eo,yo)},clone:function(){var fo=ro.clone.call(this);return fo._data=this._data.clone(),fo},_minBufferSize:0});to.Hasher=uo.extend({cfg:ro.extend(),init:function(fo){this.cfg=this.cfg.extend(fo),this.reset()},reset:function(){uo.reset.call(this),this._doReset()},update:function(fo){return this._append(fo),this._process(),this},finalize:function(fo){return fo&&this._append(fo),this._doFinalize()},blockSize:16,_createHelper:function(fo){return function(po,vo){return new fo.init(vo).finalize(po)}},_createHmacHelper:function(fo){return function(po,vo){return new co.HMAC.init(fo,vo).finalize(po)}}});var co=eo.algo={};return eo}(Math);function l$4(va,_a,eo){va!=null&&(typeof va=="number"?this.fromNumber(va,_a,eo):_a==null&&typeof va!="string"?this.fromString(va,256):this.fromString(va,_a))}function h$4(){return new l$4(null)}(function(va){for(var _a=A$4,eo=(ro=_a.lib).WordArray,to=ro.Hasher,ro=_a.algo,no=[],io=[],ao=function(vo){return 4294967296*(vo-(0|vo))|0},oo=2,so=0;64>so;){var uo;e:{uo=oo;for(var co=va.sqrt(uo),fo=2;fo<=co;fo++)if(!(uo%fo)){uo=!1;break e}uo=!0}uo&&(8>so&&(no[so]=ao(va.pow(oo,.5))),io[so]=ao(va.pow(oo,1/3)),so++),oo++}var po=[];ro=ro.SHA256=to.extend({_doReset:function(){this._hash=new eo.init(no.slice(0))},_doProcessBlock:function(vo,go){for(var mo=this._hash.words,lo=mo[0],ho=mo[1],yo=mo[2],Ao=mo[3],Eo=mo[4],To=mo[5],No=mo[6],Co=mo[7],Io=0;64>Io;Io++){if(16>Io)po[Io]=0|vo[go+Io];else{var Mo=po[Io-15],wo=po[Io-2];po[Io]=((Mo<<25|Mo>>>7)^(Mo<<14|Mo>>>18)^Mo>>>3)+po[Io-7]+((wo<<15|wo>>>17)^(wo<<13|wo>>>19)^wo>>>10)+po[Io-16]}Mo=Co+((Eo<<26|Eo>>>6)^(Eo<<21|Eo>>>11)^(Eo<<7|Eo>>>25))+(Eo&To^~Eo&No)+io[Io]+po[Io],wo=((lo<<30|lo>>>2)^(lo<<19|lo>>>13)^(lo<<10|lo>>>22))+(lo&ho^lo&yo^ho&yo),Co=No,No=To,To=Eo,Eo=Ao+Mo|0,Ao=yo,yo=ho,ho=lo,lo=Mo+wo|0}mo[0]=mo[0]+lo|0,mo[1]=mo[1]+ho|0,mo[2]=mo[2]+yo|0,mo[3]=mo[3]+Ao|0,mo[4]=mo[4]+Eo|0,mo[5]=mo[5]+To|0,mo[6]=mo[6]+No|0,mo[7]=mo[7]+Co|0},_doFinalize:function(){var vo=this._data,go=vo.words,mo=8*this._nDataBytes,lo=8*vo.sigBytes;return go[lo>>>5]|=128<<24-lo%32,go[14+(lo+64>>>9<<4)]=va.floor(mo/4294967296),go[15+(lo+64>>>9<<4)]=mo,vo.sigBytes=4*go.length,this._process(),this._hash},clone:function(){var vo=to.clone.call(this);return vo._hash=this._hash.clone(),vo}}),_a.SHA256=to._createHelper(ro),_a.HmacSHA256=to._createHmacHelper(ro)})(Math),A$4.lib.Cipher||function(va){var _a=(po=A$4).lib,eo=_a.Base,to=_a.WordArray,ro=_a.BufferedBlockAlgorithm,no=po.enc.Base64,io=po.algo.EvpKDF,ao=_a.Cipher=ro.extend({cfg:eo.extend(),createEncryptor:function(go,mo){return this.create(this._ENC_XFORM_MODE,go,mo)},createDecryptor:function(go,mo){return this.create(this._DEC_XFORM_MODE,go,mo)},init:function(go,mo,lo){this.cfg=this.cfg.extend(lo),this._xformMode=go,this._key=mo,this.reset()},reset:function(){ro.reset.call(this),this._doReset()},process:function(go){return this._append(go),this._process()},finalize:function(go){return go&&this._append(go),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(go){return{encrypt:function(mo,lo,ho){return(typeof lo=="string"?vo:fo).encrypt(go,mo,lo,ho)},decrypt:function(mo,lo,ho){return(typeof lo=="string"?vo:fo).decrypt(go,mo,lo,ho)}}}});_a.StreamCipher=ao.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var oo=po.mode={},so=function(go,mo,lo){var ho=this._iv;ho?this._iv=void 0:ho=this._prevBlock;for(var yo=0;yo<lo;yo++)go[mo+yo]^=ho[yo]},uo=(_a.BlockCipherMode=eo.extend({createEncryptor:function(go,mo){return this.Encryptor.create(go,mo)},createDecryptor:function(go,mo){return this.Decryptor.create(go,mo)},init:function(go,mo){this._cipher=go,this._iv=mo}})).extend();uo.Encryptor=uo.extend({processBlock:function(go,mo){var lo=this._cipher,ho=lo.blockSize;so.call(this,go,mo,ho),lo.encryptBlock(go,mo),this._prevBlock=go.slice(mo,mo+ho)}}),uo.Decryptor=uo.extend({processBlock:function(go,mo){var lo=this._cipher,ho=lo.blockSize,yo=go.slice(mo,mo+ho);lo.decryptBlock(go,mo),so.call(this,go,mo,ho),this._prevBlock=yo}}),oo=oo.CBC=uo,uo=(po.pad={}).Pkcs7={pad:function(go,mo){for(var lo,ho=(lo=(lo=4*mo)-go.sigBytes%lo)<<24|lo<<16|lo<<8|lo,yo=[],Ao=0;Ao<lo;Ao+=4)yo.push(ho);lo=to.create(yo,lo),go.concat(lo)},unpad:function(go){go.sigBytes-=255&go.words[go.sigBytes-1>>>2]}},_a.BlockCipher=ao.extend({cfg:ao.cfg.extend({mode:oo,padding:uo}),reset:function(){ao.reset.call(this);var go=(mo=this.cfg).iv,mo=mo.mode;if(this._xformMode==this._ENC_XFORM_MODE)var lo=mo.createEncryptor;else lo=mo.createDecryptor,this._minBufferSize=1;this._mode=lo.call(mo,this,go&&go.words)},_doProcessBlock:function(go,mo){this._mode.processBlock(go,mo)},_doFinalize:function(){var go=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){go.pad(this._data,this.blockSize);var mo=this._process(!0)}else mo=this._process(!0),go.unpad(mo);return mo},blockSize:4});var co=_a.CipherParams=eo.extend({init:function(go){this.mixIn(go)},toString:function(go){return(go||this.formatter).stringify(this)}}),fo=(oo=(po.format={}).OpenSSL={stringify:function(go){var mo=go.ciphertext;return((go=go.salt)?to.create([1398893684,1701076831]).concat(go).concat(mo):mo).toString(no)},parse:function(go){var mo=(go=no.parse(go)).words;if(mo[0]==1398893684&&mo[1]==1701076831){var lo=to.create(mo.slice(2,4));mo.splice(0,4),go.sigBytes-=16}return co.create({ciphertext:go,salt:lo})}},_a.SerializableCipher=eo.extend({cfg:eo.extend({format:oo}),encrypt:function(go,mo,lo,ho){ho=this.cfg.extend(ho);var yo=go.createEncryptor(lo,ho);return mo=yo.finalize(mo),yo=yo.cfg,co.create({ciphertext:mo,key:lo,iv:yo.iv,algorithm:go,mode:yo.mode,padding:yo.padding,blockSize:go.blockSize,formatter:ho.format})},decrypt:function(go,mo,lo,ho){return ho=this.cfg.extend(ho),mo=this._parse(mo,ho.format),go.createDecryptor(lo,ho).finalize(mo.ciphertext)},_parse:function(go,mo){return typeof go=="string"?mo.parse(go,this):go}})),po=(po.kdf={}).OpenSSL={execute:function(go,mo,lo,ho){return ho||(ho=to.random(8)),go=io.create({keySize:mo+lo}).compute(go,ho),lo=to.create(go.words.slice(mo),4*lo),go.sigBytes=4*mo,co.create({key:go,iv:lo,salt:ho})}},vo=_a.PasswordBasedCipher=fo.extend({cfg:fo.cfg.extend({kdf:po}),encrypt:function(go,mo,lo,ho){return lo=(ho=this.cfg.extend(ho)).kdf.execute(lo,go.keySize,go.ivSize),ho.iv=lo.iv,(go=fo.encrypt.call(this,go,mo,lo.key,ho)).mixIn(lo),go},decrypt:function(go,mo,lo,ho){return ho=this.cfg.extend(ho),mo=this._parse(mo,ho.format),lo=ho.kdf.execute(lo,go.keySize,go.ivSize,mo.salt),ho.iv=lo.iv,fo.decrypt.call(this,go,mo,lo.key,ho)}})}(),function(){for(var va=A$4,_a=va.lib.BlockCipher,eo=va.algo,to=[],ro=[],no=[],io=[],ao=[],oo=[],so=[],uo=[],co=[],fo=[],po=[],vo=0;256>vo;vo++)po[vo]=128>vo?vo<<1:vo<<1^283;var go=0,mo=0;for(vo=0;256>vo;vo++){var lo=(lo=mo^mo<<1^mo<<2^mo<<3^mo<<4)>>>8^255&lo^99;to[go]=lo,ro[lo]=go;var ho=po[go],yo=po[ho],Ao=po[yo],Eo=257*po[lo]^16843008*lo;no[go]=Eo<<24|Eo>>>8,io[go]=Eo<<16|Eo>>>16,ao[go]=Eo<<8|Eo>>>24,oo[go]=Eo,Eo=16843009*Ao^65537*yo^257*ho^16843008*go,so[lo]=Eo<<24|Eo>>>8,uo[lo]=Eo<<16|Eo>>>16,co[lo]=Eo<<8|Eo>>>24,fo[lo]=Eo,go?(go=ho^po[po[po[Ao^ho]]],mo^=po[po[mo]]):go=mo=1}var To=[0,1,2,4,8,16,32,64,128,27,54];eo=eo.AES=_a.extend({_doReset:function(){for(var No=(Io=this._key).words,Co=Io.sigBytes/4,Io=4*((this._nRounds=Co+6)+1),Mo=this._keySchedule=[],wo=0;wo<Io;wo++)if(wo<Co)Mo[wo]=No[wo];else{var xo=Mo[wo-1];wo%Co?6<Co&&wo%Co==4&&(xo=to[xo>>>24]<<24|to[xo>>>16&255]<<16|to[xo>>>8&255]<<8|to[255&xo]):(xo=to[(xo=xo<<8|xo>>>24)>>>24]<<24|to[xo>>>16&255]<<16|to[xo>>>8&255]<<8|to[255&xo],xo^=To[wo/Co|0]<<24),Mo[wo]=Mo[wo-Co]^xo}for(No=this._invKeySchedule=[],Co=0;Co<Io;Co++)wo=Io-Co,xo=Co%4?Mo[wo]:Mo[wo-4],No[Co]=4>Co||4>=wo?xo:so[to[xo>>>24]]^uo[to[xo>>>16&255]]^co[to[xo>>>8&255]]^fo[to[255&xo]]},encryptBlock:function(No,Co){this._doCryptBlock(No,Co,this._keySchedule,no,io,ao,oo,to)},decryptBlock:function(No,Co){var Io=No[Co+1];No[Co+1]=No[Co+3],No[Co+3]=Io,this._doCryptBlock(No,Co,this._invKeySchedule,so,uo,co,fo,ro),Io=No[Co+1],No[Co+1]=No[Co+3],No[Co+3]=Io},_doCryptBlock:function(No,Co,Io,Mo,wo,xo,bo,So){for(var Do=this._nRounds,Oo=No[Co]^Io[0],Bo=No[Co+1]^Io[1],$o=No[Co+2]^Io[2],Vo=No[Co+3]^Io[3],Ho=4,Fo=1;Fo<Do;Fo++){var Ko=Mo[Oo>>>24]^wo[Bo>>>16&255]^xo[$o>>>8&255]^bo[255&Vo]^Io[Ho++],$s=Mo[Bo>>>24]^wo[$o>>>16&255]^xo[Vo>>>8&255]^bo[255&Oo]^Io[Ho++],au=Mo[$o>>>24]^wo[Vo>>>16&255]^xo[Oo>>>8&255]^bo[255&Bo]^Io[Ho++];Vo=Mo[Vo>>>24]^wo[Oo>>>16&255]^xo[Bo>>>8&255]^bo[255&$o]^Io[Ho++],Oo=Ko,Bo=$s,$o=au}Ko=(So[Oo>>>24]<<24|So[Bo>>>16&255]<<16|So[$o>>>8&255]<<8|So[255&Vo])^Io[Ho++],$s=(So[Bo>>>24]<<24|So[$o>>>16&255]<<16|So[Vo>>>8&255]<<8|So[255&Oo])^Io[Ho++],au=(So[$o>>>24]<<24|So[Vo>>>16&255]<<16|So[Oo>>>8&255]<<8|So[255&Bo])^Io[Ho++],Vo=(So[Vo>>>24]<<24|So[Oo>>>16&255]<<16|So[Bo>>>8&255]<<8|So[255&$o])^Io[Ho++],No[Co]=Ko,No[Co+1]=$s,No[Co+2]=au,No[Co+3]=Vo},keySize:8}),va.AES=_a._createHelper(eo)}(),c$3.lang={extend:function(va,_a,eo){if(!_a||!va)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var to=function(){};if(to.prototype=_a.prototype,va.prototype=new to,va.prototype.constructor=va,va.superclass=_a.prototype,_a.prototype.constructor==Object.prototype.constructor&&(_a.prototype.constructor=_a),eo){var ro;for(ro in eo)va.prototype[ro]=eo[ro];var no=function(){},io=["toString","valueOf"];try{/MSIE/.test(typeof navigator<"u"?navigator.userAgent:"node")&&(no=function(ao,oo){for(ro=0;ro<io.length;ro+=1){var so=io[ro],uo=oo[so];typeof uo=="function"&&uo!=Object.prototype[so]&&(ao[so]=uo)}})}catch{}no(va.prototype,eo)}}},typeof navigator<"u"&&navigator.appName=="Microsoft Internet Explorer"?(l$4.prototype.am=function(va,_a,eo,to,ro,no){for(var io=32767&_a,ao=_a>>15;--no>=0;){var oo=32767&this[va],so=this[va++]>>15,uo=ao*oo+so*io;ro=((oo=io*oo+((32767&uo)<<15)+eo[to]+(1073741823&ro))>>>30)+(uo>>>15)+ao*so+(ro>>>30),eo[to++]=1073741823&oo}return ro},a$1=30):typeof navigator<"u"&&navigator.appName!="Netscape"?(l$4.prototype.am=function(va,_a,eo,to,ro,no){for(;--no>=0;){var io=_a*this[va++]+eo[to]+ro;ro=Math.floor(io/67108864),eo[to++]=67108863&io}return ro},a$1=26):(l$4.prototype.am=function(va,_a,eo,to,ro,no){for(var io=16383&_a,ao=_a>>14;--no>=0;){var oo=16383&this[va],so=this[va++]>>14,uo=ao*oo+so*io;ro=((oo=io*oo+((16383&uo)<<14)+eo[to]+ro)>>28)+(uo>>14)+ao*so,eo[to++]=268435455&oo}return ro},a$1=28),l$4.prototype.DB=a$1,l$4.prototype.DM=(1<<a$1)-1,l$4.prototype.DV=1<<a$1;l$4.prototype.FV=Math.pow(2,52),l$4.prototype.F1=52-a$1,l$4.prototype.F2=2*a$1-52;var d$3,g$4,p$4=new Array;for(d$3="0".charCodeAt(0),g$4=0;g$4<=9;++g$4)p$4[d$3++]=g$4;for(d$3="a".charCodeAt(0),g$4=10;g$4<36;++g$4)p$4[d$3++]=g$4;for(d$3="A".charCodeAt(0),g$4=10;g$4<36;++g$4)p$4[d$3++]=g$4;function M$1(va){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(va)}function f$4(va,_a){var eo=p$4[va.charCodeAt(_a)];return eo??-1}function y$4(va){var _a=h$4();return _a.fromInt(va),_a}function m$4(va){var _a,eo=1;return(_a=va>>>16)!=0&&(va=_a,eo+=16),(_a=va>>8)!=0&&(va=_a,eo+=8),(_a=va>>4)!=0&&(va=_a,eo+=4),(_a=va>>2)!=0&&(va=_a,eo+=2),(_a=va>>1)!=0&&(va=_a,eo+=1),eo}function v$4(va){this.m=va}function N$2(va){this.m=va,this.mp=va.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<va.DB-15)-1,this.mt2=2*va.t}function D$2(va,_a){return va&_a}function E$3(va,_a){return va|_a}function w$4(va,_a){return va^_a}function I$2(va,_a){return va&~_a}function T(va){if(va==0)return-1;var _a=0;return(65535&va)==0&&(va>>=16,_a+=16),(255&va)==0&&(va>>=8,_a+=8),(15&va)==0&&(va>>=4,_a+=4),(3&va)==0&&(va>>=2,_a+=2),(1&va)==0&&++_a,_a}function x$3(va){for(var _a=0;va!=0;)va&=va-1,++_a;return _a}function j$1(){}function z$2(va){return va}function C$3(va){this.r2=h$4(),this.q3=h$4(),l$4.ONE.dlShiftTo(2*va.t,this.r2),this.mu=this.r2.divide(va),this.m=va}v$4.prototype.convert=function(va){return va.s<0||va.compareTo(this.m)>=0?va.mod(this.m):va},v$4.prototype.revert=function(va){return va},v$4.prototype.reduce=function(va){va.divRemTo(this.m,null,va)},v$4.prototype.mulTo=function(va,_a,eo){va.multiplyTo(_a,eo),this.reduce(eo)},v$4.prototype.sqrTo=function(va,_a){va.squareTo(_a),this.reduce(_a)},N$2.prototype.convert=function(va){var _a=h$4();return va.abs().dlShiftTo(this.m.t,_a),_a.divRemTo(this.m,null,_a),va.s<0&&_a.compareTo(l$4.ZERO)>0&&this.m.subTo(_a,_a),_a},N$2.prototype.revert=function(va){var _a=h$4();return va.copyTo(_a),this.reduce(_a),_a},N$2.prototype.reduce=function(va){for(;va.t<=this.mt2;)va[va.t++]=0;for(var _a=0;_a<this.m.t;++_a){var eo=32767&va[_a],to=eo*this.mpl+((eo*this.mph+(va[_a]>>15)*this.mpl&this.um)<<15)&va.DM;for(va[eo=_a+this.m.t]+=this.m.am(0,to,va,_a,0,this.m.t);va[eo]>=va.DV;)va[eo]-=va.DV,va[++eo]++}va.clamp(),va.drShiftTo(this.m.t,va),va.compareTo(this.m)>=0&&va.subTo(this.m,va)},N$2.prototype.mulTo=function(va,_a,eo){va.multiplyTo(_a,eo),this.reduce(eo)},N$2.prototype.sqrTo=function(va,_a){va.squareTo(_a),this.reduce(_a)},l$4.prototype.copyTo=function(va){for(var _a=this.t-1;_a>=0;--_a)va[_a]=this[_a];va.t=this.t,va.s=this.s},l$4.prototype.fromInt=function(va){this.t=1,this.s=va<0?-1:0,va>0?this[0]=va:va<-1?this[0]=va+this.DV:this.t=0},l$4.prototype.fromString=function(va,_a){var eo;if(_a==16)eo=4;else if(_a==8)eo=3;else if(_a==256)eo=8;else if(_a==2)eo=1;else if(_a==32)eo=5;else{if(_a!=4)return void this.fromRadix(va,_a);eo=2}this.t=0,this.s=0;for(var to=va.length,ro=!1,no=0;--to>=0;){var io=eo==8?255&va[to]:f$4(va,to);io<0?va.charAt(to)=="-"&&(ro=!0):(ro=!1,no==0?this[this.t++]=io:no+eo>this.DB?(this[this.t-1]|=(io&(1<<this.DB-no)-1)<<no,this[this.t++]=io>>this.DB-no):this[this.t-1]|=io<<no,(no+=eo)>=this.DB&&(no-=this.DB))}eo==8&&(128&va[0])!=0&&(this.s=-1,no>0&&(this[this.t-1]|=(1<<this.DB-no)-1<<no)),this.clamp(),ro&&l$4.ZERO.subTo(this,this)},l$4.prototype.clamp=function(){for(var va=this.s&this.DM;this.t>0&&this[this.t-1]==va;)--this.t},l$4.prototype.dlShiftTo=function(va,_a){var eo;for(eo=this.t-1;eo>=0;--eo)_a[eo+va]=this[eo];for(eo=va-1;eo>=0;--eo)_a[eo]=0;_a.t=this.t+va,_a.s=this.s},l$4.prototype.drShiftTo=function(va,_a){for(var eo=va;eo<this.t;++eo)_a[eo-va]=this[eo];_a.t=Math.max(this.t-va,0),_a.s=this.s},l$4.prototype.lShiftTo=function(va,_a){var eo,to=va%this.DB,ro=this.DB-to,no=(1<<ro)-1,io=Math.floor(va/this.DB),ao=this.s<<to&this.DM;for(eo=this.t-1;eo>=0;--eo)_a[eo+io+1]=this[eo]>>ro|ao,ao=(this[eo]&no)<<to;for(eo=io-1;eo>=0;--eo)_a[eo]=0;_a[io]=ao,_a.t=this.t+io+1,_a.s=this.s,_a.clamp()},l$4.prototype.rShiftTo=function(va,_a){_a.s=this.s;var eo=Math.floor(va/this.DB);if(eo>=this.t)_a.t=0;else{var to=va%this.DB,ro=this.DB-to,no=(1<<to)-1;_a[0]=this[eo]>>to;for(var io=eo+1;io<this.t;++io)_a[io-eo-1]|=(this[io]&no)<<ro,_a[io-eo]=this[io]>>to;to>0&&(_a[this.t-eo-1]|=(this.s&no)<<ro),_a.t=this.t-eo,_a.clamp()}},l$4.prototype.subTo=function(va,_a){for(var eo=0,to=0,ro=Math.min(va.t,this.t);eo<ro;)to+=this[eo]-va[eo],_a[eo++]=to&this.DM,to>>=this.DB;if(va.t<this.t){for(to-=va.s;eo<this.t;)to+=this[eo],_a[eo++]=to&this.DM,to>>=this.DB;to+=this.s}else{for(to+=this.s;eo<va.t;)to-=va[eo],_a[eo++]=to&this.DM,to>>=this.DB;to-=va.s}_a.s=to<0?-1:0,to<-1?_a[eo++]=this.DV+to:to>0&&(_a[eo++]=to),_a.t=eo,_a.clamp()},l$4.prototype.multiplyTo=function(va,_a){var eo=this.abs(),to=va.abs(),ro=eo.t;for(_a.t=ro+to.t;--ro>=0;)_a[ro]=0;for(ro=0;ro<to.t;++ro)_a[ro+eo.t]=eo.am(0,to[ro],_a,ro,0,eo.t);_a.s=0,_a.clamp(),this.s!=va.s&&l$4.ZERO.subTo(_a,_a)},l$4.prototype.squareTo=function(va){for(var _a=this.abs(),eo=va.t=2*_a.t;--eo>=0;)va[eo]=0;for(eo=0;eo<_a.t-1;++eo){var to=_a.am(eo,_a[eo],va,2*eo,0,1);(va[eo+_a.t]+=_a.am(eo+1,2*_a[eo],va,2*eo+1,to,_a.t-eo-1))>=_a.DV&&(va[eo+_a.t]-=_a.DV,va[eo+_a.t+1]=1)}va.t>0&&(va[va.t-1]+=_a.am(eo,_a[eo],va,2*eo,0,1)),va.s=0,va.clamp()},l$4.prototype.divRemTo=function(va,_a,eo){var to=va.abs();if(!(to.t<=0)){var ro=this.abs();if(ro.t<to.t)return _a!=null&&_a.fromInt(0),void(eo!=null&&this.copyTo(eo));eo==null&&(eo=h$4());var no=h$4(),io=this.s,ao=va.s,oo=this.DB-m$4(to[to.t-1]);oo>0?(to.lShiftTo(oo,no),ro.lShiftTo(oo,eo)):(to.copyTo(no),ro.copyTo(eo));var so=no.t,uo=no[so-1];if(uo!=0){var co=uo*(1<<this.F1)+(so>1?no[so-2]>>this.F2:0),fo=this.FV/co,po=(1<<this.F1)/co,vo=1<<this.F2,go=eo.t,mo=go-so,lo=_a??h$4();for(no.dlShiftTo(mo,lo),eo.compareTo(lo)>=0&&(eo[eo.t++]=1,eo.subTo(lo,eo)),l$4.ONE.dlShiftTo(so,lo),lo.subTo(no,no);no.t<so;)no[no.t++]=0;for(;--mo>=0;){var ho=eo[--go]==uo?this.DM:Math.floor(eo[go]*fo+(eo[go-1]+vo)*po);if((eo[go]+=no.am(0,ho,eo,mo,0,so))<ho)for(no.dlShiftTo(mo,lo),eo.subTo(lo,eo);eo[go]<--ho;)eo.subTo(lo,eo)}_a!=null&&(eo.drShiftTo(so,_a),io!=ao&&l$4.ZERO.subTo(_a,_a)),eo.t=so,eo.clamp(),oo>0&&eo.rShiftTo(oo,eo),io<0&&l$4.ZERO.subTo(eo,eo)}}},l$4.prototype.invDigit=function(){if(this.t<1)return 0;var va=this[0];if((1&va)==0)return 0;var _a=3&va;return(_a=(_a=(_a=(_a=_a*(2-(15&va)*_a)&15)*(2-(255&va)*_a)&255)*(2-((65535&va)*_a&65535))&65535)*(2-va*_a%this.DV)%this.DV)>0?this.DV-_a:-_a},l$4.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},l$4.prototype.exp=function(va,_a){if(va>4294967295||va<1)return l$4.ONE;var eo=h$4(),to=h$4(),ro=_a.convert(this),no=m$4(va)-1;for(ro.copyTo(eo);--no>=0;)if(_a.sqrTo(eo,to),(va&1<<no)>0)_a.mulTo(to,ro,eo);else{var io=eo;eo=to,to=io}return _a.revert(eo)},l$4.prototype.toString=function(va){if(this.s<0)return"-"+this.negate().toString(va);var _a;if(va==16)_a=4;else if(va==8)_a=3;else if(va==2)_a=1;else if(va==32)_a=5;else{if(va!=4)return this.toRadix(va);_a=2}var eo,to=(1<<_a)-1,ro=!1,no="",io=this.t,ao=this.DB-io*this.DB%_a;if(io-- >0)for(ao<this.DB&&(eo=this[io]>>ao)>0&&(ro=!0,no=M$1(eo));io>=0;)ao<_a?(eo=(this[io]&(1<<ao)-1)<<_a-ao,eo|=this[--io]>>(ao+=this.DB-_a)):(eo=this[io]>>(ao-=_a)&to,ao<=0&&(ao+=this.DB,--io)),eo>0&&(ro=!0),ro&&(no+=M$1(eo));return ro?no:"0"},l$4.prototype.negate=function(){var va=h$4();return l$4.ZERO.subTo(this,va),va},l$4.prototype.abs=function(){return this.s<0?this.negate():this},l$4.prototype.compareTo=function(va){var _a=this.s-va.s;if(_a!=0)return _a;var eo=this.t;if((_a=eo-va.t)!=0)return this.s<0?-_a:_a;for(;--eo>=0;)if((_a=this[eo]-va[eo])!=0)return _a;return 0},l$4.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+m$4(this[this.t-1]^this.s&this.DM)},l$4.prototype.mod=function(va){var _a=h$4();return this.abs().divRemTo(va,null,_a),this.s<0&&_a.compareTo(l$4.ZERO)>0&&va.subTo(_a,_a),_a},l$4.prototype.modPowInt=function(va,_a){var eo;return eo=va<256||_a.isEven()?new v$4(_a):new N$2(_a),this.exp(va,eo)},l$4.ZERO=y$4(0),l$4.ONE=y$4(1),j$1.prototype.convert=z$2,j$1.prototype.revert=z$2,j$1.prototype.mulTo=function(va,_a,eo){va.multiplyTo(_a,eo)},j$1.prototype.sqrTo=function(va,_a){va.squareTo(_a)},C$3.prototype.convert=function(va){if(va.s<0||va.t>2*this.m.t)return va.mod(this.m);if(va.compareTo(this.m)<0)return va;var _a=h$4();return va.copyTo(_a),this.reduce(_a),_a},C$3.prototype.revert=function(va){return va},C$3.prototype.reduce=function(va){for(va.drShiftTo(this.m.t-1,this.r2),va.t>this.m.t+1&&(va.t=this.m.t+1,va.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);va.compareTo(this.r2)<0;)va.dAddOffset(1,this.m.t+1);for(va.subTo(this.r2,va);va.compareTo(this.m)>=0;)va.subTo(this.m,va)},C$3.prototype.mulTo=function(va,_a,eo){va.multiplyTo(_a,eo),this.reduce(eo)},C$3.prototype.sqrTo=function(va,_a){va.squareTo(_a),this.reduce(_a)};var b$3=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],S$1=(1<<26)/b$3[b$3.length-1];l$4.prototype.chunkSize=function(va){return Math.floor(Math.LN2*this.DB/Math.log(va))},l$4.prototype.toRadix=function(va){if(va==null&&(va=10),this.signum()==0||va<2||va>36)return"0";var _a=this.chunkSize(va),eo=Math.pow(va,_a),to=y$4(eo),ro=h$4(),no=h$4(),io="";for(this.divRemTo(to,ro,no);ro.signum()>0;)io=(eo+no.intValue()).toString(va).substr(1)+io,ro.divRemTo(to,ro,no);return no.intValue().toString(va)+io},l$4.prototype.fromRadix=function(va,_a){this.fromInt(0),_a==null&&(_a=10);for(var eo=this.chunkSize(_a),to=Math.pow(_a,eo),ro=!1,no=0,io=0,ao=0;ao<va.length;++ao){var oo=f$4(va,ao);oo<0?va.charAt(ao)=="-"&&this.signum()==0&&(ro=!0):(io=_a*io+oo,++no>=eo&&(this.dMultiply(to),this.dAddOffset(io,0),no=0,io=0))}no>0&&(this.dMultiply(Math.pow(_a,no)),this.dAddOffset(io,0)),ro&&l$4.ZERO.subTo(this,this)},l$4.prototype.fromNumber=function(va,_a,eo){if(typeof _a=="number")if(va<2)this.fromInt(1);else for(this.fromNumber(va,eo),this.testBit(va-1)||this.bitwiseTo(l$4.ONE.shiftLeft(va-1),E$3,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(_a);)this.dAddOffset(2,0),this.bitLength()>va&&this.subTo(l$4.ONE.shiftLeft(va-1),this);else{var to=new Array,ro=7&va;to.length=1+(va>>3),_a.nextBytes(to),ro>0?to[0]&=(1<<ro)-1:to[0]=0,this.fromString(to,256)}},l$4.prototype.bitwiseTo=function(va,_a,eo){var to,ro,no=Math.min(va.t,this.t);for(to=0;to<no;++to)eo[to]=_a(this[to],va[to]);if(va.t<this.t){for(ro=va.s&this.DM,to=no;to<this.t;++to)eo[to]=_a(this[to],ro);eo.t=this.t}else{for(ro=this.s&this.DM,to=no;to<va.t;++to)eo[to]=_a(ro,va[to]);eo.t=va.t}eo.s=_a(this.s,va.s),eo.clamp()},l$4.prototype.changeBit=function(va,_a){var eo=l$4.ONE.shiftLeft(va);return this.bitwiseTo(eo,_a,eo),eo},l$4.prototype.addTo=function(va,_a){for(var eo=0,to=0,ro=Math.min(va.t,this.t);eo<ro;)to+=this[eo]+va[eo],_a[eo++]=to&this.DM,to>>=this.DB;if(va.t<this.t){for(to+=va.s;eo<this.t;)to+=this[eo],_a[eo++]=to&this.DM,to>>=this.DB;to+=this.s}else{for(to+=this.s;eo<va.t;)to+=va[eo],_a[eo++]=to&this.DM,to>>=this.DB;to+=va.s}_a.s=to<0?-1:0,to>0?_a[eo++]=to:to<-1&&(_a[eo++]=this.DV+to),_a.t=eo,_a.clamp()},l$4.prototype.dMultiply=function(va){this[this.t]=this.am(0,va-1,this,0,0,this.t),++this.t,this.clamp()},l$4.prototype.dAddOffset=function(va,_a){if(va!=0){for(;this.t<=_a;)this[this.t++]=0;for(this[_a]+=va;this[_a]>=this.DV;)this[_a]-=this.DV,++_a>=this.t&&(this[this.t++]=0),++this[_a]}},l$4.prototype.multiplyLowerTo=function(va,_a,eo){var to,ro=Math.min(this.t+va.t,_a);for(eo.s=0,eo.t=ro;ro>0;)eo[--ro]=0;for(to=eo.t-this.t;ro<to;++ro)eo[ro+this.t]=this.am(0,va[ro],eo,ro,0,this.t);for(to=Math.min(va.t,_a);ro<to;++ro)this.am(0,va[ro],eo,ro,0,_a-ro);eo.clamp()},l$4.prototype.multiplyUpperTo=function(va,_a,eo){--_a;var to=eo.t=this.t+va.t-_a;for(eo.s=0;--to>=0;)eo[to]=0;for(to=Math.max(_a-this.t,0);to<va.t;++to)eo[this.t+to-_a]=this.am(_a-to,va[to],eo,0,0,this.t+to-_a);eo.clamp(),eo.drShiftTo(1,eo)},l$4.prototype.modInt=function(va){if(va<=0)return 0;var _a=this.DV%va,eo=this.s<0?va-1:0;if(this.t>0)if(_a==0)eo=this[0]%va;else for(var to=this.t-1;to>=0;--to)eo=(_a*eo+this[to])%va;return eo},l$4.prototype.millerRabin=function(va){var _a=this.subtract(l$4.ONE),eo=_a.getLowestSetBit();if(eo<=0)return!1;var to=_a.shiftRight(eo);(va=va+1>>1)>b$3.length&&(va=b$3.length);for(var ro=h$4(),no=0;no<va;++no){ro.fromInt(b$3[Math.floor(Math.random()*b$3.length)]);var io=ro.modPow(to,this);if(io.compareTo(l$4.ONE)!=0&&io.compareTo(_a)!=0){for(var ao=1;ao++<eo&&io.compareTo(_a)!=0;)if((io=io.modPowInt(2,this)).compareTo(l$4.ONE)==0)return!1;if(io.compareTo(_a)!=0)return!1}}return!0},l$4.prototype.clone=function(){var va=h$4();return this.copyTo(va),va},l$4.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},l$4.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},l$4.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},l$4.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},l$4.prototype.toByteArray=function(){var va=this.t,_a=new Array;_a[0]=this.s;var eo,to=this.DB-va*this.DB%8,ro=0;if(va-- >0)for(to<this.DB&&(eo=this[va]>>to)!=(this.s&this.DM)>>to&&(_a[ro++]=eo|this.s<<this.DB-to);va>=0;)to<8?(eo=(this[va]&(1<<to)-1)<<8-to,eo|=this[--va]>>(to+=this.DB-8)):(eo=this[va]>>(to-=8)&255,to<=0&&(to+=this.DB,--va)),(128&eo)!=0&&(eo|=-256),ro==0&&(128&this.s)!=(128&eo)&&++ro,(ro>0||eo!=this.s)&&(_a[ro++]=eo);return _a},l$4.prototype.equals=function(va){return this.compareTo(va)==0},l$4.prototype.min=function(va){return this.compareTo(va)<0?this:va},l$4.prototype.max=function(va){return this.compareTo(va)>0?this:va},l$4.prototype.and=function(va){var _a=h$4();return this.bitwiseTo(va,D$2,_a),_a},l$4.prototype.or=function(va){var _a=h$4();return this.bitwiseTo(va,E$3,_a),_a},l$4.prototype.xor=function(va){var _a=h$4();return this.bitwiseTo(va,w$4,_a),_a},l$4.prototype.andNot=function(va){var _a=h$4();return this.bitwiseTo(va,I$2,_a),_a},l$4.prototype.not=function(){for(var va=h$4(),_a=0;_a<this.t;++_a)va[_a]=this.DM&~this[_a];return va.t=this.t,va.s=~this.s,va},l$4.prototype.shiftLeft=function(va){var _a=h$4();return va<0?this.rShiftTo(-va,_a):this.lShiftTo(va,_a),_a},l$4.prototype.shiftRight=function(va){var _a=h$4();return va<0?this.lShiftTo(-va,_a):this.rShiftTo(va,_a),_a},l$4.prototype.getLowestSetBit=function(){for(var va=0;va<this.t;++va)if(this[va]!=0)return va*this.DB+T(this[va]);return this.s<0?this.t*this.DB:-1},l$4.prototype.bitCount=function(){for(var va=0,_a=this.s&this.DM,eo=0;eo<this.t;++eo)va+=x$3(this[eo]^_a);return va},l$4.prototype.testBit=function(va){var _a=Math.floor(va/this.DB);return _a>=this.t?this.s!=0:(this[_a]&1<<va%this.DB)!=0},l$4.prototype.setBit=function(va){return this.changeBit(va,E$3)},l$4.prototype.clearBit=function(va){return this.changeBit(va,I$2)},l$4.prototype.flipBit=function(va){return this.changeBit(va,w$4)},l$4.prototype.add=function(va){var _a=h$4();return this.addTo(va,_a),_a},l$4.prototype.subtract=function(va){var _a=h$4();return this.subTo(va,_a),_a},l$4.prototype.multiply=function(va){var _a=h$4();return this.multiplyTo(va,_a),_a},l$4.prototype.divide=function(va){var _a=h$4();return this.divRemTo(va,_a,null),_a},l$4.prototype.remainder=function(va){var _a=h$4();return this.divRemTo(va,null,_a),_a},l$4.prototype.divideAndRemainder=function(va){var _a=h$4(),eo=h$4();return this.divRemTo(va,_a,eo),new Array(_a,eo)},l$4.prototype.modPow=function(va,_a){var eo,to,ro=va.bitLength(),no=y$4(1);if(ro<=0)return no;eo=ro<18?1:ro<48?3:ro<144?4:ro<768?5:6,to=ro<8?new v$4(_a):_a.isEven()?new C$3(_a):new N$2(_a);var io=new Array,ao=3,oo=eo-1,so=(1<<eo)-1;if(io[1]=to.convert(this),eo>1){var uo=h$4();for(to.sqrTo(io[1],uo);ao<=so;)io[ao]=h$4(),to.mulTo(uo,io[ao-2],io[ao]),ao+=2}var co,fo,po=va.t-1,vo=!0,go=h$4();for(ro=m$4(va[po])-1;po>=0;){for(ro>=oo?co=va[po]>>ro-oo&so:(co=(va[po]&(1<<ro+1)-1)<<oo-ro,po>0&&(co|=va[po-1]>>this.DB+ro-oo)),ao=eo;(1&co)==0;)co>>=1,--ao;if((ro-=ao)<0&&(ro+=this.DB,--po),vo)io[co].copyTo(no),vo=!1;else{for(;ao>1;)to.sqrTo(no,go),to.sqrTo(go,no),ao-=2;ao>0?to.sqrTo(no,go):(fo=no,no=go,go=fo),to.mulTo(go,io[co],no)}for(;po>=0&&(va[po]&1<<ro)==0;)to.sqrTo(no,go),fo=no,no=go,go=fo,--ro<0&&(ro=this.DB-1,--po)}return to.revert(no)},l$4.prototype.modInverse=function(va){var _a=va.isEven();if(this.isEven()&&_a||va.signum()==0)return l$4.ZERO;for(var eo=va.clone(),to=this.clone(),ro=y$4(1),no=y$4(0),io=y$4(0),ao=y$4(1);eo.signum()!=0;){for(;eo.isEven();)eo.rShiftTo(1,eo),_a?(ro.isEven()&&no.isEven()||(ro.addTo(this,ro),no.subTo(va,no)),ro.rShiftTo(1,ro)):no.isEven()||no.subTo(va,no),no.rShiftTo(1,no);for(;to.isEven();)to.rShiftTo(1,to),_a?(io.isEven()&&ao.isEven()||(io.addTo(this,io),ao.subTo(va,ao)),io.rShiftTo(1,io)):ao.isEven()||ao.subTo(va,ao),ao.rShiftTo(1,ao);eo.compareTo(to)>=0?(eo.subTo(to,eo),_a&&ro.subTo(io,ro),no.subTo(ao,no)):(to.subTo(eo,to),_a&&io.subTo(ro,io),ao.subTo(no,ao))}return to.compareTo(l$4.ONE)!=0?l$4.ZERO:ao.compareTo(va)>=0?ao.subtract(va):ao.signum()<0?(ao.addTo(va,ao),ao.signum()<0?ao.add(va):ao):ao},l$4.prototype.pow=function(va){return this.exp(va,new j$1)},l$4.prototype.gcd=function(va){var _a=this.s<0?this.negate():this.clone(),eo=va.s<0?va.negate():va.clone();if(_a.compareTo(eo)<0){var to=_a;_a=eo,eo=to}var ro=_a.getLowestSetBit(),no=eo.getLowestSetBit();if(no<0)return _a;for(ro<no&&(no=ro),no>0&&(_a.rShiftTo(no,_a),eo.rShiftTo(no,eo));_a.signum()>0;)(ro=_a.getLowestSetBit())>0&&_a.rShiftTo(ro,_a),(ro=eo.getLowestSetBit())>0&&eo.rShiftTo(ro,eo),_a.compareTo(eo)>=0?(_a.subTo(eo,_a),_a.rShiftTo(1,_a)):(eo.subTo(_a,eo),eo.rShiftTo(1,eo));return no>0&&eo.lShiftTo(no,eo),eo},l$4.prototype.isProbablePrime=function(va){var _a,eo=this.abs();if(eo.t==1&&eo[0]<=b$3[b$3.length-1]){for(_a=0;_a<b$3.length;++_a)if(eo[0]==b$3[_a])return!0;return!1}if(eo.isEven())return!1;for(_a=1;_a<b$3.length;){for(var to=b$3[_a],ro=_a+1;ro<b$3.length&&to<S$1;)to*=b$3[ro++];for(to=eo.modInt(to);_a<ro;)if(to%b$3[_a++]==0)return!1}return eo.millerRabin(va)},l$4.prototype.square=function(){var va=h$4();return this.squareTo(va),va};/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */var L$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function O$2(va){var _a,eo,to="";for(_a=0;_a+3<=va.length;_a+=3)eo=parseInt(va.substring(_a,_a+3),16),to+=L$2.charAt(eo>>6)+L$2.charAt(63&eo);for(_a+1==va.length?(eo=parseInt(va.substring(_a,_a+1),16),to+=L$2.charAt(eo<<2)):_a+2==va.length&&(eo=parseInt(va.substring(_a,_a+2),16),to+=L$2.charAt(eo>>2)+L$2.charAt((3&eo)<<4));(3&to.length)>0;)to+="=";return to}function B$2(va){var _a,eo,to,ro="",no=0;for(_a=0;_a<va.length&&va.charAt(_a)!="=";++_a)(to=L$2.indexOf(va.charAt(_a)))<0||(no==0?(ro+=M$1(to>>2),eo=3&to,no=1):no==1?(ro+=M$1(eo<<2|to>>4),eo=15&to,no=2):no==2?(ro+=M$1(eo),ro+=M$1(to>>2),eo=3&to,no=3):(ro+=M$1(eo<<2|to>>4),ro+=M$1(15&to),no=0));return no==1&&(ro+=M$1(eo<<2)),ro}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */function Q$1(){this.i=0,this.j=0,this.S=new Array}Q$1.prototype.init=function(va){var _a,eo,to;for(_a=0;_a<256;++_a)this.S[_a]=_a;for(eo=0,_a=0;_a<256;++_a)eo=eo+this.S[_a]+va[_a%va.length]&255,to=this.S[_a],this.S[_a]=this.S[eo],this.S[eo]=to;this.i=0,this.j=0},Q$1.prototype.next=function(){var va;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,va=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=va,this.S[va+this.S[this.i]&255]};var k$3,P$2,U;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */function R$2(){var va;va=new Date().getTime(),P$2[U++]^=255&va,P$2[U++]^=va>>8&255,P$2[U++]^=va>>16&255,P$2[U++]^=va>>24&255,U>=256&&(U-=256)}if(P$2==null){var _$2;if(P$2=new Array,U=0,typeof window<"u"&&(window.crypto!==void 0||window.msCrypto!==void 0)){var Y$1=window.crypto||window.msCrypto;if(Y$1.getRandomValues){var F$2=new Uint8Array(32);for(Y$1.getRandomValues(F$2),_$2=0;_$2<32;++_$2)P$2[U++]=F$2[_$2]}else if(typeof navigator<"u"&&navigator.appName=="Netscape"&&navigator.appVersion<"5"){var H$2=window.crypto.random(32);for(_$2=0;_$2<H$2.length;++_$2)P$2[U++]=255&H$2.charCodeAt(_$2)}}for(;U<256;)_$2=Math.floor(65536*Math.random()),P$2[U++]=_$2>>>8,P$2[U++]=255&_$2;U=0,R$2()}function V$1(){if(k$3==null){for(R$2(),(k$3=new Q$1).init(P$2),U=0;U<P$2.length;++U)P$2[U]=0;U=0}return k$3.next()}function G$2(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */function K$1(va,_a){return new l$4(va,_a)}function q$3(va,_a,eo){for(var to="",ro=0;to.length<_a;)to+=eo(String.fromCharCode.apply(String,va.concat([(4278190080&ro)>>24,(16711680&ro)>>16,(65280&ro)>>8,255&ro]))),ro+=1;return to}function W$2(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function X$1(va,_a,eo){for(var to="",ro=0;to.length<_a;)to+=eo(va+String.fromCharCode.apply(String,[(4278190080&ro)>>24,(16711680&ro)>>16,(65280&ro)>>8,255&ro])),ro+=1;return to}function Z$1(va){for(var _a="",eo=0;eo<va.length;eo++){var to=va[eo].toString(16);to.length==1&&(to="0"+to),_a+=to}return _a}function J$1(va){return Z$1(function(_a){for(var eo=new Array,to=0;to<_a.length;to++)eo[to]=_a.charCodeAt(to);return eo}(va))}function $$1(va){return va.length%4==2?va+="==":va.length%4==3&&(va+="="),va=(va=va.replace(/-/g,"+")).replace(/_/g,"/")}function ee(va){return va.length%2==1&&(va="0"+va),function(_a){return(_a=(_a=_a.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}(O$2(va))}function te(va){return B$2($$1(va))}function ie(va){return function(_a){return _a.replace(/%/g,"")}(function(_a){for(var eo=encodeURIComponent(_a),to="",ro=0;ro<eo.length;ro++)eo[ro]=="%"?(to+=eo.substr(ro,3),ro+=2):to=to+"%"+J$1(eo[ro]);return to}(va))}function ne(va){return decodeURIComponent(function(_a){return _a.replace(/(..)/g,"%$1")}(va))}function re(va){for(var _a="",eo=0;eo<va.length-1;eo+=2)_a+=String.fromCharCode(parseInt(va.substr(eo,2),16));return _a}function se(va){for(var _a="",eo=0;eo<va.length;eo++)_a+=("0"+va.charCodeAt(eo).toString(16)).slice(-2);return _a}function oe(va){var _a=function(eo){return O$2(eo)}(va).replace(/(.{64})/g,`$1\r
`);return _a=_a.replace(/\r\n$/,"")}function ae(va,_a){return"-----BEGIN "+_a+`-----\r
`+oe(va)+`\r
-----END `+_a+`-----\r
`}function ue(va,_a){if(va.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+_a;return function(eo){return B$2(eo.replace(/[^0-9A-Za-z\/+=]*/g,""))}(va=_a!==void 0?(va=va.replace(new RegExp("^[^]*-----BEGIN "+_a+"-----"),"")).replace(new RegExp("-----END "+_a+"-----[^]*$"),""):(va=va.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function ce(va){var _a="malformed hex value";if(!va.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw _a;if(va.length!=8)return va.length==32?function(eo){if(!eo.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var to=(eo=eo.toLowerCase()).match(/.{1,4}/g),ro=0;ro<8;ro++)to[ro]=to[ro].replace(/^0+/,""),to[ro]==""&&(to[ro]="0");var no=(eo=":"+to.join(":")+":").match(/:(0:){2,}/g);if(no===null)return eo.slice(1,-1);var io="";for(ro=0;ro<no.length;ro++)no[ro].length>io.length&&(io=no[ro]);return(eo=eo.replace(io,"::")).slice(1,-1)}(va):va;try{return parseInt(va.substr(0,2),16)+"."+parseInt(va.substr(2,2),16)+"."+parseInt(va.substr(4,2),16)+"."+parseInt(va.substr(6,2),16)}catch{throw _a}}function Ae(va){return va.match(/.{4}/g).map(function(_a){var eo=parseInt(_a.substr(0,2),16),to=parseInt(_a.substr(2),16);if(eo==0&to<128)return String.fromCharCode(to);if(eo<8){var ro=128|63&to;return ne((192|(7&eo)<<3|(192&to)>>6).toString(16)+ro.toString(16))}ro=128|(15&eo)<<2|(192&to)>>6;var no=128|63&to;return ne((224|(240&eo)>>4).toString(16)+ro.toString(16)+no.toString(16))}).join("")}function le(va){return!(va.length%2!=0||!va.match(/^[0-9a-f]+$/)&&!va.match(/^[0-9A-F]+$/))}function he(va){return va.length%2==1?"0"+va:va.substr(0,1)>"7"?"00"+va:va}G$2.prototype.nextBytes=function(va){var _a;for(_a=0;_a<va.length;++_a)va[_a]=V$1()},W$2.prototype.doPublic=function(va){return va.modPowInt(this.e,this.n)},W$2.prototype.setPublic=function(va,_a){if(this.isPublic=!0,this.isPrivate=!1,typeof va!="string")this.n=va,this.e=_a;else{if(!(va!=null&&_a!=null&&va.length>0&&_a.length>0))throw"Invalid RSA public key";this.n=K$1(va,16),this.e=parseInt(_a,16)}},W$2.prototype.encrypt=function(va){var _a=function(ro,no){if(no<ro.length+11)throw"Message too long for RSA";for(var io=new Array,ao=ro.length-1;ao>=0&&no>0;){var oo=ro.charCodeAt(ao--);oo<128?io[--no]=oo:oo>127&&oo<2048?(io[--no]=63&oo|128,io[--no]=oo>>6|192):(io[--no]=63&oo|128,io[--no]=oo>>6&63|128,io[--no]=oo>>12|224)}io[--no]=0;for(var so=new G$2,uo=new Array;no>2;){for(uo[0]=0;uo[0]==0;)so.nextBytes(uo);io[--no]=uo[0]}return io[--no]=2,io[--no]=0,new l$4(io)}(va,this.n.bitLength()+7>>3);if(_a==null)return null;var eo=this.doPublic(_a);if(eo==null)return null;var to=eo.toString(16);return(1&to.length)==0?to:"0"+to},W$2.prototype.encryptOAEP=function(va,_a,eo){var to=function(io,ao,oo,so){var uo=u$2.crypto.MessageDigest,co=u$2.crypto.Util,fo=null;if(oo||(oo="sha1"),typeof oo=="string"&&(fo=uo.getCanonicalAlgName(oo),so=uo.getHashLength(fo),oo=function(Eo){return re(co.hashHex(se(Eo),fo))}),io.length+2*so+2>ao)throw"Message too long for RSA";var po,vo="";for(po=0;po<ao-io.length-2*so-2;po+=1)vo+="\0";var go=oo("")+vo+""+io,mo=new Array(so);new G$2().nextBytes(mo);var lo=q$3(mo,go.length,oo),ho=[];for(po=0;po<go.length;po+=1)ho[po]=go.charCodeAt(po)^lo.charCodeAt(po);var yo=q$3(ho,mo.length,oo),Ao=[0];for(po=0;po<mo.length;po+=1)Ao[po+1]=mo[po]^yo.charCodeAt(po);return new l$4(Ao.concat(ho))}(va,this.n.bitLength()+7>>3,_a,eo);if(to==null)return null;var ro=this.doPublic(to);if(ro==null)return null;var no=ro.toString(16);return(1&no.length)==0?no:"0"+no},W$2.prototype.type="RSA",W$2.prototype.doPrivate=function(va){if(this.p==null||this.q==null)return va.modPow(this.d,this.n);for(var _a=va.mod(this.p).modPow(this.dmp1,this.p),eo=va.mod(this.q).modPow(this.dmq1,this.q);_a.compareTo(eo)<0;)_a=_a.add(this.p);return _a.subtract(eo).multiply(this.coeff).mod(this.p).multiply(this.q).add(eo)},W$2.prototype.setPrivate=function(va,_a,eo){if(this.isPrivate=!0,typeof va!="string")this.n=va,this.e=_a,this.d=eo;else{if(!(va!=null&&_a!=null&&va.length>0&&_a.length>0))throw"Invalid RSA private key";this.n=K$1(va,16),this.e=parseInt(_a,16),this.d=K$1(eo,16)}},W$2.prototype.setPrivateEx=function(va,_a,eo,to,ro,no,io,ao){if(this.isPrivate=!0,this.isPublic=!1,va==null)throw"RSASetPrivateEx N == null";if(_a==null)throw"RSASetPrivateEx E == null";if(va.length==0)throw"RSASetPrivateEx N.length == 0";if(_a.length==0)throw"RSASetPrivateEx E.length == 0";if(!(va!=null&&_a!=null&&va.length>0&&_a.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=K$1(va,16),this.e=parseInt(_a,16),this.d=K$1(eo,16),this.p=K$1(to,16),this.q=K$1(ro,16),this.dmp1=K$1(no,16),this.dmq1=K$1(io,16),this.coeff=K$1(ao,16)},W$2.prototype.generate=function(va,_a){var eo=new G$2,to=va>>1;this.e=parseInt(_a,16);for(var ro=new l$4(_a,16);;){for(;this.p=new l$4(va-to,1,eo),this.p.subtract(l$4.ONE).gcd(ro).compareTo(l$4.ONE)!=0||!this.p.isProbablePrime(10););for(;this.q=new l$4(to,1,eo),this.q.subtract(l$4.ONE).gcd(ro).compareTo(l$4.ONE)!=0||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var no=this.p;this.p=this.q,this.q=no}var io=this.p.subtract(l$4.ONE),ao=this.q.subtract(l$4.ONE),oo=io.multiply(ao);if(oo.gcd(ro).compareTo(l$4.ONE)==0&&(this.n=this.p.multiply(this.q),this.n.bitLength()==va)){this.d=ro.modInverse(oo),this.dmp1=this.d.mod(io),this.dmq1=this.d.mod(ao),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},W$2.prototype.decrypt=function(va){if(va.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var _a=K$1(va,16),eo=this.doPrivate(_a);return eo==null?null:function(to,ro){for(var no=to.toByteArray(),io=0;io<no.length&&no[io]==0;)++io;if(no.length-io!=ro-1||no[io]!=2)return null;for(++io;no[io]!=0;)if(++io>=no.length)return null;for(var ao="";++io<no.length;){var oo=255&no[io];oo<128?ao+=String.fromCharCode(oo):oo>191&&oo<224?(ao+=String.fromCharCode((31&oo)<<6|63&no[io+1]),++io):(ao+=String.fromCharCode((15&oo)<<12|(63&no[io+1])<<6|63&no[io+2]),io+=2)}return ao}(eo,this.n.bitLength()+7>>3)},W$2.prototype.decryptOAEP=function(va,_a,eo){if(va.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var to=K$1(va,16),ro=this.doPrivate(to);return ro==null?null:function(no,io,ao,oo){var so=u$2.crypto.MessageDigest,uo=u$2.crypto.Util,co=null;for(ao||(ao="sha1"),typeof ao=="string"&&(co=so.getCanonicalAlgName(ao),oo=so.getHashLength(co),ao=function(Ao){return re(uo.hashHex(se(Ao),co))}),no=no.toByteArray(),fo=0;fo<no.length;fo+=1)no[fo]&=255;for(;no.length<io;)no.unshift(0);if((no=String.fromCharCode.apply(String,no)).length<2*oo+2)throw"Cipher too short";var fo,po=no.substr(1,oo),vo=no.substr(oo+1),go=X$1(vo,oo,ao),mo=[];for(fo=0;fo<po.length;fo+=1)mo[fo]=po.charCodeAt(fo)^go.charCodeAt(fo);var lo=X$1(String.fromCharCode.apply(String,mo),no.length-oo,ao),ho=[];for(fo=0;fo<vo.length;fo+=1)ho[fo]=vo.charCodeAt(fo)^lo.charCodeAt(fo);if((ho=String.fromCharCode.apply(String,ho)).substr(0,oo)!==ao(""))throw"Hash mismatch";var yo=(ho=ho.substr(oo)).indexOf("");if((yo!=-1?ho.substr(0,yo).lastIndexOf("\0"):-1)+1!=yo)throw"Malformed data";return ho.substr(yo+1)}(ro,this.n.bitLength()+7>>3,_a,eo)},u$2.lang!==void 0&&u$2.lang||(u$2.lang={}),u$2.lang.String=function(){},u$2.lang.String.isInteger=function(va){return!!va.match(/^[0-9]+$/)||!!va.match(/^-[0-9]+$/)},u$2.lang.String.isHex=function(va){return le(va)},u$2.lang.String.isBase64=function(va){return!(!(va=va.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||va.length%4!=0)},u$2.lang.String.isBase64URL=function(va){return!va.match(/[+/=]/)&&(va=$$1(va),u$2.lang.String.isBase64(va))},u$2.lang.String.isIntegerArray=function(va){return!!(va=va.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},u$2.lang.String.isPrintable=function(va){return va.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},u$2.lang.String.isIA5=function(va){return va.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},u$2.lang.String.isMail=function(va){return va.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var de=function(va,_a,eo){return eo==null&&(eo="0"),va.length>=_a?va:new Array(_a-va.length+1).join(eo)+va};function ge(va,_a){var eo=function(){};eo.prototype=_a.prototype,va.prototype=new eo,va.prototype.constructor=va,va.superclass=_a.prototype,_a.prototype.constructor==Object.prototype.constructor&&(_a.prototype.constructor=_a)}u$2.crypto!==void 0&&u$2.crypto||(u$2.crypto={}),u$2.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:A$4.algo.MD5,sha1:A$4.algo.SHA1,sha224:A$4.algo.SHA224,sha256:A$4.algo.SHA256,sha384:A$4.algo.SHA384,sha512:A$4.algo.SHA512,ripemd160:A$4.algo.RIPEMD160},this.getDigestInfoHex=function(va,_a){if(this.DIGESTINFOHEAD[_a]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+_a;return this.DIGESTINFOHEAD[_a]+va},this.getPaddedDigestInfoHex=function(va,_a,eo){var to=this.getDigestInfoHex(va,_a),ro=eo/4;if(to.length+22>ro)throw"key is too short for SigAlg: keylen="+eo+","+_a;for(var no="0001",io="00"+to,ao="",oo=ro-no.length-io.length,so=0;so<oo;so+=2)ao+="ff";return no+ao+io},this.hashString=function(va,_a){return new u$2.crypto.MessageDigest({alg:_a}).digestString(va)},this.hashHex=function(va,_a){return new u$2.crypto.MessageDigest({alg:_a}).digestHex(va)},this.sha1=function(va){return this.hashString(va,"sha1")},this.sha256=function(va){return this.hashString(va,"sha256")},this.sha256Hex=function(va){return this.hashHex(va,"sha256")},this.sha512=function(va){return this.hashString(va,"sha512")},this.sha512Hex=function(va){return this.hashHex(va,"sha512")},this.isKey=function(va){return va instanceof W$2||va instanceof u$2.crypto.DSA||va instanceof u$2.crypto.ECDSA}},u$2.crypto.Util.md5=function(va){return new u$2.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(va)},u$2.crypto.Util.ripemd160=function(va){return new u$2.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(va)},u$2.crypto.Util.SECURERANDOMGEN=new G$2,u$2.crypto.Util.getRandomHexOfNbytes=function(va){var _a=new Array(va);return u$2.crypto.Util.SECURERANDOMGEN.nextBytes(_a),Z$1(_a)},u$2.crypto.Util.getRandomBigIntegerOfNbytes=function(va){return new l$4(u$2.crypto.Util.getRandomHexOfNbytes(va),16)},u$2.crypto.Util.getRandomHexOfNbits=function(va){var _a=va%8,eo=new Array((va-_a)/8+1);return u$2.crypto.Util.SECURERANDOMGEN.nextBytes(eo),eo[0]=(255<<_a&255^255)&eo[0],Z$1(eo)},u$2.crypto.Util.getRandomBigIntegerOfNbits=function(va){return new l$4(u$2.crypto.Util.getRandomHexOfNbits(va),16)},u$2.crypto.Util.getRandomBigIntegerZeroToMax=function(va){for(var _a=va.bitLength();;){var eo=u$2.crypto.Util.getRandomBigIntegerOfNbits(_a);if(va.compareTo(eo)!=-1)return eo}},u$2.crypto.Util.getRandomBigIntegerMinToMax=function(va,_a){var eo=va.compareTo(_a);if(eo==1)throw"biMin is greater than biMax";if(eo==0)return va;var to=_a.subtract(va);return u$2.crypto.Util.getRandomBigIntegerZeroToMax(to).add(va)},u$2.crypto.MessageDigest=function(va){this.setAlgAndProvider=function(_a,eo){if((_a=u$2.crypto.MessageDigest.getCanonicalAlgName(_a))!==null&&eo===void 0&&(eo=u$2.crypto.Util.DEFAULTPROVIDER[_a]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(_a)!=-1&&eo=="cryptojs"){try{this.md=u$2.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[_a].create()}catch(to){throw"setAlgAndProvider hash alg set fail alg="+_a+"/"+to}this.updateString=function(to){this.md.update(to)},this.updateHex=function(to){var ro=A$4.enc.Hex.parse(to);this.md.update(ro)},this.digest=function(){return this.md.finalize().toString(A$4.enc.Hex)},this.digestString=function(to){return this.updateString(to),this.digest()},this.digestHex=function(to){return this.updateHex(to),this.digest()}}if(":sha256:".indexOf(_a)!=-1&&eo=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(to){throw"setAlgAndProvider hash alg set fail alg="+_a+"/"+to}this.updateString=function(to){this.md.update(to)},this.updateHex=function(to){var ro=sjcl.codec.hex.toBits(to);this.md.update(ro)},this.digest=function(){var to=this.md.finalize();return sjcl.codec.hex.fromBits(to)},this.digestString=function(to){return this.updateString(to),this.digest()},this.digestHex=function(to){return this.updateHex(to),this.digest()}}},this.updateString=function(_a){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(_a){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(_a){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(_a){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},va!==void 0&&va.alg!==void 0&&(this.algName=va.alg,va.prov===void 0&&(this.provName=u$2.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},u$2.crypto.MessageDigest.getCanonicalAlgName=function(va){return typeof va=="string"&&(va=(va=va.toLowerCase()).replace(/-/,"")),va},u$2.crypto.MessageDigest.getHashLength=function(va){var _a=u$2.crypto.MessageDigest,eo=_a.getCanonicalAlgName(va);if(_a.HASHLENGTH[eo]===void 0)throw"not supported algorithm: "+va;return _a.HASHLENGTH[eo]},u$2.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},u$2.crypto.Mac=function(va){this.setAlgAndProvider=function(_a,eo){if((_a=_a.toLowerCase())==null&&(_a="hmacsha1"),(_a=_a.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+_a;eo===void 0&&(eo=u$2.crypto.Util.DEFAULTPROVIDER[_a]),this.algProv=_a+"/"+eo;var to=_a.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(to)!=-1&&eo=="cryptojs"){try{var ro=u$2.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[to];this.mac=A$4.algo.HMAC.create(ro,this.pass)}catch(no){throw"setAlgAndProvider hash alg set fail hashAlg="+to+"/"+no}this.updateString=function(no){this.mac.update(no)},this.updateHex=function(no){var io=A$4.enc.Hex.parse(no);this.mac.update(io)},this.doFinal=function(){return this.mac.finalize().toString(A$4.enc.Hex)},this.doFinalString=function(no){return this.updateString(no),this.doFinal()},this.doFinalHex=function(no){return this.updateHex(no),this.doFinal()}}},this.updateString=function(_a){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(_a){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(_a){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(_a){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(_a){if(typeof _a=="string"){var eo=_a;return _a.length%2!=1&&_a.match(/^[0-9A-Fa-f]+$/)||(eo=se(_a)),void(this.pass=A$4.enc.Hex.parse(eo))}if(typeof _a!="object")throw"KJUR.crypto.Mac unsupported password type: "+_a;if(eo=null,_a.hex!==void 0){if(_a.hex.length%2!=0||!_a.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+_a.hex;eo=_a.hex}if(_a.utf8!==void 0&&(eo=ie(_a.utf8)),_a.rstr!==void 0&&(eo=se(_a.rstr)),_a.b64!==void 0&&(eo=B$2(_a.b64)),_a.b64u!==void 0&&(eo=te(_a.b64u)),eo==null)throw"KJUR.crypto.Mac unsupported password type: "+_a;this.pass=A$4.enc.Hex.parse(eo)},va!==void 0&&(va.pass!==void 0&&this.setPassword(va.pass),va.alg!==void 0&&(this.algName=va.alg,va.prov===void 0&&(this.provName=u$2.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},u$2.crypto.Signature=function(va){var _a=null;if(this._setAlgNames=function(){var eo=this.algName.match(/^(.+)with(.+)$/);eo&&(this.mdAlgName=eo[1].toLowerCase(),this.pubkeyAlgName=eo[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(eo,to){for(var ro="",no=to/4-eo.length,io=0;io<no;io++)ro+="0";return ro+eo},this.setAlgAndProvider=function(eo,to){if(this._setAlgNames(),to!="cryptojs/jsrsa")throw new Error("provider not supported: "+to);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new u$2.crypto.MessageDigest({alg:this.mdAlgName})}catch(ro){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+ro)}this.init=function(ro,no){var io=null;try{io=no===void 0?Ee.getKey(ro):Ee.getKey(ro,no)}catch(ao){throw"init failed:"+ao}if(io.isPrivate===!0)this.prvKey=io,this.state="SIGN";else{if(io.isPublic!==!0)throw"init failed.:"+io;this.pubKey=io,this.state="VERIFY"}},this.updateString=function(ro){this.md.updateString(ro)},this.updateHex=function(ro){this.md.updateHex(ro)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&u$2.crypto.ECDSA!==void 0&&(this.prvKey=new u$2.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof W$2&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof W$2&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof u$2.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof u$2.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(ro){return this.updateString(ro),this.sign()},this.signHex=function(ro){return this.updateHex(ro),this.sign()},this.verify=function(ro){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&u$2.crypto.ECDSA!==void 0&&(this.pubKey=new u$2.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof W$2&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,ro,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof W$2&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,ro);if(u$2.crypto.ECDSA!==void 0&&this.pubKey instanceof u$2.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,ro);if(u$2.crypto.DSA!==void 0&&this.pubKey instanceof u$2.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,ro);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(eo,to){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(eo){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(eo){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(eo){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(eo){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(eo){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=va,va!==void 0&&(va.alg!==void 0&&(this.algName=va.alg,va.prov===void 0?this.provName=u$2.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=va.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),va.psssaltlen!==void 0&&(this.pssSaltLen=va.psssaltlen),va.prvkeypem!==void 0)){if(va.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{_a=Ee.getKey(va.prvkeypem),this.init(_a)}catch(eo){throw"fatal error to load pem private key: "+eo}}},u$2.crypto.Cipher=function(va){},u$2.crypto.Cipher.encrypt=function(va,_a,eo){if(_a instanceof W$2&&_a.isPublic){var to=u$2.crypto.Cipher.getAlgByKeyAndName(_a,eo);if(to==="RSA")return _a.encrypt(va);if(to==="RSAOAEP")return _a.encryptOAEP(va,"sha1");var ro=to.match(/^RSAOAEP(\d+)$/);if(ro!==null)return _a.encryptOAEP(va,"sha"+ro[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+eo}throw"Cipher.encrypt: unsupported key or algorithm"},u$2.crypto.Cipher.decrypt=function(va,_a,eo){if(_a instanceof W$2&&_a.isPrivate){var to=u$2.crypto.Cipher.getAlgByKeyAndName(_a,eo);if(to==="RSA")return _a.decrypt(va);if(to==="RSAOAEP")return _a.decryptOAEP(va,"sha1");var ro=to.match(/^RSAOAEP(\d+)$/);if(ro!==null)return _a.decryptOAEP(va,"sha"+ro[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+eo}throw"Cipher.decrypt: unsupported key or algorithm"},u$2.crypto.Cipher.getAlgByKeyAndName=function(va,_a){if(va instanceof W$2){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(_a)!=-1)return _a;if(_a==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+_a}throw"getAlgByKeyAndName: not supported algorithm name: "+_a},u$2.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var pe,Me,fe,ye,me,ve,Ne,De,Ee=(pe=function(va,_a,eo){return Me(A$4.AES,va,_a,eo)},Me=function(va,_a,eo,to){var ro=A$4.enc.Hex.parse(_a),no=A$4.enc.Hex.parse(eo),io=A$4.enc.Hex.parse(to),ao={};ao.key=no,ao.iv=io,ao.ciphertext=ro;var oo=va.decrypt(ao,no,{iv:io});return A$4.enc.Hex.stringify(oo)},fe=function(va,_a,eo){return ye(A$4.AES,va,_a,eo)},ye=function(va,_a,eo,to){var ro=A$4.enc.Hex.parse(_a),no=A$4.enc.Hex.parse(eo),io=A$4.enc.Hex.parse(to),ao=va.encrypt(ro,no,{iv:io}),oo=A$4.enc.Hex.parse(ao.toString());return A$4.enc.Base64.stringify(oo)},me={"AES-256-CBC":{proc:pe,eproc:fe,keylen:32,ivlen:16},"AES-192-CBC":{proc:pe,eproc:fe,keylen:24,ivlen:16},"AES-128-CBC":{proc:pe,eproc:fe,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(va,_a,eo){return Me(A$4.TripleDES,va,_a,eo)},eproc:function(va,_a,eo){return ye(A$4.TripleDES,va,_a,eo)},keylen:24,ivlen:8},"DES-CBC":{proc:function(va,_a,eo){return Me(A$4.DES,va,_a,eo)},eproc:function(va,_a,eo){return ye(A$4.DES,va,_a,eo)},keylen:8,ivlen:8}},ve=function(va){var _a={},eo=va.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));eo&&(_a.cipher=eo[1],_a.ivsalt=eo[2]);var to=va.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));to&&(_a.type=to[1]);var ro=-1,no=0;va.indexOf(`\r
\r
`)!=-1&&(ro=va.indexOf(`\r
\r
`),no=2),va.indexOf(`

`)!=-1&&(ro=va.indexOf(`

`),no=1);var io=va.indexOf("-----END");if(ro!=-1&&io!=-1){var ao=va.substring(ro+2*no,io-no);ao=ao.replace(/\s+/g,""),_a.data=ao}return _a},Ne=function(va,_a,eo){for(var to=eo.substring(0,16),ro=A$4.enc.Hex.parse(to),no=A$4.enc.Utf8.parse(_a),io=me[va].keylen+me[va].ivlen,ao="",oo=null;;){var so=A$4.algo.MD5.create();if(oo!=null&&so.update(oo),so.update(no),so.update(ro),oo=so.finalize(),(ao+=A$4.enc.Hex.stringify(oo)).length>=2*io)break}var uo={};return uo.keyhex=ao.substr(0,2*me[va].keylen),uo.ivhex=ao.substr(2*me[va].keylen,2*me[va].ivlen),uo},De=function(va,_a,eo,to){var ro=A$4.enc.Base64.parse(va),no=A$4.enc.Hex.stringify(ro);return(0,me[_a].proc)(no,eo,to)},{version:"1.0.0",parsePKCS5PEM:function(va){return ve(va)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(va,_a,eo){return Ne(va,_a,eo)},decryptKeyB64:function(va,_a,eo,to){return De(va,_a,eo,to)},getDecryptedKeyHex:function(va,_a){var eo=ve(va);eo.type;var to=eo.cipher,ro=eo.ivsalt,no=eo.data,io=Ne(to,_a,ro).keyhex;return De(no,to,io,ro)},getEncryptedPKCS5PEMFromPrvKeyHex:function(va,_a,eo,to,ro){var no="";if(to!==void 0&&to!=null||(to="AES-256-CBC"),me[to]===void 0)throw"KEYUTIL unsupported algorithm: "+to;ro!==void 0&&ro!=null||(ro=function(ao){var oo=A$4.lib.WordArray.random(ao);return A$4.enc.Hex.stringify(oo)}(me[to].ivlen).toUpperCase());var io=function(ao,oo,so,uo){return(0,me[oo].eproc)(ao,so,uo)}(_a,to,Ne(to,eo,ro).keyhex,ro);return no="-----BEGIN "+va+` PRIVATE KEY-----\r
`,no+=`Proc-Type: 4,ENCRYPTED\r
`,no+="DEK-Info: "+to+","+ro+`\r
`,no+=`\r
`,no+=io.replace(/(.{64})/g,`$1\r
`),no+=`\r
-----END `+va+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(va){var _a=we,eo=_a.getChildIdx,to=_a.getV,ro={},no=eo(va,0);if(no.length!=2)throw"malformed format: SEQUENCE(0).items != 2: "+no.length;ro.ciphertext=to(va,no[1]);var io=eo(va,no[0]);if(io.length!=2)throw"malformed format: SEQUENCE(0.0).items != 2: "+io.length;if(to(va,io[0])!="2a864886f70d01050d")throw"this only supports pkcs5PBES2";var ao=eo(va,io[1]);if(io.length!=2)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+ao.length;var oo=eo(va,ao[1]);if(oo.length!=2)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+oo.length;if(to(va,oo[0])!="2a864886f70d0307")throw"this only supports TripleDES";ro.encryptionSchemeAlg="TripleDES",ro.encryptionSchemeIV=to(va,oo[1]);var so=eo(va,ao[0]);if(so.length!=2)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+so.length;if(to(va,so[0])!="2a864886f70d01050c")throw"this only supports pkcs5PBKDF2";var uo=eo(va,so[1]);if(uo.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+uo.length;ro.pbkdf2Salt=to(va,uo[0]);var co=to(va,uo[1]);try{ro.pbkdf2Iter=parseInt(co,16)}catch{throw"malformed format pbkdf2Iter: "+co}return ro},getPBKDF2KeyHexFromParam:function(va,_a){var eo=A$4.enc.Hex.parse(va.pbkdf2Salt),to=va.pbkdf2Iter,ro=A$4.PBKDF2(_a,eo,{keySize:6,iterations:to});return A$4.enc.Hex.stringify(ro)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(va,_a){var eo=ue(va,"ENCRYPTED PRIVATE KEY"),to=this.parseHexOfEncryptedPKCS8(eo),ro=Ee.getPBKDF2KeyHexFromParam(to,_a),no={};no.ciphertext=A$4.enc.Hex.parse(to.ciphertext);var io=A$4.enc.Hex.parse(ro),ao=A$4.enc.Hex.parse(to.encryptionSchemeIV),oo=A$4.TripleDES.decrypt(no,io,{iv:ao});return A$4.enc.Hex.stringify(oo)},getKeyFromEncryptedPKCS8PEM:function(va,_a){var eo=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(va,_a);return this.getKeyFromPlainPrivatePKCS8Hex(eo)},parsePlainPrivatePKCS8Hex:function(va){var _a=we,eo=_a.getChildIdx,to=_a.getV,ro={algparam:null};if(va.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var no=eo(va,0);if(no.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(va.substr(no[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var io=eo(va,no[1]);if(io.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(va.substr(io[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(ro.algoid=to(va,io[0]),va.substr(io[1],2)=="06"&&(ro.algparam=to(va,io[1])),va.substr(no[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return ro.keyidx=_a.getVidx(va,no[2]),ro},getKeyFromPlainPrivatePKCS8PEM:function(va){var _a=ue(va,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(_a)},getKeyFromPlainPrivatePKCS8Hex:function(va){var _a,eo=this.parsePlainPrivatePKCS8Hex(va);if(eo.algoid=="2a864886f70d010101")_a=new W$2;else if(eo.algoid=="2a8648ce380401")_a=new u$2.crypto.DSA;else{if(eo.algoid!="2a8648ce3d0201")throw"unsupported private key algorithm";_a=new u$2.crypto.ECDSA}return _a.readPKCS8PrvKeyHex(va),_a},_getKeyFromPublicPKCS8Hex:function(va){var _a,eo=we.getVbyList(va,0,[0,0],"06");if(eo==="2a864886f70d010101")_a=new W$2;else if(eo==="2a8648ce380401")_a=new u$2.crypto.DSA;else{if(eo!=="2a8648ce3d0201")throw"unsupported PKCS#8 public key hex";_a=new u$2.crypto.ECDSA}return _a.readPKCS8PubKeyHex(va),_a},parsePublicRawRSAKeyHex:function(va){var _a=we,eo=_a.getChildIdx,to=_a.getV,ro={};if(va.substr(0,2)!="30")throw"malformed RSA key(code:001)";var no=eo(va,0);if(no.length!=2)throw"malformed RSA key(code:002)";if(va.substr(no[0],2)!="02")throw"malformed RSA key(code:003)";if(ro.n=to(va,no[0]),va.substr(no[1],2)!="02")throw"malformed RSA key(code:004)";return ro.e=to(va,no[1]),ro},parsePublicPKCS8Hex:function(va){var _a=we,eo=_a.getChildIdx,to=_a.getV,ro={algparam:null},no=eo(va,0);if(no.length!=2)throw"outer DERSequence shall have 2 elements: "+no.length;var io=no[0];if(va.substr(io,2)!="30")throw"malformed PKCS8 public key(code:001)";var ao=eo(va,io);if(ao.length!=2)throw"malformed PKCS8 public key(code:002)";if(va.substr(ao[0],2)!="06")throw"malformed PKCS8 public key(code:003)";if(ro.algoid=to(va,ao[0]),va.substr(ao[1],2)=="06"?ro.algparam=to(va,ao[1]):va.substr(ao[1],2)=="30"&&(ro.algparam={},ro.algparam.p=_a.getVbyList(va,ao[1],[0],"02"),ro.algparam.q=_a.getVbyList(va,ao[1],[1],"02"),ro.algparam.g=_a.getVbyList(va,ao[1],[2],"02")),va.substr(no[1],2)!="03")throw"malformed PKCS8 public key(code:004)";return ro.key=to(va,no[1]).substr(2),ro}});Ee.getKey=function(va,_a,eo){var to=(mo=we).getChildIdx;mo.getV;var ro=mo.getVbyList,no=u$2.crypto,io=no.ECDSA,ao=no.DSA,oo=W$2,so=ue,uo=Ee;if(oo!==void 0&&va instanceof oo||io!==void 0&&va instanceof io||ao!==void 0&&va instanceof ao)return va;if(va.curve!==void 0&&va.xy!==void 0&&va.d===void 0)return new io({pub:va.xy,curve:va.curve});if(va.curve!==void 0&&va.d!==void 0)return new io({prv:va.d,curve:va.curve});if(va.kty===void 0&&va.n!==void 0&&va.e!==void 0&&va.d===void 0)return(wo=new oo).setPublic(va.n,va.e),wo;if(va.kty===void 0&&va.n!==void 0&&va.e!==void 0&&va.d!==void 0&&va.p!==void 0&&va.q!==void 0&&va.dp!==void 0&&va.dq!==void 0&&va.co!==void 0&&va.qi===void 0)return(wo=new oo).setPrivateEx(va.n,va.e,va.d,va.p,va.q,va.dp,va.dq,va.co),wo;if(va.kty===void 0&&va.n!==void 0&&va.e!==void 0&&va.d!==void 0&&va.p===void 0)return(wo=new oo).setPrivate(va.n,va.e,va.d),wo;if(va.p!==void 0&&va.q!==void 0&&va.g!==void 0&&va.y!==void 0&&va.x===void 0)return(wo=new ao).setPublic(va.p,va.q,va.g,va.y),wo;if(va.p!==void 0&&va.q!==void 0&&va.g!==void 0&&va.y!==void 0&&va.x!==void 0)return(wo=new ao).setPrivate(va.p,va.q,va.g,va.y,va.x),wo;if(va.kty==="RSA"&&va.n!==void 0&&va.e!==void 0&&va.d===void 0)return(wo=new oo).setPublic(te(va.n),te(va.e)),wo;if(va.kty==="RSA"&&va.n!==void 0&&va.e!==void 0&&va.d!==void 0&&va.p!==void 0&&va.q!==void 0&&va.dp!==void 0&&va.dq!==void 0&&va.qi!==void 0)return(wo=new oo).setPrivateEx(te(va.n),te(va.e),te(va.d),te(va.p),te(va.q),te(va.dp),te(va.dq),te(va.qi)),wo;if(va.kty==="RSA"&&va.n!==void 0&&va.e!==void 0&&va.d!==void 0)return(wo=new oo).setPrivate(te(va.n),te(va.e),te(va.d)),wo;if(va.kty==="EC"&&va.crv!==void 0&&va.x!==void 0&&va.y!==void 0&&va.d===void 0){var co=(Mo=new io({curve:va.crv})).ecparams.keylen/4,fo="04"+("0000000000"+te(va.x)).slice(-co)+("0000000000"+te(va.y)).slice(-co);return Mo.setPublicKeyHex(fo),Mo}if(va.kty==="EC"&&va.crv!==void 0&&va.x!==void 0&&va.y!==void 0&&va.d!==void 0){co=(Mo=new io({curve:va.crv})).ecparams.keylen/4,fo="04"+("0000000000"+te(va.x)).slice(-co)+("0000000000"+te(va.y)).slice(-co);var po=("0000000000"+te(va.d)).slice(-co);return Mo.setPublicKeyHex(fo),Mo.setPrivateKeyHex(po),Mo}if(eo==="pkcs5prv"){var vo,go=va,mo=we;if((vo=to(go,0)).length===9)(wo=new oo).readPKCS5PrvKeyHex(go);else if(vo.length===6)(wo=new ao).readPKCS5PrvKeyHex(go);else{if(!(vo.length>2&&go.substr(vo[1],2)==="04"))throw"unsupported PKCS#1/5 hexadecimal key";(wo=new io).readPKCS5PrvKeyHex(go)}return wo}if(eo==="pkcs8prv")return wo=uo.getKeyFromPlainPrivatePKCS8Hex(va);if(eo==="pkcs8pub")return uo._getKeyFromPublicPKCS8Hex(va);if(eo==="x509pub")return je.getPublicKeyFromCertHex(va);if(va.indexOf("-END CERTIFICATE-",0)!=-1||va.indexOf("-END X509 CERTIFICATE-",0)!=-1||va.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return je.getPublicKeyFromCertPEM(va);if(va.indexOf("-END PUBLIC KEY-")!=-1){var lo=ue(va,"PUBLIC KEY");return uo._getKeyFromPublicPKCS8Hex(lo)}if(va.indexOf("-END RSA PRIVATE KEY-")!=-1&&va.indexOf("4,ENCRYPTED")==-1){var ho=so(va,"RSA PRIVATE KEY");return uo.getKey(ho,null,"pkcs5prv")}if(va.indexOf("-END DSA PRIVATE KEY-")!=-1&&va.indexOf("4,ENCRYPTED")==-1){var yo=ro(So=so(va,"DSA PRIVATE KEY"),0,[1],"02"),Ao=ro(So,0,[2],"02"),Eo=ro(So,0,[3],"02"),To=ro(So,0,[4],"02"),No=ro(So,0,[5],"02");return(wo=new ao).setPrivate(new l$4(yo,16),new l$4(Ao,16),new l$4(Eo,16),new l$4(To,16),new l$4(No,16)),wo}if(va.indexOf("-END EC PRIVATE KEY-")!=-1&&va.indexOf("4,ENCRYPTED")==-1)return ho=so(va,"EC PRIVATE KEY"),uo.getKey(ho,null,"pkcs5prv");if(va.indexOf("-END PRIVATE KEY-")!=-1)return uo.getKeyFromPlainPrivatePKCS8PEM(va);if(va.indexOf("-END RSA PRIVATE KEY-")!=-1&&va.indexOf("4,ENCRYPTED")!=-1){var Co=uo.getDecryptedKeyHex(va,_a),Io=new W$2;return Io.readPKCS5PrvKeyHex(Co),Io}if(va.indexOf("-END EC PRIVATE KEY-")!=-1&&va.indexOf("4,ENCRYPTED")!=-1){var Mo,wo=ro(So=uo.getDecryptedKeyHex(va,_a),0,[1],"04"),xo=ro(So,0,[2,0],"06"),bo=ro(So,0,[3,0],"03").substr(2);if(u$2.crypto.OID.oidhex2name[xo]===void 0)throw"undefined OID(hex) in KJUR.crypto.OID: "+xo;return(Mo=new io({curve:u$2.crypto.OID.oidhex2name[xo]})).setPublicKeyHex(bo),Mo.setPrivateKeyHex(wo),Mo.isPublic=!1,Mo}if(va.indexOf("-END DSA PRIVATE KEY-")!=-1&&va.indexOf("4,ENCRYPTED")!=-1){var So;return yo=ro(So=uo.getDecryptedKeyHex(va,_a),0,[1],"02"),Ao=ro(So,0,[2],"02"),Eo=ro(So,0,[3],"02"),To=ro(So,0,[4],"02"),No=ro(So,0,[5],"02"),(wo=new ao).setPrivate(new l$4(yo,16),new l$4(Ao,16),new l$4(Eo,16),new l$4(To,16),new l$4(No,16)),wo}if(va.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return uo.getKeyFromEncryptedPKCS8PEM(va,_a);throw new Error("not supported argument")},Ee.generateKeypair=function(va,_a){if(va=="RSA"){var eo=_a;(io=new W$2).generate(eo,"10001"),io.isPrivate=!0,io.isPublic=!0;var to=new W$2,ro=io.n.toString(16),no=io.e.toString(16);return to.setPublic(ro,no),to.isPrivate=!1,to.isPublic=!0,(ao={}).prvKeyObj=io,ao.pubKeyObj=to,ao}if(va=="EC"){var io,ao,oo=_a,so=new u$2.crypto.ECDSA({curve:oo}).generateKeyPairHex();return(io=new u$2.crypto.ECDSA({curve:oo})).setPublicKeyHex(so.ecpubhex),io.setPrivateKeyHex(so.ecprvhex),io.isPrivate=!0,io.isPublic=!1,(to=new u$2.crypto.ECDSA({curve:oo})).setPublicKeyHex(so.ecpubhex),to.isPrivate=!1,to.isPublic=!0,(ao={}).prvKeyObj=io,ao.pubKeyObj=to,ao}throw"unknown algorithm: "+va},Ee.getPEM=function(va,_a,eo,to,ro,no){var io=u$2,ao=io.asn1,oo=ao.DERObjectIdentifier,so=ao.DERInteger,uo=ao.ASN1Util.newObject,co=ao.x509.SubjectPublicKeyInfo,fo=io.crypto,po=fo.DSA,vo=fo.ECDSA,go=W$2;function mo(Mo){return uo({seq:[{int:0},{int:{bigint:Mo.n}},{int:Mo.e},{int:{bigint:Mo.d}},{int:{bigint:Mo.p}},{int:{bigint:Mo.q}},{int:{bigint:Mo.dmp1}},{int:{bigint:Mo.dmq1}},{int:{bigint:Mo.coeff}}]})}function lo(Mo){return uo({seq:[{int:1},{octstr:{hex:Mo.prvKeyHex}},{tag:["a0",!0,{oid:{name:Mo.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Mo.pubKeyHex}}]}]})}function ho(Mo){return uo({seq:[{int:0},{int:{bigint:Mo.p}},{int:{bigint:Mo.q}},{int:{bigint:Mo.g}},{int:{bigint:Mo.y}},{int:{bigint:Mo.x}}]})}if((go!==void 0&&va instanceof go||po!==void 0&&va instanceof po||vo!==void 0&&va instanceof vo)&&va.isPublic==1&&(_a===void 0||_a=="PKCS8PUB"))return ae(To=new co(va).getEncodedHex(),"PUBLIC KEY");if(_a=="PKCS1PRV"&&go!==void 0&&va instanceof go&&(eo===void 0||eo==null)&&va.isPrivate==1)return ae(To=mo(va).getEncodedHex(),"RSA PRIVATE KEY");if(_a=="PKCS1PRV"&&vo!==void 0&&va instanceof vo&&(eo===void 0||eo==null)&&va.isPrivate==1){var yo=new oo({name:va.curveName}).getEncodedHex(),Ao=lo(va).getEncodedHex(),Eo="";return Eo+=ae(yo,"EC PARAMETERS"),Eo+=ae(Ao,"EC PRIVATE KEY")}if(_a=="PKCS1PRV"&&po!==void 0&&va instanceof po&&(eo===void 0||eo==null)&&va.isPrivate==1)return ae(To=ho(va).getEncodedHex(),"DSA PRIVATE KEY");if(_a=="PKCS5PRV"&&go!==void 0&&va instanceof go&&eo!==void 0&&eo!=null&&va.isPrivate==1){var To=mo(va).getEncodedHex();return to===void 0&&(to="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",To,eo,to,no)}if(_a=="PKCS5PRV"&&vo!==void 0&&va instanceof vo&&eo!==void 0&&eo!=null&&va.isPrivate==1)return To=lo(va).getEncodedHex(),to===void 0&&(to="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",To,eo,to,no);if(_a=="PKCS5PRV"&&po!==void 0&&va instanceof po&&eo!==void 0&&eo!=null&&va.isPrivate==1)return To=ho(va).getEncodedHex(),to===void 0&&(to="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",To,eo,to,no);var No=function(Mo,wo){var xo=Co(Mo,wo);return new uo({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:xo.pbkdf2Salt}},{int:xo.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:xo.encryptionSchemeIV}}]}]}]},{octstr:{hex:xo.ciphertext}}]}).getEncodedHex()},Co=function(Mo,wo){var xo=A$4.lib.WordArray.random(8),bo=A$4.lib.WordArray.random(8),So=A$4.PBKDF2(wo,xo,{keySize:6,iterations:100}),Do=A$4.enc.Hex.parse(Mo),Oo=A$4.TripleDES.encrypt(Do,So,{iv:bo})+"",Bo={};return Bo.ciphertext=Oo,Bo.pbkdf2Salt=A$4.enc.Hex.stringify(xo),Bo.pbkdf2Iter=100,Bo.encryptionSchemeAlg="DES-EDE3-CBC",Bo.encryptionSchemeIV=A$4.enc.Hex.stringify(bo),Bo};if(_a=="PKCS8PRV"&&go!=null&&va instanceof go&&va.isPrivate==1){var Io=mo(va).getEncodedHex();return To=uo({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Io}}]}).getEncodedHex(),eo===void 0||eo==null?ae(To,"PRIVATE KEY"):ae(Ao=No(To,eo),"ENCRYPTED PRIVATE KEY")}if(_a=="PKCS8PRV"&&vo!==void 0&&va instanceof vo&&va.isPrivate==1)return Io=new uo({seq:[{int:1},{octstr:{hex:va.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+va.pubKeyHex}}]}]}).getEncodedHex(),To=uo({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:va.curveName}}]},{octstr:{hex:Io}}]}).getEncodedHex(),eo===void 0||eo==null?ae(To,"PRIVATE KEY"):ae(Ao=No(To,eo),"ENCRYPTED PRIVATE KEY");if(_a=="PKCS8PRV"&&po!==void 0&&va instanceof po&&va.isPrivate==1)return Io=new so({bigint:va.x}).getEncodedHex(),To=uo({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:va.p}},{int:{bigint:va.q}},{int:{bigint:va.g}}]}]},{octstr:{hex:Io}}]}).getEncodedHex(),eo===void 0||eo==null?ae(To,"PRIVATE KEY"):ae(Ao=No(To,eo),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Ee.getKeyFromCSRPEM=function(va){var _a=ue(va,"CERTIFICATE REQUEST");return Ee.getKeyFromCSRHex(_a)},Ee.getKeyFromCSRHex=function(va){var _a=Ee.parseCSRHex(va);return Ee.getKey(_a.p8pubkeyhex,null,"pkcs8pub")},Ee.parseCSRHex=function(va){var _a=we,eo=_a.getChildIdx,to=_a.getTLV,ro={},no=va;if(no.substr(0,2)!="30")throw"malformed CSR(code:001)";var io=eo(no,0);if(io.length<1)throw"malformed CSR(code:002)";if(no.substr(io[0],2)!="30")throw"malformed CSR(code:003)";var ao=eo(no,io[0]);if(ao.length<3)throw"malformed CSR(code:004)";return ro.p8pubkeyhex=to(no,ao[2]),ro},Ee.getKeyID=function(va){var _a=Ee,eo=we;typeof va=="string"&&va.indexOf("BEGIN ")!=-1&&(va=_a.getKey(va));var to=ue(_a.getPEM(va)),ro=eo.getIdxbyList(to,0,[1]),no=eo.getV(to,ro).substring(2);return u$2.crypto.Util.hashHex(no,"sha1")},Ee.getJWKFromKey=function(va){var _a={};if(va instanceof W$2&&va.isPrivate)return _a.kty="RSA",_a.n=ee(va.n.toString(16)),_a.e=ee(va.e.toString(16)),_a.d=ee(va.d.toString(16)),_a.p=ee(va.p.toString(16)),_a.q=ee(va.q.toString(16)),_a.dp=ee(va.dmp1.toString(16)),_a.dq=ee(va.dmq1.toString(16)),_a.qi=ee(va.coeff.toString(16)),_a;if(va instanceof W$2&&va.isPublic)return _a.kty="RSA",_a.n=ee(va.n.toString(16)),_a.e=ee(va.e.toString(16)),_a;if(va instanceof u$2.crypto.ECDSA&&va.isPrivate){if((to=va.getShortNISTPCurveName())!=="P-256"&&to!=="P-384")throw"unsupported curve name for JWT: "+to;var eo=va.getPublicKeyXYHex();return _a.kty="EC",_a.crv=to,_a.x=ee(eo.x),_a.y=ee(eo.y),_a.d=ee(va.prvKeyHex),_a}if(va instanceof u$2.crypto.ECDSA&&va.isPublic){var to;if((to=va.getShortNISTPCurveName())!=="P-256"&&to!=="P-384")throw"unsupported curve name for JWT: "+to;return eo=va.getPublicKeyXYHex(),_a.kty="EC",_a.crv=to,_a.x=ee(eo.x),_a.y=ee(eo.y),_a}throw"not supported key object"},u$2.asn1!==void 0&&u$2.asn1||(u$2.asn1={}),u$2.asn1.ASN1Util=new function(){this.integerToByteHex=function(va){var _a=va.toString(16);return _a.length%2==1&&(_a="0"+_a),_a},this.bigIntToMinTwosComplementsHex=function(va){var _a=va.toString(16);if(_a.substr(0,1)!="-")_a.length%2==1?_a="0"+_a:_a.match(/^[0-7]/)||(_a="00"+_a);else{var eo=_a.substr(1).length;eo%2==1?eo+=1:_a.match(/^[0-7]/)||(eo+=2);for(var to="",ro=0;ro<eo;ro++)to+="f";_a=new l$4(to,16).xor(va).add(l$4.ONE).toString(16).replace(/^-/,"")}return _a},this.getPEMStringFromHex=function(va,_a){return ae(va,_a)},this.newObject=function(va){var _a=u$2.asn1,eo=_a.ASN1Object,to=_a.DERBoolean,ro=_a.DERInteger,no=_a.DERBitString,io=_a.DEROctetString,ao=_a.DERNull,oo=_a.DERObjectIdentifier,so=_a.DEREnumerated,uo=_a.DERUTF8String,co=_a.DERNumericString,fo=_a.DERPrintableString,po=_a.DERTeletexString,vo=_a.DERIA5String,go=_a.DERUTCTime,mo=_a.DERGeneralizedTime,lo=_a.DERVisibleString,ho=_a.DERBMPString,yo=_a.DERSequence,Ao=_a.DERSet,Eo=_a.DERTaggedObject,To=_a.ASN1Util.newObject;if(va instanceof _a.ASN1Object)return va;var No=Object.keys(va);if(No.length!=1)throw new Error("key of param shall be only one.");var Co=No[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Co+":")==-1)throw new Error("undefined key: "+Co);if(Co=="bool")return new to(va[Co]);if(Co=="int")return new ro(va[Co]);if(Co=="bitstr")return new no(va[Co]);if(Co=="octstr")return new io(va[Co]);if(Co=="null")return new ao(va[Co]);if(Co=="oid")return new oo(va[Co]);if(Co=="enum")return new so(va[Co]);if(Co=="utf8str")return new uo(va[Co]);if(Co=="numstr")return new co(va[Co]);if(Co=="prnstr")return new fo(va[Co]);if(Co=="telstr")return new po(va[Co]);if(Co=="ia5str")return new vo(va[Co]);if(Co=="utctime")return new go(va[Co]);if(Co=="gentime")return new mo(va[Co]);if(Co=="visstr")return new lo(va[Co]);if(Co=="bmpstr")return new ho(va[Co]);if(Co=="asn1")return new eo(va[Co]);if(Co=="seq"){for(var Io=va[Co],Mo=[],wo=0;wo<Io.length;wo++){var xo=To(Io[wo]);Mo.push(xo)}return new yo({array:Mo})}if(Co=="set"){for(Io=va[Co],Mo=[],wo=0;wo<Io.length;wo++)xo=To(Io[wo]),Mo.push(xo);return new Ao({array:Mo})}if(Co=="tag"){var bo=va[Co];if(Object.prototype.toString.call(bo)==="[object Array]"&&bo.length==3){var So=To(bo[2]);return new Eo({tag:bo[0],explicit:bo[1],obj:So})}return new Eo(bo)}},this.jsonToASN1HEX=function(va){return this.newObject(va).getEncodedHex()}},u$2.asn1.ASN1Util.oidHexToInt=function(va){for(var _a="",eo=parseInt(va.substr(0,2),16),to=(_a=Math.floor(eo/40)+"."+eo%40,""),ro=2;ro<va.length;ro+=2){var no=("00000000"+parseInt(va.substr(ro,2),16).toString(2)).slice(-8);to+=no.substr(1,7),no.substr(0,1)=="0"&&(_a=_a+"."+new l$4(to,2).toString(10),to="")}return _a},u$2.asn1.ASN1Util.oidIntToHex=function(va){var _a=function(ao){var oo=ao.toString(16);return oo.length==1&&(oo="0"+oo),oo},eo=function(ao){var oo="",so=new l$4(ao,10).toString(2),uo=7-so.length%7;uo==7&&(uo=0);for(var co="",fo=0;fo<uo;fo++)co+="0";for(so=co+so,fo=0;fo<so.length-1;fo+=7){var po=so.substr(fo,7);fo!=so.length-7&&(po="1"+po),oo+=_a(parseInt(po,2))}return oo};if(!va.match(/^[0-9.]+$/))throw"malformed oid string: "+va;var to="",ro=va.split("."),no=40*parseInt(ro[0])+parseInt(ro[1]);to+=_a(no),ro.splice(0,2);for(var io=0;io<ro.length;io++)to+=eo(ro[io]);return to},u$2.asn1.ASN1Object=function(va){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+0+",v="+this.hV);var _a=this.hV.length/2,eo=_a.toString(16);if(eo.length%2==1&&(eo="0"+eo),_a<128)return eo;var to=eo.length/2;if(to>15)throw"ASN.1 length too long to represent by 8x: n = "+_a.toString(16);return(128+to).toString(16)+eo},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(_a){this.params=_a},va!=null&&va.tlv!=null&&(this.hTLV=va.tlv,this.isModified=!1)},u$2.asn1.DERAbstractString=function(va){u$2.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(_a){this.hTLV=null,this.isModified=!0,this.s=_a,this.hV=ie(this.s).toLowerCase()},this.setStringHex=function(_a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=_a},this.getFreshValueHex=function(){return this.hV},va!==void 0&&(typeof va=="string"?this.setString(va):va.str!==void 0?this.setString(va.str):va.hex!==void 0&&this.setStringHex(va.hex))},c$3.lang.extend(u$2.asn1.DERAbstractString,u$2.asn1.ASN1Object),u$2.asn1.DERAbstractTime=function(va){u$2.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(_a){var eo=_a.getTime()+6e4*_a.getTimezoneOffset();return new Date(eo)},this.formatDate=function(_a,eo,to){var ro=this.zeroPadding,no=this.localDateToUTC(_a),io=String(no.getFullYear());eo=="utc"&&(io=io.substr(2,2));var ao=io+ro(String(no.getMonth()+1),2)+ro(String(no.getDate()),2)+ro(String(no.getHours()),2)+ro(String(no.getMinutes()),2)+ro(String(no.getSeconds()),2);if(to===!0){var oo=no.getMilliseconds();if(oo!=0){var so=ro(String(oo),3);ao=ao+"."+(so=so.replace(/[0]+$/,""))}}return ao+"Z"},this.zeroPadding=function(_a,eo){return _a.length>=eo?_a:new Array(eo-_a.length+1).join("0")+_a},this.getString=function(){return this.s},this.setString=function(_a){this.hTLV=null,this.isModified=!0,this.s=_a,this.hV=J$1(_a)},this.setByDateValue=function(_a,eo,to,ro,no,io){var ao=new Date(Date.UTC(_a,eo-1,to,ro,no,io,0));this.setByDate(ao)},this.getFreshValueHex=function(){return this.hV}},c$3.lang.extend(u$2.asn1.DERAbstractTime,u$2.asn1.ASN1Object),u$2.asn1.DERAbstractStructured=function(va){u$2.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(_a){this.hTLV=null,this.isModified=!0,this.asn1Array=_a},this.appendASN1Object=function(_a){this.hTLV=null,this.isModified=!0,this.asn1Array.push(_a)},this.asn1Array=new Array,va!==void 0&&va.array!==void 0&&(this.asn1Array=va.array)},c$3.lang.extend(u$2.asn1.DERAbstractStructured,u$2.asn1.ASN1Object),u$2.asn1.DERBoolean=function(va){u$2.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=va==0?"010100":"0101ff"},c$3.lang.extend(u$2.asn1.DERBoolean,u$2.asn1.ASN1Object),u$2.asn1.DERInteger=function(va){u$2.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(_a){this.hTLV=null,this.isModified=!0,this.hV=u$2.asn1.ASN1Util.bigIntToMinTwosComplementsHex(_a)},this.setByInteger=function(_a){var eo=new l$4(String(_a),10);this.setByBigInteger(eo)},this.setValueHex=function(_a){this.hV=_a},this.getFreshValueHex=function(){return this.hV},va!==void 0&&(va.bigint!==void 0?this.setByBigInteger(va.bigint):va.int!==void 0?this.setByInteger(va.int):typeof va=="number"?this.setByInteger(va):va.hex!==void 0&&this.setValueHex(va.hex))},c$3.lang.extend(u$2.asn1.DERInteger,u$2.asn1.ASN1Object),u$2.asn1.DERBitString=function(va){if(va!==void 0&&va.obj!==void 0){var _a=u$2.asn1.ASN1Util.newObject(va.obj);va.hex="00"+_a.getEncodedHex()}u$2.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(eo){this.hTLV=null,this.isModified=!0,this.hV=eo},this.setUnusedBitsAndHexValue=function(eo,to){if(eo<0||7<eo)throw"unused bits shall be from 0 to 7: u = "+eo;var ro="0"+eo;this.hTLV=null,this.isModified=!0,this.hV=ro+to},this.setByBinaryString=function(eo){var to=8-(eo=eo.replace(/0+$/,"")).length%8;to==8&&(to=0);for(var ro=0;ro<=to;ro++)eo+="0";var no="";for(ro=0;ro<eo.length-1;ro+=8){var io=eo.substr(ro,8),ao=parseInt(io,2).toString(16);ao.length==1&&(ao="0"+ao),no+=ao}this.hTLV=null,this.isModified=!0,this.hV="0"+to+no},this.setByBooleanArray=function(eo){for(var to="",ro=0;ro<eo.length;ro++)eo[ro]==1?to+="1":to+="0";this.setByBinaryString(to)},this.newFalseArray=function(eo){for(var to=new Array(eo),ro=0;ro<eo;ro++)to[ro]=!1;return to},this.getFreshValueHex=function(){return this.hV},va!==void 0&&(typeof va=="string"&&va.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(va):va.hex!==void 0?this.setHexValueIncludingUnusedBits(va.hex):va.bin!==void 0?this.setByBinaryString(va.bin):va.array!==void 0&&this.setByBooleanArray(va.array))},c$3.lang.extend(u$2.asn1.DERBitString,u$2.asn1.ASN1Object),u$2.asn1.DEROctetString=function(va){if(va!==void 0&&va.obj!==void 0){var _a=u$2.asn1.ASN1Util.newObject(va.obj);va.hex=_a.getEncodedHex()}u$2.asn1.DEROctetString.superclass.constructor.call(this,va),this.hT="04"},c$3.lang.extend(u$2.asn1.DEROctetString,u$2.asn1.DERAbstractString),u$2.asn1.DERNull=function(){u$2.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},c$3.lang.extend(u$2.asn1.DERNull,u$2.asn1.ASN1Object),u$2.asn1.DERObjectIdentifier=function(va){u$2.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(_a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=_a},this.setValueOidString=function(_a){var eo=function(to){var ro=function(uo){var co=uo.toString(16);return co.length==1&&(co="0"+co),co},no=function(uo){var co="",fo=parseInt(uo,10).toString(2),po=7-fo.length%7;po==7&&(po=0);for(var vo="",go=0;go<po;go++)vo+="0";for(fo=vo+fo,go=0;go<fo.length-1;go+=7){var mo=fo.substr(go,7);go!=fo.length-7&&(mo="1"+mo),co+=ro(parseInt(mo,2))}return co};try{if(!to.match(/^[0-9.]+$/))return null;var io="",ao=to.split("."),oo=40*parseInt(ao[0],10)+parseInt(ao[1],10);io+=ro(oo),ao.splice(0,2);for(var so=0;so<ao.length;so++)io+=no(ao[so]);return io}catch{return null}}(_a);if(eo==null)throw new Error("malformed oid string: "+_a);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=eo},this.setValueName=function(_a){var eo=u$2.asn1.x509.OID.name2oid(_a);if(eo==="")throw new Error("DERObjectIdentifier oidName undefined: "+_a);this.setValueOidString(eo)},this.setValueNameOrOid=function(_a){_a.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(_a):this.setValueName(_a)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(_a){typeof _a=="string"?this.setValueNameOrOid(_a):_a.oid!==void 0?this.setValueNameOrOid(_a.oid):_a.name!==void 0?this.setValueNameOrOid(_a.name):_a.hex!==void 0&&this.setValueHex(_a.hex)},va!==void 0&&this.setByParam(va)},c$3.lang.extend(u$2.asn1.DERObjectIdentifier,u$2.asn1.ASN1Object),u$2.asn1.DEREnumerated=function(va){u$2.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(_a){this.hTLV=null,this.isModified=!0,this.hV=u$2.asn1.ASN1Util.bigIntToMinTwosComplementsHex(_a)},this.setByInteger=function(_a){var eo=new l$4(String(_a),10);this.setByBigInteger(eo)},this.setValueHex=function(_a){this.hV=_a},this.getFreshValueHex=function(){return this.hV},va!==void 0&&(va.int!==void 0?this.setByInteger(va.int):typeof va=="number"?this.setByInteger(va):va.hex!==void 0&&this.setValueHex(va.hex))},c$3.lang.extend(u$2.asn1.DEREnumerated,u$2.asn1.ASN1Object),u$2.asn1.DERUTF8String=function(va){u$2.asn1.DERUTF8String.superclass.constructor.call(this,va),this.hT="0c"},c$3.lang.extend(u$2.asn1.DERUTF8String,u$2.asn1.DERAbstractString),u$2.asn1.DERNumericString=function(va){u$2.asn1.DERNumericString.superclass.constructor.call(this,va),this.hT="12"},c$3.lang.extend(u$2.asn1.DERNumericString,u$2.asn1.DERAbstractString),u$2.asn1.DERPrintableString=function(va){u$2.asn1.DERPrintableString.superclass.constructor.call(this,va),this.hT="13"},c$3.lang.extend(u$2.asn1.DERPrintableString,u$2.asn1.DERAbstractString),u$2.asn1.DERTeletexString=function(va){u$2.asn1.DERTeletexString.superclass.constructor.call(this,va),this.hT="14"},c$3.lang.extend(u$2.asn1.DERTeletexString,u$2.asn1.DERAbstractString),u$2.asn1.DERIA5String=function(va){u$2.asn1.DERIA5String.superclass.constructor.call(this,va),this.hT="16"},c$3.lang.extend(u$2.asn1.DERIA5String,u$2.asn1.DERAbstractString),u$2.asn1.DERVisibleString=function(va){u$2.asn1.DERIA5String.superclass.constructor.call(this,va),this.hT="1a"},c$3.lang.extend(u$2.asn1.DERVisibleString,u$2.asn1.DERAbstractString),u$2.asn1.DERBMPString=function(va){u$2.asn1.DERBMPString.superclass.constructor.call(this,va),this.hT="1e"},c$3.lang.extend(u$2.asn1.DERBMPString,u$2.asn1.DERAbstractString),u$2.asn1.DERUTCTime=function(va){u$2.asn1.DERUTCTime.superclass.constructor.call(this,va),this.hT="17",this.setByDate=function(_a){this.hTLV=null,this.isModified=!0,this.date=_a,this.s=this.formatDate(this.date,"utc"),this.hV=J$1(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=J$1(this.s)),this.hV},va!==void 0&&(va.str!==void 0?this.setString(va.str):typeof va=="string"&&va.match(/^[0-9]{12}Z$/)?this.setString(va):va.hex!==void 0?this.setStringHex(va.hex):va.date!==void 0&&this.setByDate(va.date))},c$3.lang.extend(u$2.asn1.DERUTCTime,u$2.asn1.DERAbstractTime),u$2.asn1.DERGeneralizedTime=function(va){u$2.asn1.DERGeneralizedTime.superclass.constructor.call(this,va),this.hT="18",this.withMillis=!1,this.setByDate=function(_a){this.hTLV=null,this.isModified=!0,this.date=_a,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=J$1(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=J$1(this.s)),this.hV},va!==void 0&&(va.str!==void 0?this.setString(va.str):typeof va=="string"&&va.match(/^[0-9]{14}Z$/)?this.setString(va):va.hex!==void 0?this.setStringHex(va.hex):va.date!==void 0&&this.setByDate(va.date),va.millis===!0&&(this.withMillis=!0))},c$3.lang.extend(u$2.asn1.DERGeneralizedTime,u$2.asn1.DERAbstractTime),u$2.asn1.DERSequence=function(va){u$2.asn1.DERSequence.superclass.constructor.call(this,va),this.hT="30",this.getFreshValueHex=function(){for(var _a="",eo=0;eo<this.asn1Array.length;eo++)_a+=this.asn1Array[eo].getEncodedHex();return this.hV=_a,this.hV}},c$3.lang.extend(u$2.asn1.DERSequence,u$2.asn1.DERAbstractStructured),u$2.asn1.DERSet=function(va){u$2.asn1.DERSet.superclass.constructor.call(this,va),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var _a=new Array,eo=0;eo<this.asn1Array.length;eo++){var to=this.asn1Array[eo];_a.push(to.getEncodedHex())}return this.sortFlag==1&&_a.sort(),this.hV=_a.join(""),this.hV},va!==void 0&&va.sortflag!==void 0&&va.sortflag==0&&(this.sortFlag=!1)},c$3.lang.extend(u$2.asn1.DERSet,u$2.asn1.DERAbstractStructured),u$2.asn1.DERTaggedObject=function(va){u$2.asn1.DERTaggedObject.superclass.constructor.call(this);var _a=u$2.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(eo,to,ro){this.hT=to,this.isExplicit=eo,this.asn1Object=ro,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=ro.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,to),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(eo){eo.tag!=null&&(this.hT=eo.tag),eo.explicit!=null&&(this.isExplicit=eo.explicit),eo.tage!=null&&(this.hT=eo.tage,this.isExplicit=!0),eo.tagi!=null&&(this.hT=eo.tagi,this.isExplicit=!1),eo.obj!=null&&(eo.obj instanceof _a.ASN1Object?(this.asn1Object=eo.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):typeof eo.obj=="object"&&(this.asn1Object=_a.ASN1Util.newObject(eo.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},va!=null&&this.setByParam(va)},c$3.lang.extend(u$2.asn1.DERTaggedObject,u$2.asn1.ASN1Object);var we=new function(){};function Ie(va,_a){for(var eo="",to=_a/4-va.length,ro=0;ro<to;ro++)eo+="0";return eo+va}function Te(va,_a,eo){for(var to="",ro=0;to.length<_a;)to+=re(eo(se(va+String.fromCharCode.apply(String,[(4278190080&ro)>>24,(16711680&ro)>>16,(65280&ro)>>8,255&ro])))),ro+=1;return to}function xe(va){for(var _a in u$2.crypto.Util.DIGESTINFOHEAD){var eo=u$2.crypto.Util.DIGESTINFOHEAD[_a],to=eo.length;if(va.substring(0,to)==eo)return[_a,va.substring(to)]}return[]}function je(va){var _a,eo=we,to=eo.getChildIdx,ro=eo.getV,no=eo.getTLV,io=eo.getVbyList,ao=eo.getVbyListEx,oo=eo.getTLVbyList,so=eo.getTLVbyListEx,uo=eo.getIdxbyList,co=eo.getIdxbyListEx,fo=eo.getVidx,po=eo.getInt,vo=eo.oidname,go=eo.hextooidstr,mo=ue;try{_a=u$2.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var lo=oo(this.hex,0,[0,0]);if(lo.substr(0,2)=="a0"){var ho=oo(lo,0,[0]),yo=po(ho,0);if(yo<0||2<yo)throw new Error("malformed version field");return this.version=yo+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return ao(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var lo=so(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(lo)},this.getAlgorithmIdentifierName=function(lo){for(var ho in _a)if(lo===_a[ho])return ho;return vo(ao(lo,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return oo(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return oo(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var lo=io(this.hex,0,[0,4+this.foffset,0]);return lo=lo.replace(/(..)/g,"%$1"),lo=decodeURIComponent(lo)},this.getNotAfter=function(){var lo=io(this.hex,0,[0,4+this.foffset,1]);return lo=lo.replace(/(..)/g,"%$1"),lo=decodeURIComponent(lo)},this.getPublicKeyHex=function(){return eo.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return uo(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var lo=this.getPublicKeyIdx();return uo(this.hex,lo,[1,0],"30")},this.getPublicKey=function(){return Ee.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var lo=oo(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(lo)},this.getSignatureValueHex=function(){return io(this.hex,0,[2],"03",!0)},this.verifySignature=function(lo){var ho=this.getSignatureAlgorithmField(),yo=this.getSignatureValueHex(),Ao=oo(this.hex,0,[0],"30"),Eo=new u$2.crypto.Signature({alg:ho});return Eo.init(lo),Eo.updateHex(Ao),Eo.verify(yo)},this.parseExt=function(lo){var ho,yo,Ao;if(lo===void 0){if(Ao=this.hex,this.version!==3)return-1;ho=uo(Ao,0,[0,7,0],"30"),yo=to(Ao,ho)}else{Ao=ue(lo);var Eo=uo(Ao,0,[0,3,0,0],"06");if(ro(Ao,Eo)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);ho=uo(Ao,0,[0,3,0,1,0],"30"),yo=to(Ao,ho),this.hex=Ao}this.aExtInfo=new Array;for(var To=0;To<yo.length;To++){var No={critical:!1},Co=0;to(Ao,yo[To]).length===3&&(No.critical=!0,Co=1),No.oid=eo.hextooidstr(io(Ao,yo[To],[0],"06"));var Io=uo(Ao,yo[To],[1+Co]);No.vidx=fo(Ao,Io),this.aExtInfo.push(No)}},this.getExtInfo=function(lo){var ho=this.aExtInfo,yo=lo;if(lo.match(/^[0-9.]+$/)||(yo=u$2.asn1.x509.OID.name2oid(lo)),yo!==""){for(var Ao=0;Ao<ho.length;Ao++)if(ho[Ao].oid===yo)return ho[Ao]}},this.getExtBasicConstraints=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("basicConstraints");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"basicConstraints"};if(ho&&(Ao.critical=!0),lo==="3000")return Ao;if(lo==="30030101ff")return Ao.cA=!0,Ao;if(lo.substr(0,12)==="30060101ff02"){var Eo=ro(lo,10),To=parseInt(Eo,16);return Ao.cA=!0,Ao.pathLen=To,Ao}throw new Error("hExtV parse error: "+lo)},this.getExtKeyUsage=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("keyUsage");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"keyUsage"};return ho&&(Ao.critical=!0),Ao.names=this.getExtKeyUsageString(lo).split(","),Ao},this.getExtKeyUsageBin=function(lo){if(lo===void 0){var ho=this.getExtInfo("keyUsage");if(ho===void 0)return"";lo=no(this.hex,ho.vidx)}if(lo.length!=8&&lo.length!=10)throw new Error("malformed key usage value: "+lo);var yo="000000000000000"+parseInt(lo.substr(6),16).toString(2);return lo.length==8&&(yo=yo.slice(-8)),lo.length==10&&(yo=yo.slice(-16)),(yo=yo.replace(/0+$/,""))==""&&(yo="0"),yo},this.getExtKeyUsageString=function(lo){for(var ho=this.getExtKeyUsageBin(lo),yo=new Array,Ao=0;Ao<ho.length;Ao++)ho.substr(Ao,1)=="1"&&yo.push(je.KEYUSAGE_NAME[Ao]);return yo.join(",")},this.getExtSubjectKeyIdentifier=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("subjectKeyIdentifier");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"subjectKeyIdentifier"};ho&&(Ao.critical=!0);var Eo=ro(lo,0);return Ao.kid={hex:Eo},Ao},this.getExtAuthorityKeyIdentifier=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("authorityKeyIdentifier");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"authorityKeyIdentifier"};ho&&(Ao.critical=!0);for(var Eo=to(lo,0),To=0;To<Eo.length;To++){var No=lo.substr(Eo[To],2);if(No==="80"&&(Ao.kid={hex:ro(lo,Eo[To])}),No==="a1"){var Co=no(lo,Eo[To]),Io=this.getGeneralNames(Co);Ao.issuer=Io[0].dn}No==="82"&&(Ao.sn={hex:ro(lo,Eo[To])})}return Ao},this.getExtExtKeyUsage=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("extKeyUsage");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"extKeyUsage",array:[]};ho&&(Ao.critical=!0);for(var Eo=to(lo,0),To=0;To<Eo.length;To++)Ao.array.push(vo(ro(lo,Eo[To])));return Ao},this.getExtExtKeyUsageName=function(){var lo=this.getExtInfo("extKeyUsage");if(lo===void 0)return lo;var ho=new Array,yo=no(this.hex,lo.vidx);if(yo==="")return ho;for(var Ao=to(yo,0),Eo=0;Eo<Ao.length;Eo++)ho.push(vo(ro(yo,Ao[Eo])));return ho},this.getExtSubjectAltName=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("subjectAltName");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"subjectAltName",array:[]};return ho&&(Ao.critical=!0),Ao.array=this.getGeneralNames(lo),Ao},this.getExtIssuerAltName=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("issuerAltName");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"issuerAltName",array:[]};return ho&&(Ao.critical=!0),Ao.array=this.getGeneralNames(lo),Ao},this.getGeneralNames=function(lo){for(var ho=to(lo,0),yo=[],Ao=0;Ao<ho.length;Ao++){var Eo=this.getGeneralName(no(lo,ho[Ao]));Eo!==void 0&&yo.push(Eo)}return yo},this.getGeneralName=function(lo){var ho=lo.substr(0,2),yo=ro(lo,0),Ao=re(yo);return ho=="81"?{rfc822:Ao}:ho=="82"?{dns:Ao}:ho=="86"?{uri:Ao}:ho=="87"?{ip:ce(yo)}:ho=="a4"?{dn:this.getX500Name(yo)}:void 0},this.getExtSubjectAltName2=function(){var lo,ho,yo,Ao=this.getExtInfo("subjectAltName");if(Ao===void 0)return Ao;for(var Eo=new Array,To=no(this.hex,Ao.vidx),No=to(To,0),Co=0;Co<No.length;Co++)yo=To.substr(No[Co],2),lo=ro(To,No[Co]),yo==="81"&&(ho=ne(lo),Eo.push(["MAIL",ho])),yo==="82"&&(ho=ne(lo),Eo.push(["DNS",ho])),yo==="84"&&(ho=je.hex2dn(lo,0),Eo.push(["DN",ho])),yo==="86"&&(ho=ne(lo),Eo.push(["URI",ho])),yo==="87"&&(ho=ce(lo),Eo.push(["IP",ho]));return Eo},this.getExtCRLDistributionPoints=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("cRLDistributionPoints");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"cRLDistributionPoints",array:[]};ho&&(Ao.critical=!0);for(var Eo=to(lo,0),To=0;To<Eo.length;To++){var No=no(lo,Eo[To]);Ao.array.push(this.getDistributionPoint(No))}return Ao},this.getDistributionPoint=function(lo){for(var ho={},yo=to(lo,0),Ao=0;Ao<yo.length;Ao++){var Eo=lo.substr(yo[Ao],2),To=no(lo,yo[Ao]);Eo=="a0"&&(ho.dpname=this.getDistributionPointName(To))}return ho},this.getDistributionPointName=function(lo){for(var ho={},yo=to(lo,0),Ao=0;Ao<yo.length;Ao++){var Eo=lo.substr(yo[Ao],2),To=no(lo,yo[Ao]);Eo=="a0"&&(ho.full=this.getGeneralNames(To))}return ho},this.getExtCRLDistributionPointsURI=function(){var lo=this.getExtInfo("cRLDistributionPoints");if(lo===void 0)return lo;for(var ho=new Array,yo=to(this.hex,lo.vidx),Ao=0;Ao<yo.length;Ao++)try{var Eo=ne(io(this.hex,yo[Ao],[0,0,0],"86"));ho.push(Eo)}catch{}return ho},this.getExtAIAInfo=function(){var lo=this.getExtInfo("authorityInfoAccess");if(lo===void 0)return lo;for(var ho={ocsp:[],caissuer:[]},yo=to(this.hex,lo.vidx),Ao=0;Ao<yo.length;Ao++){var Eo=io(this.hex,yo[Ao],[0],"06"),To=io(this.hex,yo[Ao],[1],"86");Eo==="2b06010505073001"&&ho.ocsp.push(ne(To)),Eo==="2b06010505073002"&&ho.caissuer.push(ne(To))}return ho},this.getExtAuthorityInfoAccess=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("authorityInfoAccess");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"authorityInfoAccess",array:[]};ho&&(Ao.critical=!0);for(var Eo=to(lo,0),To=0;To<Eo.length;To++){var No=ao(lo,Eo[To],[0],"06"),Co=ne(io(lo,Eo[To],[1],"86"));if(No=="2b06010505073001")Ao.array.push({ocsp:Co});else{if(No!="2b06010505073002")throw new Error("unknown method: "+No);Ao.array.push({caissuer:Co})}}return Ao},this.getExtCertificatePolicies=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("certificatePolicies");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"certificatePolicies",array:[]};ho&&(Ao.critical=!0);for(var Eo=to(lo,0),To=0;To<Eo.length;To++){var No=no(lo,Eo[To]),Co=this.getPolicyInformation(No);Ao.array.push(Co)}return Ao},this.getPolicyInformation=function(lo){var ho={},yo=io(lo,0,[0],"06");ho.policyoid=vo(yo);var Ao=co(lo,0,[1],"30");if(Ao!=-1){ho.array=[];for(var Eo=to(lo,Ao),To=0;To<Eo.length;To++){var No=no(lo,Eo[To]),Co=this.getPolicyQualifierInfo(No);ho.array.push(Co)}}return ho},this.getPolicyQualifierInfo=function(lo){var ho={},yo=io(lo,0,[0],"06");if(yo==="2b06010505070201"){var Ao=ao(lo,0,[1],"16");ho.cps=re(Ao)}else if(yo==="2b06010505070202"){var Eo=oo(lo,0,[1],"30");ho.unotice=this.getUserNotice(Eo)}return ho},this.getUserNotice=function(lo){for(var ho={},yo=to(lo,0),Ao=0;Ao<yo.length;Ao++){var Eo=no(lo,yo[Ao]);Eo.substr(0,2)!="30"&&(ho.exptext=this.getDisplayText(Eo))}return ho},this.getDisplayText=function(lo){var ho={};return ho.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[lo.substr(0,2)],ho.str=re(ro(lo,0)),ho},this.getExtCRLNumber=function(lo,ho){var yo={extname:"cRLNumber"};if(ho&&(yo.critical=!0),lo.substr(0,2)=="02")return yo.num={hex:ro(lo,0)},yo;throw new Error("hExtV parse error: "+lo)},this.getExtCRLReason=function(lo,ho){var yo={extname:"cRLReason"};if(ho&&(yo.critical=!0),lo.substr(0,2)=="0a")return yo.code=parseInt(ro(lo,0),16),yo;throw new Error("hExtV parse error: "+lo)},this.getExtOcspNonce=function(lo,ho){var yo={extname:"ocspNonce"};ho&&(yo.critical=!0);var Ao=ro(lo,0);return yo.hex=Ao,yo},this.getExtOcspNoCheck=function(lo,ho){var yo={extname:"ocspNoCheck"};return ho&&(yo.critical=!0),yo},this.getExtAdobeTimeStamp=function(lo,ho){if(lo===void 0&&ho===void 0){var yo=this.getExtInfo("adobeTimeStamp");if(yo===void 0)return;lo=no(this.hex,yo.vidx),ho=yo.critical}var Ao={extname:"adobeTimeStamp"};ho&&(Ao.critical=!0);var Eo=to(lo,0);if(Eo.length>1){var To=no(lo,Eo[1]),No=this.getGeneralName(To);No.uri!=null&&(Ao.uri=No.uri)}if(Eo.length>2){var Co=no(lo,Eo[2]);Co=="0101ff"&&(Ao.reqauth=!0),Co=="010100"&&(Ao.reqauth=!1)}return Ao},this.getX500NameRule=function(lo){for(var ho=null,yo=[],Ao=0;Ao<lo.length;Ao++)for(var Eo=lo[Ao],To=0;To<Eo.length;To++)yo.push(Eo[To]);for(Ao=0;Ao<yo.length;Ao++){var No=yo[Ao],Co=No.ds,Io=No.value,Mo=No.type;if(Co!="prn"&&Co!="utf8"&&Co!="ia5")return"mixed";if(Co=="ia5"){if(Mo!="CN")return"mixed";if(u$2.lang.String.isMail(Io))continue;return"mixed"}if(Mo=="C"){if(Co=="prn")continue;return"mixed"}if(ho==null)ho=Co;else if(ho!==Co)return"mixed"}return ho??"prn"},this.getX500Name=function(lo){var ho=this.getX500NameArray(lo);return{array:ho,str:this.dnarraytostr(ho)}},this.getX500NameArray=function(lo){for(var ho=[],yo=to(lo,0),Ao=0;Ao<yo.length;Ao++)ho.push(this.getRDN(no(lo,yo[Ao])));return ho},this.getRDN=function(lo){for(var ho=[],yo=to(lo,0),Ao=0;Ao<yo.length;Ao++)ho.push(this.getAttrTypeAndValue(no(lo,yo[Ao])));return ho},this.getAttrTypeAndValue=function(lo){var ho={type:null,value:null,ds:null},yo=to(lo,0),Ao=io(lo,yo[0],[],"06"),Eo=io(lo,yo[1],[]),To=u$2.asn1.ASN1Util.oidHexToInt(Ao);return ho.type=u$2.asn1.x509.OID.oid2atype(To),ho.ds=this.HEX2STAG[lo.substr(yo[1],2)],ho.ds!="bmp"?ho.value=ne(Eo):ho.value=Ae(Eo),ho},this.readCertPEM=function(lo){this.readCertHex(mo(lo))},this.readCertHex=function(lo){this.hex=lo,this.getVersion();try{uo(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var lo={};return lo.version=this.getVersion(),lo.serial={hex:this.getSerialNumberHex()},lo.sigalg=this.getSignatureAlgorithmField(),lo.issuer=this.getIssuer(),lo.notbefore=this.getNotBefore(),lo.notafter=this.getNotAfter(),lo.subject=this.getSubject(),lo.sbjpubkey=ae(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(lo.ext=this.getExtParamArray()),lo.sighex=this.getSignatureValueHex(),lo},this.getExtParamArray=function(lo){lo==null&&co(this.hex,0,[0,"[3]"])!=-1&&(lo=so(this.hex,0,[0,"[3]",0],"30"));for(var ho=[],yo=to(lo,0),Ao=0;Ao<yo.length;Ao++){var Eo=no(lo,yo[Ao]),To=this.getExtParam(Eo);To!=null&&ho.push(To)}return ho},this.getExtParam=function(lo){var ho=to(lo,0).length;if(ho!=2&&ho!=3)throw new Error("wrong number elements in Extension: "+ho+" "+lo);var yo=go(io(lo,0,[0],"06")),Ao=!1;ho==3&&oo(lo,0,[1])=="0101ff"&&(Ao=!0);var Eo=oo(lo,0,[ho-1,0]),To=void 0;if(yo=="2.5.29.14"?To=this.getExtSubjectKeyIdentifier(Eo,Ao):yo=="2.5.29.15"?To=this.getExtKeyUsage(Eo,Ao):yo=="2.5.29.17"?To=this.getExtSubjectAltName(Eo,Ao):yo=="2.5.29.18"?To=this.getExtIssuerAltName(Eo,Ao):yo=="2.5.29.19"?To=this.getExtBasicConstraints(Eo,Ao):yo=="2.5.29.31"?To=this.getExtCRLDistributionPoints(Eo,Ao):yo=="2.5.29.32"?To=this.getExtCertificatePolicies(Eo,Ao):yo=="2.5.29.35"?To=this.getExtAuthorityKeyIdentifier(Eo,Ao):yo=="2.5.29.37"?To=this.getExtExtKeyUsage(Eo,Ao):yo=="1.3.6.1.5.5.7.1.1"?To=this.getExtAuthorityInfoAccess(Eo,Ao):yo=="2.5.29.20"?To=this.getExtCRLNumber(Eo,Ao):yo=="2.5.29.21"?To=this.getExtCRLReason(Eo,Ao):yo=="1.3.6.1.5.5.7.48.1.2"?To=this.getExtOcspNonce(Eo,Ao):yo=="1.3.6.1.5.5.7.48.1.5"?To=this.getExtOcspNoCheck(Eo,Ao):yo=="1.2.840.113583.1.1.9.1"&&(To=this.getExtAdobeTimeStamp(Eo,Ao)),To!=null)return To;var No={extname:yo,extn:Eo};return Ao&&(No.critical=!0),No},this.findExt=function(lo,ho){for(var yo=0;yo<lo.length;yo++)if(lo[yo].extname==ho)return lo[yo];return null},this.updateExtCDPFullURI=function(lo,ho){var yo=this.findExt(lo,"cRLDistributionPoints");if(yo!=null&&yo.array!=null){for(var Ao=yo.array,Eo=0;Eo<Ao.length;Eo++)if(Ao[Eo].dpname!=null&&Ao[Eo].dpname.full!=null)for(var To=Ao[Eo].dpname.full,No=0;No<To.length;No++){var Co=To[Eo];Co.uri!=null&&(Co.uri=ho)}}},this.updateExtAIAOCSP=function(lo,ho){var yo=this.findExt(lo,"authorityInfoAccess");if(yo!=null&&yo.array!=null)for(var Ao=yo.array,Eo=0;Eo<Ao.length;Eo++)Ao[Eo].ocsp!=null&&(Ao[Eo].ocsp=ho)},this.updateExtAIACAIssuer=function(lo,ho){var yo=this.findExt(lo,"authorityInfoAccess");if(yo!=null&&yo.array!=null)for(var Ao=yo.array,Eo=0;Eo<Ao.length;Eo++)Ao[Eo].caissuer!=null&&(Ao[Eo].caissuer=ho)},this.dnarraytostr=function(lo){return"/"+lo.map(function(ho){return function(yo){return yo.map(function(Ao){return function(Eo){return Eo.type+"="+Eo.value}(Ao).replace(/\+/,"\\+")}).join("+")}(ho).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var lo,ho,yo,Ao,Eo=function(So){for(var Do="",Oo=So.array,Bo=0;Bo<Oo.length;Bo++){var $o=Oo[Bo];if(Do+="    policy oid: "+$o.policyoid+`
`,$o.array!==void 0)for(var Vo=0;Vo<$o.array.length;Vo++){var Ho=$o.array[Vo];Ho.cps!==void 0&&(Do+="    cps: "+Ho.cps+`
`)}}return Do},To=function(So){for(var Do="",Oo=So.array,Bo=0;Bo<Oo.length;Bo++){var $o=Oo[Bo];try{$o.dpname.full[0].uri!==void 0&&(Do+="    "+$o.dpname.full[0].uri+`
`)}catch{}try{$o.dname.full[0].dn.hex!==void 0&&(Do+="    "+je.hex2dn($o.dpname.full[0].dn.hex)+`
`)}catch{}}return Do},No=function(So){for(var Do="",Oo=So.array,Bo=0;Bo<Oo.length;Bo++){var $o=Oo[Bo];$o.caissuer!==void 0&&(Do+="    caissuer: "+$o.caissuer+`
`),$o.ocsp!==void 0&&(Do+="    ocsp: "+$o.ocsp+`
`)}return Do};if(lo=`Basic Fields
`,lo+="  serial number: "+this.getSerialNumberHex()+`
`,lo+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,lo+="  issuer: "+this.getIssuerString()+`
`,lo+="  notBefore: "+this.getNotBefore()+`
`,lo+="  notAfter: "+this.getNotAfter()+`
`,lo+="  subject: "+this.getSubjectString()+`
`,lo+=`  subject public key info: 
`,lo+="    key algorithm: "+(ho=this.getPublicKey()).type+`
`,ho.type==="RSA"&&(lo+="    n="+he(ho.n.toString(16)).substr(0,16)+`...
`,lo+="    e="+he(ho.e.toString(16))+`
`),(yo=this.aExtInfo)!=null){lo+=`X509v3 Extensions:
`;for(var Co=0;Co<yo.length;Co++){var Io=yo[Co],Mo=u$2.asn1.x509.OID.oid2name(Io.oid);Mo===""&&(Mo=Io.oid);var wo="";if(Io.critical===!0&&(wo="CRITICAL"),lo+="  "+Mo+" "+wo+`:
`,Mo==="basicConstraints"){var xo=this.getExtBasicConstraints();xo.cA===void 0?lo+=`    {}
`:(lo+="    cA=true",xo.pathLen!==void 0&&(lo+=", pathLen="+xo.pathLen),lo+=`
`)}else if(Mo==="keyUsage")lo+="    "+this.getExtKeyUsageString()+`
`;else if(Mo==="subjectKeyIdentifier")lo+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Mo==="authorityKeyIdentifier"){var bo=this.getExtAuthorityKeyIdentifier();bo.kid!==void 0&&(lo+="    kid="+bo.kid.hex+`
`)}else Mo==="extKeyUsage"?lo+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Mo==="subjectAltName"?lo+="    "+(Ao=this.getExtSubjectAltName(),JSON.stringify(Ao.array).replace(/[\[\]\{\}\"]/g,""))+`
`:Mo==="cRLDistributionPoints"?lo+=To(this.getExtCRLDistributionPoints()):Mo==="authorityInfoAccess"?lo+=No(this.getExtAuthorityInfoAccess()):Mo==="certificatePolicies"&&(lo+=Eo(this.getExtCertificatePolicies()))}}return lo+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,lo+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof va=="string"&&(va.indexOf("-----BEGIN")!=-1?this.readCertPEM(va):u$2.lang.String.isHex(va)&&this.readCertHex(va))}function ze(va){return A$4.SHA256(va).toString()}we.getLblen=function(va,_a){if(va.substr(_a+2,1)!="8")return 1;var eo=parseInt(va.substr(_a+3,1));return eo==0?-1:0<eo&&eo<10?eo+1:-2},we.getL=function(va,_a){var eo=we.getLblen(va,_a);return eo<1?"":va.substr(_a+2,2*eo)},we.getVblen=function(va,_a){var eo;return(eo=we.getL(va,_a))==""?-1:(eo.substr(0,1)==="8"?new l$4(eo.substr(2),16):new l$4(eo,16)).intValue()},we.getVidx=function(va,_a){var eo=we.getLblen(va,_a);return eo<0?eo:_a+2*(eo+1)},we.getV=function(va,_a){var eo=we.getVidx(va,_a),to=we.getVblen(va,_a);return va.substr(eo,2*to)},we.getTLV=function(va,_a){return va.substr(_a,2)+we.getL(va,_a)+we.getV(va,_a)},we.getTLVblen=function(va,_a){return 2+2*we.getLblen(va,_a)+2*we.getVblen(va,_a)},we.getNextSiblingIdx=function(va,_a){return we.getVidx(va,_a)+2*we.getVblen(va,_a)},we.getChildIdx=function(va,_a){var eo,to,ro,no=we,io=[];eo=no.getVidx(va,_a),to=2*no.getVblen(va,_a),va.substr(_a,2)=="03"&&(eo+=2,to-=2),ro=0;for(var ao=eo;ro<=to;){var oo=no.getTLVblen(va,ao);if((ro+=oo)<=to&&io.push(ao),ao+=oo,ro>=to)break}return io},we.getNthChildIdx=function(va,_a,eo){return we.getChildIdx(va,_a)[eo]},we.getIdxbyList=function(va,_a,eo,to){var ro,no,io=we;return eo.length==0?to!==void 0&&va.substr(_a,2)!==to?-1:_a:(ro=eo.shift())>=(no=io.getChildIdx(va,_a)).length?-1:io.getIdxbyList(va,no[ro],eo,to)},we.getIdxbyListEx=function(va,_a,eo,to){var ro,no,io=we;if(eo.length==0)return to!==void 0&&va.substr(_a,2)!==to?-1:_a;ro=eo.shift(),no=io.getChildIdx(va,_a);for(var ao=0,oo=0;oo<no.length;oo++){var so=va.substr(no[oo],2);if(typeof ro=="number"&&!io.isContextTag(so)&&ao==ro||typeof ro=="string"&&io.isContextTag(so,ro))return io.getIdxbyListEx(va,no[oo],eo,to);io.isContextTag(so)||ao++}return-1},we.getTLVbyList=function(va,_a,eo,to){var ro=we,no=ro.getIdxbyList(va,_a,eo,to);return no==-1||no>=va.length?null:ro.getTLV(va,no)},we.getTLVbyListEx=function(va,_a,eo,to){var ro=we,no=ro.getIdxbyListEx(va,_a,eo,to);return no==-1?null:ro.getTLV(va,no)},we.getVbyList=function(va,_a,eo,to,ro){var no,io,ao=we;return(no=ao.getIdxbyList(va,_a,eo,to))==-1||no>=va.length?null:(io=ao.getV(va,no),ro===!0&&(io=io.substr(2)),io)},we.getVbyListEx=function(va,_a,eo,to,ro){var no,io,ao=we;return(no=ao.getIdxbyListEx(va,_a,eo,to))==-1?null:(io=ao.getV(va,no),va.substr(no,2)=="03"&&ro!==!1&&(io=io.substr(2)),io)},we.getInt=function(va,_a,eo){eo==null&&(eo=-1);try{var to=va.substr(_a,2);if(to!="02"&&to!="03")return eo;var ro=we.getV(va,_a);return to=="02"?parseInt(ro,16):function(no){try{var io=no.substr(0,2);if(io=="00")return parseInt(no.substr(2),16);var ao=parseInt(io,16),oo=no.substr(2),so=parseInt(oo,16).toString(2);return so=="0"&&(so="00000000"),so=so.slice(0,0-ao),parseInt(so,2)}catch{return-1}}(ro)}catch{return eo}},we.getOID=function(va,_a,eo){eo==null&&(eo=null);try{return va.substr(_a,2)!="06"?eo:function(to){if(!le(to))return null;try{var ro=[],no=to.substr(0,2),io=parseInt(no,16);ro[0]=new String(Math.floor(io/40)),ro[1]=new String(io%40);for(var ao=to.substr(2),oo=[],so=0;so<ao.length/2;so++)oo.push(parseInt(ao.substr(2*so,2),16));var uo=[],co="";for(so=0;so<oo.length;so++)128&oo[so]?co+=de((127&oo[so]).toString(2),7):(co+=de((127&oo[so]).toString(2),7),uo.push(new String(parseInt(co,2))),co="");var fo=ro.join(".");return uo.length>0&&(fo=fo+"."+uo.join(".")),fo}catch{return null}}(we.getV(va,_a))}catch{return eo}},we.getOIDName=function(va,_a,eo){eo==null&&(eo=null);try{var to=we.getOID(va,_a,eo);if(to==eo)return eo;var ro=u$2.asn1.x509.OID.oid2name(to);return ro==""?to:ro}catch{return eo}},we.getString=function(va,_a,eo){eo==null&&(eo=null);try{return re(we.getV(va,_a))}catch{return eo}},we.hextooidstr=function(va){var _a=function(co,fo){return co.length>=fo?co:new Array(fo-co.length+1).join("0")+co},eo=[],to=va.substr(0,2),ro=parseInt(to,16);eo[0]=new String(Math.floor(ro/40)),eo[1]=new String(ro%40);for(var no=va.substr(2),io=[],ao=0;ao<no.length/2;ao++)io.push(parseInt(no.substr(2*ao,2),16));var oo=[],so="";for(ao=0;ao<io.length;ao++)128&io[ao]?so+=_a((127&io[ao]).toString(2),7):(so+=_a((127&io[ao]).toString(2),7),oo.push(new String(parseInt(so,2))),so="");var uo=eo.join(".");return oo.length>0&&(uo=uo+"."+oo.join(".")),uo},we.dump=function(va,_a,eo,to){var ro=we,no=ro.getV,io=ro.dump,ao=ro.getChildIdx,oo=va;va instanceof u$2.asn1.ASN1Object&&(oo=va.getEncodedHex());var so=function(No,Co){return No.length<=2*Co?No:No.substr(0,Co)+"..(total "+No.length/2+"bytes).."+No.substr(No.length-Co,Co)};_a===void 0&&(_a={ommit_long_octet:32}),eo===void 0&&(eo=0),to===void 0&&(to="");var uo,co=_a.ommit_long_octet;if((uo=oo.substr(eo,2))=="01")return(fo=no(oo,eo))=="00"?to+`BOOLEAN FALSE
`:to+`BOOLEAN TRUE
`;if(uo=="02")return to+"INTEGER "+so(fo=no(oo,eo),co)+`
`;if(uo=="03"){var fo=no(oo,eo);if(ro.isASN1HEX(fo.substr(2))){var po=to+`BITSTRING, encapsulates
`;return po+=io(fo.substr(2),_a,0,to+"  ")}return to+"BITSTRING "+so(fo,co)+`
`}if(uo=="04")return fo=no(oo,eo),ro.isASN1HEX(fo)?(po=to+`OCTETSTRING, encapsulates
`,po+=io(fo,_a,0,to+"  ")):to+"OCTETSTRING "+so(fo,co)+`
`;if(uo=="05")return to+`NULL
`;if(uo=="06"){var vo=no(oo,eo),go=u$2.asn1.ASN1Util.oidHexToInt(vo),mo=u$2.asn1.x509.OID.oid2name(go),lo=go.replace(/\./g," ");return mo!=""?to+"ObjectIdentifier "+mo+" ("+lo+`)
`:to+"ObjectIdentifier ("+lo+`)
`}if(uo=="0a")return to+"ENUMERATED "+parseInt(no(oo,eo))+`
`;if(uo=="0c")return to+"UTF8String '"+ne(no(oo,eo))+`'
`;if(uo=="13")return to+"PrintableString '"+ne(no(oo,eo))+`'
`;if(uo=="14")return to+"TeletexString '"+ne(no(oo,eo))+`'
`;if(uo=="16")return to+"IA5String '"+ne(no(oo,eo))+`'
`;if(uo=="17")return to+"UTCTime "+ne(no(oo,eo))+`
`;if(uo=="18")return to+"GeneralizedTime "+ne(no(oo,eo))+`
`;if(uo=="1a")return to+"VisualString '"+ne(no(oo,eo))+`'
`;if(uo=="1e")return to+"BMPString '"+Ae(no(oo,eo))+`'
`;if(uo=="30"){if(oo.substr(eo,4)=="3000")return to+`SEQUENCE {}
`;po=to+`SEQUENCE
`;var ho=_a;if(((Eo=ao(oo,eo)).length==2||Eo.length==3)&&oo.substr(Eo[0],2)=="06"&&oo.substr(Eo[Eo.length-1],2)=="04"){mo=ro.oidname(no(oo,Eo[0]));var yo=JSON.parse(JSON.stringify(_a));yo.x509ExtName=mo,ho=yo}for(var Ao=0;Ao<Eo.length;Ao++)po+=io(oo,ho,Eo[Ao],to+"  ");return po}if(uo=="31"){po=to+`SET
`;var Eo=ao(oo,eo);for(Ao=0;Ao<Eo.length;Ao++)po+=io(oo,_a,Eo[Ao],to+"  ");return po}if((128&(uo=parseInt(uo,16)))!=0){var To=31&uo;if((32&uo)!=0){for(po=to+"["+To+`]
`,Eo=ao(oo,eo),Ao=0;Ao<Eo.length;Ao++)po+=io(oo,_a,Eo[Ao],to+"  ");return po}if(fo=no(oo,eo),we.isASN1HEX(fo)){var po=to+"["+To+`]
`;return po+=io(fo,_a,0,to+"  ")}return(fo.substr(0,8)=="68747470"||_a.x509ExtName==="subjectAltName"&&To==2)&&(fo=ne(fo)),po=to+"["+To+"] "+fo+`
`}return to+"UNKNOWN("+uo+") "+no(oo,eo)+`
`},we.isContextTag=function(va,_a){var eo,to;va=va.toLowerCase();try{eo=parseInt(va,16)}catch{return-1}if(_a===void 0)return(192&eo)==128;try{return _a.match(/^\[[0-9]+\]$/)!=null&&!((to=parseInt(_a.substr(1,_a.length-1),10))>31)&&(192&eo)==128&&(31&eo)==to}catch{return!1}},we.isASN1HEX=function(va){var _a=we;if(va.length%2==1)return!1;var eo=_a.getVblen(va,0),to=va.substr(0,2),ro=_a.getL(va,0);return va.length-to.length-ro.length==2*eo},we.checkStrictDER=function(va,_a,eo,to,ro){var no=we;if(eo===void 0){if(typeof va!="string")throw new Error("not hex string");if(va=va.toLowerCase(),!u$2.lang.String.isHex(va))throw new Error("not hex string");eo=va.length,ro=(to=va.length/2)<128?1:Math.ceil(to.toString(16))+1}if(no.getL(va,_a).length>2*ro)throw new Error("L of TLV too long: idx="+_a);var io=no.getVblen(va,_a);if(io>to)throw new Error("value of L too long than hex: idx="+_a);var ao=no.getTLV(va,_a),oo=ao.length-2-no.getL(va,_a).length;if(oo!==2*io)throw new Error("V string length and L's value not the same:"+oo+"/"+2*io);if(_a===0&&va.length!=ao.length)throw new Error("total length and TLV length unmatch:"+va.length+"!="+ao.length);var so=va.substr(_a,2);if(so==="02"){var uo=no.getVidx(va,_a);if(va.substr(uo,2)=="00"&&va.charCodeAt(uo+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(so,16)){for(var co=no.getVblen(va,_a),fo=0,po=no.getChildIdx(va,_a),vo=0;vo<po.length;vo++)fo+=no.getTLV(va,po[vo]).length,no.checkStrictDER(va,po[vo],eo,to,ro);if(2*co!=fo)throw new Error("sum of children's TLV length and L unmatch: "+2*co+"!="+fo)}},we.oidname=function(va){var _a=u$2.asn1;u$2.lang.String.isHex(va)&&(va=_a.ASN1Util.oidHexToInt(va));var eo=_a.x509.OID.oid2name(va);return eo===""&&(eo=va),eo},u$2.asn1!==void 0&&u$2.asn1||(u$2.asn1={}),u$2.asn1.x509!==void 0&&u$2.asn1.x509||(u$2.asn1.x509={}),u$2.asn1.x509.Certificate=function(va){u$2.asn1.x509.Certificate.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.DERBitString,to=_a.DERSequence,ro=_a.x509,no=ro.TBSCertificate,io=ro.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(ao){this.params=ao},this.sign=function(){var ao=this.params,oo=ao.sigalg;ao.sigalg.name!=null&&(oo=ao.sigalg.name);var so=ao.tbsobj.getEncodedHex(),uo=new u$2.crypto.Signature({alg:oo});uo.init(ao.cakey),uo.updateHex(so),ao.sighex=uo.sign()},this.getPEM=function(){return ae(this.getEncodedHex(),"CERTIFICATE")},this.getEncodedHex=function(){var ao=this.params;if(ao.tbsobj!=null&&ao.tbsobj!=null||(ao.tbsobj=new no(ao)),ao.sighex==null&&ao.cakey!=null&&this.sign(),ao.sighex==null)throw new Error("sighex or cakey parameter not defined");var oo=[];return oo.push(ao.tbsobj),oo.push(new io({name:ao.sigalg})),oo.push(new eo({hex:"00"+ao.sighex})),new to({array:oo}).getEncodedHex()},va!=null&&(this.params=va)},ge(u$2.asn1.x509.Certificate,u$2.asn1.ASN1Object),u$2.asn1.x509.TBSCertificate=function(va){u$2.asn1.x509.TBSCertificate.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.x509,to=_a.DERTaggedObject,ro=_a.DERInteger,no=_a.DERSequence,io=eo.AlgorithmIdentifier,ao=eo.Time,oo=eo.X500Name,so=eo.Extensions,uo=eo.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(co){this.params=co},this.getEncodedHex=function(){var co=[],fo=this.params;if(fo.version!=null||fo.version!=1){var po=2;fo.version!=null&&(po=fo.version-1);var vo=new to({obj:new ro({int:po})});co.push(vo)}return co.push(new ro(fo.serial)),co.push(new io({name:fo.sigalg})),co.push(new oo(fo.issuer)),co.push(new no({array:[new ao(fo.notbefore),new ao(fo.notafter)]})),co.push(new oo(fo.subject)),co.push(new uo(Ee.getKey(fo.sbjpubkey))),fo.ext!==void 0&&fo.ext.length>0&&co.push(new to({tag:"a3",obj:new so(fo.ext)})),new u$2.asn1.DERSequence({array:co}).getEncodedHex()},va!==void 0&&this.setByParam(va)},ge(u$2.asn1.x509.TBSCertificate,u$2.asn1.ASN1Object),u$2.asn1.x509.Extensions=function(va){u$2.asn1.x509.Extensions.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.DERSequence,to=_a.x509;this.aParam=[],this.setByParam=function(ro){this.aParam=ro},this.getEncodedHex=function(){for(var ro=[],no=0;no<this.aParam.length;no++){var io=this.aParam[no],ao=io.extname,oo=null;if(io.extn!=null)oo=new to.PrivateExtension(io);else if(ao=="subjectKeyIdentifier")oo=new to.SubjectKeyIdentifier(io);else if(ao=="keyUsage")oo=new to.KeyUsage(io);else if(ao=="subjectAltName")oo=new to.SubjectAltName(io);else if(ao=="issuerAltName")oo=new to.IssuerAltName(io);else if(ao=="basicConstraints")oo=new to.BasicConstraints(io);else if(ao=="cRLDistributionPoints")oo=new to.CRLDistributionPoints(io);else if(ao=="certificatePolicies")oo=new to.CertificatePolicies(io);else if(ao=="authorityKeyIdentifier")oo=new to.AuthorityKeyIdentifier(io);else if(ao=="extKeyUsage")oo=new to.ExtKeyUsage(io);else if(ao=="authorityInfoAccess")oo=new to.AuthorityInfoAccess(io);else if(ao=="cRLNumber")oo=new to.CRLNumber(io);else if(ao=="cRLReason")oo=new to.CRLReason(io);else if(ao=="ocspNonce")oo=new to.OCSPNonce(io);else if(ao=="ocspNoCheck")oo=new to.OCSPNoCheck(io);else if(ao=="adobeTimeStamp")oo=new to.AdobeTimeStamp(io);else{if(ao!="subjectDirectoryAttributes")throw new Error("extension not supported:"+JSON.stringify(io));oo=new to.SubjectDirectoryAttributes(io)}oo!=null&&ro.push(oo)}return new eo({array:ro}).getEncodedHex()},va!=null&&this.setByParam(va)},ge(u$2.asn1.x509.Extensions,u$2.asn1.ASN1Object),u$2.asn1.x509.Extension=function(va){u$2.asn1.x509.Extension.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.DERObjectIdentifier,to=_a.DEROctetString;_a.DERBitString;var ro=_a.DERBoolean,no=_a.DERSequence;this.getEncodedHex=function(){var io=new eo({oid:this.oid}),ao=new to({hex:this.getExtnValueHex()}),oo=new Array;return oo.push(io),this.critical&&oo.push(new ro),oo.push(ao),new no({array:oo}).getEncodedHex()},this.critical=!1,va!==void 0&&va.critical!==void 0&&(this.critical=va.critical)},ge(u$2.asn1.x509.Extension,u$2.asn1.ASN1Object),u$2.asn1.x509.KeyUsage=function(va){u$2.asn1.x509.KeyUsage.superclass.constructor.call(this,va);var _a=je.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",va!==void 0&&(va.bin!==void 0&&(this.asn1ExtnValue=new u$2.asn1.DERBitString(va)),va.names!==void 0&&va.names.length!==void 0)){for(var eo=va.names,to="000000000",ro=0;ro<eo.length;ro++)for(var no=0;no<_a.length;no++)eo[ro]===_a[no]&&(to=to.substring(0,no)+"1"+to.substring(no+1,to.length));this.asn1ExtnValue=new u$2.asn1.DERBitString({bin:to})}},ge(u$2.asn1.x509.KeyUsage,u$2.asn1.x509.Extension),u$2.asn1.x509.BasicConstraints=function(va){u$2.asn1.x509.BasicConstraints.superclass.constructor.call(this,va);var _a=u$2.asn1,eo=_a.DERBoolean,to=_a.DERInteger,ro=_a.DERSequence;this.getExtnValueHex=function(){var no=new Array;this.cA&&no.push(new eo),this.pathLen>-1&&no.push(new to({int:this.pathLen}));var io=new ro({array:no});return this.asn1ExtnValue=io,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,va!==void 0&&(va.cA!==void 0&&(this.cA=va.cA),va.pathLen!==void 0&&(this.pathLen=va.pathLen))},ge(u$2.asn1.x509.BasicConstraints,u$2.asn1.x509.Extension),u$2.asn1.x509.CRLDistributionPoints=function(va){u$2.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,va);var _a=u$2.asn1,eo=_a.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(to){for(var ro=[],no=0;no<to.length;no++)if(to[no]instanceof u$2.asn1.ASN1Object)ro.push(to[no]);else{var io=new eo.DistributionPoint(to[no]);ro.push(io)}this.asn1ExtnValue=new _a.DERSequence({array:ro})},this.setByOneURI=function(to){var ro=new eo.DistributionPoint({fulluri:to});this.setByDPArray([ro])},this.oid="2.5.29.31",va!==void 0&&(va.array!==void 0?this.setByDPArray(va.array):va.uri!==void 0&&this.setByOneURI(va.uri))},ge(u$2.asn1.x509.CRLDistributionPoints,u$2.asn1.x509.Extension),u$2.asn1.x509.DistributionPoint=function(va){u$2.asn1.x509.DistributionPoint.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.x509.DistributionPointName;this.getEncodedHex=function(){var to=new _a.DERSequence;if(this.asn1DP!=null){var ro=new _a.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});to.appendASN1Object(ro)}return this.hTLV=to.getEncodedHex(),this.hTLV},va!==void 0&&(va.dpobj!==void 0?this.asn1DP=va.dpobj:va.dpname!==void 0?this.asn1DP=new eo(va.dpname):va.fulluri!==void 0&&(this.asn1DP=new eo({full:[{uri:va.fulluri}]})))},ge(u$2.asn1.x509.DistributionPoint,u$2.asn1.ASN1Object),u$2.asn1.x509.DistributionPointName=function(va){u$2.asn1.x509.DistributionPointName.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.DERTaggedObject;if(this.getEncodedHex=function(){if(this.type!="full")throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new eo({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},va!==void 0)if(_a.x509.GeneralNames.prototype.isPrototypeOf(va))this.type="full",this.tag="a0",this.asn1V=va;else{if(va.full===void 0)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new _a.x509.GeneralNames(va.full)}},ge(u$2.asn1.x509.DistributionPointName,u$2.asn1.ASN1Object),u$2.asn1.x509.CertificatePolicies=function(va){u$2.asn1.x509.CertificatePolicies.superclass.constructor.call(this,va);var _a=u$2.asn1,eo=_a.x509,to=_a.DERSequence,ro=eo.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var no=[],io=0;io<this.params.array.length;io++)no.push(new ro(this.params.array[io]));var ao=new to({array:no});return this.asn1ExtnValue=ao,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",va!==void 0&&(this.params=va)},ge(u$2.asn1.x509.CertificatePolicies,u$2.asn1.x509.Extension),u$2.asn1.x509.PolicyInformation=function(va){u$2.asn1.x509.PolicyInformation.superclass.constructor.call(this,va);var _a=u$2.asn1,eo=_a.DERSequence,to=_a.DERObjectIdentifier,ro=_a.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(this.params.policyoid===void 0&&this.params.array===void 0)throw new Error("parameter oid and array missing");var no=[new to(this.params.policyoid)];if(this.params.array!==void 0){for(var io=[],ao=0;ao<this.params.array.length;ao++)io.push(new ro(this.params.array[ao]));io.length>0&&no.push(new eo({array:io}))}return new eo({array:no}).getEncodedHex()},va!==void 0&&(this.params=va)},ge(u$2.asn1.x509.PolicyInformation,u$2.asn1.ASN1Object),u$2.asn1.x509.PolicyQualifierInfo=function(va){u$2.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,va);var _a=u$2.asn1,eo=_a.DERSequence,to=_a.DERIA5String,ro=_a.DERObjectIdentifier,no=_a.x509.UserNotice;this.params=null,this.getEncodedHex=function(){return this.params.cps!==void 0?new eo({array:[new ro({oid:"1.3.6.1.5.5.7.2.1"}),new to({str:this.params.cps})]}).getEncodedHex():this.params.unotice!=null?new eo({array:[new ro({oid:"1.3.6.1.5.5.7.2.2"}),new no(this.params.unotice)]}).getEncodedHex():void 0},va!==void 0&&(this.params=va)},ge(u$2.asn1.x509.PolicyQualifierInfo,u$2.asn1.ASN1Object),u$2.asn1.x509.UserNotice=function(va){u$2.asn1.x509.UserNotice.superclass.constructor.call(this,va);var _a=u$2.asn1.DERSequence;u$2.asn1.DERInteger;var eo=u$2.asn1.x509.DisplayText,to=u$2.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var ro=[];return this.params.noticeref!==void 0&&ro.push(new to(this.params.noticeref)),this.params.exptext!==void 0&&ro.push(new eo(this.params.exptext)),new _a({array:ro}).getEncodedHex()},va!==void 0&&(this.params=va)},ge(u$2.asn1.x509.UserNotice,u$2.asn1.ASN1Object),u$2.asn1.x509.NoticeReference=function(va){u$2.asn1.x509.NoticeReference.superclass.constructor.call(this,va);var _a=u$2.asn1.DERSequence,eo=u$2.asn1.DERInteger,to=u$2.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var ro=[];if(this.params.org!==void 0&&ro.push(new to(this.params.org)),this.params.noticenum!==void 0){for(var no=[],io=this.params.noticenum,ao=0;ao<io.length;ao++)no.push(new eo(io[ao]));ro.push(new _a({array:no}))}if(ro.length==0)throw new Error("parameter is empty");return new _a({array:ro}).getEncodedHex()},va!==void 0&&(this.params=va)},ge(u$2.asn1.x509.NoticeReference,u$2.asn1.ASN1Object),u$2.asn1.x509.DisplayText=function(va){u$2.asn1.x509.DisplayText.superclass.constructor.call(this,va),this.hT="0c",va!==void 0&&(va.type==="ia5"?this.hT="16":va.type==="vis"?this.hT="1a":va.type==="bmp"&&(this.hT="1e"))},ge(u$2.asn1.x509.DisplayText,u$2.asn1.DERAbstractString),u$2.asn1.x509.ExtKeyUsage=function(va){u$2.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,va);var _a=u$2.asn1;this.setPurposeArray=function(eo){this.asn1ExtnValue=new _a.DERSequence;for(var to=0;to<eo.length;to++){var ro=new _a.DERObjectIdentifier(eo[to]);this.asn1ExtnValue.appendASN1Object(ro)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",va!==void 0&&va.array!==void 0&&this.setPurposeArray(va.array)},ge(u$2.asn1.x509.ExtKeyUsage,u$2.asn1.x509.Extension),u$2.asn1.x509.AuthorityKeyIdentifier=function(va){u$2.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,va);var _a=u$2,eo=_a.asn1,to=eo.DERTaggedObject,ro=eo.x509.GeneralNames;_a.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var no=new Array;this.asn1KID&&no.push(new to({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&no.push(new to({explicit:!1,tag:"a1",obj:new ro([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&no.push(new to({explicit:!1,tag:"82",obj:this.asn1CertSN}));var io=new eo.DERSequence({array:no});return this.asn1ExtnValue=io,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(no){if(no.str!==void 0||no.hex!==void 0)this.asn1KID=new u$2.asn1.DEROctetString(no);else if(typeof no=="object"&&u$2.crypto.Util.isKey(no)||typeof no=="string"&&no.indexOf("BEGIN ")!=-1){var io=no;typeof no=="string"&&(io=Ee.getKey(no));var ao=Ee.getKeyID(io);this.asn1KID=new u$2.asn1.DEROctetString({hex:ao})}},this.setCertIssuerByParam=function(no){no.str!==void 0||no.ldapstr!==void 0||no.hex!==void 0||no.certsubject!==void 0||no.certissuer!==void 0?this.asn1CertIssuer=new u$2.asn1.x509.X500Name(no):typeof no=="string"&&no.indexOf("BEGIN ")!=-1&&no.indexOf("CERTIFICATE")!=-1&&(this.asn1CertIssuer=new u$2.asn1.x509.X500Name({certissuer:no}))},this.setCertSNByParam=function(no){if(no.str!==void 0||no.bigint!==void 0||no.hex!==void 0)this.asn1CertSN=new u$2.asn1.DERInteger(no);else if(typeof no=="string"&&no.indexOf("BEGIN ")!=-1&&no.indexOf("CERTIFICATE")){var io=new je;io.readCertPEM(no);var ao=io.getSerialNumberHex();this.asn1CertSN=new u$2.asn1.DERInteger({hex:ao})}},this.oid="2.5.29.35",va!==void 0&&(va.kid!==void 0&&this.setKIDByParam(va.kid),va.issuer!==void 0&&this.setCertIssuerByParam(va.issuer),va.sn!==void 0&&this.setCertSNByParam(va.sn),va.issuersn!==void 0&&typeof va.issuersn=="string"&&va.issuersn.indexOf("BEGIN ")!=-1&&va.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(va.issuersn),this.setCertIssuerByParam(va.issuersn)))},ge(u$2.asn1.x509.AuthorityKeyIdentifier,u$2.asn1.x509.Extension),u$2.asn1.x509.SubjectKeyIdentifier=function(va){u$2.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,va);var _a=u$2.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(eo){if(eo.str!==void 0||eo.hex!==void 0)this.asn1KID=new _a(eo);else if(typeof eo=="object"&&u$2.crypto.Util.isKey(eo)||typeof eo=="string"&&eo.indexOf("BEGIN")!=-1){var to=eo;typeof eo=="string"&&(to=Ee.getKey(eo));var ro=Ee.getKeyID(to);this.asn1KID=new u$2.asn1.DEROctetString({hex:ro})}},this.oid="2.5.29.14",va!==void 0&&va.kid!==void 0&&this.setKIDByParam(va.kid)},ge(u$2.asn1.x509.SubjectKeyIdentifier,u$2.asn1.x509.Extension),u$2.asn1.x509.AuthorityInfoAccess=function(va){u$2.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,va),this.setAccessDescriptionArray=function(_a){for(var eo=new Array,to=u$2.asn1,ro=to.DERSequence,no=to.DERObjectIdentifier,io=to.x509.GeneralName,ao=0;ao<_a.length;ao++){var oo,so=_a[ao];if(so.ocsp!==void 0)oo=new ro({array:[new no({oid:"1.3.6.1.5.5.7.48.1"}),new io({uri:so.ocsp})]});else{if(so.caissuer===void 0)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(so));oo=new ro({array:[new no({oid:"1.3.6.1.5.5.7.48.2"}),new io({uri:so.caissuer})]})}eo.push(oo)}this.asn1ExtnValue=new ro({array:eo})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",va!==void 0&&va.array!==void 0&&this.setAccessDescriptionArray(va.array)},ge(u$2.asn1.x509.AuthorityInfoAccess,u$2.asn1.x509.Extension),u$2.asn1.x509.SubjectAltName=function(va){u$2.asn1.x509.SubjectAltName.superclass.constructor.call(this,va),this.setNameArray=function(_a){this.asn1ExtnValue=new u$2.asn1.x509.GeneralNames(_a)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",va!==void 0&&va.array!==void 0&&this.setNameArray(va.array)},ge(u$2.asn1.x509.SubjectAltName,u$2.asn1.x509.Extension),u$2.asn1.x509.IssuerAltName=function(va){u$2.asn1.x509.IssuerAltName.superclass.constructor.call(this,va),this.setNameArray=function(_a){this.asn1ExtnValue=new u$2.asn1.x509.GeneralNames(_a)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",va!==void 0&&va.array!==void 0&&this.setNameArray(va.array)},ge(u$2.asn1.x509.IssuerAltName,u$2.asn1.x509.Extension),u$2.asn1.x509.SubjectDirectoryAttributes=function(va){u$2.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,va);var _a=u$2.asn1,eo=_a.DERSequence,to=_a.ASN1Util.newObject,ro=_a.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var no=[],io=0;io<this.params.array.length;io++){var ao=this.params.array[io],oo={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if(ao.attr=="dateOfBirth")oo.seq[0].oid=ro(ao.attr),oo.seq[1].set[0]={gentime:ao.str};else if(ao.attr=="placeOfBirth")oo.seq[0].oid=ro(ao.attr),oo.seq[1].set[0]={utf8str:ao.str};else if(ao.attr=="gender")oo.seq[0].oid=ro(ao.attr),oo.seq[1].set[0]={prnstr:ao.str};else if(ao.attr=="countryOfCitizenship")oo.seq[0].oid=ro(ao.attr),oo.seq[1].set[0]={prnstr:ao.str};else{if(ao.attr!="countryOfResidence")throw new Error("unsupported attribute: "+ao.attr);oo.seq[0].oid=ro(ao.attr),oo.seq[1].set[0]={prnstr:ao.str}}no.push(new to(oo))}var so=new eo({array:no});return this.asn1ExtnValue=so,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.9",va!==void 0&&(this.params=va)},ge(u$2.asn1.x509.SubjectDirectoryAttributes,u$2.asn1.x509.Extension),u$2.asn1.x509.PrivateExtension=function(va){u$2.asn1.x509.PrivateExtension.superclass.constructor.call(this,va);var _a=u$2,eo=_a.lang.String.isHex,to=_a.asn1,ro=to.x509.OID.name2oid,no=to.ASN1Util.newObject;this.params=null,this.setByParam=function(io){this.oid=ro(io.extname),this.params=io},this.getExtnValueHex=function(){if(this.params.extname==null||this.params.extn==null)throw new Error("extname or extnhex not specified");var io=this.params.extn;if(typeof io=="string"&&eo(io))return io;if(typeof io=="object")try{return no(io).getEncodedHex()}catch{}throw new Error("unsupported extn value")},va!=null&&this.setByParam(va)},ge(u$2.asn1.x509.PrivateExtension,u$2.asn1.x509.Extension),u$2.asn1.x509.CRL=function(va){u$2.asn1.x509.CRL.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.DERSequence,to=_a.DERBitString,ro=_a.x509,no=ro.AlgorithmIdentifier,io=ro.TBSCertList;this.params=void 0,this.setByParam=function(ao){this.params=ao},this.sign=function(){var ao=new io(this.params).getEncodedHex(),oo=new u$2.crypto.Signature({alg:this.params.sigalg});oo.init(this.params.cakey),oo.updateHex(ao);var so=oo.sign();this.params.sighex=so},this.getPEM=function(){return ae(this.getEncodedHex(),"X509 CRL")},this.getEncodedHex=function(){var ao=this.params;if(ao.tbsobj==null&&(ao.tbsobj=new io(ao)),ao.sighex==null&&ao.cakey!=null&&this.sign(),ao.sighex==null)throw new Error("sighex or cakey parameter not defined");var oo=[];return oo.push(ao.tbsobj),oo.push(new no({name:ao.sigalg})),oo.push(new to({hex:"00"+ao.sighex})),new eo({array:oo}).getEncodedHex()},va!=null&&(this.params=va)},ge(u$2.asn1.x509.CRL,u$2.asn1.ASN1Object),u$2.asn1.x509.TBSCertList=function(va){u$2.asn1.x509.TBSCertList.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.DERInteger,to=_a.DERSequence,ro=_a.DERTaggedObject;_a.DERObjectIdentifier;var no=_a.x509,io=no.AlgorithmIdentifier,ao=no.Time,oo=no.Extensions,so=no.X500Name;this.params=null,this.setByParam=function(uo){this.params=uo},this.getRevCertSequence=function(){for(var uo=[],co=this.params.revcert,fo=0;fo<co.length;fo++){var po=[new eo(co[fo].sn),new ao(co[fo].date)];co[fo].ext!=null&&po.push(new oo(co[fo].ext)),uo.push(new to({array:po}))}return new to({array:uo})},this.getEncodedHex=function(){var uo=[],co=this.params;if(co.version!=null){var fo=co.version-1,po=new eo({int:fo});uo.push(po)}if(uo.push(new io({name:co.sigalg})),uo.push(new so(co.issuer)),uo.push(new ao(co.thisupdate)),co.nextupdate!=null&&uo.push(new ao(co.nextupdate)),co.revcert!=null&&uo.push(this.getRevCertSequence()),co.ext!=null){var vo=new oo(co.ext);uo.push(new ro({tag:"a0",explicit:!0,obj:vo}))}return new to({array:uo}).getEncodedHex()},va!==void 0&&this.setByParam(va)},ge(u$2.asn1.x509.TBSCertList,u$2.asn1.ASN1Object),u$2.asn1.x509.CRLEntry=function(va){u$2.asn1.x509.CRLEntry.superclass.constructor.call(this);var _a=u$2.asn1;this.setCertSerial=function(eo){this.sn=new _a.DERInteger(eo)},this.setRevocationDate=function(eo){this.time=new _a.x509.Time(eo)},this.getEncodedHex=function(){var eo=new _a.DERSequence({array:[this.sn,this.time]});return this.TLV=eo.getEncodedHex(),this.TLV},va!==void 0&&(va.time!==void 0&&this.setRevocationDate(va.time),va.sn!==void 0&&this.setCertSerial(va.sn))},ge(u$2.asn1.x509.CRLEntry,u$2.asn1.ASN1Object),u$2.asn1.x509.CRLNumber=function(va){u$2.asn1.x509.CRLNumber.superclass.constructor.call(this,va),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new u$2.asn1.DERInteger(this.params.num),this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.20",va!=null&&(this.params=va)},ge(u$2.asn1.x509.CRLNumber,u$2.asn1.x509.Extension),u$2.asn1.x509.CRLReason=function(va){u$2.asn1.x509.CRLReason.superclass.constructor.call(this,va),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new u$2.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.21",va!=null&&(this.params=va)},ge(u$2.asn1.x509.CRLReason,u$2.asn1.x509.Extension),u$2.asn1.x509.OCSPNonce=function(va){u$2.asn1.x509.OCSPNonce.superclass.constructor.call(this,va),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new u$2.asn1.DEROctetString(this.params),this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.48.1.2",va!=null&&(this.params=va)},ge(u$2.asn1.x509.OCSPNonce,u$2.asn1.x509.Extension),u$2.asn1.x509.OCSPNoCheck=function(va){u$2.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,va),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new u$2.asn1.DERNull,this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.48.1.5",va!=null&&(this.params=va)},ge(u$2.asn1.x509.OCSPNoCheck,u$2.asn1.x509.Extension),u$2.asn1.x509.AdobeTimeStamp=function(va){u$2.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,va);var _a=u$2.asn1,eo=_a.DERInteger,to=_a.DERBoolean,ro=_a.DERSequence,no=_a.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var io=this.params,ao=[new eo(1)];return ao.push(new no({uri:io.uri})),io.reqauth!=null&&ao.push(new to(io.reqauth)),this.asn1ExtnValue=new ro({array:ao}),this.asn1ExtnValue.getEncodedHex()},this.oid="1.2.840.113583.1.1.9.1",va!==void 0&&this.setByParam(va)},ge(u$2.asn1.x509.AdobeTimeStamp,u$2.asn1.x509.Extension),u$2.asn1.x509.X500Name=function(va){u$2.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var _a=u$2.asn1,eo=_a.x509,to=eo.RDN;this.setByString=function(ro,no){no!==void 0&&(this.sRule=no);var io=ro.split("/");io.shift();for(var ao=[],oo=0;oo<io.length;oo++)if(io[oo].match(/^[^=]+=.+$/))ao.push(io[oo]);else{var so=ao.length-1;ao[so]=ao[so]+"/"+io[oo]}for(oo=0;oo<ao.length;oo++)this.asn1Array.push(new to({str:ao[oo],rule:this.sRule}))},this.setByLdapString=function(ro,no){no!==void 0&&(this.sRule=no);var io=eo.X500Name.ldapToCompat(ro);this.setByString(io,no)},this.setByObject=function(ro,no){for(var io in no!==void 0&&(this.sRule=no),ro)if(ro.hasOwnProperty(io)){var ao=new to({str:io+"="+ro[io],rule:this.sRule});this.asn1Array?this.asn1Array.push(ao):this.asn1Array=[ao]}},this.setByParam=function(ro){var no;ro.rule!==void 0&&(this.sRule=ro.rule),ro.array!==void 0?this.paramArray=ro.array:ro.str!==void 0?this.setByString(ro.str):ro.ldapstr!==void 0?this.setByLdapString(ro.ldapstr):ro.hex!==void 0?this.hTLV=ro.hex:ro.certissuer!==void 0?((no=new je).readCertPEM(ro.certissuer),this.hTLV=no.getIssuerHex()):ro.certsubject!==void 0?((no=new je).readCertPEM(ro.certsubject),this.hTLV=no.getSubjectHex()):typeof ro=="object"&&ro.certsubject===void 0&&ro.certissuer===void 0&&this.setByObject(ro)},this.getEncodedHex=function(){if(typeof this.hTLV=="string")return this.hTLV;if(this.asn1Array.length==0&&this.paramArray.length>0)for(var ro=0;ro<this.paramArray.length;ro++){var no={array:this.paramArray[ro]};this.sRule!="utf8"&&(no.rule=this.sRule);var io=new to(no);this.asn1Array.push(io)}var ao=new _a.DERSequence({array:this.asn1Array});return this.hTLV=ao.getEncodedHex(),this.hTLV},va!==void 0&&this.setByParam(va)},ge(u$2.asn1.x509.X500Name,u$2.asn1.ASN1Object),u$2.asn1.x509.X500Name.compatToLDAP=function(va){if(va.substr(0,1)!=="/")throw"malformed input";var _a=(va=va.substr(1)).split("/");return _a.reverse(),(_a=_a.map(function(eo){return eo.replace(/,/,"\\,")})).join(",")},u$2.asn1.x509.X500Name.onelineToLDAP=function(va){return u$2.asn1.x509.X500Name.compatToLDAP(va)},u$2.asn1.x509.X500Name.ldapToCompat=function(va){for(var _a=va.split(","),eo=!1,to=[],ro=0;_a.length>0;ro++){var no=_a.shift();if(eo===!0){var io=(to.pop()+","+no).replace(/\\,/g,",");to.push(io),eo=!1}else to.push(no);no.substr(-1,1)==="\\"&&(eo=!0)}return(to=to.map(function(ao){return ao.replace("/","\\/")})).reverse(),"/"+to.join("/")},u$2.asn1.x509.X500Name.ldapToOneline=function(va){return u$2.asn1.x509.X500Name.ldapToCompat(va)},u$2.asn1.x509.RDN=function(va){u$2.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var _a=u$2.asn1.x509.AttributeTypeAndValue;this.setByParam=function(eo){eo.rule!==void 0&&(this.sRule=eo.rule),eo.str!==void 0&&this.addByMultiValuedString(eo.str),eo.array!==void 0&&(this.paramArray=eo.array)},this.addByString=function(eo){this.asn1Array.push(new u$2.asn1.x509.AttributeTypeAndValue({str:eo,rule:this.sRule}))},this.addByMultiValuedString=function(eo){for(var to=u$2.asn1.x509.RDN.parseString(eo),ro=0;ro<to.length;ro++)this.addByString(to[ro])},this.getEncodedHex=function(){if(this.asn1Array.length==0&&this.paramArray.length>0)for(var eo=0;eo<this.paramArray.length;eo++){var to=this.paramArray[eo];to.rule!==void 0&&this.sRule!="utf8"&&(to.rule=this.sRule);var ro=new _a(to);this.asn1Array.push(ro)}var no=new u$2.asn1.DERSet({array:this.asn1Array});return this.TLV=no.getEncodedHex(),this.TLV},va!==void 0&&this.setByParam(va)},ge(u$2.asn1.x509.RDN,u$2.asn1.ASN1Object),u$2.asn1.x509.RDN.parseString=function(va){for(var _a=va.split(/\+/),eo=!1,to=[],ro=0;_a.length>0;ro++){var no=_a.shift();if(eo===!0){var io=(to.pop()+"+"+no).replace(/\\\+/g,"+");to.push(io),eo=!1}else to.push(no);no.substr(-1,1)==="\\"&&(eo=!0)}var ao=!1,oo=[];for(ro=0;to.length>0;ro++){if(no=to.shift(),ao===!0){var so=oo.pop();no.match(/"$/)?(io=(so+"+"+no).replace(/^([^=]+)="(.*)"$/,"$1=$2"),oo.push(io),ao=!1):oo.push(so+"+"+no)}else oo.push(no);no.match(/^[^=]+="/)&&(ao=!0)}return oo},u$2.asn1.x509.AttributeTypeAndValue=function(va){u$2.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var _a=u$2,eo=_a.asn1,to=eo.DERSequence,ro=eo.DERUTF8String,no=eo.DERPrintableString,io=eo.DERTeletexString,ao=eo.DERIA5String,oo=eo.DERVisibleString,so=eo.DERBMPString,uo=_a.lang.String.isMail,co=_a.lang.String.isPrintable;this.setByParam=function(fo){if(fo.rule!==void 0&&(this.sRule=fo.rule),fo.ds!==void 0&&(this.dsType=fo.ds),fo.value===void 0&&fo.str!==void 0){var po=fo.str.match(/^([^=]+)=(.+)$/);if(!po)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=po[1],this.sValue=po[2]}else this.sType=fo.type,this.sValue=fo.value},this.setByString=function(fo,po){po!==void 0&&(this.sRule=po);var vo=fo.match(/^([^=]+)=(.+)$/);if(!vo)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(vo[1],vo[2])},this._getDsType=function(){var fo=this.sType,po=this.sValue,vo=this.sRule;return vo==="prn"?fo=="CN"&&uo(po)?"ia5":co(po)?"prn":"utf8":vo==="utf8"?fo=="CN"&&uo(po)?"ia5":fo=="C"?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(fo,po,vo){vo!==void 0&&(this.sRule=vo),this.sType=fo,this.sValue=po},this.getValueObj=function(fo,po){if(fo=="utf8")return new ro({str:po});if(fo=="prn")return new no({str:po});if(fo=="tel")return new io({str:po});if(fo=="ia5")return new ao({str:po});if(fo=="vis")return new oo({str:po});if(fo=="bmp")return new so({str:po});throw new Error("unsupported directory string type: type="+fo+" value="+po)},this.getEncodedHex=function(){this.dsType==null&&(this.dsType=this._getDsType());var fo=u$2.asn1.x509.OID.atype2obj(this.sType),po=this.getValueObj(this.dsType,this.sValue),vo=new to({array:[fo,po]});return this.TLV=vo.getEncodedHex(),this.TLV},va!==void 0&&this.setByParam(va)},ge(u$2.asn1.x509.AttributeTypeAndValue,u$2.asn1.ASN1Object),u$2.asn1.x509.SubjectPublicKeyInfo=function(va){u$2.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var _a=u$2,eo=_a.asn1,to=eo.DERInteger,ro=eo.DERBitString,no=eo.DERObjectIdentifier,io=eo.DERSequence,ao=eo.ASN1Util.newObject,oo=eo.x509.AlgorithmIdentifier,so=_a.crypto;so.ECDSA,so.DSA,this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null)throw"algId and/or subjPubKey not set";return new io({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var uo=this.getASN1Object();return this.hTLV=uo.getEncodedHex(),this.hTLV},this.setPubKey=function(uo){try{if(uo instanceof W$2){var co=ao({seq:[{int:{bigint:uo.n}},{int:{int:uo.e}}]}).getEncodedHex();this.asn1AlgId=new oo({name:"rsaEncryption"}),this.asn1SubjPKey=new ro({hex:"00"+co})}}catch{}try{if(uo instanceof u$2.crypto.ECDSA){var fo=new no({name:uo.curveName});this.asn1AlgId=new oo({name:"ecPublicKey",asn1params:fo}),this.asn1SubjPKey=new ro({hex:"00"+uo.pubKeyHex})}}catch{}try{if(uo instanceof u$2.crypto.DSA){fo=new ao({seq:[{int:{bigint:uo.p}},{int:{bigint:uo.q}},{int:{bigint:uo.g}}]}),this.asn1AlgId=new oo({name:"dsa",asn1params:fo});var po=new to({bigint:uo.y});this.asn1SubjPKey=new ro({hex:"00"+po.getEncodedHex()})}}catch{}},va!==void 0&&this.setPubKey(va)},ge(u$2.asn1.x509.SubjectPublicKeyInfo,u$2.asn1.ASN1Object),u$2.asn1.x509.Time=function(va){u$2.asn1.x509.Time.superclass.constructor.call(this);var _a=u$2.asn1,eo=_a.DERUTCTime,to=_a.DERGeneralizedTime;this.setTimeParams=function(ro){this.timeParams=ro},this.getEncodedHex=function(){var ro=null;return ro=this.timeParams!=null?this.type=="utc"?new eo(this.timeParams):new to(this.timeParams):this.type=="utc"?new eo:new to,this.TLV=ro.getEncodedHex(),this.TLV},this.type="utc",va!==void 0&&(va.type!==void 0?this.type=va.type:va.str!==void 0&&(va.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),va.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=va)},ge(u$2.asn1.x509.Time,u$2.asn1.ASN1Object),u$2.asn1.x509.AlgorithmIdentifier=function(va){u$2.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var _a=u$2.asn1,eo=_a.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(this.nameAlg===null&&this.asn1Alg===null)throw new Error("algorithm not specified");if(this.nameAlg!==null){var ro=null;for(var no in eo)no===this.nameAlg&&(ro=eo[no]);if(ro!==null)return this.hTLV=ro,this.hTLV}this.nameAlg!==null&&this.asn1Alg===null&&(this.asn1Alg=_a.x509.OID.name2obj(this.nameAlg));var io=[this.asn1Alg];this.asn1Params!==null&&io.push(this.asn1Params);var ao=new _a.DERSequence({array:io});return this.hTLV=ao.getEncodedHex(),this.hTLV},va!==void 0&&(va.name!==void 0&&(this.nameAlg=va.name),va.asn1params!==void 0&&(this.asn1Params=va.asn1params),va.paramempty!==void 0&&(this.paramEmpty=va.paramempty)),this.asn1Params===null&&this.paramEmpty===!1&&this.nameAlg!==null){this.nameAlg.name!==void 0&&(this.nameAlg=this.nameAlg.name);var to=this.nameAlg.toLowerCase();to.substr(-7,7)!=="withdsa"&&to.substr(-9,9)!=="withecdsa"&&(this.asn1Params=new _a.DERNull)}},ge(u$2.asn1.x509.AlgorithmIdentifier,u$2.asn1.ASN1Object),u$2.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},u$2.asn1.x509.GeneralName=function(va){u$2.asn1.x509.GeneralName.superclass.constructor.call(this);var _a={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},eo=u$2.asn1;eo.DERSequence;var to=eo.DEROctetString,ro=eo.DERIA5String,no=eo.DERTaggedObject,io=eo.ASN1Object,ao=eo.x509.X500Name,oo=ue;this.explicit=!1,this.setByParam=function(so){var uo=null;if(so!==void 0){if(so.rfc822!==void 0&&(this.type="rfc822",uo=new ro({str:so[this.type]})),so.dns!==void 0&&(this.type="dns",uo=new ro({str:so[this.type]})),so.uri!==void 0&&(this.type="uri",uo=new ro({str:so[this.type]})),so.dn!==void 0&&(this.type="dn",this.explicit=!0,uo=typeof so.dn=="string"?new ao({str:so.dn}):so.dn instanceof u$2.asn1.x509.X500Name?so.dn:new ao(so.dn)),so.ldapdn!==void 0&&(this.type="dn",this.explicit=!0,uo=new ao({ldapstr:so.ldapdn})),so.certissuer!==void 0){this.type="dn",this.explicit=!0;var co=null;if((po=so.certissuer).match(/^[0-9A-Fa-f]+$/),po.indexOf("-----BEGIN ")!=-1&&(co=oo(po)),co==null)throw"certissuer param not cert";(vo=new je).hex=co;var fo=vo.getIssuerHex();(uo=new io).hTLV=fo}if(so.certsubj!==void 0){this.type="dn",this.explicit=!0;var po,vo;if(co=null,(po=so.certsubj).match(/^[0-9A-Fa-f]+$/),po.indexOf("-----BEGIN ")!=-1&&(co=oo(po)),co==null)throw"certsubj param not cert";(vo=new je).hex=co,fo=vo.getSubjectHex(),(uo=new io).hTLV=fo}if(so.ip!==void 0){this.type="ip",this.explicit=!1;var go,mo=so.ip,lo="malformed IP address";if(mo.match(/^[0-9.]+[.][0-9.]+$/)){if((go=function(ho){ho=(ho=(ho=ho.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return ho.split(/,/).map(function(yo,Ao,Eo){var To=parseInt(yo);if(To<0||255<To)throw"integer not in range 0-255";return("00"+To.toString(16)).slice(-2)}).join("")}catch(yo){throw"malformed integer array string: "+yo}}("["+mo.split(".").join(",")+"]")).length!==8)throw lo}else if(mo.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))go=function(ho){var yo="malformed IPv6 address";if(!ho.match(/^[0-9A-Fa-f:]+$/))throw yo;var Ao=(ho=ho.toLowerCase()).split(":").length-1;if(Ao<2)throw yo;var Eo=":".repeat(7-Ao+2),To=(ho=ho.replace("::",Eo)).split(":");if(To.length!=8)throw yo;for(var No=0;No<8;No++)To[No]=("0000"+To[No]).slice(-4);return To.join("")}(mo);else{if(!mo.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw lo;go=mo}uo=new to({hex:go})}if(this.type==null)throw"unsupported type in params="+so;this.asn1Obj=new no({explicit:this.explicit,tag:_a[this.type],obj:uo})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},va!==void 0&&this.setByParam(va)},ge(u$2.asn1.x509.GeneralName,u$2.asn1.ASN1Object),u$2.asn1.x509.GeneralNames=function(va){u$2.asn1.x509.GeneralNames.superclass.constructor.call(this);var _a=u$2.asn1;this.setByParamArray=function(eo){for(var to=0;to<eo.length;to++){var ro=new _a.x509.GeneralName(eo[to]);this.asn1Array.push(ro)}},this.getEncodedHex=function(){return new _a.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,va!==void 0&&this.setByParamArray(va)},ge(u$2.asn1.x509.GeneralNames,u$2.asn1.ASN1Object),u$2.asn1.x509.OID=new function(va){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.objCache={},this.name2obj=function(_a){if(this.objCache[_a]!==void 0)return this.objCache[_a];if(this.name2oidList[_a]===void 0)throw"Name of ObjectIdentifier not defined: "+_a;var eo=this.name2oidList[_a],to=new u$2.asn1.DERObjectIdentifier({oid:eo});return this.objCache[_a]=to,to},this.atype2obj=function(_a){if(this.objCache[_a]!==void 0)return this.objCache[_a];var eo;if(_a.match(/^\d+\.\d+\.[0-9.]+$/))eo=_a;else if(this.atype2oidList[_a]!==void 0)eo=this.atype2oidList[_a];else{if(this.name2oidList[_a]===void 0)throw"AttributeType name undefined: "+_a;eo=this.name2oidList[_a]}var to=new u$2.asn1.DERObjectIdentifier({oid:eo});return this.objCache[_a]=to,to}},u$2.asn1.x509.OID.oid2name=function(va){var _a=u$2.asn1.x509.OID.name2oidList;for(var eo in _a)if(_a[eo]==va)return eo;return""},u$2.asn1.x509.OID.oid2atype=function(va){var _a=u$2.asn1.x509.OID.atype2oidList;for(var eo in _a)if(_a[eo]==va)return eo;return va},u$2.asn1.x509.OID.name2oid=function(va){if(va.match(/^[0-9.]+$/))return va;var _a=u$2.asn1.x509.OID.name2oidList;return _a[va]===void 0?"":_a[va]},u$2.asn1.x509.X509Util={},u$2.asn1.x509.X509Util.newCertPEM=function(va){var _a=u$2.asn1.x509;return _a.TBSCertificate,new _a.Certificate(va).getPEM()},W$2.getPosArrayOfChildrenFromHex=function(va){return we.getChildIdx(va,0)},W$2.getHexValueArrayOfChildrenFromHex=function(va){var _a,eo=we.getV,to=eo(va,(_a=W$2.getPosArrayOfChildrenFromHex(va))[0]),ro=eo(va,_a[1]),no=eo(va,_a[2]),io=eo(va,_a[3]),ao=eo(va,_a[4]),oo=eo(va,_a[5]),so=eo(va,_a[6]),uo=eo(va,_a[7]),co=eo(va,_a[8]);return(_a=new Array).push(to,ro,no,io,ao,oo,so,uo,co),_a},W$2.prototype.readPrivateKeyFromPEMString=function(va){var _a=ue(va),eo=W$2.getHexValueArrayOfChildrenFromHex(_a);this.setPrivateEx(eo[1],eo[2],eo[3],eo[4],eo[5],eo[6],eo[7],eo[8])},W$2.prototype.readPKCS5PrvKeyHex=function(va){var _a=W$2.getHexValueArrayOfChildrenFromHex(va);this.setPrivateEx(_a[1],_a[2],_a[3],_a[4],_a[5],_a[6],_a[7],_a[8])},W$2.prototype.readPKCS8PrvKeyHex=function(va){var _a,eo,to,ro,no,io,ao,oo,so=we,uo=so.getVbyListEx;if(so.isASN1HEX(va)===!1)throw new Error("not ASN.1 hex string");try{_a=uo(va,0,[2,0,1],"02"),eo=uo(va,0,[2,0,2],"02"),to=uo(va,0,[2,0,3],"02"),ro=uo(va,0,[2,0,4],"02"),no=uo(va,0,[2,0,5],"02"),io=uo(va,0,[2,0,6],"02"),ao=uo(va,0,[2,0,7],"02"),oo=uo(va,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(_a,eo,to,ro,no,io,ao,oo)},W$2.prototype.readPKCS5PubKeyHex=function(va){var _a=we,eo=_a.getV;if(_a.isASN1HEX(va)===!1)throw new Error("keyHex is not ASN.1 hex string");var to=_a.getChildIdx(va,0);if(to.length!==2||va.substr(to[0],2)!=="02"||va.substr(to[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var ro=eo(va,to[0]),no=eo(va,to[1]);this.setPublic(ro,no)},W$2.prototype.readPKCS8PubKeyHex=function(va){var _a=we;if(_a.isASN1HEX(va)===!1)throw new Error("not ASN.1 hex string");if(_a.getTLVbyListEx(va,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var eo=_a.getTLVbyListEx(va,0,[1,0]);this.readPKCS5PubKeyHex(eo)},W$2.prototype.readCertPubKeyHex=function(va,_a){var eo,to;(eo=new je).readCertHex(va),to=eo.getPublicKeyHex(),this.readPKCS8PubKeyHex(to)},W$2.prototype.sign=function(va,_a){var eo,to=(eo=va,u$2.crypto.Util.hashString(eo,_a));return this.signWithMessageHash(to,_a)},W$2.prototype.signWithMessageHash=function(va,_a){var eo=K$1(u$2.crypto.Util.getPaddedDigestInfoHex(va,_a,this.n.bitLength()),16);return Ie(this.doPrivate(eo).toString(16),this.n.bitLength())},W$2.prototype.signPSS=function(va,_a,eo){var to,ro=(to=se(va),u$2.crypto.Util.hashHex(to,_a));return eo===void 0&&(eo=-1),this.signWithMessageHashPSS(ro,_a,eo)},W$2.prototype.signWithMessageHashPSS=function(va,_a,eo){var to,ro=re(va),no=ro.length,io=this.n.bitLength()-1,ao=Math.ceil(io/8),oo=function(mo){return u$2.crypto.Util.hashHex(mo,_a)};if(eo===-1||eo===void 0)eo=no;else if(eo===-2)eo=ao-no-2;else if(eo<-2)throw new Error("invalid salt length");if(ao<no+eo+2)throw new Error("data too long");var so="";eo>0&&(so=new Array(eo),new G$2().nextBytes(so),so=String.fromCharCode.apply(String,so));var uo=re(oo(se("\0\0\0\0\0\0\0\0"+ro+so))),co=[];for(to=0;to<ao-eo-no-2;to+=1)co[to]=0;var fo=String.fromCharCode.apply(String,co)+""+so,po=Te(uo,fo.length,oo),vo=[];for(to=0;to<fo.length;to+=1)vo[to]=fo.charCodeAt(to)^po.charCodeAt(to);var go=65280>>8*ao-io&255;for(vo[0]&=~go,to=0;to<no;to++)vo.push(uo.charCodeAt(to));return vo.push(188),Ie(this.doPrivate(new l$4(vo)).toString(16),this.n.bitLength())},W$2.prototype.verify=function(va,_a){if((_a=_a.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var eo=K$1(_a,16),to=this.n.bitLength();if(eo.bitLength()>to)return!1;var ro=this.doPublic(eo).toString(16);if(ro.length+3!=to/4)return!1;var no=xe(ro.replace(/^1f+00/,""));if(no.length==0)return!1;var io,ao=no[0];return no[1]==(io=va,u$2.crypto.Util.hashString(io,ao))},W$2.prototype.verifyWithMessageHash=function(va,_a){if(_a.length!=Math.ceil(this.n.bitLength()/4))return!1;var eo=K$1(_a,16);if(eo.bitLength()>this.n.bitLength())return 0;var to=xe(this.doPublic(eo).toString(16).replace(/^1f+00/,""));return to.length!=0&&(to[0],to[1]==va)},W$2.prototype.verifyPSS=function(va,_a,eo,to){var ro=function(no){return u$2.crypto.Util.hashHex(no,eo)}(se(va));return to===void 0&&(to=-1),this.verifyWithMessageHashPSS(ro,_a,eo,to)},W$2.prototype.verifyWithMessageHashPSS=function(va,_a,eo,to){if(_a.length!=Math.ceil(this.n.bitLength()/4))return!1;var ro,no=new l$4(_a,16),io=function(ho){return u$2.crypto.Util.hashHex(ho,eo)},ao=re(va),oo=ao.length,so=this.n.bitLength()-1,uo=Math.ceil(so/8);if(to===-1||to===void 0)to=oo;else if(to===-2)to=uo-oo-2;else if(to<-2)throw new Error("invalid salt length");if(uo<oo+to+2)throw new Error("data too long");var co=this.doPublic(no).toByteArray();for(ro=0;ro<co.length;ro+=1)co[ro]&=255;for(;co.length<uo;)co.unshift(0);if(co[uo-1]!==188)throw new Error("encoded message does not end in 0xbc");var fo=(co=String.fromCharCode.apply(String,co)).substr(0,uo-oo-1),po=co.substr(fo.length,oo),vo=65280>>8*uo-so&255;if((fo.charCodeAt(0)&vo)!=0)throw new Error("bits beyond keysize not zero");var go=Te(po,fo.length,io),mo=[];for(ro=0;ro<fo.length;ro+=1)mo[ro]=fo.charCodeAt(ro)^go.charCodeAt(ro);mo[0]&=~vo;var lo=uo-oo-to-2;for(ro=0;ro<lo;ro+=1)if(mo[ro]!==0)throw new Error("leftmost octets not zero");if(mo[lo]!==1)throw new Error("0x01 marker not found");return po===re(io(se("\0\0\0\0\0\0\0\0"+ao+String.fromCharCode.apply(String,mo.slice(-to)))))},W$2.SALT_LEN_HLEN=-1,W$2.SALT_LEN_MAX=-2,W$2.SALT_LEN_RECOVER=-2,je.hex2dn=function(va,_a){_a===void 0&&(_a=0);var eo=new je;return we.getTLV(va,_a),eo.getX500Name(va).str},je.hex2rdn=function(va,_a){if(_a===void 0&&(_a=0),va.substr(_a,2)!=="31")throw new Error("malformed RDN");for(var eo=new Array,to=we.getChildIdx(va,_a),ro=0;ro<to.length;ro++)eo.push(je.hex2attrTypeValue(va,to[ro]));return(eo=eo.map(function(no){return no.replace("+","\\+")})).join("+")},je.hex2attrTypeValue=function(va,_a){var eo=we,to=eo.getV;if(_a===void 0&&(_a=0),va.substr(_a,2)!=="30")throw new Error("malformed attribute type and value");var ro=eo.getChildIdx(va,_a);ro.length!==2||va.substr(ro[0],2);var no=to(va,ro[0]),io=u$2.asn1.ASN1Util.oidHexToInt(no);return u$2.asn1.x509.OID.oid2atype(io)+"="+re(to(va,ro[1]))},je.getPublicKeyFromCertHex=function(va){var _a=new je;return _a.readCertHex(va),_a.getPublicKey()},je.getPublicKeyFromCertPEM=function(va){var _a=new je;return _a.readCertPEM(va),_a.getPublicKey()},je.getPublicKeyInfoPropOfCertPEM=function(va){var _a,eo,to=we.getVbyList,ro={};return ro.algparam=null,(_a=new je).readCertPEM(va),eo=_a.getPublicKeyHex(),ro.keyhex=to(eo,0,[1],"03").substr(2),ro.algoid=to(eo,0,[0,0],"06"),ro.algoid==="2a8648ce3d0201"&&(ro.algparam=to(eo,0,[0,1],"06")),ro},je.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];var Ce,be=[(Ce=new je,Ce.readCertPEM(function(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];var eo=113,to=126,ro=0,no="";return arguments[ro].split(no).map(function(io){return io.charCodeAt(ro)>to?io:String.fromCharCode((io.charCodeAt(ro)+eo)%to)}).join(no)}(":::::ORTV[-PR_aVSVPNaR:::::ZVVS@	PPNErtNVONtVWNZR}@]nU\0ZaZN=TP`\0T`Vo@Q^ROPbNZVTSZ^P^fQc^^TRWQawR^ZNATN>bRPNU^zc}nzyg	R^ZNATN>bROU^zc}nzyg	R]ZN=TN>bRPtTn?bf?FZ_NQtfQc^^YQNq`gdSp?cyZ^P^fQc^^QQNWQ^aRvZPNTP`\0T`Vo@Q^RWN_fapzFqSFwfbOndSnzyuYz[oaNrS=\x07\\QN>Z	N\\Q^B[QqnS=\b\\QN>Zwp\\Q^B[QqnZVTSZ^P^fQc^^TRWQawR^ZNATN>bRPNU^zc}nzyg	R^ZNATN>bROU^zc}nzyg	R]ZN=TN>bRPtTn?bf?FZ_NQtfQc^^YQNq`gdSp?cyZ^P^fQc^^QQNWQ^aRvZPNTP`\0T`Vo@Q^RWN_fapzFqSFwfbOndSnzyuYz[oaPPNvVQ^fWX|gVup[N^ROO^NQttV]NQPPNt|PttVONZU|C\b\\@@e^Xv{[vTtd8`nyO@\x07ebN[bqx=ng?	S^w@|XAz|qUTwfzn]Bu<qs_ae\\y<}u`eRAoE`_\\s\0r|b{rp_o<oC@o=x\bw_cUUZPApQevD\\FxFo\x07FgE=<sq[p<coqyn>TEpP@aSC_YDU8\0|8TB?c>r\\=rp`pcwP}c\0PP_\\RS\\EPVSy8x`\0?R|NP	P>}A^VP}Ex\bU\x07Za=syDw}>Ya\x078wPp[pRnn\brU^dE8U?a\bcW|<FEbbupn^`ZNr	sof[wA}e{\\z}w[YDQ|dt=wC	Nv\x07bR\x07Z@@U|ZAYpFsabCBB\\`wrqxsYW8uFyWdaWezeUeA_8VoVupvY[TD[OYdpO\bC[wX\\O]=[QRpV\0d`\x07N\0RXt^Z}vEpdC=\bY?\x07=V}?^W\bad|qN@Ww>@PycaqANE]asPcE^OB_VA?>wzeftac	Z	guf\bF]\x07DCP?znNYf	uaYu[`\x07=b|v]Bp=RAS``\\PRDW]_`UXdUg=SuqwVFDeB	D8{B>\\sPY\x07bEU	FQXz\0@\x07`zsqgfD\0[WY\bPeZc}	\0bx?Rfed\x07}BUe\x07|Uo\0y?\bsSXZOSBCgbFqf\0Bs?b?d<VE\\Zzns\\d@?dPvf\\{}_\0Sd[<q_YB\x07Y`Ffg=sY>{t<fu]x\x07rFNtZONNTwbQO\\ZO=TN>bqQt^dOOaAFXw=	PCVxsv?{`a\bvS8YQ[aNsOt[cU`ZRTQNdtOaAFXw=	PCVxsv?{`a\bvS8YQ[aNZOt[cU_ZROaNQN^U<ZN=TP`\0T`Vo@Q^ROPbNNAVPN^P\0{y\0Bs\\8\0R[z]w??qZP?NpgdenSuvv?>|f_?UpYPcQ\\gCb8zxtSvsOQNg>[\\\0\bx\b_o@8\0g`Z<PyUE`8yu}\\g{@`s`zUgErRtve{YdCvoO@>WFDtABNp\0feUWszpQaEYNAc]^xB[@]BDAN8\b}XA=E\x07nO}Pud8TA	?yPrVv{\\>E]o`BO^RE^X[W[rEU?x\bf>V	OUwY=>X[\\E`tW[8}VwpF\x07BQcnrPF}yUtd8<Doe_\b[oOVU\x07ep@pYY\0cegY{r	?\bAbq?ff8}UaXoN_D]_X_8yozYFT`N{`\\{zvu?\bDWT}=_<\x07StX	Nx\x07\0\b	\0aT=c@ucnWfR[vf>RFxAFV}{N`dN^\\<eawBPxx}quT=|{T_R@Fp^Y<ZevRsWaZ]V	CVrRVtAAc[	Qp|d|tqoQ=T|XX	=u\\N8XNCx\\aU>wz	X<e@Vc?dy\\|^FEq|=p`pBdF@bs^d<]vp\\^TZ	P\bZ\b\\YNNSZ_\\w^|TsD8db	_	Y\\o^Cw>Z\0x\\^aN]wWf\bA}	C^d_{\x07ZC@\by]gY@E	BFY?OsaqbDcVgQbZeFc	ovtucxnq|<TnuyXRveYFOegCpAs{YTe|>bE<OXsSqCBWD_SVepfvCCUg]z	ZvQ[\0s|U>pFz\b=OwT``fNJJ:::::R[Q-PR_aVSVPNaR:::::")),Ce)];function Se(va,_a){var eo=va.getIssuerHex();if(eo===va.getSubjectHex())return va.verifySignature(va.getPublicKey());var to=function(ro,no){for(var io=0,ao=no;io<ao.length;io++){var oo=ao[io];if(oo.getSubjectHex()===ro)return oo}}(eo,_a);return!!to&&va.verifySignature(to.getPublicKey())!==!1&&Se(to,_a)}function Le(va){return va.getIssuerHex()!==va.getSubjectHex()&&Se(va,be)}(function(va){var _a=new je;typeof va=="string"?_a.readCertPEM(va):_a.readCertHex(va.hex),Le(_a),be.push(_a)})(function(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];var eo=113,to=126,ro=0,no="";return arguments[ro].split(no).map(function(io){return io.charCodeAt(ro)>to?io:String.fromCharCode((io.charCodeAt(ro)+eo)%to)}).join(no)}(":::::ORTV[-PR_aVSVPNaR:::::ZVVTU	PPONrtNVONtVWNW=_SVw	VE=ZN=TP`\0T`Vo@Q^ROPbNZVTSZ^P^fQc^^TRWQawR^ZNATN>bRPNU^zc}nzyg	R^ZNATN>bROU^zc}nzyg	R]ZN=TN>bRPtTn?bf?FZ_NQtfQc^^YQNq`gdSp?cyZ^P^fQc^^QQNWQ^aRvZPNTP`\0T`Vo@Q^RWN_fapzFqSFwfbOndSnzyuYz[oaNrS=\bZQNAZaN\\aZ	[QSnS=\b[aNBZQZ\\aZ	[QSnZVTaZ^P^fQc^^TRWQawR^ZNATN>bRPNU^zc}nzyg	R^ZNATN>bROU^zc}nzyg	RbZOVTN>bRPtYoTyuoz}}f`Bwo?=\x07RQN\\Ot[cONZO>Wyfd\x07	gdb\x07RaN]Ot[cONZZPRuupz_@feWyZ`bVfWX|gVup[N^xOSugnec|fdy\x07ndB{^T\x07}fdB\0ndRf?FZVVPVwN[Otx\0uxvTF=ON^RSNN\\PNtENZVVPPtXPNtRN?=?]q[VD|{\\oyo`oOu}F	SA\x07e`tn[t	u\b8^a]qx\bE_^\x07ZN?[QC\0yuOpybY8r\\RPAS=8rUq\0E8>xean^e\bf]Y`XO}{C[Ur^?\0x[SRXvVQ\\CFr}QnAPRQ\x07FO=Yw\0_TePCOFV@|\x07N>ROXcDrT<>bW<ssO?NOT{^s]uU\0gS\bBffsfE\0AfDyQEZR`]XBo|Qw}yYdwwTvOFcBndUz^\\{]	b=^yQYSTQ`]\0?tR{WRUun\\\0bVe_E|VWWV|r	Ao\0	F`fdzCnRtq\br	\b8eBp=Z\\TRaadc}@Eub`\x07quuNqAdF\0aUay{}x>tgVz`	_YBFwu_q?egt8v[o\x008	wTQcrA	<z{DZoEE^rZTrpaZQzqpBY]^zt8[bQv}yEWw	XDYQB\0QB\bx_^X]|uEDtPf[n[r_bpB[bE}?ung|bnU|NYOoedY_tvXySZfYP\x07\x07dWV]OE^\bOFwA}<uXoO}_NDz8aon\x07zWOfcv@?>snfqu@FeEx^\\\bVfuO`\\\0tSg]zDU}QrAT|	OZV|OvpVD<sN@z`<_cSrNCW>?=Au?g_8v{|}}WF>Sr>QBxO	d_D}eBb?Uq^b	[y}x]}{?P|BQtecTB[pQBW>|p|nfv\0zU\x07xOO}WqwE=<PURZy@X8r\\]u=<pPNRNNn\\OtaO<ZOETPdPT`NTT8RVOQ^^`SuO`gdSp?cyVRg\bo?B=VR[OZO=TN>bqQt^dOO`Fy\x07WadZcAD	peXybcW@}Qf\\QNsOt[cU`ZRTQNdtOaAFXw=	PCVxsv?{`a\bvS8YQ[aN]Ot[cU_ZONsEROaNQN^U<ZNTN>bqQ^RNVOOwN[Otx\0uxvTF=ON^SNN\\PNtRNrx	a[}tP_g8FbD\0^\0qt<f88ufuN]^}]gp\bqYudF88Fas_Ef`	?^x>X}esa{>\\r?eE]CC_cZ[vQs		>gX[szONg=^pn=<e]nbSz\bZvac\b[w^nA_`vP|@8w[}nQobe=??oRYf{vpRxcC}yCd>8[NDx{Ne\\t8oou=guC\x07>>g\x07vb}ACd	``Ntq\0yC[Q{|ynpNQqSqzxF<_PFDw<]Bnnu>F<XgU_Zf\\\\A=gu\\codOwQ]oQ<f>gv_pwozwC}xX>C`c]suEdfW?cbeo\b`BbyR@eFTUwSud=t]sS\\onc	XSq	{\0\x07DvAVBbnTqEE[QzDyqF`bF}R=Q?VeDo<Vzb\0w}D}NZ\0t}^?OyFP\bVaVNrTNYqe?[NRYTSQby@yzWvT`wQo}y]c_WgxBYCy	RNRg@\x07NZCaaq8?`	^`?ryD	=obzw?E]Ou\x07]n@>bVzqAQT?@_zo@}CxWVTUsAYdNd?{APQr8{P]]AZ>aR\0[D<z?Tr@`u@X|YDwd_<p<>zWE>]\0=X`\b@uucp|^_Qb@uZouTX^o\0\\{PCq{ug\x078^f[YQAWad8FNqxFQE?ZOo	}RnO\bsQc	xyccn=nxvs>bDBf\b\bW\\TuTnvAO^U\0QXC>xx8FxRFf<tJ:::::R[Q-PR_aVSVPNaR:::::"));var Oe,Be=(Oe="$$FIVE_EVENT$$",typeof Symbol>"u"?"$Symbol<".concat(Oe,">$"):Symbol(Oe));function Qe(va){return va[Be]||(va[Be]={}),va[Be]}var ke=function(){function va(){}return va.prototype.hasListener=function(_a){var eo=Qe(this);return eo&&eo[_a]&&eo[_a].length>0},va.prototype.on=function(_a,eo,to){var ro=this,no=Qe(this);return no[_a]||(no[_a]=[]),no[_a].push([eo,to||!1]),function(){return ro.off(_a,eo)}},va.prototype.once=function(_a,eo){return this.on(_a,eo,!0)},va.prototype.off=function(_a,eo){if(_a!==void 0){var to,ro=Qe(this);if(ro[_a]||(ro[_a]=[]),eo!==void 0){for(var no=0;no<ro[_a].length&&ro[_a][no][0]!==eo;no++);no<ro[_a].length&&ro[_a].splice(no,1)}else ro[_a].length=0}else(to=this)[Be]||delete to[Be]},va.prototype.emit=function(_a){for(var eo=[],to=1;to<arguments.length;to++)eo[to-1]=arguments[to];for(var ro=!1,no=Qe(this),io=no[_a]||[],ao=0,oo=io.slice();ao<oo.length;ao++){var so=oo[ao],uo=so[0],co=so[1],fo=co!==void 0&&co,po=uo.apply(void 0,eo);fo&&this.off(_a,uo),po===!1&&(ro=!0)}return ro},va}();function Pe(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a]}var Ue=typeof performance<"u"&&performance.timing!==void 0?performance.timing.navigationStart:Date.now(),Re=typeof performance<"u"?function(){return Ue+performance.now()}:function(){return Date.now()};function _e(va){Object.freeze(va);var _a=typeof va=="function",eo=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(va).forEach(function(to){!eo.call(va,to)||_a&&(to==="caller"||to==="callee"||to==="arguments")||va[to]===null||typeof va[to]!="object"&&typeof va[to]!="function"||Object.isFrozen(va[to])||_e(va[to])}),va}var Ye=/^([^.]+)(\.([^.]+))*$/;function Fe(va){return/^(([1-9]?\d|1\d\d|2[0-4]\d|25[0-5])(\.(?!$)|$)){4}$/.test(va)}function He(va,_a){return Ye.test(va)&&Ye.test(_a)&&function(eo,to){if(eo==="*")return!0;var ro=eo.split(".").reverse(),no=to.split(".").reverse();if(ro.length<=1)return eo===to;for(var io=0;io<ro.length;io++)if(ro[io]!==no[io])return!1;return!0}(va,_a)}var Ve=[/\.([0-9a-z]+)\.jsonp([\?\#].*)?$/i,/jsonp_([0-9a-z]+)([\?\#].*)?$/i],Ge=_e(JSON.parse(function(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];var eo=113,to=126,ro=0,no="";return arguments[ro].split(no).map(function(io){return io.charCodeAt(ro)>to?io:String.fromCharCode((io.charCodeAt(ro)+eo)%to)}).join(no)}("h-/y|pnyu|/9-/xr;p|z/9-/yvn{wvn;p|z/9-/rnyrr;p|z/9-/rnyrr;p{/9-/uv;p|z/9-/uv;p{/9-/ywpq{;p|z/9-/pnyp{|qr;vr/9-/rnyrr;w}/9-/rnyrr:pq{;p|z/-j"))),Ke=function(va){function _a(eo,to,ro){return va.call(this,"[NETWORK]: response error(type: ".concat(to,", reason: ").concat(ro,"): ").concat(eo))||this}return t$3.__extends(_a,va),_a}(Error),qe=function(va){function _a(eo,to,ro){var no=va.call(this,"[NETWORK]: response error(type: ".concat(to,", status: ").concat(ro,"): ").concat(eo))||this;return no.httpStatus=ro,no}return t$3.__extends(_a,va),_a}(Error);(function(va){function _a(eo,to){return va.call(this,"[NETWORK]: request abort(type: ".concat(to,"): ").concat(eo))||this}t$3.__extends(_a,va)})(Error);var We=function(va){function _a(eo,to,ro){return va.call(this,"[NETWORK]: request timeout(type: ".concat(to,", timeout: ").concat(ro,"ms): ").concat(eo))||this}return t$3.__extends(_a,va),_a}(Error);function Xe(va){for(var _a=0,eo=Ve;_a<eo.length;_a++){var to=eo[_a],ro=va.match(to);if(ro)return"jsonp_"+ro[1]}return null}function Ze(va){return Xe(va)!==null}function Je(va){return Ve.reduce(function(_a,eo){return _a.replace(eo,"")},va)}function $e(va){var _a=va.match(/^[0-9a-z]+\:\/\/(([^:/?#]*)(?::[0-9]+)?)/);return _a?_a[2]:location.hostname}(function(va){function _a(eo,to,ro){return va.call(this,"[NETWORK]: request forbidden(type: ".concat(to,", reason: ").concat(ro,"): ").concat(eo))||this}t$3.__extends(_a,va)})(Error);var et=function(va){function _a(){return va!==null&&va.apply(this,arguments)||this}return t$3.__extends(_a,va),_a}(ke);function tt(va,_a,eo,to,ro){return _a===void 0&&(_a={}),eo===void 0&&(eo=Pe),to===void 0&&(to=Pe),ro===void 0&&(ro=Pe),new Promise(function(no,io){var ao,oo=_a.allowHosts?Ge.concat(_a.allowHosts):Ge.slice(),so=$e(va),uo=Xe(va);if(location.hostname.length!==0&&!Fe(location.hostname)&&Ge.filter(function(Mo){return He(Mo,location.hostname)}).length===0&&!Fe(so)&&oo.filter(function(Mo){return He(Mo,so)}).length===0){var co=uo?"Script":"XMLHttpRequest",fo=new Ke(va,co,"request host(".concat(so,") is not allowed"));return to(fo),io(fo),void((ao=_a.networkSubscribe)===null||ao===void 0||ao.emit("network",va,co,"forbidden",fo.message))}if(uo){var po=window,vo=null,go=!1,mo=Re(),lo=document.createElement("script");po[uo]=function(Mo){var wo,xo,bo=Re(),So=bo-mo;if(delete po[uo],lo.parentNode&&lo.parentNode.removeChild(lo),vo!==null&&(window.clearTimeout(vo),vo=null),go!==!0){if(Mo.indexOf("data:")!==0){var Do=new qe(va,"Script",500);return to(Do),io(Do),void((wo=_a.networkSubscribe)===null||wo===void 0||wo.emit("network",va,"Script","error",Do.message))}var Oo=Mo.split(","),Bo=(Oo[0].match(/:(.*?);/)||[])[1],$o=Oo[1];if(_a.responseType==="arraybuffer"||_a.responseType==="blob"){for(var Vo=atob(Oo[1]),Ho=Vo.length,Fo=new Uint8Array(Ho),Ko=0;Ko<Ho;Ko++)Fo[Ko]=Vo.charCodeAt(Ko);$o=_a.responseType==="arraybuffer"?Fo.buffer:new Blob([Fo],{type:Bo})}var $s={body:$o,meta:{source:va,requestTime:mo,responseTime:bo,costs:So,headers:{}}};eo($s),no($s),(xo=_a.networkSubscribe)===null||xo===void 0||xo.emit("network",va,"Script","ok",JSON.stringify($s.meta)),go=!0}},lo.src=va,document.body.appendChild(lo),typeof _a.timeout=="number"&&(vo=window.setTimeout(function(){var Mo;if(vo=null,go!==!0){go=!0;var wo=new We(va,"Script",_a.timeout||NaN);to(wo),io(wo),(Mo=_a.networkSubscribe)===null||Mo===void 0||Mo.emit("network",va,"Script","timeout",wo.message)}},_a.timeout))}else{var ho=Re(),yo=!1,Ao=new XMLHttpRequest,Eo=function(){Ao&&(Ao.removeEventListener("timeout",To,!1),Ao.removeEventListener("progress",No,!1),Ao.removeEventListener("load",Co,!1),Ao.removeEventListener("error",Io,!1)),Ao=null,Eo=Pe},To=function(){var Mo;if(yo!==!0){yo=!0,Eo();var wo=new We(va,"XMLHttpRequest",_a.timeout||NaN);to(wo),io(wo),(Mo=_a.networkSubscribe)===null||Mo===void 0||Mo.emit("network",va,"XMLHttpRequest","timeout",wo.message)}},No=function(Mo){yo!==!0&&Mo.lengthComputable&&(Mo.total<=0||ro(Mo.loaded/Mo.total))},Co=function(Mo){var wo;if(yo!==!0){var xo=this.status;if(xo===0||xo>=200&&xo<400){yo=!0,Eo();var bo=Re(),So=bo-ho,Do=function($o){if(!$o)return{};for(var Vo={},Ho=$o.trim().split(`
`),Fo=0;Fo<Ho.length;Fo++){var Ko=Ho[Fo],$s=Ko.indexOf(":"),au=Ko.slice(0,$s).trim().toLowerCase(),Ks=Ko.slice($s+1).trim();Ks&&(Vo[au]?Vo[au]+=", "+Ks:Vo[au]=Ks)}return Vo}(this.getAllResponseHeaders()),Oo=Mo.total,Bo={body:this.response,meta:{source:va,requestTime:ho,responseTime:bo,costs:So,headers:Do,size:Oo}};eo(Bo),no(Bo),(wo=_a.networkSubscribe)===null||wo===void 0||wo.emit("network",va,"XMLHttpRequest","ok",JSON.stringify(Bo.meta))}else Io.call(this)}},Io=function(){var Mo;if(yo!==!0){yo=!0,Eo();var wo=new qe(va,"XMLHttpRequest",this.status);to(wo),io(wo),(Mo=_a.networkSubscribe)===null||Mo===void 0||Mo.emit("network",va,"XMLHttpRequest","error",wo.message)}};Ao.addEventListener("timeout",To,!1),Ao.addEventListener("progress",No,!1),Ao.addEventListener("load",Co,!1),Ao.addEventListener("error",Io,!1),_a.responseType&&(Ao.responseType=_a.responseType),typeof _a.timeout=="number"&&(Ao.timeout=_a.timeout),Ao.open("GET",va,!0),Ao.send(null)}})}var it={};function nt(va,_a,eo,to,ro,no){return _a===void 0&&(_a={}),eo===void 0&&(eo=Pe),to===void 0&&(to=Pe),ro===void 0&&(ro=Pe),new Promise(function(io,ao){var oo,so=_a.allowHosts?Ge.concat(_a.allowHosts):Ge.slice(),uo=$e(va);if(location.hostname.length!==0&&!Fe(location.hostname)&&Ge.filter(function(mo){return He(mo,location.hostname)}).length===0&&!Fe(uo)&&so.filter(function(mo){return He(mo,uo)}).length===0){var co=new Ke(va,"Image","request host(".concat(uo,") is not allowed"));return to(co),ao(co),void((oo=_a.networkSubscribe)===null||oo===void 0||oo.emit("network",va,"Image","forbidden",co.message))}var fo=no??new Image,po=Re(),vo=!1,go=null;typeof _a.timeout=="number"&&(go=window.setTimeout(function(){var mo;if(fo.onload=Pe,fo.onerror=Pe,go=null,vo!==!0){vo=!0;var lo=new We(va,"Image",_a.timeout);to(lo),ao(lo),(mo=_a.networkSubscribe)===null||mo===void 0||mo.emit("network",va,"Image","timeout",lo.message)}},_a.timeout)),fo.onload=function(){var mo;if(fo.onload=Pe,fo.onerror=Pe,go!==null&&(clearTimeout(go),go=null),vo!==!0){var lo=Re();vo=!0;var ho={body:fo,meta:{headers:{},source:va,requestTime:po,responseTime:lo,costs:lo-po}};ro(1),eo(ho),io(ho),(mo=_a.networkSubscribe)===null||mo===void 0||mo.emit("network",va,"Image","ok",JSON.stringify(ho.meta))}},fo.onerror=function(){var mo;if(fo.onload=Pe,fo.onerror=Pe,go!==null&&(clearTimeout(go),go=null),vo!==!0){vo=!0;var lo=new qe(va,"Image",0);to(lo),ao(lo),(mo=_a.networkSubscribe)===null||mo===void 0||mo.emit("network",va,"Image","ok",lo.message)}},ro(0),fo.src=va})}var rt=function(){if(typeof window<"u"){var va=window;return va.requestAnimationFrame||va.mozRequestAnimationFrame||va.webkitRequestAnimationFrame||va.msRequestAnimationFrame||function(_a){return setTimeout(_a,16)}}return function(_a){return setTimeout(_a,16)}}(),st=16,ot=function(){function va(){this.frames=[],this.stoped=!1,this.time=Re(),this.loop=this.loop.bind(this),this.loop()}return Object.defineProperty(va,"shared",{get:function(){return this.sharedInstance||(this.sharedInstance=new va),this.sharedInstance},enumerable:!1,configurable:!0}),va.getFrameTime=function(){return st},va.prototype.loop=function(){if(!this.stoped){var _a=Re(),eo=_a-this.time;this.time=_a;var to=[];st=eo;for(var ro=0,no=this.frames;ro<no.length;ro++){var io=no[ro];if(io.delay>0)io.delay=io.delay-1;else{try{io.callback(_a,eo)}catch(ao){console.error(ao)}io.once&&to.push(io)}}to.length>0&&(this.frames=this.frames.filter(function(ao){return to.indexOf(ao)===-1})),rt(this.loop)}},va.prototype.remove=function(_a){var eo=this.frames.indexOf(_a);eo>=0&&this.frames.splice(eo,1)},va.prototype.add=function(_a,eo,to,ro){var no=this;eo===void 0&&(eo=!1),to===void 0&&(to=0),ro===void 0&&(ro=5);var io={callback:_a,once:eo,delay:to,order:ro};return this.frames.push(io),this.frames.sort(function(ao,oo){return ao.order-oo.order}),function(){return no.remove(io)}},va.prototype.disponse=function(){this.stoped=!0,this.frames.length=0},va}(),at="//vrlab-public.ljcdn.com/",ut="//vrlab-image[1-4].ljcdn.com/",ct="//global-public.realsee-cdn.com/",At="//global-image-[1-4].realsee-cdn.com/";function lt(va,_a){var eo,to=va.split("?")[0],ro=to.split(".").pop();if(ro==="jpeg"&&(ro="jpg"),ro!=="png"&&ro!=="jpg")return va;var no="";if(_a.format!==void 0&&_a.format!==ro&&(no+="/format/".concat(_a.format)),_a.cut!==void 0&&(no+="/cut/".concat(_a.cut[2],"x").concat(_a.cut[3],"x").concat(_a.cut[0],"x").concat(_a.cut[1])),_a.quality!==void 0){var io=(eo=_a.format)!==null&&eo!==void 0?eo:ro;io&&["jpg","webp","tpg","heif","avif"].indexOf(io)>=0&&(no+="/quality/".concat(_a.quality))}if(_a.size!==void 0){var ao=va.match(/\/cube_(\d+)\//);(ao?Number(ao[1]):NaN)!==Number(_a.size)&&(no+="/thumbnail/".concat(_a.size,"x"))}return no.length&&(no="?imageMogr2"+no),to+no}function ht(va,_a){return va.indexOf(at)>=0?(/\.basis(\?|$)/.test(va)&&_a.basisLoaderInitialized!==!0&&(va=va.replace(/\.basis(\?|$)/,".jpg$1")),lt(function(to,ro){var no=ro.split("."),io=no[0],ao=no.slice(1);if(io==="texture")return to.replace(at,ut.replace("[1-4]","3"));if(io==="pano"||io==="pano_luminance")switch(ao[0],ao[1]){case"front":case"left":case"up":return to.replace(at,ut.replace("[1-4]","1"));case"down":case"right":case"back":return to.replace(at,ut.replace("[1-4]","2"))}else if(io==="pano_tile"||io==="pano_tile_luminance"){ao[0],ao[1];var oo=ao[2],so=ao[3],uo=ao[4],co=Math.pow(2,Number(oo))*Number(so)+Number(uo);if(!isNaN(co))return to.replace(at,"//vr-tile-[1-2].realsee-cdn.com/".replace("[1-2]",String(co%2+1)))}return to.replace(at,ut.replace("[1-4]","3"))}(va,_a.key),_a)):va.indexOf(ct)>=0?(/\.basis(\?|$)/.test(va)&&_a.basisLoaderInitialized!==!0&&(va=va.replace(/\.basis(\?|$)/,".jpg$1")),lt(function(to,ro){var no=ro.split("."),io=no[0],ao=no.slice(1);if(io==="texture")return to.replace(ct,At.replace("[1-4]","3"));if(io==="pano"||io==="pano_luminance")switch(ao[0],ao[1]){case"front":case"left":case"up":return to.replace(ct,At.replace("[1-4]","1"));case"down":case"right":case"back":return to.replace(ct,At.replace("[1-4]","2"))}else if(io==="pano_tile"||io==="pano_tile_luminance"){ao[0],ao[1];var oo=ao[2],so=ao[3],uo=ao[4],co=Math.pow(2,Number(oo))*Number(so)+Number(uo);if(!isNaN(co))return to.replace(ct,"//global-tile-[1-2].realsee-cdn.com/".replace("[1-2]",String(co%2+1)))}return to.replace(ct,At.replace("[1-4]","3"))}(va,_a.key),_a)):va.indexOf("//test-vr-public.realsee-cdn.com/")>=0?(/\.basis(\?|$)/.test(va)&&_a.basisLoaderInitialized!==!0&&(va=va.replace(/\.basis(\?|$)/,".jpg$1")),lt((eo=va,_a.key,eo.replace("//test-vr-public.realsee-cdn.com/","//test-vr-image.realsee-cdn.com/")),_a)):va;var eo}var dt=function(va){function _a(){var eo=va!==null&&va.apply(this,arguments)||this;return eo.floorIndex=0,eo.needsRender=!0,eo}return t$3.__extends(_a,va),_a}(r$4.Mesh),gt=function(va){function _a(){var eo=va!==null&&va.apply(this,arguments)||this;return eo.needsRender=!0,eo.enableTransparent=!0,eo}return t$3.__extends(_a,va),_a.prototype.getTransparent=function(){return this.enableTransparent},_a.prototype.setTransparent=function(eo){this.enableTransparent=eo,this.traverse(function(to){to instanceof dt&&to.material.forEach(function(ro){ro.transparent=eo})})},_a.prototype.getMaterial=function(){var eo=null;return this.traverse(function(to){if(eo===null&&to instanceof dt){var ro=to.material[0];eo={pano0:ro.pano0,pano1:ro.pano1,modelAlpha:ro.modelAlpha,progress:ro.progress,useBlackTransition:ro.useBlackTransition,perspToOrtho:ro.perspToOrtho,opacity:ro.opacity}}}),eo},_a.prototype.setMaterial=function(eo){this.traverse(function(to){to instanceof dt&&to.material.forEach(function(ro){eo.pano0!==void 0&&(ro.pano0=eo.pano0),eo.pano1!==void 0&&(ro.pano1=eo.pano1),eo.modelAlpha!==void 0&&(ro.modelAlpha=eo.modelAlpha),eo.progress!==void 0&&(ro.progress=eo.progress),eo.useBlackTransition!==void 0&&(ro.useBlackTransition=eo.useBlackTransition),eo.perspToOrtho!==void 0&&(ro.perspToOrtho=eo.perspToOrtho),eo.opacity!==void 0&&(ro.opacity=eo.opacity)})})},_a.prototype.disposeMaterial=function(){this.traverse(function(eo){if(eo instanceof dt){var to=[];eo.material.forEach(function(ro){var no=ro.uniforms;Object.keys(no).map(function(io){if(/^pano\d\_/.test(io))no[io].value=null;else{var ao=no[io].value;ao&&typeof ao.dispose=="function"&&to.indexOf(ao)===-1&&(no[io].value=null,to.push(ao))}}),ro.dispose()}),to.forEach(function(ro){return ro.dispose()})}})},_a.prototype.disposeGeometry=function(){this.traverse(function(eo){eo instanceof dt&&eo.geometry.dispose()})},_a}(r$4.Group),pt=function(va){function _a(){var eo=va!==null&&va.apply(this,arguments)||this;return eo.floorIndex=0,eo}return t$3.__extends(_a,va),_a}(gt),Mt=function(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];var eo=113,to=126,ro=0,no="";return arguments[ro].split(no).map(function(io){return io.charCodeAt(ro)>to?io:String.fromCharCode((io.charCodeAt(ro)+eo)%to)}).join(no)}(`{vs|z-rp@-z|qryPr{rH{vs|z-sy|n-}r}a|\\u|Hn\bv{t-rp@-[|znyHn\bv{t-rp@-cvr]|vv|{Hn\bv{t-rp@-|yq]|vv|{H0v{pyqr-Ip|zz|{K0v{pyqr-Il}nlrr\x07K0v{pyqr-I?l}nlrr\x07K0v{pyqr-Ip|y|l}nlrr\x07K|vq-znv{56-
--0v{pyqr-Ilrr\x07K--0v{pyqr-I?lrr\x07K--0v{pyqr-Ip|y|lrr\x07K--0v{pyqr-Iortv{{|znylrr\x07K--0v{pyqr-Iqrsny{|znylrr\x07K--rpA-n{s|zrq-J-rpA5}|vv|{9->;=6H--rpA-z]|vv|{-J-z|qrycvrZnv\x07-7-n{s|zrqH--[|zny-J-{|znyv	r5n{s|zrq[|zny6H--cvr]|vv|{-J-:z]|vv|{;\x07\b	H--|yq]|vv|{-J-5z|qryZnv\x07-7-n{s|zrq6;\x07\b	H--tyl]|vv|{-J-}|wrpv|{Znv\x07-7-z|qrycvrZnv\x07-7-n{s|zrqH--<<-\u4FEE\u6B63\u6B63\u4EA4\u76F8\u673A\u6A21\u62DF--rp@-pnzrn[|zny-J-5z|qrycvrZnv\x07-7-rpA5=;=9-=;=9->;=9-=;=66;\x07\b	H--sy|n-|u|Qvn{pr-J-zn\x075=;=>9-q|5pnzrn[|zny9-z|qryPr{r-:-pnzrn]|vv|{66H--tyl]|vv|{;\x07-J-zv\x075-tyl]|vv|{;\x079-tyl]|vv|{;\x07-7-5-tyl]|vv|{;	-<-|u|Qvn{pr-69-}r}a|\\u|-6H--tyl]|vv|{;\b-J-zv\x075-tyl]|vv|{;\b9-tyl]|vv|{;\b-7-5-tyl]|vv|{;	-<-|u|Qvn{pr-69-}r}a|\\u|-6H\f`),ft=function(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];var eo=113,to=126,ro=0,no="";return arguments[ro].split(no).map(function(io){return io.charCodeAt(ro)>to?io:String.fromCharCode((io.charCodeAt(ro)+eo)%to)}).join(no)}("0qrsv{r-OYNPXlP\\Y\\_-rpA5=;=EC9-=;>=C9-=;>AF9->;=60qrsv{r-aNb-C;?E@>EB?{vs|z-nz}yrPor-}n{|=lzn}H{vs|z-znA-}n{|=lznv\x07H0vs-qrsv{rq5b`RlYbZV[N[PR6{vs|z-nz}yrPor-}n{|=lyzv{n{prZn}H0r{qvs{vs|z-nz}yrPor-}n{|>lzn}H{vs|z-znA-}n{|>lznv\x07H0vs-qrsv{rq5b`RlYbZV[N[PR6{vs|z-nz}yrPor-}n{|>lyzv{n{prZn}H0r{qvs{vs|z-rp@-qvssrH{vs|z-rp@-rzvvrH{vs|z-rp@-}rpynH{vs|z-sy|n-uv{v{rH{vs|z-sy|n-r\x07}|rH{vs|z-sy|n-|}npv\bH{vs|z-sy|n-z|qryNy}unH{vs|z-sy|n-}|trH0vs-qrsv{rq5b`Rl]N[\\lcVQR\\6{vs|z-rp?-}n{|cvqr|lv	rH{vs|z-znA-}n{|cvqr|lznv\x07H{vs|z-sy|n-}n{|cvqr|lny}unH{vs|z-nz}yr?Q-}n{|cvqr|lzn}H0r{qvsn\bv{t-rp@-|yq]|vv|{H0v{pyqr-Ip|zz|{K0v{pyqr-I}npxv{tK0v{pyqr-Ip|y|l}nlsntzr{K0v{pyqr-Il}nlsntzr{K0v{pyqr-I?l}nlsntzr{K0v{pyqr-Izn}l}nlsntzr{K0v{pyqr-Iny}unzn}l}nlsntzr{K0v{pyqr-In|zn}l}nlsntzr{K0v{pyqr-Iyvtuzn}l}nlsntzr{K0v{pyqr-Irzvvrzn}l}nlsntzr{K0v{pyqr-Ir{zn}l}nlsntzr{K0v{pyqr-Itnqvr{zn}l}nlsntzr{K0v{pyqr-Is|tl}nlsntzr{K0v{pyqr-IoqsK0v{pyqr-Iyvtul}nlortv{K0v{pyqr-Iyvtul}u|{tl}nlsntzr{Krp?-|P||q5rp@-rp|6-\n--sy|n--J-yr{tu5rp|6H--sy|n-urn-J-np|5rp|;\b-<-6H--sy|n-}uv-J-nn{5rp|;\x079-rp|;	6H--r{-rp?5=;B-8-}uv-<-aNb9-urn-<-]V6H\f|vq-znv{56-\n--rpA-qvssrP|y|-J-rpA5qvssr;to9-|}npv\b6H--_rsyrprqYvtu-rsyrprqYvtu-J-_rsyrprqYvtu5rp@5=;=69-rp@5=;=69-rp@5=;=69-rp@5=;=66H--rp@-|nyRzvvr_nqvn{pr-J-rzvvrH--0v{pyqr-Izn}lsntzr{K--0v{pyqr-Ip|y|lsntzr{K--0v{pyqr-Iny}unzn}lsntzr{K--0v{pyqr-Iny}unrlsntzr{K--0v{pyqr-I}rpynzn}lsntzr{K--0v{pyqr-I{|znylsntzr{lortv{K--0v{pyqr-I{|znylsntzr{lzn}K--0v{pyqr-Irzvvrzn}lsntzr{K--0v{pyqr-Iyvtul}u|{tlsntzr{K--0v{pyqr-Iyvtulsntzr{lortv{K--<<-\u8C03\u6574\u66DD\u5149\u503C--vnqvn{pr-J-vnqvn{pr-7-r\x07}|rH--0v{pyqr-Iyvtulsntzr{lzn}K--0v{pyqr-Iyvtulsntzr{lr{qK--0v{pyqr-In|zn}lsntzr{K--<<-\u51CF\u5C11\u65B9\u5411\u5149\u5BF9\u6A21\u578B\u7684\u5F71\u54CD--rp@-|t|v{tYvtu-J-5rsyrprqYvtu;qvrpQvssr-7-=;?6-8----rsyrprqYvtu;v{qvrpQvssr-8----rsyrprqYvtu;v{qvrp`}rpyn-8----|nyRzvvr_nqvn{prH--<<-\u4FEE\u590D\u9ED1\u8272\u9762\u7247\u7684\u95EE\u9898--vs-5|t|v{tYvtu;-K-=;=-\v\v-|t|v{tYvtu;t-K-=;=-\v\v-|t|v{tYvtu;o-K-=;=6-\n----tylSntP|y|-J-rpA5|t|v{tYvtu9-qvssrP|y|;n6H--\f-ryr-\n----tylSntP|y|-J-rpA5OYNPXlP\\Y\\_;\x07\b	9-qvssrP|y|;n6H--\f--rp@-}n{|=a|crr\x07-J-5|yq]|vv|{-:-}n{|=lznv\x07h@j;\x07\b	6-7-zn@5}n{|=lznv\x076H--rp@-}n{|>a|crr\x07-J-5|yq]|vv|{-:-}n{|>lznv\x07h@j;\x07\b	6-7-zn@5}n{|>lznv\x076H--rpA-}n{|P|y|H--rpA-}n{|=P|y|-J-r\x07rPor5}n{|=lzn}9-}n{|=a|crr\x076H--rpA-}n{|>P|y|-J-r\x07rPor5}n{|>lzn}9-}n{|>a|crr\x076H--0vs-qrsv{rq5b`RlYbZV[N[PR6----}n{|=P|y|;n-J->;=-:-r\x07rPor5}n{|=lyzv{n{prZn}9-}n{|=a|crr\x076;H----}n{|>P|y|;n-J->;=-:-r\x07rPor5}n{|>lyzv{n{prZn}9-}n{|>a|crr\x076;H--0r{qvs--0vs-qrsv{rq5b`RlOYNPXla_N[`VaV\\[6----sy|n-oynpx]|tr-J-np|5:?;=-7-}|tr-8->;=6H----}n{|P|y|-J-zv\x075}n{|=P|y|9-OYNPXlP\\Y\\_9-zv{5>;=9-oynpx]|tr66H----}n{|P|y|-J-zv\x075}n{|P|y|9-}n{|>P|y|9-zn\x075=;=9-oynpx]|tr-:-?;=66H--0ryr----}n{|P|y|-J-zv\x075}n{|=P|y|9-}n{|>P|y|9-}|tr6H--0r{qvs--0vs-qrsv{rq5b`Rl]N[\\lcVQR\\6----rp@-pnzrna|crr\x07-J-|yq]|vv|{-:-pnzrn]|vv|{H----rpA-zn}P||q-J-rpA5pnzrna|crr\x079->;=6-7-}n{|cvqr|lznv\x07H----rp?--J-rp?5------=;B-8-zn}P||q;\x07-<-zn}P||q;	-<-}n{|cvqr|lv	r;\x079------=;B-:-zn}P||q;\b-<-zn}P||q;	-<-}n{|cvqr|lv	r;\b----6H----rpA-vqr|P|y|-J-r\x07r?Q5}n{|cvqr|lzn}9-6H----sy|n-znpu-J-5>;=-:-r}5=;=9-zn}P||q;	66-7-5>;=-:-r}5=;B9-no5;\x07-:-=;B666-7-5>;=-:-r}5=;B9-no5;\b-:-=;B666H----sy|n-ny}un-J-pynz}5=;=9->;=9-B;=-7-5>;=-:-pynz}5qvn{pr59-rp?5=;B9-=;B66-<-=;BB-9-=;=9->;=666H----}n{|P|y|-J-zv\x075}n{|P|y|9-vqr|P|y|9-znpu-7-ny}un-7-}n{|cvqr|lny}un6H--0r{qvs--tylSntP|y|-J-rpA5tylSntP|y|;to9-|}npv\b6H--tylSntP|y|-J-zv\x075}n{|P|y|9-tylSntP|y|9-z|qryNy}un6H\f");function yt(){return typeof document>"u"?{}:document.createElementNS("http://www.w3.org/1999/xhtml","img")}var mt=yt();mt.width=mt.height=8;var vt=new r$4.Texture(mt);vt.name="EMPTY_TEXTURE";var Nt=new r$4.CubeTexture([mt,mt,mt,mt,mt,mt]);Nt.name="EMPTY_CUBE_TEXTURE",vt.dispose=Nt.dispose=function(){};var Dt=Object.assign({modelAlpha:new r$4.Uniform(0),progress:new r$4.Uniform(0),pano0_map:new r$4.Uniform(Nt),pano0_luminanceMap:new r$4.Uniform(null),pano0_matrix:new r$4.Uniform(new r$4.Matrix4),pano1_map:new r$4.Uniform(Nt),pano1_luminanceMap:new r$4.Uniform(null),pano1_matrix:new r$4.Uniform(new r$4.Matrix4),modelCenter:new r$4.Uniform(new r$4.Vector3),perspToOrtho:new r$4.Uniform(0)},{exposure:new r$4.Uniform(1),emissive:new r$4.Uniform(new r$4.Color(0)),emissiveMap:new r$4.Uniform(null),specular:new r$4.Uniform(new r$4.Color(1118481)),specularMap:new r$4.Uniform(null),normalMap:new r$4.Uniform(null),bumpMap:new r$4.Uniform(null),shininess:new r$4.Uniform(30)},r$4.UniformsLib.common,r$4.UniformsLib.lights),Et=function(va){function _a(eo){var to,ro,no,io,ao,oo,so;eo===void 0&&(eo={});var uo=va.call(this,{vertexShader:Mt,fragmentShader:ft,uniforms:r$4.UniformsUtils.clone(Dt),defines:{USE_MAP:!0,USE_UV:!0,USE_LUMINANCE:!1,USE_BLACK_TRANSITION:!1,USE_PANO_VIDEO:!1},blending:r$4.NoBlending,lights:!0})||this;return Object.defineProperties(uo,{pano0:{get:function(){return this.uniforms.pano0_map.value===Nt?null:{map:this.uniforms.pano0_map.value,luminanceMap:this.uniforms.pano0_luminanceMap.value,matrix:this.uniforms.pano0_matrix.value.clone()}},set:function(co){co===null?(this.uniforms.pano0_map.value=Nt,this.uniforms.pano0_luminanceMap.value=null,this.uniforms.pano0_matrix.value.identity()):(this.uniforms.pano0_map.value=co.map,this.uniforms.pano0_luminanceMap.value=co.luminanceMap,this.uniforms.pano0_matrix.value.copy(co.matrix));var fo=this.uniforms.pano0_luminanceMap.value!==null&&this.uniforms.pano1_luminanceMap.value!==null;this.defines.USE_LUMINANCE!==fo&&(this.defines.USE_LUMINANCE=fo,this.needsUpdate=!0)}},pano1:{get:function(){return this.uniforms.pano1_map.value===Nt?null:{map:this.uniforms.pano1_map.value,luminanceMap:this.uniforms.pano1_luminanceMap.value,matrix:this.uniforms.pano1_matrix.value.clone()}},set:function(co){co===null?(this.uniforms.pano1_map.value=Nt,this.uniforms.pano1_luminanceMap.value=null,this.uniforms.pano1_matrix.value.identity()):(this.uniforms.pano1_map.value=co.map,this.uniforms.pano1_luminanceMap.value=co.luminanceMap,this.uniforms.pano1_matrix.value.copy(co.matrix));var fo=this.uniforms.pano0_luminanceMap.value!==null&&this.uniforms.pano1_luminanceMap.value!==null;this.defines.USE_LUMINANCE!==fo&&(this.defines.USE_LUMINANCE=fo,this.needsUpdate=!0)}},modelAlpha:{get:function(){return this.uniforms.modelAlpha.value},set:function(co){this.uniforms.modelAlpha.value=co}},progress:{get:function(){return this.uniforms.progress.value},set:function(co){this.uniforms.progress.value=co}},useBlackTransition:{get:function(){return this.defines.USE_BLACK_TRANSITION},set:function(co){this.defines.USE_BLACK_TRANSITION!==co&&(this.defines.USE_BLACK_TRANSITION=co,this.needsUpdate=!0)}},opacity:{get:function(){return this.uniforms.opacity.value},set:function(co){this.uniforms.opacity.value=co;var fo=co<1?r$4.NormalBlending:r$4.NoBlending;fo!==this.blending&&(this.blending=fo,this.needsUpdate=!0)}},perspToOrtho:{get:function(){return this.uniforms.perspToOrtho.value},set:function(co){this.uniforms.perspToOrtho.value=co}}}),uo.pano0=(to=eo.pano0)!==null&&to!==void 0?to:null,uo.pano1=(ro=eo.pano1)!==null&&ro!==void 0?ro:null,uo.modelAlpha=(no=eo.modelAlpha)!==null&&no!==void 0?no:1,uo.progress=(io=eo.progress)!==null&&io!==void 0?io:0,uo.useBlackTransition=(ao=eo.useBlackTransition)!==null&&ao!==void 0&&ao,uo.perspToOrtho=(oo=eo.perspToOrtho)!==null&&oo!==void 0?oo:0,uo.opacity=(so=eo.opacity)!==null&&so!==void 0?so:1,uo.originOpacity=1,uo}return t$3.__extends(_a,va),_a}(r$4.ShaderMaterial),wt=function(va){function _a(eo){var to=eo.preserveDrawingBuffer,ro=to===void 0||to,no=eo.backgroundColor,io=no===void 0?1579548:no,ao=eo.backgroundAlpha,oo=ao===void 0?1:ao,so=eo.pixelRatio,uo=so===void 0?1:so,co=eo.antialias,fo=co!==void 0&&co,po=va.call(this,{antialias:fo,preserveDrawingBuffer:ro,alpha:oo<1})||this;return po.setPixelRatio(uo),po.setClearColor(io,oo),po.outputEncoding=r$4.sRGBEncoding,po.autoClear=!0,po}return t$3.__extends(_a,va),_a}(r$4.WebGLRenderer),It=function(va){function _a(){return va!==null&&va.apply(this,arguments)||this}return t$3.__extends(_a,va),_a.prototype.add=function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.prototype.add.apply(this,eo)},_a.prototype.remove=function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.prototype.remove.apply(this,eo)},_a}(r$4.Scene),Tt=2*Math.PI,xt=Math.PI/2;function jt(va){return va>0&&va<=Tt?va:(va%Tt+Tt)%Tt}var zt,Ct,bt,St,Lt=function(va){function _a(eo){var to=va.call(this,eo,1,.1,1e3)||this;return to.pose={longitude:0,latitude:0,fov:eo,distance:0,offset:new r$4.Vector3},to.computePose(),to}return t$3.__extends(_a,va),_a.prototype.computePose=function(){var eo=this.getWorldDirection(new r$4.Vector3);return this.pose.longitude=jt(-Math.atan2(eo.x,-eo.z)),this.pose.latitude=-Math.asin(eo.y/1),this.pose.fov=this.fov,this.pose.distance=0,this.pose.offset.copy(this.position),this},_a.prototype.setFromPose=function(eo){var to,ro,no,io,ao,oo=jt((to=eo.longitude)!==null&&to!==void 0?to:this.pose.longitude),so=Math.max(1e-4-xt,Math.min(xt-1e-4,(ro=eo.latitude)!==null&&ro!==void 0?ro:this.pose.latitude)),uo=(no=eo.fov)!==null&&no!==void 0?no:this.pose.fov,co=(io=eo.distance)!==null&&io!==void 0?io:this.pose.distance,fo=(ao=eo.offset)!==null&&ao!==void 0?ao:this.pose.offset,po=function(vo){var go=Math.abs(Math.cos(vo.latitude));return new r$4.Vector3(-Math.sin(vo.longitude)*go,-Math.sin(vo.latitude),-Math.cos(vo.longitude)*go)}({longitude:oo,latitude:so}).normalize();return this.position.set(0,0,0),this.lookAt(po),this.position.add(fo).sub(po.clone().setLength(co)),this.fov!==uo&&(this.fov=uo,this.updateProjectionMatrix()),this.updateMatrixWorld(),this.pose.longitude=oo,this.pose.latitude=so,this.pose.fov=uo,this.pose.distance=co,this.pose.offset.copy(fo),this},_a.prototype.copyPose=function(){return{longitude:this.pose.longitude,latitude:this.pose.latitude,fov:this.pose.fov,distance:this.pose.distance,offset:this.pose.offset.clone()}},_a}(r$4.PerspectiveCamera),Ot=function(){function va(_a,eo,to){this.x=_a,this.y=eo,this.z=to}return va.prototype.copy=function(_a){return this.x=_a.x,this.y=_a.y,this.z=_a.z,this},va.prototype.set=function(_a,eo,to){return this.x=_a,this.y=eo,this.z=to,this},va.prototype.fromArray=function(_a,eo){return eo===void 0&&(eo=0),this.x=_a[eo],this.y=_a[eo+1],this.z=_a[eo+2],this},va.prototype.add=function(_a){return this.x+=_a.x,this.y+=_a.y,this.z+=_a.z,this},va.prototype.multiplyScalar=function(_a){return this.x*=_a,this.y*=_a,this.z*=_a,this},va.prototype.subVectors=function(_a,eo){return this.x=_a.x-eo.x,this.y=_a.y-eo.y,this.z=_a.z-eo.z,this},va.prototype.dot=function(_a){return this.x*_a.x+this.y*_a.y+this.z*_a.z},va.prototype.cross=function(_a){var eo=this.x,to=this.y,ro=this.z;return this.x=to*_a.z-ro*_a.y,this.y=ro*_a.x-eo*_a.z,this.z=eo*_a.y-to*_a.x,this},va.prototype.crossVectors=function(_a,eo){var to=_a.x,ro=_a.y,no=_a.z,io=eo.x,ao=eo.y,oo=eo.z;return this.x=ro*oo-no*ao,this.y=no*io-to*oo,this.z=to*ao-ro*io,this},va.prototype.clone=function(){return new va(this.x,this.y,this.z)},va}(),Bt=function(va,_a,eo){this.extents=va,this.startIndex=_a,this.endIndex=eo},Qt=function(va,_a){this.triangle=va,this.intersectionPoint=_a},kt=(zt=new Ot(0,0,0),Ct=new Ot(0,0,0),bt=new Ot(0,0,0),St=new Ot(0,0,0),function(va,_a,eo,to,ro,no){Ct.subVectors(_a,va),bt.subVectors(eo,va),St.crossVectors(Ct,bt);var io,ao=ro.dot(St);if(ao>0){if(no)return null;io=1}else{if(!(ao<0))return null;io=-1,ao=-ao}zt.subVectors(to,va);var oo=io*ro.dot(bt.crossVectors(zt,bt));if(oo<0)return null;var so=io*ro.dot(Ct.cross(zt));if(so<0||oo+so>ao)return null;var uo=-io*zt.dot(St);if(uo<0)return null;var co=uo/ao;return new Ot(0,0,0).copy(ro).multiplyScalar(co).add(to)}),Pt=function(va,_a){this.min=va,this.max=_a};function Ut(va,_a,eo){var to=new Pt(0,0);_a.x>=0?(to.min=(eo.extents[0]-va.x)*_a.x,to.max=(eo.extents[3]-va.x)*_a.x):(to.min=(eo.extents[3]-va.x)*_a.x,to.max=(eo.extents[0]-va.x)*_a.x);var ro=new Pt(0,0);if(_a.y>=0?(ro.min=(eo.extents[1]-va.y)*_a.y,ro.max=(eo.extents[4]-va.y)*_a.y):(ro.min=(eo.extents[4]-va.y)*_a.y,ro.max=(eo.extents[1]-va.y)*_a.y),to.min>ro.max||ro.min>to.max)return!1;ro.min>to.min&&(to.min=ro.min),ro.max<to.max&&(to.max=ro.max);var no=new Pt(0,0);return _a.z>=0?(no.min=(eo.extents[2]-va.z)*_a.z,no.max=(eo.extents[5]-va.z)*_a.z):(no.min=(eo.extents[5]-va.z)*_a.z,no.max=(eo.extents[2]-va.z)*_a.z),!(to.min>no.max||no.min>to.max)&&(no.min>to.min&&(to.min=no.min),no.max<to.max&&(to.max=no.max),!(to.max<0))}function Rt(va,_a,eo,to,ro){if(eo>=to)return[0,0,0,0,0,0];for(var no=1/0,io=1/0,ao=1/0,oo=-1/0,so=-1/0,uo=-1/0,co=eo,fo=void 0,po=void 0;co<to;co++)(po=_a[fo=6*va[co]])<no&&(no=po),(po=_a[fo+1])<io&&(io=po),(po=_a[fo+2])<ao&&(ao=po),(po=_a[fo+3])>oo&&(oo=po),(po=_a[fo+4])>so&&(so=po),(po=_a[fo+5])>uo&&(uo=po);return[no-ro,io-ro,ao-ro,oo+ro,so+ro,uo+ro]}var _t$1=function(){function va(){}return va.prototype.create=function(_a){return this.trianglesArray=_a,this},va.prototype.splitNode=function(_a){if(!this.trianglesArray)throw new Error("bvh-tree never perpared. call `create` to initialize.");for(var eo=this.trianglesArray,to=eo.length/9,ro=new Uint32Array(to),no=new Float32Array(6*to),io=[],ao=1/0,oo=1/0,so=1/0,uo=-1/0,co=-1/0,fo=-1/0,po=0,vo=0,go=0,mo=void 0,lo=void 0,ho=void 0,yo=void 0,Ao=void 0,Eo=void 0,To=void 0;po<to;po++,vo+=6,go+=9)ro[po]=po,mo=yo=eo[go],(To=eo[go+3])<mo&&(mo=To),To>yo&&(yo=To),(To=eo[go+6])<mo&&(mo=To),To>yo&&(yo=To),lo=Ao=eo[go+1],(To=eo[go+4])<lo&&(lo=To),To>Ao&&(Ao=To),(To=eo[go+7])<lo&&(lo=To),To>Ao&&(Ao=To),ho=Eo=eo[go+2],(To=eo[go+5])<ho&&(ho=To),To>Eo&&(Eo=To),(To=eo[go+8])<ho&&(ho=To),To>Eo&&(Eo=To),mo<ao&&(ao=mo),yo>uo&&(uo=yo),lo<oo&&(oo=lo),Ao>co&&(co=Ao),ho<so&&(so=ho),Eo>fo&&(fo=Eo),no[vo]=mo,no[vo+1]=lo,no[vo+2]=ho,no[vo+3]=yo,no[vo+4]=Ao,no[vo+5]=Eo;var No,Co=new Bt([ao,oo,so,uo,co,fo],0,to);function Io(Mo){for(var wo=Mo.startIndex,xo=Mo.endIndex,bo=Mo.extents,So=[bo[3]-bo[0],bo[4]-bo[1],bo[5]-bo[2]],Do=[0,1,2].sort(function(Ks,Gs){return So[Gs]-So[Ks]}),Oo=0;Oo<3;Oo++){for(var Bo=Do[Oo],$o=bo[Bo]+bo[Bo+3],Vo=wo,Ho=xo-1,Fo=-1,Ko=void 0;Vo<Ho;)Fo===-1?(Ko=ro[Vo],no[6*Ko+Bo]+no[6*Ko+Bo+3]<$o?Vo++:Fo=Ko):(Ko=ro[Ho],no[6*Ko+Bo]+no[6*Ko+Bo+3]>=$o||(ro[Vo]=Ko,ro[Ho]=Fo,Fo=-1,Vo++),Ho--);if(Vo>wo){var $s=new Bt(Rt(ro,no,wo,Vo,1e-6),wo,Vo);$s.endIndex-$s.startIndex>_a&&io.push($s);var au=new Bt(Rt(ro,no,Vo,xo,1e-6),Vo,xo);au.endIndex-au.startIndex>_a&&io.push(au),Mo.node0=$s,Mo.node1=au,Mo.startIndex=0,Mo.endIndex=0;break}}}for(io.push(Co);No=io.pop();)Io(No);return this.offsetArray=ro,this.rootNode=Co,this},va.prototype.intersectRay=function(_a,eo,to){if(!this.trianglesArray)throw new Error("bvh-tree never perpared. call `create` to initialize.");if(!this.rootNode||!this.offsetArray)throw new Error("bvh-tree never perpared. call `splitNode` to perpare.");for(var ro,no=this.trianglesArray,io=this.offsetArray,ao=this.rootNode,oo=[],so=[],uo=new Ot(1/eo.x,1/eo.y,1/eo.z),co=[ao];ro=co.pop();)if(Ut(_a,uo,ro)){ro.node0&&co.push(ro.node0),ro.node1&&co.push(ro.node1);for(var fo=ro.startIndex;fo<ro.endIndex;fo++)oo.push(io[fo])}for(var po=new Ot(0,0,0),vo=new Ot(0,0,0),go=new Ot(0,0,0),mo=new Ot(_a.x,_a.y,_a.z),lo=new Ot(eo.x,eo.y,eo.z),ho=(fo=0,void 0),yo=oo.length;fo<yo;fo++){ho=9*oo[fo],po.x=no[ho],po.y=no[ho+1],po.z=no[ho+2],vo.x=no[ho+3],vo.y=no[ho+3+1],vo.z=no[ho+3+2],go.x=no[ho+6],go.y=no[ho+6+1],go.z=no[ho+6+2];var Ao=kt(po,vo,go,mo,lo,to);Ao&&so.push(new Qt([po.clone(),vo.clone(),go.clone()],Ao))}return so},va.prototype.dispose=function(){delete this.offsetArray,delete this.rootNode},va}(),Yt=null,Ft=!1,Ht=[];function Vt(va){if(va===void 0&&(va=!1),va||!Ft)if(Yt)Ft=!1;else{Ft=!0;var _a=Ht.shift();if(_a){try{_a()}catch{}ot.shared.add(function(){return Vt(!0)},!0,2)}else Ft=!1}}function Gt(){Yt=null,Vt()}function Kt(va){return new Promise(function(_a,eo){Ht.push(function(){try{_a(va())}catch(to){eo(to)}}),Vt()})}function qt(){var va={OutWindow:function(){this._windowSize=0}};return va.OutWindow.prototype.create=function(_a){this._buffer&&this._windowSize===_a||(this._buffer=[]),this._windowSize=_a,this._pos=0,this._streamPos=0},va.OutWindow.prototype.flush=function(){var _a=this._pos-this._streamPos;if(_a!==0){for(;_a--;)this._stream.writeByte(this._buffer[this._streamPos++]);this._pos>=this._windowSize&&(this._pos=0),this._streamPos=this._pos}},va.OutWindow.prototype.releaseStream=function(){this.flush(),this._stream=null},va.OutWindow.prototype.setStream=function(_a){this.releaseStream(),this._stream=_a},va.OutWindow.prototype.init=function(_a){_a||(this._streamPos=0,this._pos=0)},va.OutWindow.prototype.copyBlock=function(_a,eo){var to=this._pos-_a-1;for(to<0&&(to+=this._windowSize);eo--;)to>=this._windowSize&&(to=0),this._buffer[this._pos++]=this._buffer[to++],this._pos>=this._windowSize&&this.flush()},va.OutWindow.prototype.putByte=function(_a){this._buffer[this._pos++]=_a,this._pos>=this._windowSize&&this.flush()},va.OutWindow.prototype.getByte=function(_a){var eo=this._pos-_a-1;return eo<0&&(eo+=this._windowSize),this._buffer[eo]},va.RangeDecoder=function(){},va.RangeDecoder.prototype.setStream=function(_a){this._stream=_a},va.RangeDecoder.prototype.releaseStream=function(){this._stream=null},va.RangeDecoder.prototype.init=function(){var _a=5;for(this._code=0,this._range=-1;_a--;)this._code=this._code<<8|this._stream.readByte()},va.RangeDecoder.prototype.decodeDirectBits=function(_a){for(var eo,to=0,ro=_a;ro--;)this._range>>>=1,eo=this._code-this._range>>>31,this._code-=this._range&eo-1,to=to<<1|1-eo,(4278190080&this._range)==0&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8);return to},va.RangeDecoder.prototype.decodeBit=function(_a,eo){var to=_a[eo],ro=(this._range>>>11)*to;return(2147483648^this._code)<(2147483648^ro)?(this._range=ro,_a[eo]+=2048-to>>>5,(4278190080&this._range)==0&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8),0):(this._range-=ro,this._code-=ro,_a[eo]-=to>>>5,(4278190080&this._range)==0&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8),1)},va.initBitModels=function(_a,eo){for(;eo--;)_a[eo]=1024},va.BitTreeDecoder=function(_a){this._models=[],this._numBitLevels=_a},va.BitTreeDecoder.prototype.init=function(){va.initBitModels(this._models,1<<this._numBitLevels)},va.BitTreeDecoder.prototype.decode=function(_a){for(var eo=1,to=this._numBitLevels;to--;)eo=eo<<1|_a.decodeBit(this._models,eo);return eo-(1<<this._numBitLevels)},va.BitTreeDecoder.prototype.reverseDecode=function(_a){for(var eo,to=1,ro=0,no=0;no<this._numBitLevels;++no)to=to<<1|(eo=_a.decodeBit(this._models,to)),ro|=eo<<no;return ro},va.reverseDecode2=function(_a,eo,to,ro){for(var no,io=1,ao=0,oo=0;oo<ro;++oo)io=io<<1|(no=to.decodeBit(_a,eo+io)),ao|=no<<oo;return ao},va.LenDecoder=function(){this._choice=[],this._lowCoder=[],this._midCoder=[],this._highCoder=new va.BitTreeDecoder(8),this._numPosStates=0},va.LenDecoder.prototype.create=function(_a){for(;this._numPosStates<_a;++this._numPosStates)this._lowCoder[this._numPosStates]=new va.BitTreeDecoder(3),this._midCoder[this._numPosStates]=new va.BitTreeDecoder(3)},va.LenDecoder.prototype.init=function(){var _a=this._numPosStates;for(va.initBitModels(this._choice,2);_a--;)this._lowCoder[_a].init(),this._midCoder[_a].init();this._highCoder.init()},va.LenDecoder.prototype.decode=function(_a,eo){return _a.decodeBit(this._choice,0)===0?this._lowCoder[eo].decode(_a):_a.decodeBit(this._choice,1)===0?8+this._midCoder[eo].decode(_a):16+this._highCoder.decode(_a)},va.Decoder2=function(){this._decoders=[]},va.Decoder2.prototype.init=function(){va.initBitModels(this._decoders,768)},va.Decoder2.prototype.decodeNormal=function(_a){var eo=1;do eo=eo<<1|_a.decodeBit(this._decoders,eo);while(eo<256);return 255&eo},va.Decoder2.prototype.decodeWithMatchByte=function(_a,eo){var to,ro,no=1;do if(to=eo>>7&1,eo<<=1,no=no<<1|(ro=_a.decodeBit(this._decoders,(1+to<<8)+no)),to!==ro){for(;no<256;)no=no<<1|_a.decodeBit(this._decoders,no);break}while(no<256);return 255&no},va.LiteralDecoder=function(){},va.LiteralDecoder.prototype.create=function(_a,eo){var to;if(!this._coders||this._numPrevBits!==eo||this._numPosBits!==_a)for(this._numPosBits=_a,this._posMask=(1<<_a)-1,this._numPrevBits=eo,this._coders=[],to=1<<this._numPrevBits+this._numPosBits;to--;)this._coders[to]=new va.Decoder2},va.LiteralDecoder.prototype.init=function(){for(var _a=1<<this._numPrevBits+this._numPosBits;_a--;)this._coders[_a].init()},va.LiteralDecoder.prototype.getDecoder=function(_a,eo){return this._coders[((_a&this._posMask)<<this._numPrevBits)+((255&eo)>>>8-this._numPrevBits)]},va.Decoder=function(){this._outWindow=new va.OutWindow,this._rangeDecoder=new va.RangeDecoder,this._isMatchDecoders=[],this._isRepDecoders=[],this._isRepG0Decoders=[],this._isRepG1Decoders=[],this._isRepG2Decoders=[],this._isRep0LongDecoders=[],this._posSlotDecoder=[],this._posDecoders=[],this._posAlignDecoder=new va.BitTreeDecoder(4),this._lenDecoder=new va.LenDecoder,this._repLenDecoder=new va.LenDecoder,this._literalDecoder=new va.LiteralDecoder,this._dictionarySize=-1,this._dictionarySizeCheck=-1,this._posSlotDecoder[0]=new va.BitTreeDecoder(6),this._posSlotDecoder[1]=new va.BitTreeDecoder(6),this._posSlotDecoder[2]=new va.BitTreeDecoder(6),this._posSlotDecoder[3]=new va.BitTreeDecoder(6)},va.Decoder.prototype.setDictionarySize=function(_a){return!(_a<0)&&(this._dictionarySize!==_a&&(this._dictionarySize=_a,this._dictionarySizeCheck=Math.max(this._dictionarySize,1),this._outWindow.create(Math.max(this._dictionarySizeCheck,4096))),!0)},va.Decoder.prototype.setLcLpPb=function(_a,eo,to){var ro=1<<to;return!(_a>8||eo>4||to>4)&&(this._literalDecoder.create(eo,_a),this._lenDecoder.create(ro),this._repLenDecoder.create(ro),this._posStateMask=ro-1,!0)},va.Decoder.prototype.init=function(){var _a=4;for(this._outWindow.init(!1),va.initBitModels(this._isMatchDecoders,192),va.initBitModels(this._isRep0LongDecoders,192),va.initBitModels(this._isRepDecoders,12),va.initBitModels(this._isRepG0Decoders,12),va.initBitModels(this._isRepG1Decoders,12),va.initBitModels(this._isRepG2Decoders,12),va.initBitModels(this._posDecoders,114),this._literalDecoder.init();_a--;)this._posSlotDecoder[_a].init();this._lenDecoder.init(),this._repLenDecoder.init(),this._posAlignDecoder.init(),this._rangeDecoder.init()},va.Decoder.prototype.decode=function(_a,eo,to){var ro,no,io,ao,oo,so,uo=0,co=0,fo=0,po=0,vo=0,go=0,mo=0;for(this._rangeDecoder.setStream(_a),this._outWindow.setStream(eo),this.init();to<0||go<to;)if(ro=go&this._posStateMask,this._rangeDecoder.decodeBit(this._isMatchDecoders,(uo<<4)+ro)===0)no=this._literalDecoder.getDecoder(go++,mo),mo=uo>=7?no.decodeWithMatchByte(this._rangeDecoder,this._outWindow.getByte(co)):no.decodeNormal(this._rangeDecoder),this._outWindow.putByte(mo),uo=uo<4?0:uo-(uo<10?3:6);else{if(this._rangeDecoder.decodeBit(this._isRepDecoders,uo)===1)io=0,this._rangeDecoder.decodeBit(this._isRepG0Decoders,uo)===0?this._rangeDecoder.decodeBit(this._isRep0LongDecoders,(uo<<4)+ro)===0&&(uo=uo<7?9:11,io=1):(this._rangeDecoder.decodeBit(this._isRepG1Decoders,uo)===0?ao=fo:(this._rangeDecoder.decodeBit(this._isRepG2Decoders,uo)===0?ao=po:(ao=vo,vo=po),po=fo),fo=co,co=ao),io===0&&(io=2+this._repLenDecoder.decode(this._rangeDecoder,ro),uo=uo<7?8:11);else if(vo=po,po=fo,fo=co,io=2+this._lenDecoder.decode(this._rangeDecoder,ro),uo=uo<7?7:10,(oo=this._posSlotDecoder[io<=5?io-2:3].decode(this._rangeDecoder))>=4){if(co=(2|1&oo)<<(so=(oo>>1)-1),oo<14)co+=va.reverseDecode2(this._posDecoders,co-oo-1,this._rangeDecoder,so);else if(co+=this._rangeDecoder.decodeDirectBits(so-4)<<4,(co+=this._posAlignDecoder.reverseDecode(this._rangeDecoder))<0){if(co===-1)break;return!1}}else co=oo;if(co>=go||co>=this._dictionarySizeCheck)return!1;this._outWindow.copyBlock(co,io),go+=io,mo=this._outWindow.getByte(0)}return this._outWindow.flush(),this._outWindow.releaseStream(),this._rangeDecoder.releaseStream(),!0},va.Decoder.prototype.setDecoderProperties=function(_a){var eo,to,ro,no,io;return!(_a.size<5)&&(to=(eo=_a.readByte())%9,ro=(eo=~~(eo/9))%5,no=~~(eo/5),!!this.setLcLpPb(to,ro,no)&&(io=_a.readByte(),io|=_a.readByte()<<8,io|=_a.readByte()<<16,io+=16777216*_a.readByte(),this.setDictionarySize(io)))},va.decompress=function(_a,eo,to,ro){var no=new va.Decoder;if(!no.setDecoderProperties(_a))throw"Incorrect stream properties";if(!no.decode(eo,to,ro))throw"Error in data stream";return!0},va.decompressFile=function(_a,eo){var to,ro=new va.Decoder;if(!ro.setDecoderProperties(_a))throw"Incorrect stream properties";if(to=_a.readByte(),to|=_a.readByte()<<8,to|=_a.readByte()<<16,to+=16777216*_a.readByte(),_a.readByte(),_a.readByte(),_a.readByte(),_a.readByte(),!ro.decode(_a,eo,to))throw"Error in data stream";return!0},va}var Wt=qt(),Xt=`
var decodeLZMA = (function() {
  var LZMA = (`.concat(qt.toString(),`)();
  return function(data, callback) {
    return (`).concat(function(va,_a,eo){try{var to={data:_a,offset:0,readByte:function(){return this.data[this.offset++]}},ro=to.data.length,no={data:[],offset:0,writeByte:function(oo){var so=Math.floor(this.offset/ro);this.data[so]||(this.data[so]=new Uint8Array(ro)),this.data[so][this.offset%ro]=oo,this.offset++}};va.decompressFile(to,no);for(var io=new Uint8Array(no.offset),ao=0;ao<no.offset;ao++)io[ao]=no.data[Math.floor(ao/ro)][ao%ro];eo(null,io)}catch(oo){eo(oo)}}.toString(),`)(LZMA, data, callback);
  }
})();

var decodeLZMAWithWASM = (function() {
  var LZMA_WASM = (`).concat(function(){return function(va){for(var _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eo=new Uint8Array(256),to=0;to<_a.length;to++)eo[_a.charCodeAt(to)]=to;var ro,no,io,ao,oo,so=.75*va.length,uo=va.length,co=0;va[va.length-1]==="="&&(so--,va[va.length-2]==="="&&so--);var fo=new ArrayBuffer(so),po=new Uint8Array(fo);for(ro=0;ro<uo;ro+=4)no=eo[va.charCodeAt(ro)],io=eo[va.charCodeAt(ro+1)],ao=eo[va.charCodeAt(ro+2)],oo=eo[va.charCodeAt(ro+3)],po[co++]=no<<2|io>>4,po[co++]=(15&io)<<4|ao>>2,po[co++]=(3&ao)<<6|63&oo;return fo}("AGFzbQEAAAABSg1gAABgAX8Bf2ACf38Bf2AEf39/fwBgA39/fwBgAX8AYAJ/fwBgA39/fwF/YAR/f39/AX9gAn9/AGABfwF/YAABf2AEf39/fwF/AhsCA2VudgVhYm9ydAADA2VudgZtZW1vcnkCAAEDJiUBAQkKAgoKCwsLCwsAAgoBAgQKAQYFCAoFBQQEBwgCBwwCAQAABAQBcAABBhoFfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwc9BgZtZW1vcnkCAAV0YWJsZQEABXJlc2V0AA0KbmV3VThBcnJheQAQCnVucGFja1NpemUAFAZkZWNvZGUAIwgBJAkHAQBBAAsBJQqAViVoAQN/IABBgICAgARLBEAACyMBIgEgAEEBIABBAUsbakEHakF4cSICPwAiA0EQdEsEQCADIAIgAWtB//8DakGAgHxxQRB2IgAgAyAAShtAAEEASARAIABAAEEASARAAAsLCyACJAEgAQsbAQF/QQFBICAAQQdqZ2t0EAEiASAANgIAIAELkQMBAX8gAUUEQA8LIABBADoAACAAIAFqQQFrQQA6AAAgAUECTQRADwsgAEEBakEAOgAAIABBAmpBADoAACAAIAFqIgJBAmtBADoAACACQQNrQQA6AAAgAUEGTQRADwsgAEEDakEAOgAAIAAgAWpBBGtBADoAACABQQhNBEAPC0EAIABrQQNxIgIgAGoiAEEANgIAIAEgAmtBfHEiASAAakEEa0EANgIAIAFBCE0EQA8LIABBBGpBADYCACAAQQhqQQA2AgAgACABaiICQQxrQQA2AgAgAkEIa0EANgIAIAFBGE0EQA8LIABBDGpBADYCACAAQRBqQQA2AgAgAEEUakEANgIAIABBGGpBADYCACAAIAFqIgJBHGtBADYCACACQRhrQQA2AgAgAkEUa0EANgIAIAJBEGtBADYCACAAQQRxQRhqIgIgAGohACABIAJrIQEDQCABQSBPBEAgAEIANwMAIABBCGpCADcDACAAQRBqQgA3AwAgAEEYakIANwMAIAFBIGshASAAQSBqIQAMAQsLC1EBA38gAEH+////AEsEQEEAQSBBLUEnEAAACyAAQQJ0IgMQAiECQQgQASIBQQA2AgAgAUEANgIEIAEgAjYCACABIAA2AgQgAkEIaiADEAMgAQtmAQF/IAFB/P///wFLBEBBAEHAAEEXQSIQAAALIAFBAXQiARACIgJBCGogARADIABFBEBBDBABIQALIABBADYCACAAQQA2AgQgAEEANgIIIAAgAjYCACAAQQA2AgQgACABNgIIIAALCgBBDBABIAAQBQsuAQF/QQgQASIBQQA2AgAgAUEANgIEIAEgADYCBCABQQEgASgCBHQQBjYCACABC6EBAQR/QRAQASIBQQA2AgAgAUEANgIEIAFBADYCCCABQQA2AgxBEBAEIQIDQCAAQRBIBEBBAxAHIQMgAigCACAAQQJ0aiADNgIIIABBAWohAAwBCwsgASACNgIEQRAQBCECQQAhAANAIABBEEgEQEEDEAchAyACKAIAIABBAnRqIAM2AgggAEEBaiEADAELCyABIAI2AgggAUEIEAc2AgwgAQs0AQF/QRQQASIAQQA2AgAgAEEAOgAEIABBADYCCCAAQQA2AgwgAEEANgIQIABBDTYCCCAAC0IBAX9BGRABIgBBADYCACAAQQA2AgQgAEEANgIIIABBADYCDCAAQQA2AhAgAEEANgIUIABBADoAGCAAQQA2AhAgAAu1AgEEf0HQABABIgBBADoAACAAQQA2AgQgAEEANgIIIABBADYCDCAAQQA2AhAgAEEAOgAUIABBADYCGCAAQQA2AhwgAEEANgIgIABBADYCJCAAQQA2AiggAEEANgIsIABBADYCMCAAQQA2AjQgAEEANgI4IABBADYCPCAAQQA2AkAgAEEANgJEIABBADYCSCAAQQA2AkxBBBAEIQIDQCABQQRIBEBBBhAHIQMgAigCACABQQJ0aiADNgIIIAFBAWohAQwBCwsgACACNgIkIABBBBAHNgIoIABB8wAQBjYCLCAAQcABEAY2AjAgAEEMEAY2AjQgAEEMEAY2AjggAEEMEAY2AjwgAEEMEAY2AkAgAEHAARAGNgJEIAAQCDYCSCAAEAg2AkwgABAJNgIEIAAQCjYCCCAACx8BAX9BCBABIgBBADYCACAAQQA2AgQgABALNgIAIAALCgAjACQBEAwkAwthAQF/IAFB+P///wNLBEBBAEHAAEEXQSIQAAALIAEQAiICQQhqIAEQAyAARQRAQQwQASEACyAAQQA2AgAgAEEANgIEIABBADYCCCAAIAI2AgAgAEEANgIEIAAgATYCCCAACwoAQQwQASAAEA4LBgAgABAPCyoAIAEgACgCCE8EQEEAQcAAQSdBPxAAAAsgACgCBCABIAAoAgBqai0ACAssACABIAAoAghPBEBBAEHAAEEyQT8QAAALIAAoAgQgASAAKAIAamogAjoACAtkAQJ/QQ0QDyECA0AgAUENSARAIAIgASAAIAEQEUH/AXEQEiABQQFqIQEMAQsLQQAhAEEAIQEDQCABQQhIBEAgAiABQQVqEBFB/wFxIAFBA3R0IAByIQAgAUEBaiEBDAELCyAACwYAIAAQEwsnACAAIAEQDzYCCCAAQQA2AgwgACABNgIUIABBADoAGCAAQQA2AgALJAAgACgCCCAAKAIYEBUgAEGABiAAKAIMIAAtABRqdBAGNgIgC5UBAQR/IAEhBSAAIgYoAgAhASAAKAIEIQcgACgCCEEBdiEEIAJBAEgEfyACIARqIgBBACAAQQBKGwUgAiIAIAQgACAESBsLIQIgA0EASAR/IAMgBGoiAEEAIABBAEobBSADIgAgBCAAIARIGwshAwNAIAIgA05FBEAgAkEBdCABaiAHaiAFOwEIIAJBAWohAgwBCwsgBgssAQF/AkACQAJAIwRBAWsOAwEBAgALAAtB/////wchAQsgAEGACEEAIAEQFwvBAQECfyAAQQIQBjYCACAAKAIAIgEoAgAgASgCBGpBgAg7AQggACgCACICKAIAIQEgAigCBCABQQJqakGACDsBCCAAKAIMKAIAQQEkBBAYGkEAIQIDQCACQRBIBEAgAiAAKAIEKAIAIgEoAgBBAnZJBH8gAkECdCABaigCCAUACygCAEEBJAQQGBogAiAAKAIIKAIAIgEoAgBBAnZJBH8gAkECdCABaigCCAUACygCAEEBJAQQGBogAkEBaiECDAELCwuHAgEFfyAAIQJBgAYgACgCDCAALQAUanQhAQNAIAMgAUgEQCACKAIgIgQoAgAhBSAEKAIEIANBAXQgBWpqQYAIOwEIIANBAWohAwwBCwsgAiEBQQAhAgNAIAJBBEkEQCACIAEoAiQoAgAiAygCAEECdkkEfyACQQJ0IANqKAIIBQALKAIAQQEkBBAYGiACQQFqIQIMAQsLIAEoAigoAgBBASQEEBgaIAEoAixBASQEEBgaIAAoAjBBASQEEBgaIAAoAjRBASQEEBgaIAAoAjhBASQEEBgaIAAoAjxBASQEEBgaIAAoAkBBASQEEBgaIAAoAkRBASQEEBgaIAAoAkgQGSAAKAJMEBkLyAwBA38DQCABQQNxIAIgAhsEQCAAIgRBAWohACABIgNBAWohASAEIAMtAAA6AAAgAkEBayECDAELCyAAQQNxRQRAA0AgAkEQTwRAIAAgASgCADYCACAAQQRqIAFBBGooAgA2AgAgAEEIaiABQQhqKAIANgIAIABBDGogAUEMaigCADYCACABQRBqIQEgAEEQaiEAIAJBEGshAgwBCwsgAkEIcQRAIAAgASgCADYCACAAQQRqIAFBBGooAgA2AgAgAUEIaiEBIABBCGohAAsgAkEEcQRAIAAgASgCADYCACABQQRqIQEgAEEEaiEACyACQQJxBEAgACABLwEAOwEAIAFBAmohASAAQQJqIQALIAJBAXEEQCAAIAEtAAA6AAALDwsgAkEgTwRAAkACQAJAIABBA3EiA0EBRwRAIANBAkYNASADQQNGDQIMAwsgASgCACEFIAAgASIDLQAAOgAAIABBAWoiASABIANBAWoiAS0AADoAAEEBaiIEQQFqIQAgAUEBaiIDQQFqIQEgBCADLQAAOgAAIAJBA2shAgNAIAJBEU8EQCAAIAFBAWooAgAiA0EIdCAFQRh2cjYCACAAQQRqIAFBBWooAgAiBUEIdCADQRh2cjYCACAAQQhqIAFBCWooAgAiA0EIdCAFQRh2cjYCACAAQQxqIAFBDWooAgAiBUEIdCADQRh2cjYCACABQRBqIQEgAEEQaiEAIAJBEGshAgwBCwsMAgsgASgCACEFIAAgAS0AADoAACAAQQFqIgRBAWohACABQQFqIgNBAWohASAEIAMtAAA6AAAgAkECayECA0AgAkESTwRAIAAgAUECaigCACIDQRB0IAVBEHZyNgIAIABBBGogAUEGaigCACIFQRB0IANBEHZyNgIAIABBCGogAUEKaigCACIDQRB0IAVBEHZyNgIAIABBDGogAUEOaigCACIFQRB0IANBEHZyNgIAIAFBEGohASAAQRBqIQAgAkEQayECDAELCwwBCyABKAIAIQUgACIEQQFqIQAgASIDQQFqIQEgBCADLQAAOgAAIAJBAWshAgNAIAJBE08EQCAAIAFBA2ooAgAiA0EYdCAFQQh2cjYCACAAQQRqIAFBB2ooAgAiBUEYdCADQQh2cjYCACAAQQhqIAFBC2ooAgAiA0EYdCAFQQh2cjYCACAAQQxqIAFBD2ooAgAiBUEYdCADQQh2cjYCACABQRBqIQEgAEEQaiEAIAJBEGshAgwBCwsLCyACQRBxBEAgACABIgMtAAA6AAAgAEEBaiIBIAEgA0EBaiIBLQAAOgAAQQFqIgMgAyABQQFqIgEtAAA6AABBAWoiAyADIAFBAWoiAS0AADoAAEEBaiIDIAMgAUEBaiIBLQAAOgAAQQFqIgMgAyABQQFqIgEtAAA6AABBAWoiAyADIAFBAWoiAS0AADoAAEEBaiIDIAMgAUEBaiIBLQAAOgAAQQFqIgMgAyABQQFqIgEtAAA6AABBAWoiAyADIAFBAWoiAS0AADoAAEEBaiIDIAMgAUEBaiIBLQAAOgAAQQFqIgMgAyABQQFqIgEtAAA6AABBAWoiAyADIAFBAWoiAS0AADoAAEEBaiIDIAMgAUEBaiIBLQAAOgAAQQFqIgMgAyABQQFqIgEtAAA6AABBAWoiBEEBaiEAIAFBAWoiA0EBaiEBIAQgAy0AADoAAAsgAkEIcQRAIAAgASIDLQAAOgAAIABBAWoiASABIANBAWoiAS0AADoAAEEBaiIDIAMgAUEBaiIBLQAAOgAAQQFqIgMgAyABQQFqIgEtAAA6AABBAWoiAyADIAFBAWoiAS0AADoAAEEBaiIDIAMgAUEBaiIBLQAAOgAAQQFqIgMgAyABQQFqIgEtAAA6AABBAWoiBEEBaiEAIAFBAWoiA0EBaiEBIAQgAy0AADoAAAsgAkEEcQRAIAAgASIDLQAAOgAAIABBAWoiASABIANBAWoiAS0AADoAAEEBaiIDIAMgAUEBaiIBLQAAOgAAQQFqIgRBAWohACABQQFqIgNBAWohASAEIAMtAAA6AAALIAJBAnEEQCAAIAEtAAA6AAAgAEEBaiIEQQFqIQAgAUEBaiIDQQFqIQEgBCADLQAAOgAACyACQQFxBEAgACABLQAAOgAACwvVAgECfyAAIAFGBEAPCyABIAJqIABNIgNFBEAgACACaiABTSEDCyADBEAgACABIAIQGw8LIAAgAUkEQCABQQdxIABBB3FGBEADQCAAQQdxBEAgAkUEQA8LIAJBAWshAiAAIgRBAWohACABIgNBAWohASAEIAMtAAA6AAAMAQsLA0AgAkEITwRAIAAgASkDADcDACACQQhrIQIgAEEIaiEAIAFBCGohAQwBCwsLA0AgAgRAIAAiBEEBaiEAIAEiA0EBaiEBIAQgAy0AADoAACACQQFrIQIMAQsLBSABQQdxIABBB3FGBEADQCAAIAJqQQdxBEAgAkUEQA8LIAJBAWsiAiAAaiABIAJqLQAAOgAADAELCwNAIAJBCE8EQCACQQhrIgIgAGogASACaikDADcDAAwBCwsLA0AgAgRAIAJBAWsiAiAAaiABIAJqLQAAOgAADAELCwsL4AoBCH8gACgCACIGIgQoAgAgBCgCBGovAQgiCCABIgcoAgxBC3ZsIQQgBygCECAESQR/QYAQIAhrQf//A3FBBXYgCGohCCAHIAQ2AgxBAAUgCCAIQf//A3FBBXZrIQggByAHKAIQIARrNgIQIAcgBygCDCAEazYCDEEBCyAGKAIEIAYoAgBqIAg7AQggByIFKAIMIwJJBEAgBSAFKAIMQQh0NgIMIAUoAhBBCHQhByAFKAIAIQYgBSAFKAIIIglBAWo2AgggBSAGIAkQEUH/AXEgB3I2AhALQf//A3FFBEAgAiAAKAIEKAIAIgAoAgBBAnZJBH8gAkECdCAAaigCCAUACyEDIAEhBEEBIQgDQCAKIAMoAgRJBEAgAygCACIHKAIAIQEgBCgCECAHKAIEIAgiBUEBdCIIIAFqai8BCCIGIAQoAgxBC3ZsIglJBH9BgBAgBmtB//8DcUEFdiAGaiEGIAQgCTYCDEEABSAGIAZB//8DcUEFdmshBiAEIAQoAhAgCWs2AhAgBCAEKAIMIAlrNgIMQQELIAcoAgQgBygCACAFQQF0amogBjsBCCAEKAIMIwJJBEAgBCAEKAIMQQh0NgIMIAQoAhBBCHQhACAEKAIAIQUgBCAEKAIIIgFBAWo2AgggBCAFIAEQEUH/AXEgAHI2AhALQf//A3EgCGohCCAKQQFqIQoMAQsLIAhBASADKAIEdGsPCyAAKAIAIgooAgAhCCAFKAIQIAooAgQgCEECamovAQgiBCABKAIMQQt2bCIDSQR/IAUgAzYCDEEAIQlBgBAgBGtB//8DcUEFdiAEagUgBSAFKAIQIANrNgIQIAUgBSgCDCADazYCDEEBIQkgBCAEQf//A3FBBXZrCyEEIAoiBygCBCAHKAIAQQJqaiAEOwEIIAUiBigCDCMCSQRAIAYgBigCDEEIdDYCDCAGKAIQQQh0IQUgBigCACEHIAYgBigCCCIIQQFqNgIIIAYgByAIEBFB/wFxIAVyNgIQCyAJQf//A3FFBEAgAiAAKAIIKAIAIgAoAgBBAnZJBH8gAkECdCAAaigCCAUACyEJIAEhA0EBIQRBACECA0AgAiAJKAIESQRAIAMoAhAgCSgCACIFKAIEIAQiBkEBdCIEIAUoAgBqai8BCCIHIAMoAgxBC3ZsIghJBH9BgBAgB2tB//8DcUEFdiAHaiEHIAMgCDYCDEEABSAHIAdB//8DcUEFdmshByADIAMoAhAgCGs2AhAgAyADKAIMIAhrNgIMQQELIAUoAgQgBSgCACAGQQF0amogBzsBCCADKAIMIwJJBEAgAyADKAIMQQh0NgIMIAMoAhBBCHQhBSADKAIAIQcgAyADKAIIIgZBAWo2AgggAyAHIAYQEUH/AXEgBXI2AhALQf//A3EgBGohBCACQQFqIQIMAQsLIARBASAJKAIEdGtBCGoPCyAAKAIMIQQgASEDQQEhCUEAIQIDQCACIAQoAgRJBEAgBCgCACIIKAIAIQogAygCECAIKAIEIAogCSIHQQF0IgFqai8BCCIFIAMoAgxBC3ZsIgZJBH8gAyAGNgIMQQAhBkGAECAFa0H//wNxQQV2IAVqBSADIAMoAhAgBms2AhAgAyADKAIMIAZrNgIMQQEhBiAFIAVB//8DcUEFdmsLIQUgCCgCBCAIKAIAIAdBAXRqaiAFOwEIIAMoAgwjAkkEQCADIAMoAgxBCHQ2AgwgAygCEEEIdCEAIAMoAgAhBSADIAMoAggiCkEBajYCCCADIAUgChARQf8BcSAAcjYCEAsgBkH//wNxIAFqIQkgAkEBaiECDAELCyAJQQEgBCgCBHRrQRBqC5YCAQh/QQEhBwNAAkAgBiABTg0AIAIoAhAgACgCBCAAKAIAIAMgB2oiCUEBdGpqLwEIIgQgAigCDEELdmwiBUkEfyACIAU2AgxBACEFQYAQIARrQf//A3FBBXYgBGoFIAIgAigCECAFazYCECACIAIoAgwgBWs2AgxBASEFIAQgBEH//wNxQQV2awshBCAAKAIEIAAoAgAgCUEBdGpqIAQ7AQggAiIEKAIMIwJJBEAgBCAEKAIMQQh0NgIMIAQoAhBBCHQhCiAEKAIAIQsgBCAEKAIIIglBAWo2AgggBCALIAkQEUH/AXEgCnI2AhALIAVB//8DcSIEIAdBAXRqIQcgBCAGdCAIciEIIAZBAWohBgwBCwsgCAvwBAEIf0EDIAEgAUEDSxsiAiAAKAIkKAIAIgEoAgBBAnZJBH8gAkECdCABaigCCAUACyEEIAAoAgQhAkEBIQEDQCAHIAQoAgRJBEAgBCgCACIFKAIAIQMgAigCECAFKAIEIAFBAXQiCSADamovAQgiAyACKAIMQQt2bCIGSQR/IAIgBjYCDEEAIQhBgBAgA2tB//8DcUEFdiADagUgAiACKAIQIAZrNgIQIAIgAigCDCAGazYCDEEBIQggAyADQf//A3FBBXZrCyEDIAUoAgQgBSgCACABQQF0amogAzsBCCACKAIMIwJJBEAgAiACKAIMQQh0NgIMIAIoAhBBCHQhBiACKAIAIQUgAiACKAIIIgNBAWo2AgggAiAFIAMQEUH/AXEgBnI2AhALIAhB//8DcSAJaiEBIAdBAWohBwwBCwsgAUEBIAQoAgR0ayIBQQRJBEAgAQ8LIAFBAXFBAnIgAUEBdkEBayICdCEDIAFBDkkEfyAAKAIsIAIgACgCBCADIAFrEB4gA2oFIAAoAgQhASACQQRrIQJBACEEA0AgASABKAIMQQF2NgIMIAEgASgCECABKAIMazYCECABIAEoAhBBACABKAIQQR92ayIHIAEoAgxxajYCECABKAIQIAEoAgxGBEAgAUEBOgAECyABKAIMIwJJBEAgASABKAIMQQh0NgIMIAEoAhBBCHQhBSABKAIAIQggASABKAIIIgZBAWo2AgggASAIIAYQEUH/AXEgBXI2AhALIAdBAWogBEEBdGohBCACQQFrIgINAAsgBEEEdCADaiAAKAIoIgQoAgAgBCgCBCAAKAIEQQAQHmoLC9AcAQ9/IAAQGiAAKAIEIgdBADoABCAHKAIAIAcgBygCCCIDQQFqNgIIIAMQEUH/AXEEQCAHQQE6AAQLIAdBfzYCDCAHQQA2AhBBACEDA0AgA0EESARAIAcoAhBBCHQhBSAHKAIAIQwgByAHKAIIIghBAWo2AgggByAMIAgQEUH/AXEgBXI2AhAgA0EBaiEDDAELCyAHKAIQIAcoAgxGBEAgB0EBOgAECyABBEAgACgCCCACEA82AgQFIAAoAghBBBAPNgIEC0EAIQwDQAJAIAJFIAEgARsiBwR/IAAtAABFBSAHCwRAIAAoAgQoAhBFBEBBAw8LCyAAKAIwIgUoAgAhByAFKAIEIAAoAggoAgBBASAAKAIQdEEBa3EiCyAMQQR0Qf8BcWoiBkEBdCAHamovAQghAyAGIQcgACgCBCIEKAIMQQt2IANsIQggBCgCECAISQR/IAQgCDYCDEEAIQlBgBAgA2tB//8DcUEFdiADagUgBCAEKAIQIAhrNgIQIAQgBCgCDCAIazYCDEEBIQkgAyADQf//A3FBBXZrCyEIIAUiAygCBCADKAIAIAdBAXRqaiAIOwEIIAQiBigCDCMCSQRAIAYgBigCDEEIdDYCDCAGKAIQQQh0IQggBigCACEDIAYgBigCCCIHQQFqNgIIIAYgAyAHEBFB/wFxIAhyNgIQCyAJQf//A3FFBEAgAkUgASABGw0BIAwhCEEAIQYgACgCCCIFKAIMRSIEBH8gBS0AGEUFIAQLRQRAIAAoAggiBSgCCCIGKAIEQQEgBSgCDEwEfyAFKAIMQQFrBSAFKAIMIAUoAhRBAWtqCyAGKAIAamotAAghBgtBASEEIAAoAggoAgBBASAALQAUdEEBa3EgACgCDHQgBkEIIAAoAgxrdmpBgAZsIQcgCEEHTwRAIAAoAggiBigCCCIJKAIEIA5BAWoiDSAGKAIMTAR/IAYoAgwgDWsFIAYoAgwgBigCFCANa2oLIAkoAgBqai0ACCENA0ACQCANQf8BcUEHdiEGIA1BAXQhDSAAKAIgIgkoAgAhCyAJKAIEIAZBAWpBCHQgB2ogBGoiDEEBdCALamovAQgiCyAAKAIEIgMoAgxBC3ZsIQogAygCECAKSQR/QYAQIAtrQf//A3FBBXYgC2ohCyADIAo2AgxBAAUgCyALQf//A3FBBXZrIQsgAyADKAIQIAprNgIQIAMgAygCDCAKazYCDEEBCyEFIAkoAgQgCSgCACAMQQF0amogCzsBCCADIgooAgwjAkkEQCAKIAooAgxBCHQ2AgwgCigCEEEIdCEDIAooAgAhDCAKIAooAggiC0EBajYCCCAKIAwgCxARQf8BcSADcjYCEAsgBEEBdCAFciEEIAVB//8DcSAGRw0AIARB//8DcUGAAkkNAQsLCwNAIARBgAJJBEAgBEEBdCEJIAAoAiAiBSgCACEMIAUoAgQgBCAHaiIGQQF0IAxqai8BCCILIAAoAgQiDSgCDEELdmwhCiANKAIQIApJBH9BgBAgC2tB//8DcUEFdiALaiELIA0gCjYCDEEABSALIAtB//8DcUEFdmshCyANIA0oAhAgCms2AhAgDSANKAIMIAprNgIMQQELIAUoAgQgBSgCACAGQQF0amogCzsBCCANIgooAgwjAkkEQCAKIAooAgxBCHQ2AgwgCigCEEEIdCEGIAooAgAhBSAKIAooAggiDEEBajYCCCAKIAUgDBARQf8BcSAGcjYCEAsgCXIhBAwBCwsgACgCCCIDIAMoAgBBAWo2AgAgAygCCCELIAMgAygCDCIGQQFqNgIMIAsoAgQgCygCACAGamogBEGAAmsiCjoACCADKAIMIAMoAhRGBEAgA0EANgIMIANBAToAGAsgAygCBCgCCCADKAIQRgRAIAMgAygCBCIGKAIIQQF0EA82AgQgAygCBCgCACADKAIEKAIEakEIaiAGKAIAIAYoAgRqQQhqIAYoAggQHCAGKAIAGgsgAygCBCEJIAMgAygCECIMQQFqNgIQIAkoAgQgCSgCACAMamogCjoACCAIIgVBBEkEf0EABSAFQQNrIAVBBmsgBUEKSRsLIQwgAkEBayECDAILIAAoAjQiBigCACEFIAYoAgQgDCIDQQF0IAVqai8BCCIHIAAoAgQiCigCDEELdmwhBCAKKAIQIARJBH9BgBAgB2tB//8DcUEFdiAHaiEHIAogBDYCDEEABSAHIAdB//8DcUEFdmshByAKIAooAhAgBGs2AhAgCiAKKAIMIARrNgIMQQELIAMhBSAGIgMoAgAhDSADKAIEIAVBAXQgDWpqIAc7AQggCiIJKAIMIwJJBEAgCSAJKAIMQQh0NgIMIAkoAhBBCHQhBiAJKAIAIQMgCSAJKAIIIgVBAWo2AgggCSADIAUQEUH/AXEgBnI2AhALQf//A3EEQCACRSABIAEbDQEgACgCCCIIKAIMRSIEBH8gCC0AGEUFIAQLDQEgACgCOCIDKAIAIQggAygCBCAMQQF0IAhqai8BCCIEIAAoAgQiBSgCDEELdmwhByAFKAIQIAdJBH9BgBAgBGtB//8DcUEFdiAEaiEEIAUgBzYCDEEABSAEIARB//8DcUEFdmshBCAFIAUoAhAgB2s2AhAgBSAFKAIMIAdrNgIMQQELIAMoAgQgAygCACAMQQF0amogBDsBCCAFIgkoAgwjAkkEQCAJIAkoAgxBCHQ2AgwgCSgCEEEIdCEFIAkoAgAhAyAJIAkoAggiCEEBajYCCCAJIAMgCBARQf8BcSAFcjYCEAtB//8DcQRAIAAoAjwiCCgCACEHIAgoAgQgDEEBdCAHamovAQgiBCAAKAIEIgUoAgxBC3ZsIQYgBSgCECAGSQR/QYAQIARrQf//A3FBBXYgBGohBCAFIAY2AgxBAAUgBCAEQf//A3FBBXZrIQQgBSAFKAIQIAZrNgIQIAUgBSgCDCAGazYCDEEBCyAIIgMoAgQgAygCACAMQQF0amogBDsBCCAFIgkoAgwjAkkEQCAJIAkoAgxBCHQ2AgwgCSgCEEEIdCEIIAkoAgAhAyAJIAkoAggiB0EBajYCCCAJIAMgBxARQf8BcSAIcjYCEAtB//8DcQRAIAAoAkAiAygCACEKIAMoAgQgDEEBdCAKamovAQgiBiAAKAIEIgcoAgxBC3ZsIQQgBygCECAESQR/QYAQIAZrQf//A3FBBXYgBmohBiAHIAQ2AgxBAAUgBiAGQf//A3FBBXZrIQYgByAHKAIQIARrNgIQIAcgBygCDCAEazYCDEEBCyADKAIEIAMoAgAgDEEBdGpqIAY7AQggByIJKAIMIwJJBEAgCSAJKAIMQQh0NgIMIAkoAhBBCHQhCCAJKAIAIQMgCSAJKAIIIgpBAWo2AgggCSADIAoQEUH/AXEgCHI2AhALQf//A3EEQCARIQMgDyERBSAPIQMLIBAhDwUgECEDCyAOIRAgAyEOBSAAKAJEIgYoAgAhCiAGKAIEIAxBBHRB/wFxIAtqIgNBAXQgCmpqLwEIIgcgACgCBCIIKAIMQQt2bCEEIAgoAhAgBEkEf0GAECAHa0H//wNxQQV2IAdqIQcgCCAENgIMQQAFIAcgB0H//wNxQQV2ayEHIAggCCgCECAEazYCECAIIAgoAgwgBGs2AgxBAQsgAyEKIAYiAygCACENIAMoAgQgCkEBdCANamogBzsBCCAIIgkoAgwjAkkEQCAJIAkoAgxBCHQ2AgwgCSgCEEEIdCEIIAkoAgAhAyAJIAkoAggiCkEBajYCCCAJIAMgChARQf8BcSAIcjYCEAtB//8DcUUEQEEJQQsgDEEHSRshDCAAKAIIIQQgACgCCCIFKAIIIgMoAgQgDkEBaiIHIAUoAgxMBH8gBSgCDCAHawUgBSgCDCAFKAIUIAdragsgAygCAGpqLQAIIQcgBCAEKAIAQQFqNgIAIAQoAgghBSAEIAQoAgwiBkEBajYCDCAFKAIEIAUoAgAgBmpqIAc6AAggBCgCDCAEKAIURgRAIARBADYCDCAEQQE6ABgLIAQoAgQoAgggBCgCEEYEQCAEIAQoAgQiBigCCEEBdBAPNgIEIAQoAgQoAgAgBCgCBCgCBGpBCGogBigCACAGKAIEakEIaiAGKAIIEBwgBigCABoLIAQoAgQhAyAEIAQoAhAiCEEBajYCECADKAIEIAMoAgAgCGpqIAc6AAggAkEBayECDAQLCyAAKAJMIAAoAgQgCxAdIQtBCEELIAxBB0kbIQwFIA8hESAQIQ8gDiEQQQdBCiAMQQdJGyEMIAAgACgCSCAAKAIEIAsQHSILEB8iDkF/RgRAIAAoAgQoAhAEf0EBBUECCw8LIAJFIAEgARsNASAOIAAoAhhPIgUEfyAFBSAOIAAoAggiBCgCDEwiBgR/IAYFIAQtABgLRQsNAQtBACENIAAoAgghBSAOQQFqIQQgAiALQQJqIgtIIAEgARsEQEEBIQ0gAiELCyALIQYDQCAGQQBKBEAgBSIIKAIIIgkoAgQgBCAFKAIMTAR/IAUoAgwgBGsFIAUoAgwgBSgCFCAEa2oLIAkoAgBqai0ACCEHIAggCCgCAEEBajYCACAIKAIIIQMgCCAIKAIMIgpBAWo2AgwgAygCBCADKAIAIApqaiAHOgAIIAgoAgwgCCgCFEYEQCAIQQA2AgwgCEEBOgAYCyAIKAIEKAIIIAgoAhBGBEAgCCAIKAIEIgMoAghBAXQQDzYCBCAIKAIEKAIAIAgoAgQoAgRqQQhqIAMoAgAgAygCBGpBCGogAygCCBAcIAMoAgAaCyAIKAIEIQkgCCAIKAIQIgNBAWo2AhAgCSgCBCAJKAIAIANqaiAHOgAIIAZBAWshBgwBCwsgAiALayECIA1FDQELC0EBCyYBAX9BEBABIgQgADYCACAEIAE2AgQgBCACNgIIIAQgAzYCDCAEC7YEAQZ/IAAgATYCBEENEA8hAgNAAkAgA0ENTg0AIAIgAyABIAMQEUH/AXEQEiADQQFqIQMMAQsLIAAoAgAhBCACIQZBBBAPIgIoAgQgAigCAGogBigCBCAGKAIAai0ACCIDOgAIIANB/wFxQeEBTwRAQQBBgAFBoQFBDBAAAAsgAigCBCACKAIAQQFqaiADQf8BcUEJcCIHOgAIIAIoAgQgAigCAGogA0H/AXFBCW4iAzoACCADQQVwIQUgAigCBCACKAIAQQJqaiADQQVuIgM6AAggAigCBCACKAIAQQNqaiAFOgAIIAQgBzYCDCAEIAM2AhAgBCAFOgAUIARBADYCHEEAIQIDQAJAIAJBBE8NACAEIAQoAhwgBigCBCAGKAIAIAJBAWpqai0ACCACQQN0dHI2AhwgAkEBaiECDAELCyAEIAQoAhw2AhggBCgCGEGAIEkEQCAEQYAgNgIYC0EAIQJBACEFQQAhAwNAAkAgA0EITg0AIAYgA0EFahARQf8BcSIEQf8BRwRAQQEhBQsgBCADQQN0dCACciECIANBAWohAwwBCwsgACgCACAFRToAACAAKAIAKAIEIAE2AgAgACgCABAWAkAgACgCACAFIAIQICIBQQFGDQAgAUEDRwRAIAFBAkYEQCAFBEAgACgCACgCCCgCECACRw0DCwUMAgsLIAAoAgAoAgQtAAQaQQFBACAAKAIAKAIIKAIQIAAoAgAoAggoAgQQIQ8LQQBBAUEAQQAQIQsIACMDIAAQIgsWAEG4ASQAIwAkAUGAgIAIJAIQDCQDCwMAAQsLtwEEAEEICxcKAAAAdQBzAGUAIABzAHQAcgBpAGMAdABBIAsdDQAAAH4AbABpAGIALwBhAHIAcgBhAHkALgB0AHMAQcAACzkbAAAAfgBsAGkAYgAvAGkAbgB0AGUAcgBuAGEAbAAvAHQAeQBwAGUAZABhAHIAcgBhAHkALgB0AHMAQYABCzMYAAAAcwByAGMALwBsAHoAbQBhAC8AbAB6AG0AYQAtAGQAZQBjAG8AZABlAHIALgB0AHM=")}.toString(),`)();
  return function(data, callback) {
    return (`).concat(function(va,_a,eo){try{var to=new WebAssembly.Memory({initial:16}),ro=new WebAssembly.Module(va),no=new WebAssembly.Instance(ro,{env:{memory:to,abort:function(){eo(new Error("webAssembly abort"))}}}).exports,io=no.newU8Array(_a.length);new Uint8Array(to.buffer,io+24,_a.length).set(_a);var ao=no.decode(io),oo=new Uint32Array(to.buffer,ao,4),so=oo[0],uo=oo[2],co=oo[3];so?eo(null,new Uint8Array(to.buffer,co+24,uo).slice(0,uo)):eo(new Error("lzma deocder error"))}catch(fo){eo(fo)}}.toString(),`)(LZMA_WASM, data, callback);
  }
})();

self.onmessage = function(event) {
  var packet = event.data;
  if (!packet.id) {
    postMessage({ id: packet.id, error: "No incoming id." });
    return;
  }
  if (!packet.data) {
    postMessage({ id: packet.id, error: "No input data." });
    return;
  }
  if (packet.type == "decompress") {
    if (packet.data.constructor !== Uint8Array) {
      postMessage({ id: packet.id, error: "Input data is not Uint8Array." });
    }
    const callback = function(error, result) {
      if (error) {
        postMessage({ id: packet.id, error: error.toString() });
      } else {
        postMessage({ id: packet.id, result: result, error: null }, [ result.buffer ]);
      }
    }
    if (typeof WebAssembly !== "undefined" && WebAssembly.instantiate) {
      decodeLZMAWithWASM(packet.data, callback);
    } else {
      decodeLZMA(packet.data, callback);
    }
    return;
  }
  postMessage({ id: packet.id, error: "type never matched." });
};
`),Zt=typeof Worker<"u"&&typeof Blob<"u",Jt="";if(Zt)try{var $t=new Blob([Xt],{type:"text/javascript"});Jt=URL.createObjectURL($t)}catch(va){}var ei=function(){function va(){var _a=this;if(!Zt)throw new Error("LZMAWorker cannot work in this broswer.");this.callCounter=0,this.requests={};var eo=this.worker=new Worker(Jt);eo.onmessage=function(to){var ro=to.data,no=ro.id,io=ro.result,ao=ro.error,oo=_a.getKey(no);_a.requests[oo]&&(ao?_a.requests[oo](new Error(ao)):_a.requests[oo](null,io),delete _a.requests[oo])},eo.onerror=function(to){return console.error(to)}}return va.prototype.getKey=function(_a){return"key_"+String(_a)},va.prototype.decompress=function(_a,eo){var to=++this.callCounter;this.requests[this.getKey(to)]=eo,this.worker.postMessage({type:"decompress",id:to,data:_a},[_a.buffer])},va.prototype.terminate=function(){this.worker.terminate()},va.support=Zt,va}();function ti(va){return Array.prototype.reduce.call(va,function(_a,eo,to){return _a|eo<<8*to},0)}function ii(va){var _a=new Uint8Array(va),eo=ti(_a.slice(0,4));if(eo>10)return Promise.reject(new Error("LZMA got too many sub chunks."));for(var to=[],ro=[],no=4+4*eo,io=0;io<eo;io++)ro[io]=ti(_a.slice(4+4*io,8+4*io)),to[io]=io===eo-1?_a.subarray(no,no+ro[io]):_a.slice(no,no+ro[io]),no+=ro[io];return ei.support?function(ao){for(var oo=[],so=ao.length,uo=function(fo){oo.push(new Promise(function(po,vo){var go=new ei;go.decompress(ao[fo],function(mo,lo){if(go.terminate(),mo)return vo(mo);po(lo)})}))},co=0;co<so;co++)uo(co);return Promise.all(oo)}(to):Promise.resolve(function(ao){for(var oo,so=[],uo=ao.length,co=function(po){var vo={data:ao[po],offset:0,readByte:function(){return this.data[this.offset++]}},go=vo.data.length,mo={data:[],offset:0,writeByte:function(ho){var yo=Math.floor(this.offset/go);this.data[yo]||(this.data[yo]=new Uint8Array(go)),this.data[yo][this.offset%go]=ho,this.offset++}};Wt.decompressFile(vo,mo),oo=new Uint8Array(mo.offset);for(var lo=0;lo<mo.offset;lo++)oo[lo]=mo.data[Math.floor(lo/go)][lo%go];so.push(oo)},fo=0;fo<uo;fo++)co(fo);return so}(to))}function ni(va,_a){for(var eo={},to=0,ro=_a;to<ro.length;to++){var no=ro[to];no in va&&(eo[no]=va[no])}return eo}var ri=!1;try{ri=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(va){}var si=[];function oi(){var va=this.src;this.onerror=this.onload=Pe,this.removeAttribute("src"),/^blob\:/.test(va)&&URL.revokeObjectURL(va),this.close=Pe}function ai(){si.push(this)}function ui(){return Object.assign(new Image,{crossOrigin:"",close:oi})}function ci(va){return new Promise(function(_a,eo){var to=ui();to.onload=function(){to.onload=to.onerror=Pe,setTimeout(function(){return _a(to)},30)},to.onerror=function(){var ro=to.src;to.onload=to.onerror=Pe,to.close(),eo(new Error("image load error: ".concat(ro)))},to.src=URL.createObjectURL(va)})}function Ai(va,_a){if(_a&&(va.width>_a.width||va.height>_a.height)){var eo=function(oo,so){var uo=si.shift();if(uo)return uo.width=oo,uo.height=so,uo;if(ri){var co=new OffscreenCanvas(oo,so);return Object.assign(co,{close:ai})}return co=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),Object.assign(co,{close:ai})}(Math.min(va.width,_a.width),Math.min(va.height,_a.height)),to=eo.getContext("2d");to.clearRect(0,0,eo.width,eo.height),to.drawImage(va,0,0,eo.width,eo.height),va.close();var ro=new r$4.Texture(eo);ro.needsUpdate=!0,ro.flipY=!0;var no=ro.dispose;return ro.dispose=function(){eo.close(),no.call(ro),delete ro.dispose},ro}var io=new r$4.Texture(va);io.needsUpdate=!0,io.flipY=!0;var ao=io.dispose;return io.dispose=function(){va.close(),ao.call(io),delete io.dispose},io}var li=new r$4.WebGLRenderTarget(1,1),hi=new r$4.OrthographicCamera(-1,1,1,-1,0,1),di=new r$4.BufferGeometry;di.setAttribute("position",new r$4.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),di.setAttribute("uv",new r$4.Float32BufferAttribute([0,2,0,0,2,0],2));var gi=new r$4.Mesh(di),pi=new r$4.Scene;pi.add(gi);var Mi,fi=new r$4.RawShaderMaterial({uniforms:{map:{value:null}},vertexShader:`
    void main() {
      gl_Position = vec4(0, 0, 0, 0);
    }
  `,fragmentShader:`
    uniform sampler2D map;
    void main() {
      gl_FragColor = textureCube(map, vec3(0, 0));
    }
  `}),yi=new r$4.RawShaderMaterial({uniforms:{map:{value:null}},vertexShader:`
    void main() {
      gl_Position = vec4(0, 0, 0, 0);
    }
  `,fragmentShader:`
    uniform samplerCube map;
    void main() {
      gl_FragColor = textureCube(map, vec3(0, 0, 0));
    }
  `});function mi(va,_a,eo){return _a.flipY!==void 0&&(va.flipY=_a.flipY),_a.format!==void 0&&(va.format=_a.format),_a.encoding!==void 0&&(va.encoding=_a.encoding),_a.minFilter!==void 0&&(va.minFilter=_a.minFilter),_a.magFilter!==void 0&&(va.magFilter=_a.magFilter),eo?new Promise(function(to){ot.shared.add(function(){try{var ro=eo.getRenderTarget();eo.setRenderTarget(li),va instanceof r$4.CubeTexture?(gi.material=yi,yi.uniforms.map.value=va,eo.render(pi,hi),yi.uniforms.map.value=null):(gi.material=fi,fi.uniforms.map.value=va,eo.render(pi,hi),yi.uniforms.map.value=null),eo.setRenderTarget(ro),to(va)}catch{to(va)}},!0,1)}):Promise.resolve(va)}var vi=`
var config, transcoderPending, _BasisFile;
self.onmessage = function(e) {
  var message = e.data;
  switch (message.type) {
    case "init":
      config = message.config;
      init(message.transcoderBinary);
      break;
    case "transcode":
      transcoderPending.then(function() {
        try {
          var result = transcode(message.buffer);
          var width = result.width;
          var height = result.height;
          var hasAlpha = result.hasAlpha;
          var mipmaps = result.mipmaps;
          var format = result.format;
          var buffers = [];
          for (var i = 0; i < mipmaps.length; ++i) {
            buffers.push(mipmaps[i].data.buffer);
          }
          self.postMessage({ type: "transcode", id: message.id, width, height, hasAlpha, mipmaps, format }, buffers);
        } catch (error) {
          console.error(error);
          self.postMessage({ type: "error", id: message.id, error: error.message });
        }
      });
      break;
    default: break;
  }
};

function init(wasmBinary) {
  var BasisModule;
  transcoderPending = new Promise(function(resolve) {
    BasisModule = { wasmBinary, onRuntimeInitialized: resolve };
    BASIS(BasisModule); // eslint-disable-line no-undef
  }).then(function() {
    _BasisFile = BasisModule.BasisFile;
    BasisModule.initializeBasis();
    self.postMessage({ type: "initialized" });
  });
}

function transcode(buffer) {
  var basisFile = new _BasisFile(new Uint8Array(buffer));
  var width = basisFile.getImageWidth(0, 0);
  var height = basisFile.getImageHeight(0, 0);
  var levels = basisFile.getNumLevels(0);
  var hasAlpha = basisFile.getHasAlpha();
  function cleanup() {
    basisFile.close();
    basisFile.delete();
  }
  if (!hasAlpha) {
    switch (config.format) {
      case 9: // Hardcoded: BasisTextureLoader.BASIS_FORMAT.cTFPVRTC1_4_RGBA
        config.format = 8; // Hardcoded: BasisTextureLoader.BASIS_FORMAT.cTFPVRTC1_4_RGB;
        break;
      default: break;
    }
  }
  if (!width || !height || !levels) {
    cleanup();
    throw new Error("BasisTextureLoader:  Invalid .basis file");
  }
  if (!basisFile.startTranscoding()) {
    cleanup();
    throw new Error("BasisTextureLoader: .startTranscoding failed");
  }
  var mipmaps = [];
  for (var mip = 0; mip < levels; mip++) {
    var mipWidth = basisFile.getImageWidth(0, mip);
    var mipHeight = basisFile.getImageHeight(0, mip);
    var dst = new Uint8Array(basisFile.getImageTranscodedSizeInBytes(0, mip, config.format));
    var status = basisFile.transcodeImage(dst, 0, mip, config.format, 0, hasAlpha);
    if (!status) {
      cleanup();
      throw new Error("BasisTextureLoader: .transcodeImage failed.");
    }
    mipmaps.push({ data: dst, width: mipWidth, height: mipHeight });
  }
  cleanup();
  return { width, height, hasAlpha, mipmaps, format: config.format };
}
`,Ni={cTFETC1:0,cTFETC2:1,cTFBC1:2,cTFBC3:3,cTFBC4:4,cTFBC5:5,cTFBC7_M6_OPAQUE_ONLY:6,cTFBC7_M5:7,cTFPVRTC1_4_RGB:8,cTFPVRTC1_4_RGBA:9,cTFASTC_4x4:10,cTFATC_RGB:11,cTFATC_RGBA_INTERPOLATED_ALPHA:12,cTFRGBA32:13,cTFRGB565:14,cTFBGR565:15,cTFRGBA4444:16},Di={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779},Ei=((Mi={})[Ni.cTFBC1]=Di.COMPRESSED_RGB_S3TC_DXT1_EXT,Mi[Ni.cTFBC3]=Di.COMPRESSED_RGBA_S3TC_DXT5_EXT,Mi),wi=function(){function va(){}return va.setTranscoderPath=function(_a){return this.transcoderPath=_a,this},va.setWorkerLimit=function(_a){return this.workerLimit=_a,this},va.isInitialized=function(){return this.workerPool.filter(function(_a){return _a._initialized}).length!==0},va.detectSupport=function(_a){var eo=this.workerConfig;if(eo.astcSupported=!!_a.extensions.get("WEBGL_compressed_texture_astc"),eo.bptcSupported=!!_a.extensions.get("EXT_texture_compression_bptc"),eo.etcSupported=!!_a.extensions.get("WEBGL_compressed_texture_etc1"),eo.dxtSupported=!!_a.extensions.get("WEBGL_compressed_texture_s3tc"),eo.pvrtcSupported=!!_a.extensions.get("WEBGL_compressed_texture_pvrtc")||!!_a.extensions.get("WEBKIT_WEBGL_compressed_texture_pvrtc"),eo.astcSupported)eo.format=va.BASIS_FORMAT.cTFASTC_4x4;else if(eo.bptcSupported)eo.format=va.BASIS_FORMAT.cTFBC7_M5;else if(eo.dxtSupported)eo.format=va.BASIS_FORMAT.cTFBC3;else if(eo.pvrtcSupported)eo.format=va.BASIS_FORMAT.cTFPVRTC1_4_RGBA;else{if(!eo.etcSupported)throw new Error("BasisTextureLoader: No suitable compressed texture format found.");eo.format=va.BASIS_FORMAT.cTFETC1}return this},va.createTexture=function(_a){var eo,to,ro=this,no=_a.byteLength,io=this._allocateWorker(no).then(function(ao){return eo=ao,to=ro.workerNextTaskID++,new Promise(function(oo,so){eo._callbacks[to]={resolve:oo,reject:so},eo.postMessage({type:"transcode",id:to,buffer:_a},[_a])})}).then(function(ao){var oo,so=ro.workerConfig,uo=ao.width,co=ao.height,fo=ao.mipmaps;switch(ao.format){case Ni.cTFASTC_4x4:oo=new r$4.CompressedTexture(fo,uo,co,r$4.RGBA_ASTC_4x4_Format);break;case Ni.cTFBC1:case Ni.cTFBC3:oo=new r$4.CompressedTexture(fo,uo,co,Ei[so.format],r$4.UnsignedByteType);break;case Ni.cTFETC1:oo=new r$4.CompressedTexture(fo,uo,co,r$4.RGB_ETC1_Format);break;case Ni.cTFPVRTC1_4_RGB:oo=new r$4.CompressedTexture(fo,uo,co,r$4.RGB_PVRTC_4BPPV1_Format);break;case Ni.cTFPVRTC1_4_RGBA:oo=new r$4.CompressedTexture(fo,uo,co,r$4.RGBA_PVRTC_4BPPV1_Format);break;default:throw new Error("BasisTextureLoader: No supported format available.")}return oo.minFilter=fo.length===1?r$4.LinearFilter:r$4.LinearMipmapLinearFilter,oo.magFilter=r$4.LinearFilter,oo.generateMipmaps=!1,oo.needsUpdate=!0,oo});return io.catch(function(){return!0}).then(function(){eo&&to&&(eo._taskLoad-=no,delete eo._callbacks[to])}),io},va._initTranscoder=function(){var _a=this;if(!this.transcoderPending){var eo=new r$4.FileLoader;eo.setPath(this.transcoderPath);var to=new Promise(function(io,ao){eo.load("basis_transcoder.js",io,void 0,ao)}),ro=new r$4.FileLoader;ro.setPath(this.transcoderPath),ro.setResponseType("arraybuffer");var no=new Promise(function(io,ao){ro.load("basis_transcoder.wasm",io,void 0,ao)});this.transcoderPending=Promise.all([to,no]).then(function(io){var ao=io[0],oo=io[1],so=["/* basis_transcoder.js */",ao,"/* worker */",vi].join(`
`);_a.workerSourceURL=URL.createObjectURL(new Blob([so])),_a.transcoderBinary=oo})}return this.transcoderPending},va._allocateWorker=function(_a){var eo=this;return this._initTranscoder().then(function(){if(eo.workerPool.length<eo.workerLimit){var to=function(no){var io=new Worker(no);return Object.assign(io,{_callbacks:{},_initialized:!1,_taskLoad:0})}(eo.workerSourceURL);to._callbacks={},to._initialized=!1,to._taskLoad=0,to.postMessage({type:"init",config:eo.workerConfig,transcoderBinary:eo.transcoderBinary}),to.onmessage=function(no){var io=no.data;switch(io.type){case"initialized":to._initialized=!0,console.info("BasisTextureLoader: basis loader initialized");break;case"transcode":to._callbacks[io.id].resolve(io);break;case"error":to._callbacks[io.id].reject(io);break;default:console.error('BasisTextureLoader: Unexpected message, "'.concat(io.type,'"'))}},eo.workerPool.push(to)}else eo.workerPool.sort(function(no,io){return no._taskLoad>io._taskLoad?-1:1});var ro=eo.workerPool[eo.workerPool.length-1];return ro._taskLoad+=_a,ro})},va.prototype.dispose=function(){for(var _a=0;_a<va.workerPool.length;_a++)va.workerPool[_a].terminate();return va.workerPool.length=0,this},va.BASIS_FORMAT=Ni,va.DXT_FORMAT=Di,va.DXT_FORMAT_MAP=Ei,va.transcoderPath="https://vrlab-public.ljcdn.com/release/static/image/release/five/basis/",va.transcoderBinary=null,va.transcoderPending=null,va.workerLimit=1,va.workerPool=[],va.workerNextTaskID=1,va.workerSourceURL="",va.workerConfig={format:null,astcSupported:!1,bptcSupported:!1,etcSupported:!1,dxtSupported:!1,pvrtcSupported:!1},va}();function Ii(va){var _a=va.match(/^([0-9a-z]+\:)\/\/(([^:/?#]*)(?::[0-9]+)?)/);return _a?_a[1]:location.protocol}var Ti=function(){function va(_a){this.timeout=_a.timeout,this.allowHosts=_a.allowHosts,this.networkSubscribe=_a.networkSubscribe}return va.prototype.setAllowHosts=function(_a){this.allowHosts=_a},va.prototype.setNetworkSubscribe=function(_a){this.networkSubscribe=_a},va.prototype.load=function(_a,eo,to,ro,no,io){var ao;eo===void 0&&(eo={}),to===void 0&&(to=Pe),ro===void 0&&(ro=Pe),no===void 0&&(no=Pe);var oo=Ii(_a),so={timeout:this.timeout,allowHosts:this.allowHosts,networkSubscribe:this.networkSubscribe},uo=(ao=eo.viaAjax)!==null&&ao!==void 0&&ao,co=Ze(_a),fo=/^https?:$/.test(oo),po=/\.basis$/.test(Je(_a).split("?")[0]);if(co?uo=!0:fo||(uo=!1),uo){if(po){var vo=null,go="arraybuffer";return eo.flipY===!0?Promise.reject(new Error(".basis cannnot set flipY: true.")):tt(_a,t$3.__assign(t$3.__assign({},so),{responseType:go}),void 0,void 0,no).then(function(yo){return vo=yo.meta,wi.createTexture(yo.body)}).then(function(yo){return eo.preInit!==!1?mi(yo,t$3.__assign({flipY:!1,encoding:r$4.sRGBEncoding},ni(eo,["wrapS","wrapT"])),io):yo}).then(function(yo){var Ao={meta:vo,body:yo};return to(Ao),Ao}).catch(function(yo){return ro(yo),Promise.reject(yo)})}return go="blob",tt(_a,t$3.__assign(t$3.__assign({},so),{responseType:go}),void 0,void 0,no).then(function(yo){return ci(yo.body)}).then(function(yo){return Ai(yo,eo.maxSize)}).then(function(yo){return eo.preInit!==!1?mi(yo,t$3.__assign({flipY:!0,encoding:r$4.sRGBEncoding},eo),io):yo}).then(function(yo){var Ao={meta:null,body:yo};return to(Ao),Ao}).catch(function(yo){return ro(yo),Promise.reject(yo)})}if(po){var mo=new Error("cannot load basis texture via image");return ro(mo),Promise.reject(mo)}var lo=null,ho=ui();return nt(_a,so,void 0,void 0,no,ho).then(function(yo){return lo=yo.meta,Ai(yo.body,eo.maxSize)}).then(function(yo){return eo.preInit!==!1?mi(yo,t$3.__assign({flipY:!0,encoding:r$4.sRGBEncoding},eo),io):yo}).then(function(yo){var Ao={meta:lo,body:yo};return to(Ao),Ao}).catch(function(yo){return ho.close(),ro(yo),Promise.reject(yo)})},va.prototype.loadCube=function(_a,eo,to,ro,no,io){var ao;eo===void 0&&(eo={}),to===void 0&&(to=Pe),ro===void 0&&(ro=Pe),no===void 0&&(no=Pe),Array.isArray(_a)||(_a=[_a.right,_a.left,_a.up,_a.down,_a.front,_a.back]);for(var oo={timeout:this.timeout,allowHosts:this.allowHosts,networkSubscribe:this.networkSubscribe},so=[],uo=[0,0,0,0,0,0],co=[],fo=function(go){var mo=_a[go],lo=Ii(mo),ho=function(wo){uo[go]=wo,no(uo.reduce(function(xo,bo){return xo+bo},0)/6)},yo=(ao=eo.viaAjax)!==null&&ao!==void 0&&ao,Ao=/^https?:$/.test(lo),Eo=Ze(mo),To=/\.basis$/.test(Je(mo).split("?")[0]);if(Eo?yo=!0:Ao||(yo=!1),yo)if(To){var No="arraybuffer",Co=tt(mo,t$3.__assign(t$3.__assign({},oo),{responseType:No}),void 0,void 0,ho).then(function(wo){return co[go]=wo.meta,wi.createTexture(wo.body)});so.push(Co)}else No="blob",Co=tt(mo,t$3.__assign(t$3.__assign({},oo),{responseType:No}),void 0,void 0,ho).then(function(wo){return co[go]=wo.meta,ci(wo.body)}),so.push(Co);else{if(To){var Io=new Error("cannot load basis texture via image");return ro(Io),{value:Promise.reject(Io)}}var Mo=ui();Co=nt(mo,oo,void 0,void 0,ho,Mo).then(function(wo){return co[go]=wo.meta,wo.body}).catch(function(wo){return Mo.close(),Promise.reject(wo)}),so.push(Co)}},po=0;po<6;po++){var vo=fo(po);if(typeof vo=="object")return vo.value}return Promise.all(so).then(function(go){return go[0]instanceof r$4.CompressedTexture?function(mo){var lo=new r$4.CubeTexture(mo);lo.needsUpdate=!0;var ho=lo.dispose;return lo.dispose=function(){for(var yo=0,Ao=mo;yo<Ao.length;yo++)Ao[yo].dispose();ho.call(lo),delete lo.dispose},lo.isCompressedTexture=!0,lo.format=mo[0].format,lo.minFilter=mo[0].minFilter,lo.magFilter=mo[0].magFilter,lo}(go):function(mo){var lo=new r$4.CubeTexture(mo);lo.needsUpdate=!0,lo.flipY=!1;var ho=lo.dispose;return lo.dispose=function(){for(var yo=0,Ao=mo;yo<Ao.length;yo++)Ao[yo].close();ho.call(lo),delete lo.dispose},lo}(go)}).then(function(go){return eo.preInit!==!1?go.isCompressedTexture?mi(go,t$3.__assign({flipY:!1,encoding:r$4.sRGBEncoding},ni(eo,["wrapS","wrapT"])),io):mi(go,t$3.__assign({flipY:!1,encoding:r$4.sRGBEncoding},eo),io):go}).then(function(go){var mo={body:go,meta:co};return to(mo),mo}).catch(function(go){for(var mo=0,lo=so;mo<lo.length;mo++)lo[mo].then(function(ho){ho instanceof r$4.Texture?ho.dispose():ho.close()}).catch(Pe);return ro(go),Promise.reject(go)})},va}();const xi=s$1.Reader,ji=s$1.util,zi=s$1.roots["@REALSEE/FIVE:five/loaders/model/proto/pbm.proto"]||(s$1.roots["@REALSEE/FIVE:five/loaders/model/proto/pbm.proto"]={}),Ci=zi.Model=(()=>{function va(_a){if(this.chunks=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.chunks=ji.emptyArray,va.decode=function(_a,eo){_a instanceof xi||(_a=xi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new zi.Model;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:ro.chunks&&ro.chunks.length||(ro.chunks=[]),ro.chunks.push(zi.Chunk.decode(_a,_a.uint32()));break;default:_a.skipType(7&no)}}return ro},va})();function bi(va){var _a,eo,to=new r$4.Matrix4().set(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1);function ro(wu){var du=wu.match(/(group|floor)-?(\d+)/);return du?parseInt(du[2],10):0}function no(wu){var du=wu.match(/(chunk)-?(\d+)/);return du?parseInt(du[2],10):0}function io(wu){return 1e6*ro(wu.name)+1e3*no(wu.name)+function(du){var Jo=du.match(/(sub)-?(\d+)/);return Jo?parseInt(Jo[2],10):0}(wu.name)}for(var ao=[],oo=0,so=((_a=va.chunks)!==null&&_a!==void 0?_a:[]).sort(function(wu,du){return io(wu)-io(du)});oo<so.length;oo++){var uo=ro((Do=so[oo]).name);ao[uo]||(ao[uo]=[]),ao[uo].push(Do)}for(var co=[],fo=0;fo<ao.length;fo++){var po=ao[fo];if(po){for(var vo=0,go=0,mo=0;mo<po.length;mo++)go+=(Do=po[mo]).vertices.xyz.length/3,vo+=Do.faces.indices.length;for(var lo=3*go,ho=2*go,yo=3*go,Ao=vo,Eo=new ArrayBuffer(4*lo+4*ho+4*yo+4*Ao),To=new Float32Array(Eo,0,lo),No=new Float32Array(Eo,4*lo,ho),Co=new Float32Array(Eo,4*lo+4*ho,yo),Io=new Uint32Array(Eo,4*lo+4*ho+4*yo,Ao),Mo=[],wo=[1/0,1/0,1/0,-1/0,-1/0,-1/0],xo=0,bo=0,So=0;So<po.length;So++){var Do,Oo=(Do=po[So]).vertices.xyz,Bo=Do.vertices.uvs,$o=Do.faces.indices,Vo=Oo.length/3,Ho=$o.length,Fo=[1/0,1/0,1/0,-1/0,-1/0,-1/0];for(mo=0;mo<Vo;mo++){var Ko=Oo[3*mo],$s=Oo[3*mo+1],au=Oo[3*mo+2],Ks=to.elements,Gs=1/(Ks[3]*Ko+Ks[7]*$s+Ks[11]*au+Ks[15]),qs=(Ks[0]*Ko+Ks[4]*$s+Ks[8]*au+Ks[12])*Gs,lu=(Ks[1]*Ko+Ks[5]*$s+Ks[9]*au+Ks[13])*Gs,ou=(Ks[2]*Ko+Ks[6]*$s+Ks[10]*au+Ks[14])*Gs;To[3*bo+3*mo]=qs,To[3*bo+3*mo+1]=lu,To[3*bo+3*mo+2]=ou,No[2*bo+2*mo]=Bo[2*mo],No[2*bo+2*mo+1]=Bo[2*mo+1],qs<Fo[0]&&(Fo[0]=qs),lu<Fo[1]&&(Fo[1]=lu),ou<Fo[2]&&(Fo[2]=ou),qs>Fo[3]&&(Fo[3]=qs),lu>Fo[4]&&(Fo[4]=lu),ou>Fo[5]&&(Fo[5]=ou)}for(Fo[0]<wo[0]&&(wo[0]=Fo[0]),Fo[1]<wo[1]&&(wo[1]=Fo[1]),Fo[2]<wo[2]&&(wo[2]=Fo[2]),Fo[3]>wo[3]&&(wo[3]=Fo[3]),Fo[4]>wo[4]&&(wo[4]=Fo[4]),Fo[5]>wo[5]&&(wo[5]=Fo[5]),mo=0;mo<Ho;mo++)Io[xo+mo]=bo+$o[mo];Mo.push({materialIndex:So,name:Do.name,chunkName:no(Do.name),start:xo,count:Do.faces.indices.length,texture:(eo=Do.texture)!==null&&eo!==void 0?eo:void 0}),bo+=Vo,xo+=Ho}for(mo=0;mo<vo;mo+=3){var ru,nu,su,gu,Au,$u,ku,Uo,Yo,mu,pu,Su,_u,bu,Xu,Qu,ju,Mu,Nu;ru=3*Io[mo],nu=3*Io[mo+1],su=3*Io[mo+2],gu=To[ru],Au=To[ru+1],$u=To[ru+2],ku=To[nu],Uo=To[nu+1],Yo=To[nu+2],mu=To[su],ju=(Su=To[su+1]-Uo)*(Qu=$u-Yo)-(_u=To[su+2]-Yo)*(Xu=Au-Uo),Mu=_u*(bu=gu-ku)-(pu=mu-ku)*Qu,Nu=pu*Xu-Su*bu,Co[ru]+=ju,Co[ru+1]+=Mu,Co[ru+2]+=Nu,Co[nu]+=ju,Co[nu+1]+=Mu,Co[nu+2]+=Nu,Co[su]+=ju,Co[su+1]+=Mu,Co[su+2]+=Nu}co.push({floorIndex:fo,vertices:To,uvs:No,indices:Io,normals:Co,groups:Mo,extents:wo})}}return co}function Si(va,_a,eo,to){var ro=t$3.__assign({key:"texture.pbm",basisLoaderInitialized:wi.isInitialized()},ni(_a,["format","quality","size"]));return va=_a.transform?_a.transform(va,ro):ht(va,ro),new Ti({allowHosts:eo,networkSubscribe:to}).load(va,{wrapS:r$4.ClampToEdgeWrapping,wrapT:r$4.ClampToEdgeWrapping,minFilter:r$4.LinearFilter,maxSize:typeof ro.size=="number"?new r$4.Vector2(ro.size,ro.size):void 0,preInit:!0}).then(function(no){var io=no.body;return io.needsUpdate=!0,io})}function Li(va,_a,eo,to,ro,no,io){ro===void 0&&(ro={});for(var ao=[],oo=0,so=bi(va);oo<so.length;oo++){var uo=so[oo],co=uo.floorIndex,fo=uo.vertices,po=uo.uvs,vo=uo.indices,go=uo.normals,mo=uo.groups,lo=uo.extents,ho=new r$4.Box3;ho.min.x=lo[0],ho.min.y=lo[1],ho.min.z=lo[2],ho.max.x=lo[3],ho.max.y=lo[4],ho.max.z=lo[5];var yo=new r$4.BufferGeometry;yo.setAttribute("position",new r$4.BufferAttribute(fo,3)),yo.setAttribute("uv",new r$4.BufferAttribute(po,2)),yo.setAttribute("normal",new r$4.BufferAttribute(go,3)),yo.setIndex(new r$4.BufferAttribute(vo,1)),yo.boundingBox=ho,yo.boundingSphere=ho.getBoundingSphere(new r$4.Sphere);for(var Ao=0,Eo=mo;Ao<Eo.length;Ao++){var To=Eo[Ao];yo.addGroup(To.start,To.count,To.materialIndex)}for(var No=[],Co=function(xo){var bo=eo[xo.chunkName]||(xo.texture?_a+xo.texture:void 0),So=new Et;if(No.push(So),bo){var Do=void 0;bo in ro?Do=ro[bo]:(Do=Si(bo,to,no,io),ro[bo]=Do),Do.then(function(Oo){So.uniforms.map.value=Oo,So.uniforms.exposure.value=3.3},function(){So.defines.USE_MAP=!1,So.uniforms.color.value=new r$4.Color(16777215)})}else So.defines.USE_MAP=!1,So.uniforms.color.value=new r$4.Color(16777215)},Io=0,Mo=mo;Io<Mo.length;Io++)Co(To=Mo[Io]);var wo=new dt(yo,No);wo.name="model_floor_"+co,wo.floorIndex=co,ao.push(wo)}return{objects:ao,texturePromise:Promise.all(Object.keys(ro).map(function(xo){return ro[xo].catch(Pe)})).then(Pe)}}function Oi(va,_a){return(va=Object.assign({},va)).autoResize!==!1&&(va.size=_a>96?Math.min(va.size||1/0,100):_a>48?Math.min(va.size||1/0,200):_a>24?Math.min(va.size||1/0,400):_a>12?Math.min(va.size||1/0,800):Math.min(va.size||1/0,1024)),va}function Bi(va){return va.indexOf("//")===0||/^[0-9a-z]+\:\/\//i.test(va)}zi.Chunk=(()=>{function va(_a){if(_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.vertices=null,va.prototype.faces=null,va.prototype.name="",va.prototype.texture="",va.decode=function(_a,eo){_a instanceof xi||(_a=xi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new zi.Chunk;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:ro.vertices=zi.Vertices.decode(_a,_a.uint32());break;case 2:ro.faces=zi.Faces.decode(_a,_a.uint32());break;case 3:ro.name=_a.string();break;case 4:ro.texture=_a.string();break;default:_a.skipType(7&no)}}if(!ro.hasOwnProperty("vertices"))throw ji.ProtocolError("missing required 'vertices'",{instance:ro});if(!ro.hasOwnProperty("faces"))throw ji.ProtocolError("missing required 'faces'",{instance:ro});if(!ro.hasOwnProperty("name"))throw ji.ProtocolError("missing required 'name'",{instance:ro});return ro},va})(),zi.Vertices=(()=>{function va(_a){if(this.xyz=[],this.uvs=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.xyz=ji.emptyArray,va.prototype.uvs=ji.emptyArray,va.decode=function(_a,eo){_a instanceof xi||(_a=xi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new zi.Vertices;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:if(ro.xyz&&ro.xyz.length||(ro.xyz=[]),(7&no)==2){let io=_a.uint32()+_a.pos;for(;_a.pos<io;)ro.xyz.push(_a.float())}else ro.xyz.push(_a.float());break;case 2:if(ro.uvs&&ro.uvs.length||(ro.uvs=[]),(7&no)==2){let io=_a.uint32()+_a.pos;for(;_a.pos<io;)ro.uvs.push(_a.float())}else ro.uvs.push(_a.float());break;default:_a.skipType(7&no)}}return ro},va})(),zi.Faces=(()=>{function va(_a){if(this.indices=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.indices=ji.emptyArray,va.decode=function(_a,eo){_a instanceof xi||(_a=xi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new zi.Faces;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:if(ro.indices&&ro.indices.length||(ro.indices=[]),(7&no)==2){let io=_a.uint32()+_a.pos;for(;_a.pos<io;)ro.indices.push(_a.uint32())}else ro.indices.push(_a.uint32());break;default:_a.skipType(7&no)}}return ro},va})();const Qi=s$1.Reader,ki=s$1.util,Pi=s$1.roots["@REALSEE/FIVE:five/loaders/model/proto/dome.proto"]||(s$1.roots["@REALSEE/FIVE:five/loaders/model/proto/dome.proto"]={}),Ui=Pi.Model=(()=>{function va(_a){if(this.meshes=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.meshes=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Model;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:ro.meshes&&ro.meshes.length||(ro.meshes=[]),ro.meshes.push(Pi.Mesh.decode(_a,_a.uint32()));break;default:_a.skipType(7&no)}}return ro},va})();function Ri(va){for(var _a=[0,0,0],eo=0;eo<va.attributes.normal.array.length/9;eo++)_a[0]=va.attributes.normal.array[9*eo],_a[1]=va.attributes.normal.array[9*eo+1],_a[2]=va.attributes.normal.array[9*eo+2],va.attributes.normal.array[9*eo]=va.attributes.normal.array[9*eo+6],va.attributes.normal.array[9*eo+1]=va.attributes.normal.array[9*eo+7],va.attributes.normal.array[9*eo+2]=va.attributes.normal.array[9*eo+8],va.attributes.normal.array[9*eo+6]=_a[0],va.attributes.normal.array[9*eo+7]=_a[1],va.attributes.normal.array[9*eo+8]=_a[2];for(eo=0;eo<va.attributes.position.array.length/9;eo++)_a[0]=va.attributes.position.array[9*eo],_a[1]=va.attributes.position.array[9*eo+1],_a[2]=va.attributes.position.array[9*eo+2],va.attributes.position.array[9*eo]=va.attributes.position.array[9*eo+6],va.attributes.position.array[9*eo+1]=va.attributes.position.array[9*eo+7],va.attributes.position.array[9*eo+2]=va.attributes.position.array[9*eo+8],va.attributes.position.array[9*eo+6]=_a[0],va.attributes.position.array[9*eo+7]=_a[1],va.attributes.position.array[9*eo+8]=_a[2];for(eo=0;eo<va.attributes.uv.array.length/6;eo++)_a[0]=va.attributes.uv.array[6*eo],_a[1]=va.attributes.uv.array[6*eo+1],va.attributes.uv.array[6*eo]=va.attributes.uv.array[6*eo+4],va.attributes.uv.array[6*eo+1]=va.attributes.uv.array[6*eo+5],va.attributes.uv.array[6*eo+4]=_a[0],va.attributes.uv.array[6*eo+5]=_a[1];va.attributes.normal.needsUpdate=!0,va.attributes.position.needsUpdate=!0,va.attributes.uv.needsUpdate=!0}function _i(va){var _a=va.position,eo=va.normal,to=va.uv,ro=va.uv2,no=va.groups,io=new r$4.BufferGeometry;io.setAttribute("position",new r$4.BufferAttribute(new Float32Array(_a.array),3)),eo&&io.setAttribute("normal",new r$4.BufferAttribute(new Float32Array(eo.array),3)),to&&io.setAttribute("uv",new r$4.BufferAttribute(new Float32Array(to.array),2)),ro&&io.setAttribute("uv2",new r$4.BufferAttribute(new Float32Array(ro.array),2));for(var ao=0,oo=no;ao<oo.length;ao++){var so=oo[ao];io.addGroup(so.start,so.count,so.materialIndex)}return io}function Yi(va,_a,eo,to,ro,no){if(no.hasOwnProperty(va))return no[va];Bi(va=va.split("?")[0])||(va=_a+va),(va=va.replace(/\/\/vrlab-image\d*.ljcdn.com\//,"//vrlab-public.ljcdn.com/")).indexOf("//")===0&&(va="https:"+va);var io=t$3.__assign({key:"texture.dome",size:64,basisLoaderInitialized:wi.isInitialized()},ni(eo,["quality","format"]));return no[va=eo.transform?eo.transform(va,io):ht(va,io)]=ro.load(va,{wrapS:r$4.RepeatWrapping,wrapT:r$4.RepeatWrapping,preInit:!0}).then(function(ao){var oo=ao.body;return to&&oo.repeat.copy(to),oo.needsUpdate=!0,oo.updateMatrix(),oo})}function Fi(va,_a,eo,to,ro){var no=[],io=new Et,ao=io.uniforms;ao.exposure.value=4.3;var oo=io.defines;if(oo.USE_MAP=!1,oo.USE_UV=!1,va.kd&&(ao.diffuse.value=new r$4.Color().fromArray(va.kd.rgb)),va.mapkd){var so=null;if(va.mapkdrepeat){var uo=va.mapkdrepeat.split(/\s+/).map(function(vo){return Number(vo)}),co=uo[0],fo=uo[1];so=new r$4.Vector2(co,fo)}no.push(Yi(va.mapkd,_a,eo,so,to,ro).then(function(vo){oo.USE_MAP=!0,oo.USE_UV=!0,ao.map.value=vo,ao.uvTransform.value=vo.matrix}).catch(Pe))}if(va.ks&&(ao.specular.value=new r$4.Color().fromArray(va.ks.rgb)),va.mapks&&no.push(Yi(va.mapks,_a,eo,null,to,ro).then(function(vo){ao.specularMap.value=vo}).catch(Pe)),va.ke&&(ao.emissive.value=new r$4.Color().fromArray(va.ke.rgb)),va.mapke&&no.push(Yi(va.mapke,_a,eo,null,to,ro).then(function(vo){ao.emissiveMap.value=vo}).catch(Pe)),va.norm&&no.push(Yi(va.norm,_a,eo,null,to,ro).then(function(vo){ao.normalMap.value=vo}).catch(Pe)),va.mapbump&&no.push(Yi(va.mapbump,_a,eo,null,to,ro).then(function(vo){ao.bumpMap.value=vo}).catch(Pe)),va.bump&&no.push(Yi(va.bump,_a,eo,null,to,ro).then(function(vo){ao.bumpMap.value=vo}).catch(Pe)),typeof va.ns=="number"&&(ao.shininess.value=va.ns),typeof va.d=="number"){var po=va.d;po>0&&po<1&&(io.originOpacity=po,io.opacity=po)}return{material:io,textureReady:Promise.all(no).then(Pe)}}function Hi(va,_a,eo,to,ro){for(var no,io=[],ao=[],oo=(no=va,Ui.decode(no).meshes),so=new Ti({allowHosts:to,networkSubscribe:ro}),uo=new r$4.Matrix4,co=new r$4.Vector3,fo=new r$4.Quaternion,po=new r$4.Vector3,vo={},go=0,mo=oo;go<mo.length;go++){var lo=mo[go],ho=lo.name,yo=lo.chunks,Ao=lo.matrix;if(ho!=="Ceiling"&&ho!=="CeilingDrop")for(var Eo=0,To=Ao;Eo<To.length;Eo++){var No=To[Eo];uo.elements=No.elements;var Co=new pt;Co.renderOrder=-3;for(var Io=0;Io<yo.length;Io++){var Mo=_i(yo[Io].geometry);Mo.applyMatrix4(uo),uo.decompose(co,fo,po),po.x*po.y*po.z<0&&Mo.attributes.normal&&Mo.attributes.position&&Mo.attributes.uv&&Ri(Mo);for(var wo=[],xo=0,bo=yo[Io].material;xo<bo.length;xo++){var So=Fi(bo[xo],_a,eo,so,vo),Do=So.material,Oo=So.textureReady;ao.push(Oo),wo.push(Do)}var Bo=new dt(Mo,wo);Bo.name="chunk_"+Io,Co.add(Bo)}Co.floorIndex=0,Co.name=ho,io.push(Co)}}return{objects:io,texturePromise:Promise.all(ao).catch(Pe)}}function Vi(va){return va==null}Pi.Mesh=(()=>{function va(_a){if(this.chunks=[],this.matrix=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.name="",va.prototype.chunks=ki.emptyArray,va.prototype.matrix=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Mesh;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:ro.name=_a.string();break;case 2:ro.chunks&&ro.chunks.length||(ro.chunks=[]),ro.chunks.push(Pi.Chunk.decode(_a,_a.uint32()));break;case 3:ro.matrix&&ro.matrix.length||(ro.matrix=[]),ro.matrix.push(Pi.Matrix.decode(_a,_a.uint32()));break;default:_a.skipType(7&no)}}if(!ro.hasOwnProperty("name"))throw ki.ProtocolError("missing required 'name'",{instance:ro});return ro},va})(),Pi.Matrix=(()=>{function va(_a){if(this.elements=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.elements=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Matrix;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:if(ro.elements&&ro.elements.length||(ro.elements=[]),(7&no)==2){let io=_a.uint32()+_a.pos;for(;_a.pos<io;)ro.elements.push(_a.float())}else ro.elements.push(_a.float());break;default:_a.skipType(7&no)}}return ro},va})(),Pi.Chunk=(()=>{function va(_a){if(this.material=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.geometry=null,va.prototype.material=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Chunk;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 2:ro.geometry=Pi.Geometry.decode(_a,_a.uint32());break;case 3:ro.material&&ro.material.length||(ro.material=[]),ro.material.push(Pi.Material.decode(_a,_a.uint32()));break;default:_a.skipType(7&no)}}if(!ro.hasOwnProperty("geometry"))throw ki.ProtocolError("missing required 'geometry'",{instance:ro});return ro},va})(),Pi.Geometry=(()=>{function va(_a){if(this.groups=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.position=null,va.prototype.uv=null,va.prototype.uv2=null,va.prototype.normal=null,va.prototype.groups=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Geometry;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:ro.position=Pi.Position.decode(_a,_a.uint32());break;case 2:ro.uv=Pi.UV.decode(_a,_a.uint32());break;case 3:ro.uv2=Pi.UV.decode(_a,_a.uint32());break;case 4:ro.normal=Pi.Normal.decode(_a,_a.uint32());break;case 5:ro.groups&&ro.groups.length||(ro.groups=[]),ro.groups.push(Pi.Group.decode(_a,_a.uint32()));break;default:_a.skipType(7&no)}}if(!ro.hasOwnProperty("position"))throw ki.ProtocolError("missing required 'position'",{instance:ro});if(!ro.hasOwnProperty("normal"))throw ki.ProtocolError("missing required 'normal'",{instance:ro});return ro},va})(),Pi.Position=(()=>{function va(_a){if(this.array=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.array=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Position;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:if(ro.array&&ro.array.length||(ro.array=[]),(7&no)==2){let io=_a.uint32()+_a.pos;for(;_a.pos<io;)ro.array.push(_a.float())}else ro.array.push(_a.float());break;default:_a.skipType(7&no)}}return ro},va})(),Pi.UV=(()=>{function va(_a){if(this.array=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.array=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.UV;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:if(ro.array&&ro.array.length||(ro.array=[]),(7&no)==2){let io=_a.uint32()+_a.pos;for(;_a.pos<io;)ro.array.push(_a.float())}else ro.array.push(_a.float());break;default:_a.skipType(7&no)}}return ro},va})(),Pi.Normal=(()=>{function va(_a){if(this.array=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.array=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Normal;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:if(ro.array&&ro.array.length||(ro.array=[]),(7&no)==2){let io=_a.uint32()+_a.pos;for(;_a.pos<io;)ro.array.push(_a.float())}else ro.array.push(_a.float());break;default:_a.skipType(7&no)}}return ro},va})(),Pi.Group=(()=>{function va(_a){if(_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.start=0,va.prototype.count=0,va.prototype.materialIndex=0,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Group;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:ro.start=_a.uint32();break;case 2:ro.count=_a.uint32();break;case 3:ro.materialIndex=_a.uint32();break;default:_a.skipType(7&no)}}if(!ro.hasOwnProperty("start"))throw ki.ProtocolError("missing required 'start'",{instance:ro});if(!ro.hasOwnProperty("count"))throw ki.ProtocolError("missing required 'count'",{instance:ro});if(!ro.hasOwnProperty("materialIndex"))throw ki.ProtocolError("missing required 'materialIndex'",{instance:ro});return ro},va})(),Pi.Material=(()=>{function va(_a){if(_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.kd=null,va.prototype.ks=null,va.prototype.ke=null,va.prototype.mapkd="",va.prototype.mapks="",va.prototype.mapke="",va.prototype.norm="",va.prototype.mapbump="",va.prototype.bump="",va.prototype.mapd="",va.prototype.ns=0,va.prototype.d=0,va.prototype.tr=0,va.prototype.mapkdrepeat="",va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Material;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:ro.kd=Pi.Color.decode(_a,_a.uint32());break;case 2:ro.ks=Pi.Color.decode(_a,_a.uint32());break;case 3:ro.ke=Pi.Color.decode(_a,_a.uint32());break;case 4:ro.mapkd=_a.string();break;case 5:ro.mapks=_a.string();break;case 6:ro.mapke=_a.string();break;case 7:ro.norm=_a.string();break;case 8:ro.mapbump=_a.string();break;case 9:ro.bump=_a.string();break;case 10:ro.mapd=_a.string();break;case 11:ro.ns=_a.float();break;case 12:ro.d=_a.float();break;case 13:ro.tr=_a.float();break;case 14:ro.mapkdrepeat=_a.string();break;default:_a.skipType(7&no)}}return ro},va})(),Pi.Color=(()=>{function va(_a){if(this.rgb=[],_a)for(let eo=Object.keys(_a),to=0;to<eo.length;++to)_a[eo[to]]!=null&&(this[eo[to]]=_a[eo[to]])}return va.prototype.rgb=ki.emptyArray,va.decode=function(_a,eo){_a instanceof Qi||(_a=Qi.create(_a));let to=eo===void 0?_a.len:_a.pos+eo,ro=new Pi.Color;for(;_a.pos<to;){let no=_a.uint32();switch(no>>>3){case 1:if(ro.rgb&&ro.rgb.length||(ro.rgb=[]),(7&no)==2){let io=_a.uint32()+_a.pos;for(;_a.pos<io;)ro.rgb.push(_a.float())}else ro.rgb.push(_a.float());break;default:_a.skipType(7&no)}}return ro},va})();var Gi=function(va,_a){_a===void 0&&(_a=1e-4),_a=Math.max(_a,Number.EPSILON);for(var eo={},to=va.getIndex(),ro=va.getAttribute("position"),no=to?to.count:ro.count,io=0,ao=Object.keys(va.attributes),oo={},so={},uo=[],co=["getX","getY","getZ","getW"],fo=0,po=ao.length;fo<po;fo++)oo[yo=ao[fo]]=[],(No=va.morphAttributes[yo])&&(so[yo]=new Array(No.length).fill().map(function(){return[]}));var vo=Math.log10(1/_a),go=Math.pow(10,vo);for(fo=0;fo<no;fo++){var mo=to?to.getX(fo):fo,lo="",ho=0;for(po=ao.length;ho<po;ho++)for(var yo=ao[ho],Ao=(To=va.getAttribute(yo)).itemSize,Eo=0;Eo<Ao;Eo++)lo+="".concat(~~(To[co[Eo]](mo)*go),",");if(lo in eo)uo.push(eo[lo]);else{for(ho=0,po=ao.length;ho<po;ho++){yo=ao[ho];var To=va.getAttribute(yo),No=va.morphAttributes[yo],Co=(Ao=To.itemSize,oo[yo]),Io=so[yo];for(Eo=0;Eo<Ao;Eo++){var Mo=co[Eo];if(Co.push(To[Mo](mo)),No)for(var wo=0,xo=No.length;wo<xo;wo++)Io[wo].push(No[wo][Mo](mo))}}eo[lo]=io,uo.push(io),io++}}var bo=va.clone();for(fo=0,po=ao.length;fo<po;fo++){yo=ao[fo];var So=va.getAttribute(yo),Do=new So.array.constructor(oo[yo]);if(To=new r$4.BufferAttribute(Do,So.itemSize,So.normalized),bo.setAttribute(yo,To),yo in so)for(ho=0;ho<so[yo].length;ho++){var Oo=va.morphAttributes[yo][ho],Bo=(Do=new Oo.array.constructor(so[yo][ho]),new r$4.BufferAttribute(Do,Oo.itemSize,Oo.normalized));bo.morphAttributes[yo][ho]=Bo}}return bo.setIndex(uo),bo};function Ki(va){var _a;return new((_a=r$4.Triangle).bind.apply(_a,t$3.__spreadArray([void 0],va.map(function(eo){return new r$4.Vector3(eo.x,eo.y,eo.z)}),!1)))}var qi={at3d:function(va,_a){for(var eo=Oi(_a.textureOptions,va.textures.length),to={},ro=0,no=va.textures;ro<no.length;ro++){var io=no[ro];to[io]=Si(io,eo,_a.allowHosts,_a.networkSubscribe)}return Promise.resolve().then(function(){return tt(va.file,{responseType:"arraybuffer",allowHosts:_a.allowHosts,networkSubscribe:_a.networkSubscribe})}).then(function(ao){return ii(ao.body)}).then(function(ao){return Kt(function(){for(var oo,so={chunks:[]},uo=0,co=ao;uo<co.length;uo++){var fo=co[uo],po=Ci.decode(fo);po.chunks.length&&(oo=so.chunks).push.apply(oo,po.chunks)}return so})}).then(function(ao){return Kt(function(){return Li(ao,va.textureBase,va.textures.slice(),eo,to,_a.allowHosts,_a.networkSubscribe)})})},pbm:function(va,_a){for(var eo=Oi(_a.textureOptions,va.textures.length),to={},ro=0,no=va.textures;ro<no.length;ro++){var io=no[ro];to[io]=Si(io,eo,_a.allowHosts,_a.networkSubscribe)}return Promise.resolve().then(function(){return tt(va.file,{responseType:"arraybuffer",allowHosts:_a.allowHosts,networkSubscribe:_a.networkSubscribe})}).then(function(ao){return Kt(function(){var oo=new Uint8Array(ao.body);return Ci.decode(oo)})}).then(function(ao){return Kt(function(){return Li(ao,va.textureBase,va.textures.slice(),eo,to,_a.allowHosts,_a.networkSubscribe)})})},dome:function(va,_a){return Promise.resolve().then(function(){return tt(va.file,{responseType:"arraybuffer",allowHosts:_a.allowHosts,networkSubscribe:_a.networkSubscribe})}).then(function(eo){return Hi(new Uint8Array(eo.body),va.textureBase,_a.textureOptions,_a.allowHosts,_a.networkSubscribe)})},domez:function(va,_a){return Promise.resolve().then(function(){return tt(va.file,{responseType:"arraybuffer",allowHosts:_a.allowHosts,networkSubscribe:_a.networkSubscribe})}).then(function(eo){return ii(eo.body)}).then(function(eo){var to=eo.reduce(function(io,ao){return io+ao.length},0),ro=new Uint8Array(to),no=0;return eo.forEach(function(io){ro.set(io,no),no+=io.length}),ro}).then(function(eo){return Hi(eo,va.textureBase,_a.textureOptions,_a.allowHosts,_a.networkSubscribe)})}},Wi=function(va){function _a(eo){eo===void 0&&(eo={});var to=va.call(this)||this;return to.empty=!0,to.name="model",to.loaded=!1,to.bvhs=Object.assign([],{loaded:!1}),to.bounding=new r$4.Box3,to.shownFloor=null,to.floorLength=0,to.networkSubscribe=eo.networkSubscribe,to.allowHosts=eo.allowHosts,to.renderOrder=-3,to}return t$3.__extends(_a,va),Object.defineProperty(_a.prototype,"shownfloor",{get:function(){return this.shownFloor},enumerable:!1,configurable:!0}),_a.prototype.getEdges=function(eo){var to;eo===void 0&&(eo=30/180*Math.PI);for(var ro=Math.cos(eo),no=[],io=0,ao=this.children;io<ao.length;io++){var oo=ao[io];if(oo instanceof dt){for(var so={},uo=["a","b","c"],co=Gi(oo.geometry),fo=co.getAttribute("position").array,po=((to=co.getIndex())===null||to===void 0?void 0:to.array)||[],vo=[],go=[],mo=0,lo=fo.length;mo<lo;mo+=3)vo.push(new r$4.Vector3(fo[mo],fo[mo+1],fo[mo+2]));for(mo=0,lo=po.length;mo<lo;mo+=3){var ho=po[mo],yo=po[mo+1],Ao=po[mo+2],Eo=new r$4.Vector3().crossVectors(vo[yo].clone().sub(vo[ho]),vo[Ao].clone().sub(vo[ho])).normalize();go.push({a:ho,b:yo,c:Ao,normal:Eo})}for(mo=0,lo=go.length;mo<lo;mo++)for(var To=go[mo],No=0;No<3;No++){var Co=To[uo[No]],Io=To[uo[(No+1)%3]],Mo=[Math.min(Co,Io),Math.max(Co,Io)];so[wo=Mo[0]+"-"+Mo[1]]===void 0?so[wo]={index1:Mo[0],index2:Mo[1],face1:mo}:so[wo].face2=mo}for(var wo in so){var xo=so[wo];if(xo.face2===void 0||go[xo.face1].normal.dot(go[xo.face2].normal)<=ro){var bo=vo[xo.index1],So=vo[xo.index2];no.push(new r$4.Line3(bo,So))}}co.dispose(),vo.length=0,go.length=0}}return no},_a.prototype.hasFloors=function(){return this.hasFloors_()},_a.prototype.hasFloors_=function(){var eo=[];return this.traverse(function(to){to instanceof dt&&(eo[to.floorIndex]=!0)}),eo.length},_a.prototype.show=function(){for(var eo,to=[],ro=0;ro<arguments.length;ro++)to[ro]=arguments[ro];var no=this.shownFloor,io=null,ao=1,oo=(eo=to[1])!==null&&eo!==void 0?eo:.1,so=to.length!==0;this.shownFloor=io=so?to[0]:null,this.traverse(function(uo){uo instanceof dt&&uo.material.forEach(function(co){io===null||io===uo.floorIndex?co.opacity=co.originOpacity*ao:co.opacity=co.originOpacity*oo})}),no!==this.shownFloor&&this.emit("shownFloorChange",this.shownFloor,this.floorLength),this.needsRender=!0},_a.prototype.intersectRaycaster=function(eo,to){var ro=eo.ray,no=ro.origin,io=ro.direction;if(Vi(to))if(Vi(this.shownFloor)){var ao=this.floorLength;to=[];for(var oo=-1;oo<ao;oo++)to.push(oo)}else to=[this.shownFloor];var so=[],uo=[];Array.isArray(to)?uo.push.apply(uo,to):uo.push(to);for(var co=function(go){var mo=fo.bvhs&&fo.bvhs[go];if(mo){var lo=new Ot(no.x,no.y,no.z),ho=new Ot(io.x,io.y,io.z);(yo=mo.intersectRay(lo,ho,!0).map(function(Eo){var To=Eo.intersectionPoint,No=Eo.triangle,Co=new r$4.Vector3(To.x,To.y,To.z);return{point:Co,face:{normal:Ki(No).getNormal(new r$4.Vector3)},distance:no.distanceTo(Co)}})).length&&so.push.apply(so,yo)}else{var yo,Ao=[];fo.traverse(function(Eo){Eo instanceof dt&&Eo.floorIndex===go&&Ao.push(Eo)}),(yo=eo.intersectObjects(Ao).map(function(Eo){return{face:Eo.face?{normal:Eo.face.normal}:void 0,point:Eo.point,distance:Eo.distance}})).length&&so.push.apply(so,yo)}},fo=this,po=0,vo=uo;po<vo.length;po++)co(vo[po]);return so.filter(function(go){var mo=go.distance;return mo<=eo.far&&mo>=eo.near}).sort(function(go,mo){return go.distance-mo.distance})},_a.prototype.buildBVH=function(){if(!this.bvhs.loaded){var eo=[];this.traverse(function(Eo){Eo instanceof dt&&(eo[Eo.floorIndex]=eo[Eo.floorIndex]||[],eo[Eo.floorIndex].push(Eo.geometry))}),this.bvhs.length=0;for(var to=0,ro=eo;to<ro.length;to++){for(var no=ro[to],io=0,ao=0,oo=no;ao<oo.length;ao++)io+=(po=oo[ao]).index?po.index.array.length:po.attributes.position.array.length;for(var so=new Float32Array(3*io),uo=0,co=0,fo=no;co<fo.length;co++){var po,vo=(po=fo[co]).attributes.position.array,go=po.index?po.index.array:null;if(go){for(var mo=go.length,lo=0,ho=void 0,yo=void 0;lo<mo;lo++)ho=3*(uo+lo),yo=3*go[lo],so[ho]=vo[yo],so[ho+1]=vo[yo+1],so[ho+2]=vo[yo+2];uo+=mo}else{for(mo=vo.length/3,lo=0,ho=void 0,yo=void 0;lo<mo;lo++)yo=3*lo,so[ho=3*(uo+lo)]=vo[yo],so[ho+1]=vo[yo+1],so[ho+2]=vo[yo+2];uo+=mo}}var Ao=new _t$1().create(so).splitNode(50);this.bvhs.push(Ao)}this.bvhs.loaded=!0,this.emit("bvhLoaded")}},_a.prototype.load=function(eo,to){var ro=this;if(to===void 0&&(to={}),this.loaded===!0)throw new Error("[MODEL LOAD ERROR]: model cannot load twice.");var no=function(ao,oo){oo===void 0&&(oo=[]);var so=/([0-9a-z\.\_\-]+)([\?\#].*)?$/i.exec(ao);if(!so)return"";for(var uo=0,co=String(so[1]).trim().split(".").slice(1).reverse();uo<co.length;uo++){var fo=co[uo],po=oo.indexOf(fo);if(po>=0)return oo[po]}return""}(eo.file,Object.keys(qi)),io=qi[no];if(!io)throw new Error("[MODEL LOAD ERROR]: file type(".concat(no,") does not support."));return this.name=eo.file,io(eo,{textureOptions:to,allowHosts:this.allowHosts,networkSubscribe:this.networkSubscribe}).then(function(ao){var oo=ao.objects,so=ao.texturePromise;ro.bounding.makeEmpty();for(var uo=0,co=oo;uo<co.length;uo++)(go=co[uo]).traverse(function(mo){if(mo instanceof dt){var lo=mo.geometry;lo.boundingBox||lo.computeBoundingBox(),lo.boundingSphere||lo.computeBoundingSphere(),ro.bounding.union(lo.boundingBox)}}),ro.add(go);for(var fo=ro.bounding.getCenter(new r$4.Vector3),po=0,vo=oo;po<vo.length;po++){var go;(go=vo[po]).traverse(function(mo){if(mo instanceof dt)for(var lo=0,ho=mo.material;lo<ho.length;lo++)ho[lo].uniforms.modelCenter.value=fo})}ro.floorLength=ro.hasFloors_(),ro.empty=!1,ro.loaded=!0,Kt(function(){ro.emit("geometryLoaded"),so.then(function(){ro.emit("materialLoaded"),ro.emit("loaded")})})}).catch(function(ao){return ro.name="",ro.emit("error",ao),Promise.reject(ao)})},_a.prototype.dispose=function(){for(this.off(),this.disposeGeometry(),this.disposeMaterial();this.children.length;)this.remove(this.children[0]);this.bvhs.length=0,this.bvhs.loaded=!1},_a}(gt);Object.assign(Wi.prototype,{on:ke.prototype.on,once:ke.prototype.once,off:ke.prototype.off,emit:ke.prototype.emit,hasListener:ke.prototype.hasListener});var Xi=function(){function va(){this.name="",this.workCode="",this.expire=new Date,this.allowHosts=[],this.initial={mode:"Panorama",latitude:0,longitude:0,panoIndex:0,fov:80},this.observers=[],this.issuer="none",this.raw={work:null,option:{}}}return va.prototype.toJSON=function(){return this.raw.work},va}();function Zi(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];var eo=[];va=va.map(function(ao){return ao.trim()}).filter(function(ao){return ao.length>0&&!/^\/+$/.test(ao)});for(var to=0;to<va.length;to++){var ro=to===0,no=to===va.length-1,io=va[to];ro||(io=io.replace(/^\/+/,"")),no||(io=io.replace(/\/+$/,"")),eo.push(io)}return eo.join("/")}function Ji(va){return va instanceof Error}function $i(va,_a){if(va===_a)return!0;if(va&&_a&&typeof va=="object"&&typeof _a=="object"){if(va.constructor!==_a.constructor)return!1;var eo,to,ro;if(Array.isArray(va)){if((eo=va.length)!=_a.length)return!1;for(to=eo;to--!=0;)if(!$i(va[to],_a[to]))return!1;return!0}if(va.constructor===RegExp)return va.source===_a.source&&va.flags===_a.flags;if(va.valueOf!==Object.prototype.valueOf)return va.valueOf()===_a.valueOf();if(va.toString!==Object.prototype.toString)return va.toString()===_a.toString();if((eo=(ro=Object.keys(va)).length)!==Object.keys(_a).length)return!1;for(to=eo;to--!=0;)if(!Object.prototype.hasOwnProperty.call(_a,ro[to]))return!1;for(to=eo;to--!=0;){var no=ro[to];if(!$i(va[no],_a[no]))return!1}return!0}return va!=va&&_a!=_a}function en(va){return typeof va=="number"}function tn(va){return(va&va-1)==0&&va!==0}function nn(va,_a){_a===void 0&&(_a=!1);var eo=typeof va;if(eo==="string")return JSON.stringify(va);if(va===!0)return"true";if(va===!1)return"false";if(va===null)return"null";if(va instanceof Array){for(var to="[",ro=va.length-1,no=0;no<ro;no++)to+=nn(va[no],!1)+",";return ro>-1&&(to+=nn(va[no],!1)),to+"]"}if(va instanceof Object){if(typeof va.toJSON=="function")return nn(va.toJSON(),_a);var io=Object.keys(va).sort(),ao=io.length;for(to="",no=0;no<ao;){var oo=io[no],so=nn(va[oo],!0);so!==void 0&&(no&&to!==""&&(to+=","),to+=JSON.stringify(oo)+":"+so),no++}return"{"+to+"}"}switch(eo){case"function":case"undefined":return _a?void 0:null;case"number":return 0;default:return isFinite(va)?va:null}}function rn(va){return String(nn(va,!1))}function sn(va){var _a,eo,to,ro=JSON.parse(va),no=typeof location<"u"?location.hostname:"",io=Date.now();if(typeof ro!="object")return new Error("input is not an object");if(no.length===0||Fe(no)||Ge.filter(function(po){return He(po,no)}).length>0){var ao=String((_a=ro.certificate)!==null&&_a!==void 0?_a:"");if(ao){var oo=new je;return oo.readCertPEM(ao),{issuer:oo.getSubjectString()}}return{issuer:"none"}}var so=String((eo=ro.certificate)!==null&&eo!==void 0?eo:"");if(!so)return new Error("certificate is not existed.");var uo=new je;uo.readCertPEM(so);var co=String((to=ro._signature)!==null&&to!==void 0?to:"");if(!co)return new Error("signature is not existed.");if(function(po,vo,go){var mo=new je;if(typeof go=="string"?mo.readCertPEM(go):mo.readCertHex(go.hex),Le(mo)===!1)return!1;var lo=new W$2;return lo.readCertPubKeyHex(mo.hex,6),!!lo.verify(po,B$2(vo))}(rn(function(po,vo){for(var go={},mo=0,lo=Object.keys(po);mo<lo.length;mo++){var ho=lo[mo];vo.indexOf(ho)===-1&&(go[ho]=po[ho])}return go}(ro,["_signature"])),co,uo)===!1)return new Error("signature verify failed.");var fo=new Date(typeof ro.expire_at=="string"&&/^\d+$/.test(ro.expire_at)?Number(ro.expire_at):ro.expire_at);return io<fo.getTime()?(Array.isArray(ro.allow_hosts)?ro.allow_hosts:[]).filter(function(po){return He(po,no)}).length===0?function(po){return new Error("host(".concat(JSON.stringify(po),") is not allowed."))}(no):{issuer:uo.getSubjectString()}:function(po){return new Error("date(".concat(po.toString(),") expired."))}(fo)}var on=new WeakMap;function an(va,_a,eo){var to,ro=JSON.stringify(_a),no=JSON.stringify(va),io=sn(no);va=JSON.parse(no),_a=JSON.parse(ro);var ao=new Xi;ao.issuer=io instanceof Error?"none":io.issuer,ao.raw={work:va,options:_a};var oo=(to=va.base_url)!==null&&to!==void 0?to:"";oo&&oo[oo.length-1]!=="/"&&(oo+="/");var so=function(su,gu){return su.indexOf(gu)===0},uo=function(su,gu){var Au,$u=su;if(_a.jsonp===!0){$u=su.replace(/([\?\#].*)?$/i,"");var ku=ze("".concat($u)).slice(0,7);$u="".concat($u,".").concat(ku,".jsonp")}if(_a.shortPath===!0){var Uo=$u.replace(oo,"").split("."),Yo=(Au=Uo.shift())!==null&&Au!==void 0?Au:"",mu=Uo.join(".");$u=Zi(oo,ze(Yo))+(mu?"."+mu:"")}var pu=$u.replace(oo,"");return _a.baseURL&&($u=Zi(_a.baseURL,pu)),eo&&eo(su,$u,pu,gu),$u},co=function(su,gu){var Au,$u,ku,Uo,Yo,mu,pu=su;if(!Bi(su)){var Su=(mu=(Uo=($u=(Au=va.panorama)===null||Au===void 0?void 0:Au.pano_high_cube_base_url)!==null&&$u!==void 0?$u:(ku=va.panorama)===null||ku===void 0?void 0:ku.pano_cube_base_url)!==null&&Uo!==void 0?Uo:(Yo=va.panorama)===null||Yo===void 0?void 0:Yo.base_url)!==null&&mu!==void 0?mu:"";Su&&(Su=Zi(Su,String(gu))),pu=Zi(Su,pu)}return Bi(pu)||(pu=Zi(oo,pu)),so(pu,oo)||console.warn("".concat(pu," is not start with base_url(").concat(oo,").")),uo(pu,"panorama")},fo=function(su){var gu=su;return Bi(gu)||(gu=Zi(oo,su)),so(gu,oo)||console.warn("".concat(gu," is not start with base_url(").concat(oo,").")),uo(gu,"model")},po=function(su,gu){gu===void 0&&(gu="");var Au=su;return Bi(Au)||(Au=Zi(gu,Au)),Bi(Au)||(Au=Zi(oo,Au)),so(Au,oo)||console.warn("".concat(Au," is not start with base_url(").concat(oo,").")),uo(Au,"texture")};if(ao.workCode=String(va.work_code||va.code||va.vr_code||va.workCode),ao.name=String(va.name),ao.expire=new Date(typeof va.expire_at=="string"&&/^\d+$/.test(va.expire_at)?Number(va.expire_at):va.expire_at),ao.allowHosts=va.allow_hosts||[],Ji(io)||(va.initial&&(va.initial.mode!=="Floorplan"&&va.initial.mode!=="Topview"&&va.initial.mode!=="Panorama"&&va.initial.mode!=="VRPanorama"&&va.initial.mode!=="Model"&&va.initial.mode!=="DepthPanorama"||(ao.initial.mode=va.initial.mode),en(va.initial.latitude)&&(ao.initial.latitude=va.initial.latitude),en(va.initial.longitude)?ao.initial.longitude=va.initial.longitude:en(va.initial.heading)&&(ao.initial.longitude=-(360*(va.initial.heading-.25)+90)/180*Math.PI),en(va.initial.fov)&&(ao.initial.fov=va.initial.fov),en(va.initial.panoIndex)?ao.initial.panoIndex=va.initial.panoIndex:en(va.initial.pano_index)?ao.initial.panoIndex=va.initial.pano_index:en(va.initial.pano)&&(ao.initial.panoIndex=va.initial.pano)),Ji(io)))return io;if(va.model){var vo={bvh:!0,async:!1,textureBase:"",textures:[]};typeof _a.modelBvh=="boolean"?vo.bvh=_a.modelBvh:typeof va.model.bvh=="boolean"?vo.bvh=va.model.bvh:typeof va.bvh=="boolean"&&(vo.bvh=va.bvh),va.model.file?vo.file=fo(va.model.file):va.model.file_url&&(vo.file=fo(va.model.file_url)),va.model.textureBase?vo.textureBase=va.model.textureBase:va.model.material_base_url&&(vo.textureBase=va.model.material_base_url),Array.isArray(va.model.textures)?vo.textures=va.model.textures.map(function(su){return po(su,vo.textureBase)}):Array.isArray(va.model.material_textures)&&(vo.textures=va.model.material_textures.map(function(su){return po(su,vo.textureBase)})),vo.file&&(ao.model=vo)}if(Ji(io))return io;if(va.observers&&Array.isArray(va.observers)){var go=[];va.panorama&&(Array.isArray(va.panorama)?go=va.panorama:Array.isArray(va.panorama.list)?go=va.panorama.list:Array.isArray(va.panorama.info)&&(go=va.panorama.info));for(var mo=0;mo<va.observers.length;mo++){var lo={},ho=va.observers[mo];if(!ho)break;var yo=go[mo]||{};ho=Object.assign({},ho,yo,{active:ho.active!==!1&&yo.active!==!1}),lo.panoIndex=mo,lo.active=ho.active!==!1,lo.loadable=ho.loadable===!0,lo.images={up:co(ho.images?ho.images.up:ho.up,mo),down:co(ho.images?ho.images.down:ho.down,mo),right:co(ho.images?ho.images.right:ho.right,mo),left:co(ho.images?ho.images.left:ho.left,mo),front:co(ho.images?ho.images.front:ho.front,mo),back:co(ho.images?ho.images.back:ho.back,mo)};var Ao=ho.images?ho.images.depth:ho.depth;Ao&&(lo.images.depth=co(Ao,mo));var Eo=ho.images?ho.images.luminance:ho.luminance;Eo&&(lo.images.luminance={up:co(Eo.up,mo),down:co(Eo.down,mo),right:co(Eo.right,mo),left:co(Eo.left,mo),front:co(Eo.front,mo),back:co(Eo.back,mo)});var To=ho.images?ho.images.tiles:ho.tiles;if(To){for(var No=[],Co=function(su){var gu=su.match(/\/cube_(\d+)\//);if(gu){var Au=Number(gu[1]);if(tn(Au))return Au}return!1},Io=function(su,gu){return su.replace(/\/cube_(\d+)\//,function(){return"/cube_".concat(gu,"/")})},Mo=0,wo=To;Mo<wo.length;Mo++){var xo=wo[Mo];if(typeof xo=="number"){var bo=xo,So=Co(lo.images.front);if(So===!1)continue;if((Fo=Math.max(So,512*Math.pow(2,bo)))>2048){var Do=Io(lo.images.up,Fo),Oo=Io(lo.images.down,Fo),Bo=Io(lo.images.right,Fo),$o=Io(lo.images.left,Fo),Vo=Io(lo.images.front,Fo),Ho=Io(lo.images.back,Fo);No.push({level:bo,size:Fo,up:Do,down:Oo,right:Bo,left:$o,front:Vo,back:Ho})}else Do=lo.images.up,Oo=lo.images.down,Bo=lo.images.right,$o=lo.images.left,Vo=lo.images.front,Ho=lo.images.back,No.push({level:bo,size:Fo,up:Do,down:Oo,right:Bo,left:$o,front:Vo,back:Ho})}else{var Fo;if(typeof(bo=xo.level)!="number"||typeof(Fo=xo.size)!="number")continue;Do=co(xo.up,mo),Oo=co(xo.down,mo),Bo=co(xo.right,mo),$o=co(xo.left,mo),Vo=co(xo.front,mo),Ho=co(xo.back,mo),No.push({level:bo,size:Fo,up:Do,down:Oo,right:Bo,left:$o,front:Vo,back:Ho})}}No.sort(function(su,gu){return su.level-gu.level}),lo.images.tiles=No}if(ho.position instanceof r$4.Vector3)lo.position=ho.position.clone();else{if(!Array.isArray(ho.position))break;lo.position=new r$4.Vector3().fromArray(ho.position)}if(ho.standingPosition instanceof r$4.Vector3)lo.standingPosition=ho.standingPosition.clone();else if(Array.isArray(ho.standingPosition))lo.standingPosition=new r$4.Vector3().fromArray(ho.standingPosition);else if(ho.standing_position instanceof r$4.Vector3)lo.standingPosition=ho.standing_position.clone();else{if(!Array.isArray(ho.standing_position))break;lo.standingPosition=new r$4.Vector3().fromArray(ho.standing_position)}if(ho.quaternion instanceof r$4.Quaternion)lo.quaternion=ho.quaternion.clone();else if(Array.isArray(ho.quaternion))lo.quaternion=new r$4.Quaternion().fromArray(ho.quaternion);else{if(!ho.quaternion)break;var Ko=ho.quaternion,$s=Ko.x,au=Ko.y,Ks=Ko.z,Gs=Ko.w;lo.quaternion=new r$4.Quaternion($s,au,Ks,Gs)}if(Array.isArray(ho.accessibleNodes)?lo.accessibleNodes=ho.accessibleNodes.slice():Array.isArray(ho.accessible_nodes)&&(lo.accessibleNodes=ho.accessible_nodes.slice()),Array.isArray(ho.visibleNodes)?lo.visibleNodes=ho.visibleNodes.slice():Array.isArray(ho.visible_nodes)&&(lo.visibleNodes=ho.visible_nodes.slice()),en(ho.floorIndex)?lo.floorIndex=ho.floorIndex:en(ho.floor_index)?lo.floorIndex=ho.floor_index:lo.floorIndex=0,ho.video){var qs={};typeof ho.video.source=="string"&&(qs.source=ho.video.source),ho.video.matrix instanceof r$4.Matrix4?qs.matrix=ho.video.matrix.clone():Array.isArray(ho.video.matrix)&&(qs.matrix=new r$4.Matrix4().fromArray(ho.video.matrix)),ho.video.size instanceof r$4.Vector2?qs.size=ho.video.size.clone():Array.isArray(ho.video.size)&&(qs.size=new r$4.Vector2().fromArray(ho.video.size)),qs.source&&qs.matrix&&qs.size&&(lo.video=qs)}ao.observers[mo]=lo}}if(Ji(io))return io;for(var lu=0,ou=ao.observers;lu<ou.length;lu++){if(!(lo=ou[lu]).accessibleNodes){lo.accessibleNodes=[];for(var ru=0;ru<ao.observers.length;ru++)ao.observers[ru]!==lo&&lo.accessibleNodes.push(ru)}if(!lo.visibleNodes)for(lo.visibleNodes=[],ru=0;ru<ao.observers.length;ru++)ao.observers[ru]!==lo&&lo.visibleNodes.push(ru)}if(Ji(io))return io;var nu=_e(ao);return on.set(nu,{work:no,options:ro}),nu}function un(va,_a,eo){typeof va=="string"&&va.trim()[0]==="{"&&(va=JSON.parse(va));var to=on.get(va);if(to){if(_a&&!$i(JSON.parse(to.options),_a))throw new Error("[PARSE FAILED]: work is parsed with different options.");return va}var ro=an(va,_a??{},eo);if(Ji(ro))throw new Error("[PARSE FAILED]: "+ro.message);return ro}function cn(va,_a,eo){return Math.max(_a,Math.min(eo,va))}function An(va,_a,eo){return va+(_a-va)*eo}function ln(va,_a){var eo=_a[1]-_a[0];return va<_a[0]?ln(va+eo,_a):va>=_a[1]?ln(va-eo,_a):va}function hn(va,_a,eo,to){return to?function(ro,no,io,ao){var oo=ao[1]-ao[0];return ro=ln(ro,ao),An((no=ln(no,ao))-ro>oo/2?ro+oo:ro-no>oo/2?ro-oo:ro,no,io)}(va,_a,eo,to):An(va,_a,eo)}var dn=function(){function va(_a){for(var eo in this.config={},this.progress=1,this.ended=!0,this.value={},this.startTime=Re(),this.startVelocity=0,this.duration=0,this.keyframes=[],_a){var to=_a[eo];typeof to=="number"?(this.value[eo]=to,this.config[eo]={circle:!1}):(this.value[eo]=to.value,this.config[eo]={circle:to.circle})}this.keyframes=[{progress:0,value:t$3.__assign({},this.value)},{progress:1,value:t$3.__assign({},this.value)}]}return va.prototype.getProgress=function(_a){var eo=_a-this.startTime;return eo<0?0:eo>=this.duration?1:1-function(to,ro,no,io){var ao=(ro*no+2*to)/Math.pow(no,3),oo=-(2*ro*no+3*to)/Math.pow(no,2),so=ro,uo=to;return ao*Math.pow(io,3)+oo*Math.pow(io,2)+so*io+uo}(1,this.startVelocity,this.duration,eo)},va.prototype.getValue=function(_a){for(var eo=1;eo<this.keyframes.length;eo++)if(this.keyframes[eo].progress>_a){var to=this.keyframes[eo-1],ro=this.keyframes[eo],no={};for(var io in this.config){var ao=(_a-to.progress)/(ro.progress-to.progress);no[io]=hn(to.value[io],ro.value[io],ao,this.config[io].circle)}return no}return t$3.__assign({},this.keyframes[this.keyframes.length-1].value)},va.prototype.getProgressVelocity=function(_a){var eo=_a-this.startTime;return eo>=this.duration?0:function(to,ro,no,io){var ao=(ro*no+2*to)/Math.pow(no,3),oo=-(2*ro*no+3*to)/Math.pow(no,2),so=ro;return 3*ao*Math.pow(io,2)+2*oo*io+so}(1,this.startVelocity,this.duration,eo)},va.prototype.update=function(_a){return!!this.ended||(this.progress=Math.min(1,Math.max(0,this.progress,this.getProgress(_a))),this.value=this.getValue(this.progress),this.ended=this.progress>=1,this.ended&&this.callbacks&&(this.callbacks[0](),this.callbacks=void 0),this.ended)},va.prototype.getKeyFrameSegment=function(_a){for(var eo=this.getProgress(_a),to=1;to<this.keyframes.length;to++)if(this.keyframes[to].progress>eo)return[this.keyframes[to-1],this.keyframes[to]];return[this.keyframes[this.keyframes.length-2],this.keyframes[this.keyframes.length-1]]},va.prototype.getTargetKeyframe=function(){return this.keyframes[this.keyframes.length-1]},va.prototype.set=function(_a,eo,to,ro){var no;to===void 0&&(to=0),ro=ro??Re();var io=this.getProgress(ro),ao=this.getValue(io),oo={};for(var so in this.config)oo[so]=(no=_a[so])!==null&&no!==void 0?no:ao[so];var uo=[{progress:0,value:ao},{progress:1,value:oo}];return this.setKeyframes(uo,eo,to,ro)},va.prototype.setKeyframes=function(_a,eo,to,ro){var no=this;if(to===void 0&&(to=0),_a.length<2)throw new Error("keyframes invalid.");return this.callbacks&&(this.callbacks[1](new Error("motion aborted.")),this.callbacks=void 0),new Promise(function(io,ao){ro=ro??Re(),no.progress=0,no.ended=!1,no.startTime=ro,no.startVelocity=to,no.keyframes=_a,no.duration=eo,eo===0?(no.progress=1,no.value=t$3.__assign({},_a[_a.length-1].value)):no.value=t$3.__assign({},_a[0].value),no.callbacks=[io,ao]})},va.prototype.dispose=function(){this.callbacks&&(this.callbacks[1](new Error("motion dispose.")),this.callbacks=void 0)},va}(),gn=yt(),pn=new r$4.Texture(gn);gn.onload=function(){return pn.needsUpdate=!0},gn.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAR9JREFUOBF10kFOAzEMBdCZFhCbrrgAN+NqHIULsWKDKO3gF+VHoZpa+rXjfH87nq7btr0ty3KZ8FsxnHeQPL748lA/x0Jsq+AwYe0X8nDtGA33BEJUHIEKW/EorHOLI7BHNlkEbju38YkQAIRZxFkHz2HOirKDxNcIzG+fu/6oLiNmqc5ZrlwTeKyAgJF14tMZmSn87pBrxeX/CRABgk/dl1s+C18dio2Pp9nmCQru2UtdvN+7lI9AFsgb3zNMcSp8FF4LYs3UhLfOAvkDJffci8q1J/ByRLKnQ8gUJUFOd2SeZYliCxwiyJCxCbhUGFKF4zPm61hiq7sVyJnPmATyR5IzLSNyDNEFRCDnkAmA8U2RfCsIefYhDeKOQLv7A+l1ZTyjymNxAAAAAElFTkSuQmCC";var Mn=new r$4.RingBufferGeometry(.06,.07,32).rotateX(-Math.PI/2),fn=new r$4.MeshBasicMaterial({map:pn,transparent:!0});function yn(){if(typeof document>"u"){var va=new r$4.Texture;return Object.assign(va,{draw:function(uo){},retain:!1,pool:!1})}var _a=document.createElement("canvas"),eo=512,to=256,ro=190;_a.setAttribute("width",String(eo)),_a.setAttribute("height",String(eo));var no=new r$4.Texture(_a),io=_a.getContext("2d");if(!io)throw Error("cannot create canvas context");var ao=io.createRadialGradient(to,to,150,to,to,0);function oo(){var uo=Math.PI/12,co=2*Math.PI/3;io&&(io.beginPath(),io.arc(to,to,ro,0*co,1*co-uo),io.stroke(),io.beginPath(),io.arc(to,to,ro,1*co,2*co-uo),io.stroke(),io.beginPath(),io.arc(to,to,ro,2*co,3*co-uo),io.stroke())}function so(uo){io&&(io.clearRect(0,0,eo,eo),io.lineWidth=20,uo!==-1&&(io.globalCompositeOperation="source-over",io.strokeStyle="rgba(255, 255, 255, 1)",oo(),io.globalCompositeOperation="source-in",io.beginPath(),io.arc(to,to,ro,0,2*Math.PI*uo),io.strokeStyle="rgba(255, 255, 255, 1)",io.stroke(),io.globalCompositeOperation="source-over",io.strokeStyle="rgba(255, 255, 255, "+(uo?.5:1)+")",oo()),io.beginPath(),io.arc(to,to,150,0,2*Math.PI),io.closePath(),io.fillStyle=ao,io.fill(),io.fillStyle="rgba(255, 255, 255, 0.01)",io.fillRect(0,0,eo,eo),no.needsUpdate=!0)}return ao.addColorStop(0,"rgba(255, 255, 255, 1)"),ao.addColorStop(.15,"rgba(255, 255, 255, 1)"),ao.addColorStop(.15,"rgba(255, 255, 255, 0.5)"),ao.addColorStop(.4,"rgba(255, 255, 255, 0.0)"),ao.addColorStop(1,"rgba(255, 255, 255, 0.0)"),so(0),Object.assign(no,{draw:so,retain:!1,pool:!1})}var mn=[],vn=yn();vn.draw(0);var Nn=yn();Nn.draw(1);var Dn=yn();Dn.draw(-1);var En=new r$4.CircleBufferGeometry(.12,32).rotateX(-Math.PI/2);function wn(){return new r$4.Mesh(En,new r$4.MeshBasicMaterial({map:vn,transparent:!0}))}function In(va,_a){var eo=va.map;_a===0||_a===1?(eo.pool===!0&&(eo.retain=!1),_a===0&&(va.map=vn),_a===1&&(va.map=Nn)):(eo.pool!==!0&&(va.map=function(){for(var to=0,ro=mn;to<ro.length;to++){var no=ro[to];if(no.retain===!1)return no}var io=yn();return io.pool=!0,io.retain=!0,mn.push(io),io}()),va.map.draw(_a))}var Tn=function(va){function _a(){var eo=va.call(this)||this;return eo.loading=!1,eo.disabled=!1,eo.current=!1,eo.progress=0,eo.opacity=0,eo.centerMesh=wn(),eo.centerMesh.position.y+=.01,eo.add(eo.centerMesh),eo.loadingMesh=new r$4.Mesh(Mn,fn),eo.loadingMesh.position.y+=.011,eo.progressMotion=new dn({progress:eo.progress}),eo.opacityMotion=new dn({opacity:eo.opacity}),eo.needsRender=!0,eo.renderOrder=-2,eo}return t$3.__extends(_a,va),_a.prototype.setLoading=function(eo){var to=this;this.loading=eo,this.stopInterval&&this.stopInterval(),eo?(this.add(this.loadingMesh),this.stopInterval=ot.shared.add(function(){to.loadingMesh.rotateOnAxis(new r$4.Vector3(0,1,0),.1),to.needsRender=!0})):this.remove(this.loadingMesh),this.needsRender=!0},_a.prototype.setDisabled=function(eo){this.disabled=eo,function(to,ro){var no=to.map;no.pool===!0&&(no.retain=!1),to.map=ro?Dn:vn}(this.centerMesh.material,eo),this.needsRender=!0},_a.prototype.setProgress=function(eo){this.setLoading(!1),this.setDisabled(!1),this.progress=eo=cn(eo,0,1),eo!==this.progressMotion.getTargetKeyframe().value.progress&&this.progressMotion.set({progress:eo},120).catch(Pe)},_a.prototype.setOpacity=function(eo){this.opacity=eo=cn(eo,0,1),this.current&&(eo=1),eo!==this.opacityMotion.getTargetKeyframe().value.opacity&&this.opacityMotion.set({opacity:eo},500).catch(Pe)},_a.prototype.setCurrent=function(eo){this.current!==eo&&(this.current=eo,this.setOpacity(this.opacity))},_a.prototype.updateTime=function(eo,to){this.opacityMotion.ended||(this.opacityMotion.update(eo),this.centerMesh.material.opacity=this.opacityMotion.value.opacity,this.needsRender=!0),this.progressMotion.ended||(this.progressMotion.update(eo),In(this.centerMesh.material,this.progressMotion.value.progress),this.needsRender=!0)},_a.prototype.dispose=function(){this.setLoading(!1),this.remove(this.centerMesh),this.remove(this.loadingMesh),this.centerMesh.material.dispose()},_a}(r$4.Object3D),xn=new Float32Array([-.15,0,-.15,.15,0,-.15,-.15,0,.15,.15,0,.15]),jn=new Float32Array([0,1,1,1,0,0,1,0]),zn=new Uint8Array([0,2,1,2,3,1]),Cn=new r$4.BufferGeometry;Cn.setAttribute("position",new r$4.BufferAttribute(xn,3)),Cn.setAttribute("uv",new r$4.BufferAttribute(jn,2)),Cn.setIndex(new r$4.BufferAttribute(zn,1));var bn,Sn,Ln=(bn=yt(),Sn=new r$4.Texture,bn.onload=function(){if(typeof document<"u"){var va=256,_a=document.createElement("canvas");_a.setAttribute("width",String(va)),_a.setAttribute("height",String(va));var eo=_a.getContext("2d");if(eo){eo.drawImage(bn,0,0,va,va),eo.globalCompositeOperation="source-out";var to=128;eo.beginPath(),eo.lineWidth=29.952,eo.arc(to,to,84.48,0,2*Math.PI),eo.strokeStyle="rgba(255, 255, 255, 1)",eo.closePath(),eo.stroke(),Sn.image=_a,Sn.needsUpdate=!0}}},bn.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAR9JREFUOBF10kFOAzEMBdCZFhCbrrgAN+NqHIULsWKDKO3gF+VHoZpa+rXjfH87nq7btr0ty3KZ8FsxnHeQPL748lA/x0Jsq+AwYe0X8nDtGA33BEJUHIEKW/EorHOLI7BHNlkEbju38YkQAIRZxFkHz2HOirKDxNcIzG+fu/6oLiNmqc5ZrlwTeKyAgJF14tMZmSn87pBrxeX/CRABgk/dl1s+C18dio2Pp9nmCQru2UtdvN+7lI9AFsgb3zNMcSp8FF4LYs3UhLfOAvkDJffci8q1J/ByRLKnQ8gUJUFOd2SeZYliCxwiyJCxCbhUGFKF4zPm61hiq7sVyJnPmATyR5IzLSNyDNEFRCDnkAmA8U2RfCsIefYhDeKOQLv7A+l1ZTyjymNxAAAAAElFTkSuQmCC",Sn),On=function(){if(typeof document<"u"){var va=document.createElement("canvas");va.setAttribute("width",String(512)),va.setAttribute("height",String(512));var _a=va.getContext("2d");if(_a){var eo=256,to=199.68;return _a.beginPath(),_a.arc(eo,eo,to,0,2*Math.PI),_a.fillStyle="rgba(255, 255, 255, 0.1)",_a.closePath(),_a.fill(),_a.save(),_a.beginPath(),_a.arc(eo,eo,to,0,2*Math.PI),_a.strokeStyle="rgba(255, 255, 255, 0.5)",_a.lineWidth=10.24,_a.closePath(),_a.stroke(),new r$4.CanvasTexture(va)}}return null}(),Bn=function(){if(typeof document<"u"){var va=document.createElement("canvas");va.setAttribute("width",String(512)),va.setAttribute("height",String(512));var _a=va.getContext("2d");if(_a){var eo=256,to=138.24,ro=_a.createLinearGradient(eo-Math.cos(Math.PI/4)*to,eo-Math.sin(Math.PI/4)*to,eo+Math.cos(Math.PI/4)*to,eo+Math.sin(Math.PI/4)*to);return ro.addColorStop(0,"rgba(255, 255, 255, 1)"),ro.addColorStop(.5,"rgba(255, 255, 255, 0.6)"),ro.addColorStop(1,"rgba(255, 255, 255, 1)"),_a.beginPath(),_a.lineWidth=33.28,_a.arc(eo,eo,to,0,2*Math.PI),_a.strokeStyle=ro,_a.shadowBlur=38.4,_a.shadowColor="rgba(0, 0, 0, 0.3)",_a.closePath(),_a.stroke(),new r$4.CanvasTexture(va)}}return null}(),Qn=function(){if(typeof document<"u"){var va=document.createElement("canvas");va.setAttribute("width",String(512)),va.setAttribute("height",String(512));var _a=va.getContext("2d");if(_a){var eo=256,to=199.68,ro=_a.createLinearGradient(eo+Math.cos(Math.PI/4)*to,eo-Math.sin(Math.PI/4)*to,eo-Math.cos(Math.PI/4)*to,eo+Math.sin(Math.PI/4)*to);return ro.addColorStop(0,"rgba(255, 255, 255, 0.5)"),ro.addColorStop(.5,"rgba(255, 255, 255, 0.1)"),ro.addColorStop(1,"rgba(255, 255, 255, 0.5)"),_a.beginPath(),_a.lineWidth=15.36,_a.arc(eo,eo,to,0,2*Math.PI),_a.strokeStyle=ro,_a.shadowBlur=25.6,_a.shadowColor="rgba(0, 0, 0, 0.5)",_a.closePath(),_a.stroke(),new r$4.CanvasTexture(va)}}return null}(),kn=function(va,_a){var eo=128;va.clearRect(0,0,256,256),va.beginPath(),va.lineWidth=29.44,va.arc(eo,eo,84.48,0,2*Math.PI*_a),va.strokeStyle="rgba(255, 255, 255, 0.2)",va.stroke()},Pn=function(){if(typeof document<"u"){var va=document.createElement("canvas");va.setAttribute("width",String(256)),va.setAttribute("height",String(256));var _a=va.getContext("2d");_a&&kn(_a,2*Math.PI);var eo=new r$4.CanvasTexture(va);return Object.assign(eo,{setProgress:function(to){_a&&(kn(_a,to),eo.needsUpdate=!0)}})}return null},Un=[],Rn=Pn(),_n=function(va){function _a(){var eo=va.call(this)||this;eo.progress=0,eo.opacity=0,eo.loading=!1,eo.current=!1,eo.disabled=!1,eo.ringRotateMotion=new dn({angle:0}),eo.tapMotion=new dn({scale:1,opacity:1}),eo.progressMotion=new dn({progress:0}),eo.progressOpacityMotion=new dn({opacity:0}),eo.opacityMotion=new dn({opacity:0});var to={blending:r$4.CustomBlending,blendSrc:r$4.SrcAlphaFactor,blendDst:r$4.OneMinusSrcAlphaFactor,blendSrcAlpha:r$4.OneFactor,blendDstAlpha:r$4.OneMinusSrcAlphaFactor,depthWrite:!1};return eo.centerMesh=new r$4.Mesh(Cn,new r$4.MeshBasicMaterial(t$3.__assign(t$3.__assign({},to),{map:Bn}))),eo.ringMesh=new r$4.Mesh(Cn,new r$4.MeshBasicMaterial(t$3.__assign(t$3.__assign({},to),{map:Qn}))),eo.loadingMesh=new r$4.Mesh(Cn,new r$4.MeshBasicMaterial(t$3.__assign(t$3.__assign({},to),{map:Ln,opacity:.5}))),eo.disableMesh=new r$4.Mesh(Cn,new r$4.MeshBasicMaterial(t$3.__assign(t$3.__assign({},to),{map:On}))),eo.progressMesh=new r$4.Mesh(Cn,new r$4.MeshBasicMaterial(t$3.__assign(t$3.__assign({},to),{map:Rn,opacity:0}))),eo.loadingMesh.visible=!1,eo.disableMesh.visible=!1,eo.ringMesh.position.y=.003,eo.disableMesh.position.y=.002,eo.centerMesh.position.y=.002,eo.loadingMesh.position.y=.005,eo.progressMesh.position.y=.004,eo.centerMesh.frustumCulled=!1,eo.ringMesh.frustumCulled=!1,eo.progressMesh.frustumCulled=!1,eo.loadingMesh.frustumCulled=!1,eo.disableMesh.frustumCulled=!1,eo.add(eo.centerMesh),eo.add(eo.ringMesh),eo.add(eo.progressMesh),eo.add(eo.loadingMesh),eo.add(eo.disableMesh),eo.needsRender=!0,eo}return t$3.__extends(_a,va),_a.prototype.setProgress=function(eo){this.setDisabled(!1),this.setLoading(!1),this.progress!==eo&&(eo=cn(eo,0,1),this.tapMotion.ended&&(this.progress===0&&this.progressOpacityMotion.set({opacity:1},300).catch(Pe),eo===0?(this.progressOpacityMotion.set({opacity:0},300).catch(Pe),this.progressMotion.set({progress:cn(1.2*eo,0,1)},0).catch(Pe)):this.progressMotion.set({progress:cn(1.2*eo,0,1)},100).catch(Pe)),this.progress=eo)},_a.prototype.setOpacity=function(eo){this.opacity!==eo&&(this.opacity=eo=cn(eo,0,1),this.opacityMotion.set({opacity:eo},500).catch(Pe))},_a.prototype.setCurrent=function(eo){if(this.current!==eo){if(eo===!0&&this.ringRotateMotion.ended){var to=[{progress:0,value:{angle:0}},{progress:1,value:{angle:2*Math.PI}}];this.ringRotateMotion.setKeyframes(to,4e3).catch(Pe)}this.current=eo}},_a.prototype.setLoading=function(eo){this.loading!==eo&&(this.loading=eo,this.disabled===!0&&this.setDisabled(!1),this.loadingMesh.visible=eo,this.needsRender=!0)},_a.prototype.setDisabled=function(eo){this.disabled!==eo&&(this.disabled=eo,this.loading===!0&&this.setLoading(!1),this.disableMesh.visible=eo,this.ringMesh.visible=!eo,this.centerMesh.visible=!eo,this.needsRender=!0)},_a.prototype.tap=function(){var eo=this;return this.tapMotion.ended?(this.progressOpacityMotion.set({opacity:0},0).catch(Pe),this.progressMotion.set({progress:0},0).catch(Pe),this.tapMotion.setKeyframes([{progress:0,value:{scale:1,opacity:1}},{progress:.3,value:{scale:.85,opacity:.5}},{progress:.8,value:{scale:1.05,opacity:.6}},{progress:1,value:{scale:1,opacity:1}}],600).then(function(){eo.progressOpacityMotion.set({opacity:eo.progress>0?1:0},300).catch(Pe),eo.progressMotion.set({progress:eo.progress},120).catch(Pe)}).catch(Pe)):Promise.resolve()},_a.prototype.updateTime=function(eo,to){var ro;if(!this.progressMotion.ended){this.progressMotion.update(eo);var no=this.progressMotion.value.progress;if(this.progressMesh.material.map!==null)if(no===0)this.progressMesh.material.map!==Rn&&(Un.push(this.progressMesh.material.map),this.progressMesh.material.map=Rn);else if(no===1)this.progressMesh.material.map!==Rn&&(Un.push(this.progressMesh.material.map),this.progressMesh.material.map=Rn);else{if(this.progressMesh.material.map===Rn){var io=Un.pop()||Pn();this.progressMesh.material.map=io}(ro=this.progressMesh.material.map)===null||ro===void 0||ro.setProgress(no)}this.needsRender=!0}if(!this.progressOpacityMotion.ended){this.progressOpacityMotion.update(eo);var ao=this.progressOpacityMotion.value.opacity;this.progressMesh.material.opacity=ao,this.needsRender=!0}if(this.opacityMotion.ended||(this.opacityMotion.update(eo),ao=this.opacityMotion.value.opacity*this.tapMotion.value.opacity,this.centerMesh.material.opacity=ao,this.ringMesh.material.opacity=ao,this.disableMesh.material.opacity=ao,this.loadingMesh.material.opacity=ao,this.needsRender=!0),this.loadingMesh.visible===!0&&(this.loadingMesh.rotateY(-to/120),this.needsRender=!0),!this.tapMotion.ended){this.tapMotion.update(eo);var oo=this.tapMotion.value.scale;this.centerMesh.scale.set(oo,oo,oo),this.ringMesh.scale.set(oo,oo,oo),this.progressMesh.scale.set(oo,oo,oo),ao=this.opacityMotion.value.opacity*this.tapMotion.value.opacity,this.centerMesh.material.opacity=ao,this.ringMesh.material.opacity=ao,this.disableMesh.material.opacity=ao,this.loadingMesh.material.opacity=ao,this.needsRender=!0}this.ringRotateMotion.ended||(this.ringRotateMotion.update(eo),this.ringMesh.quaternion.setFromEuler(new r$4.Euler(0,this.ringRotateMotion.value.angle,0)),this.needsRender=!0)},_a.prototype.dispose=function(){this.ringRotateMotion.dispose(),this.tapMotion.dispose(),this.progressMotion.dispose(),this.progressOpacityMotion.dispose(),this.opacityMotion.dispose(),this.progressMesh.material.map!==Rn&&(Un.push(this.progressMesh.material.map),this.progressMesh.material.map=null),this.ringMesh.material.dispose(),this.disableMesh.material.dispose(),this.centerMesh.material.dispose(),this.loadingMesh.material.dispose(),this.progressMesh.material.dispose()},_a}(r$4.Object3D),Yn=new Float32Array([-.15,-.15,0,.15,-.15,0,-.15,.15,0,.15,.15,0]),Fn=new Float32Array([0,0,1,0,0,1,1,1]),Hn=new Uint8Array([0,1,2,1,3,2]),Vn=new r$4.BufferGeometry;Vn.setAttribute("position",new r$4.BufferAttribute(Yn,3)),Vn.setAttribute("uv",new r$4.BufferAttribute(Fn,2)),Vn.setIndex(new r$4.BufferAttribute(Hn,1));var Gn=function(){if(typeof document<"u"){var va=document.createElement("canvas");va.setAttribute("width",String(512)),va.setAttribute("height",String(512));var _a=va.getContext("2d");if(_a){var eo=256;return _a.beginPath(),_a.lineWidth=76.8,_a.arc(eo,eo,138.24,0,2*Math.PI),_a.strokeStyle="rgba(18, 255, 251, 0.8)",_a.shadowBlur=25.6,_a.shadowColor="rgba(0, 0, 0, 0.4)",_a.closePath(),_a.stroke(),new r$4.CanvasTexture(va)}}return null}(),Kn=new r$4.MeshBasicMaterial({map:Gn,transparent:!0}),qn=function(va){function _a(){var eo=va.call(this)||this;return eo.ringMesh=new r$4.Mesh(Vn,Kn),eo.ringMesh.renderOrder=100,eo.add(eo.ringMesh),eo}return t$3.__extends(_a,va),_a.prototype.dispose=function(){this.remove(this.ringMesh)},_a}(r$4.Object3D);function Wn(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function Xn(){return(Wn()+Wn()+"-"+Wn()+"-4"+Wn().substr(0,3)+"-"+Wn()+"-"+Wn()+Wn()+Wn()).toLowerCase()}function Zn(va,_a,eo){var to=Math.abs(va-_a);return to<.001||eo!==void 0&&Math.abs(eo-to)<.001}function Jn(va,_a,eo){return!Zn(va,_a,eo)}function $n(va,_a){return va.distanceTo(_a)<.001}function er(va,_a){return!$n(va,_a)}var tr=new r$4.Vector3(0,0,0),ir=function(va){function _a(eo,to){to===void 0&&(to=tr);var ro=va.call(this)||this,no=new r$4.BoxBufferGeometry(eo.max.x-eo.min.x+2*to.x,eo.max.y-eo.min.y+2*to.y,eo.max.z-eo.min.z+2*to.z,1,1);no.groups.length=0,no.groups.push({start:0,count:36,materialIndex:0}),no.applyMatrix4(new r$4.Matrix4().makeScale(-1,1,1));var io=new Et;io.defines.USE_MAP=!1,io.defines.USE_UV=!1,io.uniforms.diffuse.value=new r$4.Color(16777215);var ao=new dt(no,[io]);return ao.floorIndex=-1,ao.position.copy(eo.getCenter(new r$4.Vector3)),ao.frustumCulled=!1,ro.renderOrder=-3,ro.add(ao),ro.boundingBox=new r$4.Box3,ro.computeBoundingBox(),ro}return t$3.__extends(_a,va),_a.prototype.computeBoundingBox=function(){this.boundingBox.setFromObject(this)},_a.prototype.dispose=function(){this.disposeMaterial(),this.disposeGeometry()},_a}(pt);function nr(va,_a){return _a===void 0&&(_a=tr),new ir(va,_a)}var rr=2*Math.PI;function sr(va){return(va%rr+rr)%rr}var or=Math.PI,ar=2*or;function ur(va,_a,eo){if(va===_a)return _a;var to=_a-va;return Math.abs(to)<=eo?_a:va+(to>0?1:-1)*eo}function cr(va,_a){va.mode=_a.mode,va.panoIndex=_a.panoIndex,va.longitude=_a.longitude,va.latitude=_a.latitude,va.fov=_a.fov,va.offset.copy(_a.offset)}function Ar(va,_a){return va.panoIndex===_a.panoIndex&&va.mode===_a.mode&&Zn(va.longitude,_a.longitude,2*Math.PI)&&Zn(va.latitude,_a.latitude)&&Zn(va.fov,_a.fov)&&$n(va.offset,_a.offset)}var lr=function(va){return Number(va)};function hr(va,_a,eo){var to;_a===void 0&&(_a=lr),eo===void 0&&(eo=!1);for(var ro,no=1/0,io=0,ao=va;io<ao.length;io++){var oo=ao[io],so=_a(oo);so<=no&&(ro=(to=[oo,so])[0],no=to[1])}return eo?[ro,no]:ro}function dr(va){for(var _a in va)return!1;return!0}function gr(va){return{longitude:va.longitude,latitude:va.latitude,fov:va.fov,offset:va.offset.clone()}}/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var pr=function(va,_a,eo,to){var ro,no=["","webkit","Moz","MS","ms","o"],io=_a.createElement?_a.createElement("div"):to,ao=Math.round,oo=Math.abs,so=Date.now;function uo(Ro,Qo,Zo){return setTimeout(lo(Ro,Zo),Qo)}function co(Ro,Qo,Zo){return!!Array.isArray(Ro)&&(fo(Ro,Zo[Qo],Zo),!0)}function fo(Ro,Qo,Zo){var Xs;if(Ro)if(Ro.forEach)Ro.forEach(Qo,Zo);else if(Ro.length!==to)for(Xs=0;Xs<Ro.length;)Qo.call(Zo,Ro[Xs],Xs,Ro),Xs++;else for(Xs in Ro)Ro.hasOwnProperty(Xs)&&Qo.call(Zo,Ro[Xs],Xs,Ro)}function po(Ro,Qo,Zo){var Xs="DEPRECATED METHOD: "+Qo+`
`+Zo+` AT 
`;return function(){var cu=new Error("get-stack-trace"),Pu=cu&&cu.stack?cu.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Iu=va.console&&(va.console.warn||va.console.log);return Iu&&Iu.call(va.console,Xs,Pu),Ro.apply(this,arguments)}}ro=typeof Object.assign!="function"?function(Ro){if(Ro===to||Ro===null)throw new TypeError("Cannot convert undefined or null to object");for(var Qo=Object(Ro),Zo=1;Zo<arguments.length;Zo++){var Xs=arguments[Zo];if(Xs!==to&&Xs!==null)for(var cu in Xs)Xs.hasOwnProperty(cu)&&(Qo[cu]=Xs[cu])}return Qo}:Object.assign;var vo=po(function(Ro,Qo,Zo){for(var Xs=Object.keys(Qo),cu=0;cu<Xs.length;)(!Zo||Zo&&Ro[Xs[cu]]===to)&&(Ro[Xs[cu]]=Qo[Xs[cu]]),cu++;return Ro},"extend","Use `assign`."),go=po(function(Ro,Qo){return vo(Ro,Qo,!0)},"merge","Use `assign`.");function mo(Ro,Qo,Zo){var Xs,cu=Qo.prototype;(Xs=Ro.prototype=Object.create(cu)).constructor=Ro,Xs._super=cu,Zo&&ro(Xs,Zo)}function lo(Ro,Qo){return function(){return Ro.apply(Qo,arguments)}}function ho(Ro,Qo){return typeof Ro=="function"?Ro.apply(Qo&&Qo[0]||to,Qo):Ro}function yo(Ro,Qo){return Ro===to?Qo:Ro}function Ao(Ro,Qo,Zo){fo(Co(Qo),function(Xs){Ro.addEventListener(Xs,Zo,!1)})}function Eo(Ro,Qo,Zo){fo(Co(Qo),function(Xs){Ro.removeEventListener(Xs,Zo,!1)})}function To(Ro,Qo){for(;Ro;){if(Ro==Qo)return!0;Ro=Ro.parentNode}return!1}function No(Ro,Qo){return Ro.indexOf(Qo)>-1}function Co(Ro){return Ro.trim().split(/\s+/g)}function Io(Ro,Qo,Zo){if(Ro.indexOf&&!Zo)return Ro.indexOf(Qo);for(var Xs=0;Xs<Ro.length;){if(Zo&&Ro[Xs][Zo]==Qo||!Zo&&Ro[Xs]===Qo)return Xs;Xs++}return-1}function Mo(Ro){return Array.prototype.slice.call(Ro,0)}function wo(Ro,Qo,Zo){for(var Xs=[],cu=[],Pu=0;Pu<Ro.length;){var Iu=Qo?Ro[Pu][Qo]:Ro[Pu];Io(cu,Iu)<0&&Xs.push(Ro[Pu]),cu[Pu]=Iu,Pu++}return Zo&&(Xs=Qo?Xs.sort(function(ul,Cu){return ul[Qo]>Cu[Qo]}):Xs.sort()),Xs}function xo(Ro,Qo){for(var Zo,Xs,cu=Qo[0].toUpperCase()+Qo.slice(1),Pu=0;Pu<no.length;){if((Xs=(Zo=no[Pu])?Zo+cu:Qo)in Ro)return Xs;Pu++}return to}var bo=1;function So(Ro){var Qo=Ro.ownerDocument||Ro;return Qo.defaultView||Qo.parentWindow||va}var Do="ontouchstart"in va,Oo=xo(va,"PointerEvent")!==to,Bo=Do&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),$o="touch",Vo="mouse",Ho=24,Fo=["x","y"],Ko=["clientX","clientY"];function $s(Ro,Qo){var Zo=this;this.manager=Ro,this.callback=Qo,this.element=Ro.element,this.target=Ro.options.inputTarget,this.domHandler=function(Xs){ho(Ro.options.enable,[Ro])&&Zo.handler(Xs)},this.init()}function au(Ro,Qo,Zo){var Xs=Zo.pointers.length,cu=Zo.changedPointers.length,Pu=1&Qo&&Xs-cu==0,Iu=12&Qo&&Xs-cu==0;Zo.isFirst=!!Pu,Zo.isFinal=!!Iu,Pu&&(Ro.session={}),Zo.eventType=Qo,function(ul,Cu){var cl=ul.session,Ml=Cu.pointers,bl=Ml.length;cl.firstInput||(cl.firstInput=Ks(Cu)),bl>1&&!cl.firstMultiple?cl.firstMultiple=Ks(Cu):bl===1&&(cl.firstMultiple=!1);var Tl=cl.firstInput,El=cl.firstMultiple,xl=El?El.center:Tl.center,_l=Cu.center=Gs(Ml);Cu.timeStamp=so(),Cu.deltaTime=Cu.timeStamp-Tl.timeStamp,Cu.angle=ru(xl,_l),Cu.distance=ou(xl,_l),function(gl,rl){var tl=rl.center,_o=gl.offsetDelta||{},Lo=gl.prevDelta||{},zo=gl.prevInput||{};rl.eventType!==1&&zo.eventType!==4||(Lo=gl.prevDelta={x:zo.deltaX||0,y:zo.deltaY||0},_o=gl.offsetDelta={x:tl.x,y:tl.y}),rl.deltaX=Lo.x+(tl.x-_o.x),rl.deltaY=Lo.y+(tl.y-_o.y)}(cl,Cu),Cu.offsetDirection=lu(Cu.deltaX,Cu.deltaY);var Al=qs(Cu.deltaTime,Cu.deltaX,Cu.deltaY);Cu.overallVelocityX=Al.x,Cu.overallVelocityY=Al.y,Cu.overallVelocity=oo(Al.x)>oo(Al.y)?Al.x:Al.y,Cu.scale=El?function(gl,rl){return ou(rl[0],rl[1],Ko)/ou(gl[0],gl[1],Ko)}(El.pointers,Ml):1,Cu.rotation=El?function(gl,rl){return ru(rl[1],rl[0],Ko)+ru(gl[1],gl[0],Ko)}(El.pointers,Ml):0,Cu.maxPointers=cl.prevInput?Cu.pointers.length>cl.prevInput.maxPointers?Cu.pointers.length:cl.prevInput.maxPointers:Cu.pointers.length,function(gl,rl){var tl,_o,Lo,zo,jo=gl.lastInterval||rl,Wo=rl.timeStamp-jo.timeStamp;if(rl.eventType!=8&&(Wo>25||jo.velocity===to)){var Xo=rl.deltaX-jo.deltaX,Zs=rl.deltaY-jo.deltaY,fu=qs(Wo,Xo,Zs);_o=fu.x,Lo=fu.y,tl=oo(fu.x)>oo(fu.y)?fu.x:fu.y,zo=lu(Xo,Zs),gl.lastInterval=rl}else tl=jo.velocity,_o=jo.velocityX,Lo=jo.velocityY,zo=jo.direction;rl.velocity=tl,rl.velocityX=_o,rl.velocityY=Lo,rl.direction=zo}(cl,Cu);var el=ul.element;To(Cu.srcEvent.target,el)&&(el=Cu.srcEvent.target),Cu.target=el}(Ro,Zo),Ro.emit("hammer.input",Zo),Ro.recognize(Zo),Ro.session.prevInput=Zo}function Ks(Ro){for(var Qo=[],Zo=0;Zo<Ro.pointers.length;)Qo[Zo]={clientX:ao(Ro.pointers[Zo].clientX),clientY:ao(Ro.pointers[Zo].clientY)},Zo++;return{timeStamp:so(),pointers:Qo,center:Gs(Qo),deltaX:Ro.deltaX,deltaY:Ro.deltaY}}function Gs(Ro){var Qo=Ro.length;if(Qo===1)return{x:ao(Ro[0].clientX),y:ao(Ro[0].clientY)};for(var Zo=0,Xs=0,cu=0;cu<Qo;)Zo+=Ro[cu].clientX,Xs+=Ro[cu].clientY,cu++;return{x:ao(Zo/Qo),y:ao(Xs/Qo)}}function qs(Ro,Qo,Zo){return{x:Qo/Ro||0,y:Zo/Ro||0}}function lu(Ro,Qo){return Ro===Qo?1:oo(Ro)>=oo(Qo)?Ro<0?2:4:Qo<0?8:16}function ou(Ro,Qo,Zo){Zo||(Zo=Fo);var Xs=Qo[Zo[0]]-Ro[Zo[0]],cu=Qo[Zo[1]]-Ro[Zo[1]];return Math.sqrt(Xs*Xs+cu*cu)}function ru(Ro,Qo,Zo){Zo||(Zo=Fo);var Xs=Qo[Zo[0]]-Ro[Zo[0]],cu=Qo[Zo[1]]-Ro[Zo[1]];return 180*Math.atan2(cu,Xs)/Math.PI}$s.prototype={handler:function(){},init:function(){this.evEl&&Ao(this.element,this.evEl,this.domHandler),this.evTarget&&Ao(this.target,this.evTarget,this.domHandler),this.evWin&&Ao(So(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Eo(this.element,this.evEl,this.domHandler),this.evTarget&&Eo(this.target,this.evTarget,this.domHandler),this.evWin&&Eo(So(this.element),this.evWin,this.domHandler)}};var nu={mousedown:1,mousemove:2,mouseup:4},su="mousedown",gu="mousemove mouseup";function Au(){this.evEl=su,this.evWin=gu,this.pressed=!1,$s.apply(this,arguments)}mo(Au,$s,{handler:function(Ro){var Qo=nu[Ro.type];1&Qo&&Ro.button===0&&(this.pressed=!0),2&Qo&&Ro.which!==1&&(Qo=4),this.pressed&&(4&Qo&&(this.pressed=!1),this.callback(this.manager,Qo,{pointers:[Ro],changedPointers:[Ro],pointerType:Vo,srcEvent:Ro}))}});var $u={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ku={2:$o,3:"pen",4:Vo,5:"kinect"},Uo="pointerdown",Yo="pointermove pointerup pointercancel";function mu(){this.evEl=Uo,this.evWin=Yo,$s.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}va.MSPointerEvent&&!va.PointerEvent&&(Uo="MSPointerDown",Yo="MSPointerMove MSPointerUp MSPointerCancel"),mo(mu,$s,{handler:function(Ro){var Qo=this.store,Zo=!1,Xs=Ro.type.toLowerCase().replace("ms",""),cu=$u[Xs],Pu=ku[Ro.pointerType]||Ro.pointerType,Iu=Pu==$o,ul=Io(Qo,Ro.pointerId,"pointerId");1&cu&&(Ro.button===0||Iu)?ul<0&&(Qo.push(Ro),ul=Qo.length-1):12&cu&&(Zo=!0),ul<0||(Qo[ul]=Ro,this.callback(this.manager,cu,{pointers:Qo,changedPointers:[Ro],pointerType:Pu,srcEvent:Ro}),Zo&&Qo.splice(ul,1))}});var pu={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Su="touchstart",_u="touchstart touchmove touchend touchcancel";function bu(){this.evTarget=Su,this.evWin=_u,this.started=!1,$s.apply(this,arguments)}function Xu(Ro,Qo){var Zo=Mo(Ro.touches),Xs=Mo(Ro.changedTouches);return 12&Qo&&(Zo=wo(Zo.concat(Xs),"identifier",!0)),[Zo,Xs]}mo(bu,$s,{handler:function(Ro){var Qo=pu[Ro.type];if(Qo===1&&(this.started=!0),this.started){var Zo=Xu.call(this,Ro,Qo);12&Qo&&Zo[0].length-Zo[1].length==0&&(this.started=!1),this.callback(this.manager,Qo,{pointers:Zo[0],changedPointers:Zo[1],pointerType:$o,srcEvent:Ro})}}});var Qu={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ju="touchstart touchmove touchend touchcancel";function Mu(){this.evTarget=ju,this.targetIds={},$s.apply(this,arguments)}function Nu(Ro,Qo){var Zo=Mo(Ro.touches),Xs=this.targetIds;if(3&Qo&&Zo.length===1)return Xs[Zo[0].identifier]=!0,[Zo,Zo];var cu,Pu,Iu=Mo(Ro.changedTouches),ul=[],Cu=this.target;if(Pu=Zo.filter(function(cl){return To(cl.target,Cu)}),Qo===1)for(cu=0;cu<Pu.length;)Xs[Pu[cu].identifier]=!0,cu++;for(cu=0;cu<Iu.length;)Xs[Iu[cu].identifier]&&ul.push(Iu[cu]),12&Qo&&delete Xs[Iu[cu].identifier],cu++;return ul.length?[wo(Pu.concat(ul),"identifier",!0),ul]:void 0}mo(Mu,$s,{handler:function(Ro){var Qo=Qu[Ro.type],Zo=Nu.call(this,Ro,Qo);Zo&&this.callback(this.manager,Qo,{pointers:Zo[0],changedPointers:Zo[1],pointerType:$o,srcEvent:Ro})}});function wu(){$s.apply(this,arguments);var Ro=lo(this.handler,this);this.touch=new Mu(this.manager,Ro),this.mouse=new Au(this.manager,Ro),this.primaryTouch=null,this.lastTouches=[]}function du(Ro,Qo){1&Ro?(this.primaryTouch=Qo.changedPointers[0].identifier,Jo.call(this,Qo)):12&Ro&&Jo.call(this,Qo)}function Jo(Ro){var Qo=Ro.changedPointers[0];if(Qo.identifier===this.primaryTouch){var Zo={x:Qo.clientX,y:Qo.clientY};this.lastTouches.push(Zo);var Xs=this.lastTouches;setTimeout(function(){var cu=Xs.indexOf(Zo);cu>-1&&Xs.splice(cu,1)},2500)}}function Eu(Ro){for(var Qo=Ro.srcEvent.clientX,Zo=Ro.srcEvent.clientY,Xs=0;Xs<this.lastTouches.length;Xs++){var cu=this.lastTouches[Xs],Pu=Math.abs(Qo-cu.x),Iu=Math.abs(Zo-cu.y);if(Pu<=25&&Iu<=25)return!0}return!1}mo(wu,$s,{handler:function(Ro,Qo,Zo){var Xs=Zo.pointerType==$o,cu=Zo.pointerType==Vo;if(!(cu&&Zo.sourceCapabilities&&Zo.sourceCapabilities.firesTouchEvents)){if(Xs)du.call(this,Qo,Zo);else if(cu&&Eu.call(this,Zo))return;this.callback(Ro,Qo,Zo)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Du=io?xo(io.style,"touchAction"):to,Uu=Du!==to,Tu="compute",Ru="auto",Ju="manipulation",al="none",dl="pan-x",zu="pan-y",hl=function(){if(!Uu)return!1;var Ro={},Qo=va.CSS&&va.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Zo){Ro[Zo]=!Qo||va.CSS.supports("touch-action",Zo)}),Ro}();function pl(Ro,Qo){this.manager=Ro,this.set(Qo)}pl.prototype={set:function(Ro){Ro==Tu&&(Ro=this.compute()),Uu&&this.manager.element.style&&hl[Ro]&&(this.manager.element.style[Du]=Ro),this.actions=Ro.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Ro=[];return fo(this.manager.recognizers,function(Qo){ho(Qo.options.enable,[Qo])&&(Ro=Ro.concat(Qo.getTouchAction()))}),function(Qo){if(No(Qo,al))return al;var Zo=No(Qo,dl),Xs=No(Qo,zu);return Zo&&Xs?al:Zo||Xs?Zo?dl:zu:No(Qo,Ju)?Ju:Ru}(Ro.join(" "))},preventDefaults:function(Ro){var Qo=Ro.srcEvent,Zo=Ro.offsetDirection;if(this.manager.session.prevented)Qo.preventDefault();else{var Xs=this.actions,cu=No(Xs,al)&&!hl.none,Pu=No(Xs,zu)&&!hl["pan-y"],Iu=No(Xs,dl)&&!hl["pan-x"];if(cu){var ul=Ro.pointers.length===1,Cu=Ro.distance<2,cl=Ro.deltaTime<250;if(ul&&Cu&&cl)return}if(!Iu||!Pu)return cu||Pu&&6&Zo||Iu&&Zo&Ho?this.preventSrc(Qo):void 0}},preventSrc:function(Ro){this.manager.session.prevented=!0,Ro.preventDefault()}};var fl=32;function ml(Ro){this.options=ro({},this.defaults,Ro||{}),this.id=bo++,this.manager=null,this.options.enable=yo(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ll(Ro){return 16&Ro?"cancel":8&Ro?"end":4&Ro?"move":2&Ro?"start":""}function wl(Ro){return Ro==16?"down":Ro==8?"up":Ro==2?"left":Ro==4?"right":""}function Go(Ro,Qo){var Zo=Qo.manager;return Zo?Zo.get(Ro):Ro}function iu(){ml.apply(this,arguments)}function tu(){iu.apply(this,arguments),this.pX=null,this.pY=null}function uu(){iu.apply(this,arguments)}function yu(){ml.apply(this,arguments),this._timer=null,this._input=null}function Vu(){iu.apply(this,arguments)}function Bu(){iu.apply(this,arguments)}function Ou(){ml.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Gu(Ro,Qo){return(Qo=Qo||{}).recognizers=yo(Qo.recognizers,Gu.defaults.preset),new Yu(Ro,Qo)}ml.prototype={defaults:{},set:function(Ro){return ro(this.options,Ro),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Ro){if(co(Ro,"recognizeWith",this))return this;var Qo=this.simultaneous;return Qo[(Ro=Go(Ro,this)).id]||(Qo[Ro.id]=Ro,Ro.recognizeWith(this)),this},dropRecognizeWith:function(Ro){return co(Ro,"dropRecognizeWith",this)||(Ro=Go(Ro,this),delete this.simultaneous[Ro.id]),this},requireFailure:function(Ro){if(co(Ro,"requireFailure",this))return this;var Qo=this.requireFail;return Io(Qo,Ro=Go(Ro,this))===-1&&(Qo.push(Ro),Ro.requireFailure(this)),this},dropRequireFailure:function(Ro){if(co(Ro,"dropRequireFailure",this))return this;Ro=Go(Ro,this);var Qo=Io(this.requireFail,Ro);return Qo>-1&&this.requireFail.splice(Qo,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Ro){return!!this.simultaneous[Ro.id]},emit:function(Ro){var Qo=this,Zo=this.state;function Xs(cu){Qo.manager.emit(cu,Ro)}Zo<8&&Xs(Qo.options.event+ll(Zo)),Xs(Qo.options.event),Ro.additionalEvent&&Xs(Ro.additionalEvent),Zo>=8&&Xs(Qo.options.event+ll(Zo))},tryEmit:function(Ro){if(this.canEmit())return this.emit(Ro);this.state=fl},canEmit:function(){for(var Ro=0;Ro<this.requireFail.length;){if(!(33&this.requireFail[Ro].state))return!1;Ro++}return!0},recognize:function(Ro){var Qo=ro({},Ro);if(!ho(this.options.enable,[this,Qo]))return this.reset(),void(this.state=fl);56&this.state&&(this.state=1),this.state=this.process(Qo),30&this.state&&this.tryEmit(Qo)},process:function(Ro){},getTouchAction:function(){},reset:function(){}},mo(iu,ml,{defaults:{pointers:1},attrTest:function(Ro){var Qo=this.options.pointers;return Qo===0||Ro.pointers.length===Qo},process:function(Ro){var Qo=this.state,Zo=Ro.eventType,Xs=6&Qo,cu=this.attrTest(Ro);return Xs&&(8&Zo||!cu)?16|Qo:Xs||cu?4&Zo?8|Qo:2&Qo?4|Qo:2:fl}}),mo(tu,iu,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var Ro=this.options.direction,Qo=[];return 6&Ro&&Qo.push(zu),Ro&Ho&&Qo.push(dl),Qo},directionTest:function(Ro){var Qo=this.options,Zo=!0,Xs=Ro.distance,cu=Ro.direction,Pu=Ro.deltaX,Iu=Ro.deltaY;return cu&Qo.direction||(6&Qo.direction?(cu=Pu===0?1:Pu<0?2:4,Zo=Pu!=this.pX,Xs=Math.abs(Ro.deltaX)):(cu=Iu===0?1:Iu<0?8:16,Zo=Iu!=this.pY,Xs=Math.abs(Ro.deltaY))),Ro.direction=cu,Zo&&Xs>Qo.threshold&&cu&Qo.direction},attrTest:function(Ro){return iu.prototype.attrTest.call(this,Ro)&&(2&this.state||!(2&this.state)&&this.directionTest(Ro))},emit:function(Ro){this.pX=Ro.deltaX,this.pY=Ro.deltaY;var Qo=wl(Ro.direction);Qo&&(Ro.additionalEvent=this.options.event+Qo),this._super.emit.call(this,Ro)}}),mo(uu,iu,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[al]},attrTest:function(Ro){return this._super.attrTest.call(this,Ro)&&(Math.abs(Ro.scale-1)>this.options.threshold||2&this.state)},emit:function(Ro){if(Ro.scale!==1){var Qo=Ro.scale<1?"in":"out";Ro.additionalEvent=this.options.event+Qo}this._super.emit.call(this,Ro)}}),mo(yu,ml,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ru]},process:function(Ro){var Qo=this.options,Zo=Ro.pointers.length===Qo.pointers,Xs=Ro.distance<Qo.threshold,cu=Ro.deltaTime>Qo.time;if(this._input=Ro,!Xs||!Zo||12&Ro.eventType&&!cu)this.reset();else if(1&Ro.eventType)this.reset(),this._timer=uo(function(){this.state=8,this.tryEmit()},Qo.time,this);else if(4&Ro.eventType)return 8;return fl},reset:function(){clearTimeout(this._timer)},emit:function(Ro){this.state===8&&(Ro&&4&Ro.eventType?this.manager.emit(this.options.event+"up",Ro):(this._input.timeStamp=so(),this.manager.emit(this.options.event,this._input)))}}),mo(Vu,iu,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[al]},attrTest:function(Ro){return this._super.attrTest.call(this,Ro)&&(Math.abs(Ro.rotation)>this.options.threshold||2&this.state)}}),mo(Bu,iu,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return tu.prototype.getTouchAction.call(this)},attrTest:function(Ro){var Qo,Zo=this.options.direction;return 30&Zo?Qo=Ro.overallVelocity:6&Zo?Qo=Ro.overallVelocityX:Zo&Ho&&(Qo=Ro.overallVelocityY),this._super.attrTest.call(this,Ro)&&Zo&Ro.offsetDirection&&Ro.distance>this.options.threshold&&Ro.maxPointers==this.options.pointers&&oo(Qo)>this.options.velocity&&4&Ro.eventType},emit:function(Ro){var Qo=wl(Ro.offsetDirection);Qo&&this.manager.emit(this.options.event+Qo,Ro),this.manager.emit(this.options.event,Ro)}}),mo(Ou,ml,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ju]},process:function(Ro){var Qo=this.options,Zo=Ro.pointers.length===Qo.pointers,Xs=Ro.distance<Qo.threshold,cu=Ro.deltaTime<Qo.time;if(this.reset(),1&Ro.eventType&&this.count===0)return this.failTimeout();if(Xs&&cu&&Zo){if(Ro.eventType!=4)return this.failTimeout();var Pu=!this.pTime||Ro.timeStamp-this.pTime<Qo.interval,Iu=!this.pCenter||ou(this.pCenter,Ro.center)<Qo.posThreshold;if(this.pTime=Ro.timeStamp,this.pCenter=Ro.center,Iu&&Pu?this.count+=1:this.count=1,this._input=Ro,this.count%Qo.taps===0)return this.hasRequireFailures()?(this._timer=uo(function(){this.state=8,this.tryEmit()},Qo.interval,this),2):8}return fl},failTimeout:function(){return this._timer=uo(function(){this.state=fl},this.options.interval,this),fl},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Gu.VERSION="2.0.7",Gu.defaults={domEvents:!1,touchAction:Tu,enable:!0,inputTarget:null,inputClass:null,preset:[[Vu,{enable:!1}],[uu,{enable:!1},["rotate"]],[Bu,{direction:6}],[tu,{direction:6},["swipe"]],[Ou],[Ou,{event:"doubletap",taps:2},["tap"]],[yu]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Yu(Ro,Qo){var Zo;this.options=ro({},Gu.defaults,Qo||{}),this.options.inputTarget=this.options.inputTarget||Ro,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Ro,this.input=new((Zo=this).options.inputClass||(Oo?mu:Bo?Mu:Do?wu:Au))(Zo,au),this.touchAction=new pl(this,this.options.touchAction),sl(this,!0),fo(this.options.recognizers,function(Xs){var cu=this.add(new Xs[0](Xs[1]));Xs[2]&&cu.recognizeWith(Xs[2]),Xs[3]&&cu.requireFailure(Xs[3])},this)}function sl(Ro,Qo){var Zo,Xs=Ro.element;Xs.style&&(fo(Ro.options.cssProps,function(cu,Pu){Zo=xo(Xs.style,Pu),Qo?(Ro.oldCssProps[Zo]=Xs.style[Zo],Xs.style[Zo]=cu):Xs.style[Zo]=Ro.oldCssProps[Zo]||""}),Qo||(Ro.oldCssProps={}))}return Yu.prototype={set:function(Ro){return ro(this.options,Ro),Ro.touchAction&&this.touchAction.update(),Ro.inputTarget&&(this.input.destroy(),this.input.target=Ro.inputTarget,this.input.init()),this},stop:function(Ro){this.session.stopped=Ro?2:1},recognize:function(Ro){var Qo=this.session;if(!Qo.stopped){var Zo;this.touchAction.preventDefaults(Ro);var Xs=this.recognizers,cu=Qo.curRecognizer;(!cu||cu&&8&cu.state)&&(cu=Qo.curRecognizer=null);for(var Pu=0;Pu<Xs.length;)Zo=Xs[Pu],Qo.stopped===2||cu&&Zo!=cu&&!Zo.canRecognizeWith(cu)?Zo.reset():Zo.recognize(Ro),!cu&&14&Zo.state&&(cu=Qo.curRecognizer=Zo),Pu++}},get:function(Ro){if(Ro instanceof ml)return Ro;for(var Qo=this.recognizers,Zo=0;Zo<Qo.length;Zo++)if(Qo[Zo].options.event==Ro)return Qo[Zo];return null},add:function(Ro){if(co(Ro,"add",this))return this;var Qo=this.get(Ro.options.event);return Qo&&this.remove(Qo),this.recognizers.push(Ro),Ro.manager=this,this.touchAction.update(),Ro},remove:function(Ro){if(co(Ro,"remove",this))return this;if(Ro=this.get(Ro)){var Qo=this.recognizers,Zo=Io(Qo,Ro);Zo!==-1&&(Qo.splice(Zo,1),this.touchAction.update())}return this},on:function(Ro,Qo){if(Ro!==to&&Qo!==to){var Zo=this.handlers;return fo(Co(Ro),function(Xs){Zo[Xs]=Zo[Xs]||[],Zo[Xs].push(Qo)}),this}},off:function(Ro,Qo){if(Ro!==to){var Zo=this.handlers;return fo(Co(Ro),function(Xs){Qo?Zo[Xs]&&Zo[Xs].splice(Io(Zo[Xs],Qo),1):delete Zo[Xs]}),this}},emit:function(Ro,Qo){this.options.domEvents&&function(cu,Pu){var Iu=_a.createEvent("Event");Iu.initEvent(cu,!0,!0),Iu.gesture=Pu,Pu.target.dispatchEvent(Iu)}(Ro,Qo);var Zo=this.handlers[Ro]&&this.handlers[Ro].slice();if(Zo&&Zo.length){Qo.type=Ro,Qo.preventDefault=function(){Qo.srcEvent.preventDefault()};for(var Xs=0;Xs<Zo.length;)Zo[Xs](Qo),Xs++}},destroy:function(){this.element&&sl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ro(Gu,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:fl,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:Ho,DIRECTION_ALL:30,Manager:Yu,Input:$s,TouchAction:pl,TouchInput:Mu,MouseInput:Au,PointerEventInput:mu,TouchMouseInput:wu,SingleTouchInput:bu,Recognizer:ml,AttrRecognizer:iu,Tap:Ou,Pan:tu,Swipe:Bu,Pinch:uu,Rotate:Vu,Press:yu,on:Ao,off:Eo,each:fo,merge:go,extend:vo,assign:ro,inherit:mo,bindFn:lo,prefixed:xo}),Gu}(typeof window<"u"?window:{},typeof document<"u"?document:{});function Mr(va,_a){var eo=document.mozFullScreen?"DOMMouseScroll":"mousewheel",to=!!window.addEventListener,ro=!!window.attachEvent,no=function(io,ao){var oo=document.mozFullScreen?"DOMMouseScroll":"mousewheel",so=!!window.addEventListener,uo=!!window.attachEvent;return ao.__mouseWheelWrapper=function(co){if(co=co||window.event,so&&co.preventDefault(),uo&&(co.returnValue=!1),oo=="DOMMouseScroll"||oo=="mousewheel"){var fo=co.wheelDelta;co.delta=fo?fo/120:-(co.delta||0)/3}ao.call(io,co)}}(va,_a);to?va.addEventListener(eo,no,!1):ro&&va.attachEvent("on"+eo,no)}function fr(va,_a,eo){var to=_a.offsetWidth,ro=_a.offsetHeight,no=_a.getBoundingClientRect(),io=no.top,ao=no.left;return eo&&(ao+=to*eo.left,io+=ro*(1-eo.bottom-eo.height),to*=eo.width,ro*=eo.height),new r$4.Vector2((va.x-ao)/to*2-1,-(va.y-io)/ro*2+1)}(function(){try{var va=document.createElement("canvas");!window.WebGLRenderingContext||!va.getContext("webgl")&&va.getContext("experimental-webgl")}catch{return!1}})();var yr=new r$4.OrthographicCamera(-1,1,1,-1,0,1),mr=new r$4.BufferGeometry;mr.setAttribute("position",new r$4.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),mr.setAttribute("uv",new r$4.Float32BufferAttribute([0,2,0,0,2,0],2));var vr=new r$4.Mesh(mr),Nr=new r$4.Scene;Nr.add(vr);var Dr=function(){function va(_a,eo){var to;this.renderer=_a,this.material=new r$4.ShaderMaterial({vertexShader:(to=eo.vertex)!==null&&to!==void 0?to:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,fragmentShader:eo.fragment,uniforms:Object.assign({inputBuffer:new r$4.Uniform(null)},eo.uniforms),defines:Object.assign({},eo.defines),blending:r$4.NoBlending,depthWrite:!1,depthTest:!1})}return va.prototype.render=function(_a,eo){var to=this.renderer.getRenderTarget(),ro=vr.material;this.material.uniforms.inputBuffer.value=_a.texture,vr.material=this.material,this.renderer.setRenderTarget(eo||null),this.renderer.render(Nr,yr),this.renderer.setRenderTarget(to),vr.material=ro},va.prototype.dispose=function(){this.material.dispose()},va}(),Er=function(){function va(_a){this.renderer=_a,this.material=new r$4.ShaderMaterial({vertexShader:`
void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,fragmentShader:`
uniform vec3 inputValue;
void main() {
  gl_FragColor = vec4(inputValue, 1.0);
}
`,uniforms:Object.assign({inputValue:new r$4.Uniform(new r$4.Vector3)}),blending:r$4.NoBlending,depthWrite:!1,depthTest:!1})}return va.prototype.render=function(_a,eo){var to=this.renderer.getRenderTarget(),ro=vr.material;this.material.uniforms.inputValue.value.copy(_a),vr.material=this.material,this.renderer.setRenderTarget(eo||null),this.renderer.render(Nr,yr),this.renderer.setRenderTarget(to),vr.material=ro},va.prototype.dispose=function(){this.material.dispose()},va}(),wr=function(va){function _a(eo){return va.call(this,eo,{fragment:`
uniform sampler2D inputBuffer;
varying vec2 vUv;
void main() {
  gl_FragColor = texture2D(inputBuffer, vUv);
}
`})||this}return t$3.__extends(_a,va),_a}(Dr),Ir=function(){function va(_a){this.enable=!0,this.renderer=_a,this.copyPass=new wr(this.renderer)}return va.prototype.render=function(_a,eo,to){this.copyPass.render(_a,eo)},va.prototype.dispose=function(){this.copyPass.dispose()},va}(),Tr=function(va){function _a(eo){var to,ro=va.call(this)||this,no=_a.parseArgs(eo);return ro.pending=!0,ro.userAction=no.initial[3],ro.destroyed=!1,ro.ident=no.ident,ro.scene=no.scene,ro.helper=no.helper,ro.camera=no.camera,ro.renderer=no.renderer,ro.scissor=no.scissor,ro.element=no.element,ro.model=no.model,ro.enableIOSEDR=(to=no.enableIOSEDR)!==null&&to!==void 0&&to,ro.work=no.work,ro.imageOptions=no.imageOptions,ro.videoTexture=no.videoTexture,ro.networkSubscribe=no.networkSubscribe,ro.needsRender=!0,ro.maxFov=120,ro.minFov=40,ro.maxLatitude=+Math.PI/2,ro.minLatitude=-Math.PI/2,ro.cameraMotion=new dn({longitude:{value:ro.camera.pose.longitude,circle:[0,2*Math.PI]},latitude:ro.camera.pose.latitude,fov:ro.camera.pose.fov}),ro.eventUnbinds=[no.element].concat(no.extraElements||[]).map(function(io){return ro.bindEvents(io)}),ot.shared.add(function(){return ro.initAnimation.apply(ro,no.initial)},!0),ro}return t$3.__extends(_a,va),_a.parseArgs=function(eo){return t$3.__assign({},eo)},_a.initAnimationEndState=function(eo){var to=this.parseArgs(eo);return{longitude:to.camera.pose.longitude,latitude:to.camera.pose.latitude,fov:to.camera.pose.fov,offset:to.camera.pose.offset.clone()}},_a.prototype.destroy=function(){var eo;this.destroyed=!0,this.off(),this.cameraMotion.dispose();for(var to=0,ro=this.eventUnbinds;to<ro.length;to++)(0,ro[to])();this.effect&&(this.effect.dispose(),delete this.effect),delete this.panState,(eo=this.pressState)===null||eo===void 0||eo.stop(),delete this.pressState},_a.prototype.isReady=function(){return this.pending===!1&&this.cameraMotion.ended===!0},_a.prototype.bindExtraElement=function(eo){for(var to=0,ro=this.eventUnbinds;to<ro.length;to++)if(ro[to].element===eo)return;this.eventUnbinds.push(this.bindEvents(eo))},_a.prototype.unbindExtraElement=function(eo){for(var to=0,ro=this.eventUnbinds;to<ro.length&&ro[to].element!==eo;to++);},_a.prototype.updateRenderSize=function(){this.needsRender=!0},_a.prototype.updateModel=function(eo){this.model=eo,this.needsRender=!0},_a.prototype.updateWork=function(eo,to,ro,no,io){return this.work=eo,this.userAction=io,!1},_a.prototype.updateTime=function(eo,to){if(!this.destroyed){var ro={};this.cameraMotion.ended&&(this.cameraMotion.update(eo),ro.longitude=this.cameraMotion.value.longitude,ro.latitude=this.cameraMotion.value.latitude,ro.fov=this.cameraMotion.value.fov),dr(ro)&&this.setCamera(ro)}},_a.prototype.render=function(eo){this.renderer.render(this.scene,this.camera)},_a.prototype.postProcessing=function(eo,to,ro){this.destroyed||(this.effect||(this.effect=new Ir(this.renderer)),this.effect.render(eo,to,ro))},_a.prototype.updateCamera=function(eo,to,ro){return this.userAction=ro,this.cameraMotion.set(eo,to)},_a.prototype.getTargetPose=function(){var eo=this.cameraMotion.getKeyFrameSegment(Re())[1];return{longitude:eo.value.longitude,latitude:eo.value.latitude,fov:eo.value.fov,offset:this.camera.pose.offset.clone()}},_a.prototype.moveToPano=function(eo,to,ro){to===void 0&&(to={}),this.userAction=ro;var no={longitude:this.camera.pose.longitude,latitude:this.camera.pose.latitude,fov:this.camera.pose.fov,offset:this.camera.pose.offset.clone()};to.moveStartCallback&&to.moveStartCallback(eo,no),this.emit("moveToPano",eo,this.userAction),this.emit("panoWillArrive",eo,no,this.userAction),this.emit("panoArrived",eo,no,this.userAction),to.moveEndCallback&&to.moveEndCallback(eo,no)},_a.prototype.initAnimation=function(eo,to,ro,no){this.pending=!1,this.userAction=no},_a.prototype.setCamera=function(eo){var to,ro,no,io,ao;eo===void 0&&(eo={});var oo=(to=eo.longitude)!==null&&to!==void 0?to:this.camera.pose.longitude,so=(ro=eo.latitude)!==null&&ro!==void 0?ro:this.camera.pose.latitude,uo=(no=eo.fov)!==null&&no!==void 0?no:this.camera.pose.fov,co=(io=eo.distance)!==null&&io!==void 0?io:this.camera.pose.distance,fo=(ao=eo.offset)!==null&&ao!==void 0?ao:this.camera.pose.offset,po=this.camera.position.clone(),vo=Jn(oo,this.camera.pose.longitude,2*Math.PI)||Jn(so,this.camera.pose.latitude),go=Jn(uo,this.camera.pose.fov),mo=Jn(co,this.camera.pose.distance),lo=er(fo,this.camera.pose.offset);this.camera.setFromPose({longitude:oo,latitude:so,fov:uo,distance:co,offset:fo});var ho=er(po,this.camera.position);go&&this.emit("cameraFovUpdate",uo,this.userAction),vo&&this.emit("cameraDirectionUpdate",{longitude:oo,latitude:so},this.userAction),ho&&this.emit("cameraPositionUpdate",this.camera.position.clone(),this.userAction),(go||vo||lo||mo)&&this.emit("cameraUpdate",{longitude:oo,latitude:so,fov:uo,offset:fo},this.userAction),this.needsRender=!0,(Yt||Ht.length!==0)&&(Yt&&clearTimeout(Yt),Yt=window.setTimeout(Gt,200))},_a.prototype.onPanGesture=function(eo){var to=this.panState,ro=eo.pointers.length;if(eo.isFinal?delete this.panState:this.panState={pointerLength:ro,x:eo.center.x,y:eo.center.y},to!==void 0&&to.pointerLength===ro){var no=eo.pointers.map(function(io){return ni(io,["x","y"])});this.emit("wantsGesture","pan",no,eo.isFinal)||this.emit("gesture","pan",no,eo.isFinal)}},_a.prototype.onTapGesture=function(eo){var to=eo.pointers.map(function(ro){return ni(ro,["x","y"])});this.emit("wantsGesture","tap",to,!0)||this.emit("gesture","tap",to,!0)},_a.prototype.onPressGesture=function(eo,to){var ro,no=[eo];if(this.emit("wantsGesture","press",no,to))return(ro=this.pressState)===null||ro===void 0||ro.stop(),void delete this.pressState;this.emit("gesture","press",no,to)},_a.prototype.onPinchGesture=function(eo){var to=eo.pointers.map(function(ro){return ni(ro,["x","y"])});this.emit("wantsGesture","pinch",to,eo.isFinal)||this.emit("gesture","pinch",to,eo.isFinal)},_a.prototype.onMouseWheel=function(eo){var to=[{x:eo.clientX,y:eo.clientY,delta:eo.delta}];this.emit("wantsGesture","mouseWheel",to,!1)||this.emit("gesture","mouseWheel",to,!1)},_a.prototype.onMouseMove=function(eo){},_a.prototype.onMouseOut=function(){},_a.prototype.relativeClientPosition=function(eo){return fr(eo,this.element,this.scissor)},_a.prototype.bindEvents=function(eo){var to=this,ro=function(go){var mo=fr(go,to.element,to.scissor);return!(Math.abs(mo.x)>1||Math.abs(mo.y)>1)},no=new pr.Manager(eo),io=function(go){return go.session.firstInput||null};no.add(new pr.Pan({threshold:10,pointers:0})),no.add(new pr.Tap({interval:410})),no.add(new pr.Pinch({threshold:0,pointers:2}).recognizeWith(no.get("pan"))),no.on("panstart pan",function(go){var mo=io(no);mo&&!ro(mo.center)||(to.onPanGesture(go),po())}),no.on("tap",function(go){var mo=io(no);mo&&!ro(mo.center)||(to.onTapGesture(go),po())}),no.on("pinchstart pinch pinchend",function(go){var mo=io(no);mo&&!ro(mo.center)||(to.onPinchGesture(go),po())});var ao=function(go){var mo={x:go.clientX,y:go.clientY};ro(mo)&&(to.onMouseWheel(go),po())},oo=function(go){if(!((mo=typeof navigator<"u"?navigator.userAgent.toLowerCase():"node").match(/android/i)||mo.match(/webos/i)||mo.match(/ipad|iphone|ipod/i)||mo.match(/iemobile/i)||mo.match(/opera mini/i)||mo.match(/blackberry/i)||mo.match(/windows phone/i))){var mo,lo={x:go.clientX,y:go.clientY};ro(lo)?(to.onMouseMove(go),to.pressState&&Math.abs(go.clientX-to.pressState.x)>10&&Math.abs(go.clientY-to.pressState.y)>10&&po()):to.onMouseOut()}},so=function(){to.onMouseOut(),po()},uo=function(go,mo){if(ro(go)){to.pressState={x:go.x,y:go.y,time:to.pressState?to.pressState.time:mo,stop:Pe};var lo=mo-to.pressState.time;to.onPressGesture({x:go.x,y:go.y,delta:lo},!1),to.pressState&&(to.pressState.stop=ot.shared.add(function(ho){return uo({x:go.x,y:go.y},ho)},!0,1))}else po()},co=function(go){po(),go.touches.length>1||go.changedTouches.length<=0||uo({x:go.changedTouches[0].clientX,y:go.changedTouches[0].clientY},Re())},fo=function(go){po(),uo({x:go.clientX,y:go.clientY},Re())},po=function(){var go;if(to.pressState){var mo=Re()-to.pressState.time;to.onPressGesture({x:to.pressState.x,y:to.pressState.y,delta:mo},!0),(go=to.pressState)===null||go===void 0||go.stop(),delete to.pressState}},vo=function(go){if(go&&typeof go.preventDefault=="function"&&go.currentTarget===eo&&go.preventDefault(),typeof getSelection=="function"){var mo=getSelection();mo&&mo.focusNode&&(mo.removeAllRanges&&mo.removeAllRanges(),mo.empty&&mo.empty())}};return Mr(eo,ao),pr.on(eo,"mousemove",oo),pr.on(eo,"mouseout",so),pr.on(eo,"touchstart",co),pr.on(eo,"touchend",po),pr.on(eo,"touchcancel",po),pr.on(eo,"mousedown",fo),pr.on(eo,"mouseup",po),pr.on(eo,"touchstart",vo),Object.assign(function(){no.destroy(),function(go,mo){var lo=document.mozFullScreen?"DOMMouseScroll":"mousewheel",ho=!!window.addEventListener,yo=!!window.attachEvent;mo.__mouseWheelWrapper&&(ho?go.removeEventListener(lo,mo.__mouseWheelWrapper,!1):yo&&go.detachEvent("on"+lo,mo.__mouseWheelWrapper),delete mo.__mouseWheelWrapper)}(eo,ao),pr.off(eo,"mousemove",oo),pr.off(eo,"mouseout",so),pr.off(eo,"touchstart",co),pr.off(eo,"touchend",po),pr.off(eo,"touchcancel",po),pr.off(eo,"mousedown",fo),pr.off(eo,"mouseup",po),pr.off(eo,"touchstart",vo)},{element:eo})},_a}(ke),xr=function(va){function _a(eo){var to,ro,no,io,ao=this,oo=_a.parseArgs(eo);return(ao=va.call(this,oo)||this).defaultLongitude=oo.defaultLongitude,ao.defaultLatitude=oo.defaultLatitude,ao.defaultFov=oo.defaultFov,ao.maxFov=oo.maxFov,ao.minFov=oo.minFov,ao.maxLatitude=oo.maxLatitude,ao.minLatitude=oo.minLatitude,ao.locationMotion=new dn({x:ao.camera.pose.offset.x,y:ao.camera.pose.offset.y,z:ao.camera.pose.offset.z,distance:ao.camera.pose.distance,modelAlpha:(ro=(to=ao.model.getMaterial())===null||to===void 0?void 0:to.modelAlpha)!==null&&ro!==void 0?ro:0,perspToOrtho:(io=(no=ao.model.getMaterial())===null||no===void 0?void 0:no.perspToOrtho)!==null&&io!==void 0?io:0}),ao}return t$3.__extends(_a,va),_a.parseArgs=function(eo){var to,ro,no,io,ao,oo,so,uo=va.parseArgs.call(this,eo);return t$3.__assign(t$3.__assign({},uo),{defaultLongitude:(to=eo.defaultLongitude)!==null&&to!==void 0?to:Math.PI/4,defaultLatitude:(ro=eo.defaultLatitude)!==null&&ro!==void 0?ro:Math.PI/4,defaultFov:(no=eo.defaultFov)!==null&&no!==void 0?no:80,maxFov:(io=eo.maxFov)!==null&&io!==void 0?io:120,minFov:(ao=eo.minFov)!==null&&ao!==void 0?ao:40,maxLatitude:(oo=eo.maxLatitude)!==null&&oo!==void 0?oo:+Math.PI/2,minLatitude:(so=eo.minLatitude)!==null&&so!==void 0?so:-Math.PI/2})},_a.initAnimationEndPose=function(eo){var to,ro,no,io=this.parseArgs(eo),ao=eo.initial[1];return{longitude:(to=ao.longitude)!==null&&to!==void 0?to:io.defaultLongitude,latitude:cn((ro=ao.latitude)!==null&&ro!==void 0?ro:io.defaultLatitude,io.minLatitude,io.maxLatitude),fov:(no=ao.fov)!==null&&no!==void 0?no:io.defaultFov,offset:eo.model.bounding.getCenter(new r$4.Vector3)}},_a.prototype.destroy=function(){va.prototype.destroy.call(this),this.locationMotion.dispose(),this.mouseWheelState&&clearTimeout(this.mouseWheelState.timer),delete this.mouseWheelState,delete this.panState},_a.prototype.isReady=function(){return this.locationMotion.ended!==!1&&va.prototype.isReady.call(this)},_a.prototype.updateWork=function(eo,to,ro,no,io){return this.work=eo,!0},_a.prototype.updateModel=function(eo){va.prototype.updateModel.call(this,eo);var to=eo.bounding.getCenter(new r$4.Vector3),ro=this.cameraDistance(eo);this.locationMotion.set({x:to.x,y:to.y,z:to.z,distance:ro},0).catch(Pe)},_a.prototype.updateTime=function(eo,to){if(!this.destroyed){var ro={},no={};this.locationMotion.ended||(this.locationMotion.update(eo),ro.modelAlpha=this.locationMotion.value.modelAlpha,ro.perspToOrtho=cn(1-10*(1-this.locationMotion.value.perspToOrtho),0,1),no.distance=this.locationMotion.value.distance,no.offset=new r$4.Vector3(this.locationMotion.value.x,this.locationMotion.value.y,this.locationMotion.value.z)),this.cameraMotion.ended||(this.cameraMotion.update(eo),no.longitude=this.cameraMotion.value.longitude,no.latitude=this.cameraMotion.value.latitude,no.fov=this.cameraMotion.value.fov),dr(ro)||this.model.setMaterial(ro),dr(no)||this.setCamera(no)}},_a.prototype.getTargetPose=function(){var eo=this.cameraMotion.getKeyFrameSegment(Re())[1],to=this.locationMotion.getKeyFrameSegment(Re())[1];return{longitude:eo.value.longitude,latitude:eo.value.latitude,fov:eo.value.fov,offset:new r$4.Vector3(to.value.x,to.value.y,to.value.z)}},_a.prototype.initAnimation=function(eo,to,ro,no){var io,ao,oo,so=this;if(!this.destroyed){this.pending=!1,this.userAction=no;var uo=this.model.bounding.getCenter(new r$4.Vector3),co={longitude:(io=to.longitude)!==null&&io!==void 0?io:this.defaultLongitude,latitude:cn((ao=to.latitude)!==null&&ao!==void 0?ao:this.defaultLatitude,this.minLatitude,this.maxLatitude),fov:cn((oo=to.fov)!==null&&oo!==void 0?oo:this.defaultFov,this.minFov,this.maxFov),offset:this.model.bounding.getCenter(new r$4.Vector3)},fo=this.cameraDistance(this.model),po=ni(co,["longitude","latitude","fov"]),vo={x:uo.x,y:uo.y,z:uo.z,distance:fo,modelAlpha:1,perspToOrtho:0};this.emit("initAnimationWillStart",eo,co,this.userAction),this.cameraMotion.set(po,ro).catch(Pe),this.locationMotion.set(vo,ro).then(function(){so.emit("initAnimationEnded",eo,co,so.userAction)},function(go){var mo=gr(so.camera.pose);so.emit("initAnimationEnded",eo,mo,so.userAction)})}},_a.prototype.updateRenderSize=function(){this.locationMotion.set({distance:this.cameraDistance(this.model)},0)},_a.prototype.cameraDistance=function(eo){var to=eo.bounding,ro=this.camera.aspect,no=Math.pow(Math.pow(to.max.x-to.min.x+1,2)+Math.pow(to.max.y-to.min.y+1,2)+Math.pow(to.max.z-to.min.z+1,2),.5),io=no/2/Math.tan(Math.PI*this.defaultFov/360);return ro<1&&(io/=ro),isNaN(io)?no:io},_a.prototype.getForwardPanoIndexOrNot=function(eo){var to=this.work.observers.filter(function(ao){return ao.active}),ro=this.model.intersectRaycaster(eo)[0];if(!ro)return null;var no=hr(to,function(ao){return ao.standingPosition.distanceTo(ro.point)},!0),io=no[0];return no[1]<5?this.work.observers.indexOf(io):null},_a.prototype.coordinatesChangeWithOffset=function(eo,to){var ro=this.element,no=this.camera,io=ro.offsetWidth,ao=ro.offsetHeight,oo=2*to.x/io*no.fov/30,so=2*to.y/ao*no.fov/30;return{longitude:sr(eo.longitude+oo),latitude:cn(eo.latitude+so,this.minLatitude,this.maxLatitude)}},_a.prototype.requestInteriaMovement=function(eo){var to=this;if(this.interiaMovement!==!1){var ro=this.coordinatesChangeWithOffset({longitude:this.cameraMotion.value.longitude,latitude:this.cameraMotion.value.latitude},eo),no=ro.longitude,io=ro.latitude,ao={longitude:no,latitude:io,fov:this.cameraMotion.value.fov,offset:this.camera.pose.offset};this.cameraMotion.set({longitude:no,latitude:io},0).catch(Pe);var oo=Math.abs(eo.x)>1||Math.abs(eo.y)>1;this.emit("interiaPan",ao,!oo),oo?ot.shared.add(function(){to.requestInteriaMovement({x:.8*eo.x,y:.8*eo.y})},!0,1):this.interiaMovement=!1}},_a.prototype.onPanGesture=function(eo){var to=this.panState,ro=eo.pointers.length;if(eo.isFinal?delete this.panState:this.panState={pointerLength:ro,x:eo.center.x,y:eo.center.y},to!==void 0&&to.pointerLength===ro){var no=eo.pointers.map(function(go){return ni(go,["x","y"])});if(!this.emit("wantsGesture","pan",no,eo.isFinal)){var io={x:eo.center.x-to.x,y:eo.center.y-to.y},ao=this.relativeClientPosition(eo.center),oo=this.camera.pose.latitude<Math.PI/6||ao.y<0?-1:1;io.x*=oo;var so=this.coordinatesChangeWithOffset({longitude:this.cameraMotion.value.longitude,latitude:this.cameraMotion.value.latitude},io),uo={longitude:so.longitude,latitude:so.latitude,fov:this.camera.pose.fov,offset:this.camera.pose.offset};if(!this.emit("wantsPanGesture",uo,eo.isFinal)&&(this.emit("gesture","pan",no,eo.isFinal),this.emit("panGesture",uo,eo.isFinal),this.userAction=!0,this.interiaMovement=!1,this.cameraMotion.set({longitude:uo.longitude,latitude:uo.latitude,fov:uo.fov},0).catch(Pe),eo.isFinal&&!this.emit("wantsInteriaPan",uo))){this.interiaMovement=!0;var co=ot.getFrameTime(),fo=eo.velocityX*co*oo,po=eo.velocityY*co,vo=Math.sqrt(fo*fo+po*po);vo>100&&(fo=fo/vo*100,po=po/vo*100),this.requestInteriaMovement({x:fo,y:po})}}}},_a.prototype.onPinchGesture=function(eo){var to,ro=(to=this.pinchState)===null||to===void 0?void 0:to.fov,no=!1;if(eo.type==="pinchstart")return this.pinchState={fov:this.cameraMotion.value.fov},void delete this.panState;if(eo.type==="pinchend"&&(no=!0,delete this.panState,delete this.pinchState),ro!==void 0){var io=eo.pointers.map(function(oo){return ni(oo,["x","y"])});if(!this.emit("wantsGesture","pinch",io,no)){var ao=cn(ro/eo.scale,this.minFov,this.maxFov);this.emit("wantsPinchGesture",eo.scale,ao,no)||this.emit("wantsChangeCameraFov",ao)||(this.emit("gesture","pinch",io,no),this.emit("pinchGesture",eo.scale,ao,no),this.userAction=!0,this.interiaMovement=!1,this.cameraMotion.set({fov:ao},0).catch(Pe))}}},_a.prototype.onMouseWheel=function(eo){var to=this,ro=eo.delta,no=[{x:eo.clientX,y:eo.clientY}];if(!this.emit("wantsGesture","mouseWheel",no,!1)){var io=this.minFov,ao=this.maxFov,oo=cn(this.camera.fov-ro,io,ao);this.emit("wantsMouseWheel",ro,oo,!1)||this.emit("wantsChangeCameraFov",oo)||(this.emit("gesture","mouseWheel",no,!1),this.emit("mouseWheel",ro,oo,!1),this.userAction=!0,this.interiaMovement=!1,this.cameraMotion.set({fov:oo},0).catch(Pe),this.mouseWheelState&&clearTimeout(this.mouseWheelState.timer),this.mouseWheelState={timer:window.setTimeout(function(){delete to.mouseWheelState,to.emit("wantsGesture","mouseWheel",no,!0)||to.emit("wantsMouseWheel",ro,oo,!0)||(to.emit("gesture","mouseWheel",no,!0),to.emit("mouseWheel",0,oo,!0))},200)})}},_a.prototype.onTapGesture=function(eo){var to=eo.pointers.map(function(oo){return ni(oo,["x","y"])});if(!this.emit("wantsGesture","tap",to,!0)){var ro=this.relativeClientPosition(eo.center),no=new r$4.Raycaster;if(no.setFromCamera(ro,this.camera),!this.emit("wantsTapGesture",no,ro,!0)){this.emit("gesture","tap",to,!0),this.emit("tapGesture",no,ro,!0),this.interiaMovement=!1;var io=this.getForwardPanoIndexOrNot(no);if(!Vi(io)){this.emit("panoSelected",io);var ao={longitude:this.camera.pose.longitude,latitude:0};this.emit("wantsMoveToPano",io,ao,!0)}}}},_a.prototype.onPressGesture=function(eo,to){var ro,no,io=[eo];if(this.emit("wantsGesture","press",io,to))return(ro=this.pressState)===null||ro===void 0||ro.stop(),void delete this.pressState;var ao=this.relativeClientPosition(eo),oo=new r$4.Raycaster;if(oo.setFromCamera(ao,this.camera),this.emit("wantsPressGesture",oo,ao,eo.delta,to))return(no=this.pressState)===null||no===void 0||no.stop(),void delete this.pressState;this.emit("gesture","press",io,to),this.emit("pressGesture",oo,ao,eo.delta,to)},_a}(Tr),jr=function(va){function _a(eo){var to=_a.parseArgs(eo);return va.call(this,to)||this}return t$3.__extends(_a,va),_a.parseArgs=function(eo){var to=[eo.initial[0],t$3.__assign(t$3.__assign({},eo.initial[1]),{longitude:0,latitude:Math.PI/2}),eo.initial[2],eo.initial[3]],ro=t$3.__assign(t$3.__assign({},eo),{initial:to,maxLatitude:Math.PI/2,minLatitude:Math.PI/2,defaultLongitude:0,defaultLatitude:Math.PI/2});return va.parseArgs.call(this,ro)},_a.initAnimationEndPose=function(eo){var to=this.parseArgs(eo);return va.initAnimationEndPose.call(this,to)},_a.prototype.updateModel=function(eo){this.model=eo,this.needsRender=!0;var to=eo.bounding.getCenter(new r$4.Vector3);this.locationMotion.set({x:to.x,y:to.y,z:to.z,distance:this.cameraDistance(eo)},0).catch(Pe)},_a.prototype.initAnimation=function(eo,to,ro,no){var io,ao=this;if(!this.destroyed){this.pending=!1,this.userAction=no;var oo=this.model.bounding.getCenter(new r$4.Vector3),so={longitude:0,latitude:Math.PI/2,fov:cn((io=to.fov)!==null&&io!==void 0?io:this.defaultFov,this.minFov,this.maxFov),offset:this.model.bounding.getCenter(new r$4.Vector3)},uo=this.cameraDistance(this.model),co=ni(so,["longitude","latitude","fov"]),fo={x:oo.x,y:oo.y,z:oo.z,distance:uo,modelAlpha:1,perspToOrtho:1};this.cameraMotion.set(co,ro).catch(Pe),this.locationMotion.set(fo,ro).then(function(){ao.emit("initAnimationEnded",eo,so,ao.userAction)},function(po){var vo=gr(ao.camera.pose);ao.emit("initAnimationEnded",eo,vo,ao.userAction)})}},_a.prototype.getZoomOffsetFromFov=function(eo,to,ro){var no=new r$4.Vector3(0,-1,0),io=Math.tan(ro/2*Math.PI/180),ao=Math.tan(to.fov/2*Math.PI/180),oo=(ao-io)/ao,so=new r$4.Raycaster;so.setFromCamera(eo,to);var uo=so.ray.direction,co=uo.angleTo(no),fo=this.cameraDistance(this.model),po=fo*Math.tan(co),vo=uo.clone().setLength(fo*Math.cos(co)).projectOnPlane(no),go=vo.length(),mo=oo/go*vo.x*po,lo=oo/go*vo.z*po;return new r$4.Vector3(mo,0,lo)},_a.prototype.requestInteriaMovement=function(eo){},_a.prototype.onPanGesture=function(eo){var to=this.renderer.getSize(new r$4.Vector2),ro=this.panState,no=eo.pointers.length;if(eo.isFinal?delete this.panState:this.panState={pointerLength:no,x:eo.center.x,y:eo.center.y},ro!==void 0&&ro.pointerLength===no){var io=eo.pointers.map(function(mo){return ni(mo,["x","y"])});if(!this.emit("wantsGesture","pan",io,eo.isFinal)){var ao=eo.center.x-ro.x,oo=eo.center.y-ro.y,so=new r$4.Vector3(this.locationMotion.value.x,this.locationMotion.value.y,this.locationMotion.value.z),uo=this.camera.position.y*Math.tan(this.camera.fov/2*Math.PI/180);so.add(function(mo,lo){var ho=new r$4.Vector3;return ho.setFromMatrixColumn(lo,0),ho.multiplyScalar(-mo),ho}(2*ao*uo/to.y,this.camera.matrix)),so.add(function(mo,lo,ho){var yo=new r$4.Vector3;return yo.setFromMatrixColumn(ho,0),yo.crossVectors(lo,yo),yo.multiplyScalar(mo),yo}(2*oo*uo/to.y,this.camera.up,this.camera.matrix));var co=this.model.bounding,fo=co.getCenter(new r$4.Vector3),po=(co.max.x-co.min.x)/this.defaultFov*this.cameraMotion.value.fov,vo=(co.max.y,co.min.y,this.defaultFov,this.cameraMotion.value.fov,(co.max.z-co.min.z)/this.defaultFov*this.cameraMotion.value.fov);so.x=cn(so.x,fo.x-po,fo.x+po),so.z=cn(so.z,fo.z-vo,fo.z+vo),so.y=fo.y;var go={longitude:0,latitude:Math.PI/2,fov:this.cameraMotion.value.fov,offset:so};this.emit("wantsPanGesture",go,eo.isFinal)||(this.emit("gesture","pan",io,eo.isFinal),this.emit("panGesture",go,eo.isFinal),this.userAction=!0,this.locationMotion.set({x:so.x,y:so.y,z:so.z},0).catch(Pe))}}},_a.prototype.onPinchGesture=function(eo){var to,ro=(to=this.pinchState)===null||to===void 0?void 0:to.fov,no=!1;if(eo.type==="pinchstart")return this.pinchState={fov:this.cameraMotion.value.fov},void delete this.panState;if(eo.type==="pinchend"&&(no=!0,delete this.panState,delete this.pinchState),ro!==void 0){var io=eo.pointers.map(function(co){return ni(co,["x","y"])});if(!this.emit("wantsGesture","pinch",io,no)){var ao=cn(ro/eo.scale,this.minFov,this.maxFov),oo=this.relativeClientPosition({x:eo.center.x,y:eo.center.y}),so=this.getZoomOffsetFromFov(oo,this.camera,ao),uo=this.camera.pose.offset.clone().add(so);this.emit("wantsPinchGesture",eo.scale,ao,no)||this.emit("wantsChangeCameraFov",ao)||(this.emit("gesture","pinch",io,no),this.emit("pinchGesture",eo.scale,ao,no),this.userAction=!0,this.locationMotion.set({x:uo.x,y:uo.y,z:uo.z},0).catch(Pe),this.cameraMotion.set({longitude:0,latitude:Math.PI/2,fov:ao},0).catch(Pe))}}},_a.prototype.onMouseWheel=function(eo){var to=this,ro=eo.delta,no=[{x:eo.clientX,y:eo.clientY}];if(!this.emit("wantsGesture","mouseWheel",no,!1)){var io=cn(this.cameraMotion.value.fov-ro,this.minFov,this.maxFov),ao=this.relativeClientPosition({x:eo.clientX,y:eo.clientY}),oo=this.getZoomOffsetFromFov(ao,this.camera,io),so=this.camera.pose.offset.clone().add(oo);this.emit("wantsMouseWheel",ro,io,!1)||this.emit("wantsChangeCameraFov",io)||(this.emit("gesture","mouseWheel",no,!1),this.emit("mouseWheel",ro,io,!1),this.userAction=!0,this.locationMotion.set({x:so.x,y:so.y,z:so.z},0).catch(Pe),this.cameraMotion.set({longitude:0,latitude:Math.PI/2,fov:io},0).catch(Pe),this.mouseWheelState&&clearTimeout(this.mouseWheelState.timer),this.mouseWheelState={timer:window.setTimeout(function(){delete to.mouseWheelState,to.emit("wantsGesture","mouseWheel",no,!0)||to.emit("wantsMouseWheel",ro,io,!0)||to.emit("wantsChangeCameraFov",io)||(to.emit("gesture","mouseWheel",no,!0),to.emit("mouseWheel",0,io,!0))},200)})}},_a}(xr);function zr(va,_a){_a===void 0&&(_a=!1);var eo=typeof va;if(eo==="string")return JSON.stringify(va);if(va===!0)return"true";if(va===!1)return"false";if(va===null)return"null";if(va instanceof Array){for(var to="[",ro=va.length-1,no=0;no<ro;no++)to+=zr(va[no],!1)+",";return ro>-1&&(to+=zr(va[no],!1)),to+"]"}if(va instanceof Object){if(typeof va.toJSON=="function")return zr(va.toJSON(),_a);var io=Object.keys(va).sort(),ao=io.length;for(to="",no=0;no<ao;){var oo=io[no],so=zr(va[oo],!0);so!==void 0&&(no&&to!==""&&(to+=","),to+=JSON.stringify(oo)+":"+so),no++}return"{"+to+"}"}switch(eo){case"function":case"undefined":return _a?void 0:null;case"number":return va;default:return isFinite(va)?va:null}}function Cr(va){return ze(String(zr(va,!1)))}var br,Sr=function(va){function _a(eo){var to=this,ro=_a.parseArgs(eo);return(to=va.call(this,ro)||this).defaultLongitude=ro.defaultLongitude,to.defaultLatitude=ro.defaultLongitude,to.defaultFov=ro.defaultFov,to.maxFov=ro.maxFov,to.minFov=ro.minFov,to.maxLatitude=ro.maxLatitude,to.minLatitude=ro.minLatitude,to.moveSpeed=ro.moveSpeed,to.intersectMeshCreator=ro.intersectMeshCreator,to.interiaMovement=!1,to.intersectMesh=to.intersectMeshCreator(),to.intersectMesh.name="intersect",to.intersectMesh.visible=!1,to.helper.add(to.intersectMesh),to}return t$3.__extends(_a,va),_a.parseArgs=function(eo){var to,ro,no,io,ao,oo,so,uo,co,fo=va.parseArgs.call(this,eo);return t$3.__assign(t$3.__assign({},fo),{defaultLongitude:(to=eo.defaultLongitude)!==null&&to!==void 0?to:0,defaultLatitude:(ro=eo.defaultLatitude)!==null&&ro!==void 0?ro:0,defaultFov:(no=eo.defaultFov)!==null&&no!==void 0?no:90,maxFov:(io=eo.maxFov)!==null&&io!==void 0?io:120,minFov:(ao=eo.minFov)!==null&&ao!==void 0?ao:40,maxLatitude:(oo=eo.maxLatitude)!==null&&oo!==void 0?oo:+Math.PI/2,minLatitude:(so=eo.minLatitude)!==null&&so!==void 0?so:-Math.PI/2,moveSpeed:(uo=eo.moveSpeed)!==null&&uo!==void 0?uo:3.2,intersectMeshCreator:(co=eo.intersectMeshCreator)!==null&&co!==void 0?co:function(){return new qn}})},_a.initAnimationEndPose=function(eo){var to,ro,no,io=this.parseArgs(eo),ao=eo.initial,oo=ao[0],so=ao[1];return{longitude:(to=so.longitude)!==null&&to!==void 0?to:io.defaultLongitude,latitude:cn((ro=so.latitude)!==null&&ro!==void 0?ro:io.defaultLatitude,io.minLatitude,io.maxLatitude),fov:cn((no=so.fov)!==null&&no!==void 0?no:io.defaultFov,io.minFov,io.maxFov),offset:io.work.observers[oo].position.clone()}},_a.prototype.destroy=function(){va.prototype.destroy.call(this),this.interiaMovement=!1,this.intersectMesh&&(this.helper.remove(this.intersectMesh),this.intersectMesh.dispose()),this.mouseWheelState&&clearTimeout(this.mouseWheelState.timer),delete this.mouseWheelState,delete this.mouseMoveState,delete this.panState},_a.prototype.isReady=function(){return!this.interiaMovement&&!this.panState&&!this.pinchState&&!this.mouseWheelState&&va.prototype.isReady.call(this)},_a.prototype.calculateMovingDuration=function(eo,to){switch(typeof eo){case"function":return eo(to,this.moveSpeed);case"number":return eo;case"string":return Number(eo);default:return Math.floor(Math.max(Math.min(to/this.moveSpeed*1e3,1500),500))}},_a.prototype.hideIntersectMesh=function(){this.intersectMesh.visible=!1,this.emit("intersectionHidden"),this.needsRender=!0},_a.prototype.coordinatesForOffset=function(eo){var to=this.cameraMotion.value.fov,ro=this.camera.aspect,no=this.renderer.getSize(new r$4.Vector2);return{longitude:2*eo.x/no.x*to/95*ro,latitude:-2*eo.y/no.y*to/95}},_a.prototype.cameraBounce=function(){var eo=this.cameraMotion.value,to=eo.longitude,ro=eo.latitude,no=eo.fov,io=[{progress:0,value:{longitude:to,latitude:ro,fov:no}},{progress:.5,value:{longitude:to,latitude:ro,fov:.98*no}},{progress:1,value:{longitude:to,latitude:ro,fov:no}}];this.cameraMotion.setKeyframes(io,500).catch(Pe)},_a.prototype.requestInteriaMovement=function(eo){var to=this;if(this.interiaMovement!==!1){var ro=this.coordinatesForOffset(eo),no=sr(this.cameraMotion.value.longitude+ro.longitude),io=cn(this.cameraMotion.value.latitude+ro.latitude,this.minLatitude,this.maxLatitude),ao={longitude:no,latitude:io,fov:this.cameraMotion.value.fov,offset:this.camera.pose.offset.clone()};this.cameraMotion.set({longitude:no,latitude:io},0).catch(Pe);var oo=Math.abs(eo.x)>1||Math.abs(eo.y)>1;this.emit("interiaPan",ao,!oo),oo?ot.shared.add(function(so,uo){var co=Math.min(.05625*uo,1),fo={x:eo.x*co,y:eo.y*co*.7};to.requestInteriaMovement(fo)},!0,1):this.interiaMovement=!1}},_a.prototype.onPanGesture=function(eo){var to=this.panState,ro=eo.pointers.length;if(eo.isFinal?delete this.panState:this.panState={pointerLength:ro,x:eo.center.x,y:eo.center.y},to!==void 0&&to.pointerLength===ro){var no=eo.pointers.map(function(mo){return ni(mo,["x","y"])});if(!this.emit("wantsGesture","pan",no,eo.isFinal)){var io={x:eo.center.x-to.x,y:eo.center.y-to.y},ao=this.coordinatesForOffset(io),oo=sr(this.cameraMotion.value.longitude+ao.longitude),so=cn(this.cameraMotion.value.latitude+ao.latitude,this.minLatitude,this.maxLatitude);this.camera.aspect<1&&Math.abs(eo.overallVelocityX)>.2&&Math.atan2(Math.abs(eo.overallVelocityY),Math.abs(eo.overallVelocityX))<Math.PI/6.923&&(so=this.cameraMotion.value.latitude);var uo={longitude:oo,latitude:so,fov:this.cameraMotion.value.fov,offset:this.camera.pose.offset.clone()};if(!this.emit("wantsPanGesture",uo,eo.isFinal)){this.emit("gesture","pan",no,eo.isFinal),this.emit("panGesture",uo,eo.isFinal),this.userAction=!0,this.interiaMovement=!1,this.hideIntersectMesh();var co={longitude:uo.longitude,latitude:uo.latitude,fov:uo.fov};if(this.cameraMotion.set(co,0).catch(Pe),eo.isFinal&&!this.emit("wantsInteriaPan",uo)){var fo=ot.getFrameTime();this.interiaMovement=!0;var po=eo.velocityX*fo,vo=eo.velocityY*fo,go=Math.sqrt(po*po+vo*vo);go>100&&(po=po/go*100,vo=vo/go*100),Math.abs(vo/po)<Math.tan(20/180*Math.PI)&&(vo=0),this.requestInteriaMovement({x:po,y:vo})}}}}},_a.prototype.onPinchGesture=function(eo){var to,ro=(to=this.pinchState)===null||to===void 0?void 0:to.fov,no=eo.scale,io=!1;if(eo.type==="pinchstart")return this.pinchState={fov:this.cameraMotion.value.fov},void delete this.panState;if(eo.type==="pinchend"&&(io=!0,delete this.panState,delete this.pinchState),ro!==void 0){var ao=eo.pointers.map(function(so){return ni(so,["x","y"])});if(!this.emit("wantsGesture","pinch",ao,io)){var oo=cn(ro/no,this.minFov,this.maxFov);this.emit("wantsPinchGesture",no,oo,io)||this.emit("wantsChangeCameraFov",oo)||(this.emit("gesture","pinch",ao,io),this.emit("pinchGesture",no,oo,io),this.userAction=!0,this.interiaMovement=!1,this.cameraMotion.set({fov:oo},0).catch(Pe))}}},_a.prototype.onMouseWheel=function(eo){var to=this,ro=eo.delta,no=[{x:eo.clientX,y:eo.clientY}];if(!this.emit("wantsGesture","mouseWheel",no,!1)){var io=cn(this.cameraMotion.value.fov-ro,this.minFov,this.maxFov);this.emit("wantsMouseWheel",ro,io,!1)||this.emit("wantsChangeCameraFov",io)||(this.emit("gesture","mouseWheel",no,!1),this.emit("mouseWheel",ro,io,!1),this.userAction=!0,this.interiaMovement=!1,this.cameraMotion.set({fov:io},0).catch(Pe),this.mouseWheelState&&clearTimeout(this.mouseWheelState.timer),this.mouseWheelState={timer:window.setTimeout(function(){delete to.mouseWheelState,to.emit("wantsGesture","mouseWheel",no,!0)||to.emit("wantsMouseWheel",ro,io,!0)||to.emit("wantsChangeCameraFov",io)||(to.emit("gesture","mouseWheel",no,!0),to.emit("mouseWheel",0,io,!0))},200)})}},_a.prototype.onMouseMove=function(eo){if(this.intersectMesh.parent&&!this.model.empty&&this.model.bvhs&&this.model.bvhs.loaded===!0&&!this.panState){var to=this.relativeClientPosition({x:eo.clientX,y:eo.clientY}),ro=new r$4.Raycaster;if(ro.setFromCamera(to,this.camera),this.emit("wantsShowIntersectionOnModel",ro))this.hideIntersectMesh();else{var no=this.model.intersectRaycaster(ro)[0];if(no&&no.face){var io=no.face.normal,ao=io.clone().multiplyScalar(.05),oo=no.point.clone().add(ao);this.intersectMesh.position.copy(oo);var so=oo.clone().add(ao);if(this.intersectMesh.lookAt(so),Math.abs(io.y)>.99){var uo=this.camera.position.clone().sub(oo);this.intersectMesh.rotation.z=-Math.atan2(uo.z,uo.x)}this.intersectMesh.visible=!0,this.needsRender=!0,this.emit("intersectionOnModelUpdate",no,this.intersectMesh)}else this.hideIntersectMesh();this.mouseMoveState={clientX:eo.clientX,clientY:eo.clientY}}}},_a.prototype.onMouseOut=function(){this.intersectMesh.parent&&this.intersectMesh.visible===!0&&this.hideIntersectMesh()},_a.prototype.onPressGesture=function(eo,to){var ro,no,io=[eo];if(this.emit("wantsGesture","press",io,to))return(ro=this.pressState)===null||ro===void 0||ro.stop(),void delete this.pressState;var ao=this.relativeClientPosition(eo),oo=new r$4.Raycaster;if(oo.setFromCamera(ao,this.camera),this.emit("wantsPressGesture",oo,ao,eo.delta,to))return(no=this.pressState)===null||no===void 0||no.stop(),void delete this.pressState;this.emit("gesture","press",io,to),this.emit("pressGesture",oo,ao,eo.delta,to)},_a}(Tr),Lr,Or=function(va){function _a(eo,to){return to===void 0&&(to=.5),va.call(this,eo,{uniforms:{inputBuffer:new r$4.Uniform(null),scale:new r$4.Uniform(to)},fragment:`
#include <common>
uniform sampler2D inputBuffer;
uniform float scale;
varying vec2 vUv;

void main() {
  float u = (vUv.x - 0.5) * scale + 0.5;
  float v = (vUv.y - 0.5) * scale + 0.5;
  vec3 rgb = texture2D(inputBuffer, vec2(u, v)).rgb;
  float luminance = clamp(linearToRelativeLuminance(rgb), 0.1, 0.9);
  gl_FragColor = vec4(luminance);
}
`})||this}return t$3.__extends(_a,va),_a}(Dr),Br=function(va){function _a(eo,to){to===void 0&&(to=.002);var ro=va.call(this,eo,{uniforms:{targetBuffer:new r$4.Uniform(null),inputBuffer:new r$4.Uniform(null),step:new r$4.Uniform(to)},fragment:`
        uniform sampler2D targetBuffer;
        uniform sampler2D inputBuffer;
        uniform float step;
        varying vec2 vUv;
        void main() {

          #ifdef GL_EXT_shader_texture_lod
            #if __VERSION__ < 300
              float target = texture2DLodEXT(targetBuffer, vUv, 5.0).r;
            #else
              float target = textureLod(targetBuffer, vUv, 5.0).r;
            #endif
          #else
            float target = texture2D(targetBuffer, vUv).r;
          #endif
          float current = texture2D(inputBuffer, vUv).r;

          float result;
          if (abs(target - current) < step) {
            result = target;
          } else if (target - current > 0.0) {
            result = current + step;
          } else {
            result = current - step;
          }
          gl_FragColor = vec4(result, result, result, 1.0);
        }
      `})||this;return ro.material.extensions.shaderTextureLOD=!0,ro}return t$3.__extends(_a,va),Object.defineProperty(_a.prototype,"targetBuffer",{get:function(){return this.material.uniforms.targetBuffer.value},set:function(eo){this.material.uniforms.targetBuffer.value=eo},enumerable:!1,configurable:!0}),Object.defineProperty(_a.prototype,"step",{get:function(){return this.material.uniforms.step.value},set:function(eo){this.material.uniforms.step.value=eo},enumerable:!1,configurable:!0}),_a}(Dr),Qr=function(va){function _a(eo){var to=va.call(this,eo,{uniforms:{inputBuffer:new r$4.Uniform(null),luminanceAdaptiveBuffer:new r$4.Uniform(null),progress:new r$4.Uniform(0)},fragment:`
        #include <common>
        uniform sampler2D inputBuffer;
        uniform sampler2D luminanceAdaptiveBuffer;
        uniform float progress;
        varying vec2 vUv;

        void main() {
          float middleGrey = 0.8;
          float whitePoint = 8.0;
          float exposure = 1.5;
          vec4 inputColor = texture2D(inputBuffer, vUv);
          vec3 rgb = inputColor.rgb * exposure;
          float alpha = inputColor.a;
          float luminance = linearToRelativeLuminance(rgb);
          float lumAvg = texture2D(luminanceAdaptiveBuffer, vec2(0.5)).r;
          float lumScaled = (luminance * middleGrey) / max(lumAvg, 1e-6);
          float lumCompressed = lumScaled * (1.0 + lumScaled / (whitePoint * whitePoint));
          lumCompressed /= (1.0 + lumScaled);
          rgb = clamp(lumCompressed * rgb, 0.0, 1.0);
          gl_FragColor = mix(inputColor, vec4(rgb, alpha), progress * 0.9);
        }
      `})||this;return to.material.transparent=!0,to}return t$3.__extends(_a,va),Object.defineProperty(_a.prototype,"luminanceAdaptiveBuffer",{get:function(){return this.material.uniforms.luminanceAdaptiveBuffer.value},set:function(eo){this.material.uniforms.luminanceAdaptiveBuffer.value=eo},enumerable:!1,configurable:!0}),Object.defineProperty(_a.prototype,"progress",{get:function(){return this.material.uniforms.progress.value},set:function(eo){this.material.uniforms.progress.value=eo},enumerable:!1,configurable:!0}),_a}(Dr),kr=function(va){function _a(eo){var to=va.call(this,eo)||this;return to.enableTime=Re(),to.renderer=eo,to.valuePass=new Er(to.renderer),to.luminancePass=new Or(to.renderer,.75),to.nextStepPass=new Br(to.renderer,.002),to.luminanceAdaptivePass=new Qr(to.renderer),to}return t$3.__extends(_a,va),_a.prototype.render=function(eo,to,ro){if(!this.enable)return this.enableTime=null,void this.copyPass.render(eo);this.enableTime===null&&(this.enableTime=Re()),this.luminanceTargetBuffer||(this.luminanceTargetBuffer=new r$4.WebGLRenderTarget(128,128,{minFilter:r$4.LinearMipmapLinearFilter,magFilter:r$4.LinearFilter,encoding:this.renderer.outputEncoding,stencilBuffer:!1,depthBuffer:!1,format:r$4.RGBAFormat,generateMipmaps:!0}),this.nextStepPass.targetBuffer=this.luminanceTargetBuffer.texture),this.luminancePass.render(eo,this.luminanceTargetBuffer),this.luminancePrevBuffer||(this.luminancePrevBuffer=new r$4.WebGLRenderTarget(1,1,{minFilter:r$4.NearestFilter,magFilter:r$4.NearestFilter,type:r$4.HalfFloatType,encoding:this.renderer.outputEncoding,stencilBuffer:!1,depthBuffer:!1}),this.valuePass.render(new r$4.Vector3(.5,.5,.5),this.luminancePrevBuffer)),this.luminanceNextBuffer||(this.luminanceNextBuffer=new r$4.WebGLRenderTarget(1,1,{minFilter:r$4.NearestFilter,magFilter:r$4.NearestFilter,type:r$4.HalfFloatType,encoding:this.renderer.outputEncoding,stencilBuffer:!1,depthBuffer:!1}),this.valuePass.render(new r$4.Vector3(.5,.5,.5),this.luminanceNextBuffer),this.luminanceAdaptivePass.luminanceAdaptiveBuffer=this.luminanceNextBuffer.texture),this.copyPass.render(this.luminanceNextBuffer,this.luminancePrevBuffer),this.nextStepPass.render(this.luminancePrevBuffer,this.luminanceNextBuffer),this.luminanceAdaptivePass.progress=Math.min((Re()-this.enableTime)/3e3,1),this.luminanceAdaptivePass.render(eo,to)},_a.prototype.dispose=function(){var eo,to,ro;(eo=this.luminanceTargetBuffer)===null||eo===void 0||eo.dispose(),(to=this.luminancePrevBuffer)===null||to===void 0||to.dispose(),(ro=this.luminanceNextBuffer)===null||ro===void 0||ro.dispose(),this.copyPass.dispose(),this.luminancePass.dispose(),this.nextStepPass.dispose(),this.luminanceAdaptivePass.dispose()},_a}(Ir),Pr=["up","down","left","right","front","back"],Ur=(Lr=Math.SQRT1_2)!==null&&Lr!==void 0?Lr:Math.sqrt(2),Rr={up:new r$4.Quaternion(Ur,0,0,Ur),down:new r$4.Quaternion(-Ur,0,0,Ur),left:new r$4.Quaternion(0,Ur,0,Ur),right:new r$4.Quaternion(0,-Ur,0,Ur),front:new r$4.Quaternion(0,0,0,1),back:new r$4.Quaternion(0,1,0,0)},_r=new r$4.Quaternion().setFromAxisAngle(new r$4.Vector3(0,1,0),Math.PI),Yr=new Float32Array([-.5,-.5,0,.5,-.5,0,-.5,.5,0,.5,.5,0]),Fr=new Float32Array([0,0,1,0,0,1,1,1]),Hr=new Uint8Array([0,1,2,1,3,2]),Vr=new r$4.BufferGeometry;Vr.setAttribute("position",new r$4.BufferAttribute(Yr,3)),Vr.setAttribute("uv",new r$4.BufferAttribute(Fr,2)),Vr.setIndex(new r$4.BufferAttribute(Hr,1));var Gr=function(va){function _a(){var eo=va.call(this,{uniforms:{map:{value:null},luminanceMap:{value:null}},vertexShader:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,fragmentShader:`
#if defined(USE_LUMINANCE)
uniform sampler2D luminanceMap;
#endif
uniform sampler2D map;
varying vec2 vUv;

void main() {
  gl_FragColor = texture2D(map, vUv);
  #if defined(USE_LUMINANCE)
  gl_FragColor.a = 1.0 - texture2D(luminanceMap, vUv).r;
  #endif
}
`})||this;return eo.depthTest=!1,eo.depthWrite=!1,eo.blending=r$4.NoBlending,eo.map=eo.uniforms.map.value,eo.luminanceMap=eo.uniforms.luminanceMap.value,Object.defineProperties(eo,{map:{get:function(){return this.uniforms.map.value},set:function(to){this.uniforms.map.value=to}},luminanceMap:{get:function(){return this.uniforms.luminanceMap.value},set:function(to){this.uniforms.luminanceMap.value=to,this.defines.USE_LUMINANCE=to!==null,this.needsUpdate=!0}}}),eo}return t$3.__extends(_a,va),_a}(r$4.ShaderMaterial),Kr=function(va){function _a(){var eo=va!==null&&va.apply(this,arguments)||this;return eo.level=0,eo.sideCount=0,eo.col=0,eo.row=0,eo.index=0,eo.type="up",eo}return t$3.__extends(_a,va),_a}(r$4.Box3),qr=function(va){function _a(eo,to){var ro=this,no=new Gr;return no.visible=!1,(ro=va.call(this,Vr,no)||this).position.copy(eo.getCenter(new r$4.Vector3)),ro.quaternion.copy(Rr[eo.type]),ro.scale.setScalar(1/Math.pow(2,eo.level)),ro.level=eo.level,ro.activeTime=-1,ro.disposed=!1,ro.needsRender=!1,ro.frustumCulled=!1,to.then(function(io){var ao=io[0],oo=io[1];ro.disposed?(ao.dispose(),oo==null||oo.dispose()):(ro.material.map=ao,ro.material.luminanceMap=oo,ro.material.needsUpdate=!0,ro.material.visible=!0)}).catch(Pe),ro}return t$3.__extends(_a,va),_a.getBox=function(eo,to,ro){var no=new Kr,io=Math.pow(2,eo),ao=1/io,oo=ro%io,so=Math.floor(ro/io);switch(no.level=eo,no.index=ro,no.sideCount=io,no.row=so,no.col=oo,no.type=to,to){case"up":no.min.y=.5,no.max.y=.5,no.min.x=+oo*ao-.5,no.max.x=+oo*ao-.5+ao,no.min.z=-so*ao+.5-ao,no.max.z=-so*ao+.5;break;case"down":no.min.y=-.5,no.max.y=-.5,no.min.x=+oo*ao-.5,no.max.x=+oo*ao-.5+ao,no.min.z=+so*ao-.5,no.max.z=+so*ao-.5+ao;break;case"left":no.min.x=-.5,no.max.x=-.5,no.min.z=-oo*ao+.5-ao,no.max.z=-oo*ao+.5,no.min.y=-so*ao+.5-ao,no.max.y=-so*ao+.5;break;case"right":no.min.x=.5,no.max.x=.5,no.min.z=+oo*ao-.5,no.max.z=+oo*ao-.5+ao,no.min.y=-so*ao+.5-ao,no.max.y=-so*ao+.5;break;case"front":no.min.z=-.5,no.max.z=-.5,no.min.x=+oo*ao-.5,no.max.x=+oo*ao-.5+ao,no.min.y=-so*ao+.5-ao,no.max.y=-so*ao+.5;break;case"back":no.min.z=.5,no.max.z=.5,no.min.x=-oo*ao+.5-ao,no.max.x=-oo*ao+.5,no.min.y=-so*ao+.5-ao,no.max.y=-so*ao+.5}return no},_a.prototype.updateTime=function(eo){},_a.prototype.dispose=function(){var eo;this.disposed=!0,this.material.map&&(this.material.map.dispose(),(eo=this.material.luminanceMap)===null||eo===void 0||eo.dispose()),this.material.dispose()},_a}(r$4.Mesh),Wr=function(va){function _a(){var eo=va.call(this)||this;return eo.needsRender=!1,eo.name="tiling",eo}return t$3.__extends(_a,va),_a}(r$4.Group),Xr=function(){function va(_a,eo){this.disposed=!1,this.textureLoader=new Ti(_a),this.level=0,this.panoIndex=0,this.tiles=[],this.resource=[],this.luminance=null,this.imageOptions=eo,this.object=new Wr}return va.prototype.setAllowHosts=function(_a){this.textureLoader.setAllowHosts(_a)},va.prototype.setNetworkSubscribe=function(_a){this.textureLoader.setNetworkSubscribe(_a)},va.prototype.cleanup=function(){for(var _a=0;_a<this.tiles.length;_a++)if(this.tiles[_a]){var eo=this.tiles[_a],to="level-group:"+_a,ro=this.object.getObjectByName(to);for(var no in eo){var io=eo[no];io.dispose(),ro.remove(io),delete eo[no],this.object.needsRender=!0}}},va.prototype.setRotation=function(_a){if(!this.disposed){var eo=new r$4.Quaternion().multiplyQuaternions(_a,_r);this.object.quaternion.equals(eo)||(this.object.quaternion.copy(eo),this.object.needsRender=!0)}},va.prototype.setPosition=function(_a){this.disposed||this.object.position.equals(_a)||(this.object.position.copy(_a),this.object.needsRender=!0)},va.prototype.setResource=function(_a){if(!this.disposed&&this.resource!==_a){this.cleanup(),this.resource=_a;for(var eo=0;eo<_a.length;eo++){var to=_a[eo].level;this.tiles[to]={};var ro="level-group:"+to,no=this.object.getObjectByName(ro);no||((no=new r$4.Group).name=ro,no.renderOrder=-2),this.object.add(no)}this.object.needsRender=!0}},va.prototype.setLuminance=function(_a){this.luminance=_a},va.prototype.getTileResources=function(_a){for(var eo,to=(eo=this.imageOptions.size)!==null&&eo!==void 0?eo:2048,ro=[],no=this.resource.length-1;no>=0;no--)this.resource[no].level<=_a&&512*Math.pow(2,this.resource[no].level)>to&&ro.unshift(this.resource[no]);return ro},va.prototype.update=function(_a,eo,to){var ro=this;if(!this.disposed){this.level=eo;var no=new r$4.PerspectiveCamera().copy(_a);no.position.set(0,0,0),no.quaternion.premultiply(this.object.quaternion.clone().inverse()),no.updateMatrixWorld(!0),no.updateProjectionMatrix();for(var io=no.getWorldDirection(new r$4.Vector3),ao=new r$4.Frustum().setFromProjectionMatrix(new r$4.Matrix4().multiplyMatrices(no.projectionMatrix,no.matrixWorldInverse)),oo=this.getTileResources(eo),so=function(mo){if(mo){for(var lo=[],ho=mo.level,yo=Math.pow(2,ho),Ao=yo*yo,Eo=uo.object.getObjectByName("level-group:"+ho),To=0,No=Pr;To<No.length;To++)for(var Co=No[To],Io=0;Io<Ao;Io++){var Mo=qr.getBox(ho,Co,Io);ao.intersectsBox(Mo)&&lo.push(Mo)}lo.sort(function($u,ku){return $u.getCenter(new r$4.Vector3).angleTo(io)-ku.getCenter(new r$4.Vector3).angleTo(io)});for(var wo=[],xo=0,bo=lo;xo<bo.length;xo++){var So=(Mo=bo[xo]).sideCount,Do=Mo.row,Oo=Mo.col,Bo=(Co=Mo.type,"tile-level:".concat(ho,"-face:").concat(Co,"-row:").concat(Do,"-col:").concat(Oo));if(!uo.tiles[ho][Bo]){var $o=mo[Co],Vo=mo.size,Ho=Vo/So,Fo=[Ho*Oo,Ho*Do,Ho,Ho],Ko=t$3.__assign({key:"pano_tile.".concat(uo.panoIndex,".").concat(Co,".").concat(ho,".").concat(Do,".").concat(Oo),basisLoaderInitialized:wi.isInitialized(),cut:Fo},ni(uo.imageOptions,["format"]));ho<=1&&(Ko.format==="jpg"||/\.jpg$/.test($o))?(Ho!==1024&&(Ko.size=1024),Ko.quality=70):Ho!==512&&(Ko.size=512);var $s=uo.imageOptions.transform?uo.imageOptions.transform($o,Ko):ht($o,Ko),au=uo.textureLoader.load($s,{preInit:!0}).then(function($u){return $u.body}),Ks=null;if(uo.luminance){var Gs=uo.luminance[Co],qs=Gs.match(/\/cube_(\d+)\//),lu=!!qs&&Number(qs[1]);if(lu!==!1){var ou=Vo/lu,ru=t$3.__assign(t$3.__assign({},Ko),{size:256,cut:[Fo[0]/ou,Fo[1]/ou,Fo[2]/ou,Fo[3]/ou],key:"pano_tile_luminance.".concat(uo.panoIndex,".").concat(Co,".").concat(ho,".").concat(Do,".").concat(Oo)}),nu=uo.imageOptions.transform?uo.imageOptions.transform(Gs,ru):ht(Gs,ru);Ks=uo.textureLoader.load(nu,{format:r$4.LuminanceFormat,preInit:!0}).then(function($u){return $u.body}).catch(function(){return null})}}(Au=uo.tiles[ho][Bo]=new qr(Mo,Promise.all([au,Ks]))).name=Bo,Au.renderOrder=ho,Eo.add(Au)}uo.tiles[ho][Bo].activeTime=to,wo.push(Bo)}for(var su=0,gu=Object.keys(uo.tiles[ho]).sort(function($u,ku){return ro.tiles[ho][ku].activeTime-ro.tiles[ho][$u].activeTime}).slice(Math.max(24,wo.length));su<gu.length;su++){Bo=gu[su];var Au=uo.tiles[ho][Bo];Eo.remove(Au),Au.dispose(),delete uo.tiles[ho][Bo],uo.object.needsRender=!0}}},uo=this,co=0,fo=oo;co<fo.length;co++)so(fo[co]);for(var po=0;po<this.tiles.length;po++)if(this.tiles[po]){var vo=oo.length>0&&po<=oo[oo.length-1].level;for(var go in this.tiles[po])this.tiles[po][go].visible!==vo&&(this.tiles[po][go].visible=vo,this.tiles[po][go].needsRender=!0),this.tiles[po][go].updateTime(to)}}},va.prototype.dispose=function(){this.cleanup(),this.resource=[],this.disposed=!0},va}(),Zr=new Float32Array([-1,1,1,-1,1,-1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,-1,1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,-1,1,-1,-1,1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,-1,1,-1,-1,1,-1,1,-1,1,1,-1,-1,-1,-1,1,-1,-1]),Jr=new Uint8Array([0,2,1,2,3,1,4,6,5,6,7,5,8,10,9,10,11,9,12,14,13,14,15,13,16,18,17,18,19,17,20,22,21,22,23,21]),$r=new r$4.BufferGeometry;$r.setAttribute("position",new r$4.BufferAttribute(Zr,3)),$r.setIndex(new r$4.BufferAttribute(Jr,1));var es=function(){function va(){this.material=new r$4.ShaderMaterial({vertexShader:`
#if defined(USE_PANO_VIDEO)
varying vec3 worldPosition;
#endif
void main() {
  vec4 transformed = vec4(position, 1.0);
  #if defined(USE_PANO_VIDEO)
  worldPosition = (modelMatrix * transformed).xyz;
  #endif
  gl_Position = projectionMatrix * modelViewMatrix * transformed;
}
`,fragmentShader:`
uniform vec2 size;
uniform mat4 matrix;
uniform float alpha;
uniform sampler2D map;
#if defined(USE_PANO_VIDEO)
varying vec3 worldPosition;
#endif
#include <common>
void main() {
  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
  #if defined(USE_PANO_VIDEO)
  vec3 cameraToVertex = worldPosition - cameraPosition;
  vec4 mapCoods = vec4(cameraToVertex, 1.0) * matrix;
  vec2 uv = vec2(
    0.5 + mapCoods.x / mapCoods.z / size.x,
    0.5 - mapCoods.y / mapCoods.z / size.y
  );
  vec4 videoColor = texture2D(map, uv);
  float match = (1.0 - step(0.0, mapCoods.z)) * (1.0 - step(0.5, abs(uv.x - 0.5))) * (1.0 - step(0.5, abs(uv.y - 0.5)));
  float blendAlpha = clamp(0.0, 1.0, 5.0 * (1.0 - clamp(distance(uv, vec2(0.5, 0.5)) / 0.55 , 0.0, 1.0)));
  gl_FragColor = vec4(videoColor.rgb, match * blendAlpha * alpha);
  #endif
}
`,uniforms:{size:new r$4.Uniform(null),matrix:new r$4.Uniform(null),alpha:new r$4.Uniform(null),map:new r$4.Uniform(null)},depthTest:!1,depthWrite:!1,defines:{USE_PANO_VIDEO:!1},blending:r$4.CustomBlending,blendSrc:r$4.SrcAlphaFactor,blendDst:r$4.OneMinusSrcAlphaFactor,blendSrcAlpha:r$4.OneFactor,blendDstAlpha:r$4.OneMinusSrcAlphaFactor}),this.object=new r$4.Mesh($r,this.material),this.object.visible=!1,this.object.renderOrder=-1,this.object.frustumCulled=!1,this.alphaMotion=new dn({alpha:0})}return va.prototype.setMaterial=function(_a){_a?(this.material.uniforms.size.value=_a.size,this.material.uniforms.matrix.value=_a.matrix,this.material.uniforms.map.value=_a.map,this.alphaMotion.set({alpha:_a.alpha},500).catch(Pe),this.material.uniforms.alpha.value=_a.alpha):(this.material.uniforms.size.value=null,this.material.uniforms.matrix.value=null,this.material.uniforms.map.value=null,this.alphaMotion.set({alpha:0},0).catch(Pe));var eo=_a!==null;eo!==this.material.defines.USE_PANO_VIDEO&&(this.material.defines.USE_PANO_VIDEO=eo,this.material.needsUpdate=!0,this.object.visible=_a!==null)},va.prototype.updateTime=function(_a){this.alphaMotion.ended||(this.alphaMotion.update(_a),this.material.uniforms.alpha.value=this.alphaMotion.value.alpha)},va.prototype.dispose=function(){this.material.dispose()},va}(),ts=new r$4.Matrix4().makeRotationAxis(new r$4.Vector3(0,1,0),Math.PI),is=new r$4.Vector3(-1,1,1),ns=function(va){function _a(eo){var to,ro,no,io,ao,oo,so,uo=this,co=_a.parseArgs(eo);(uo=va.call(this,co)||this).initAnimationed=!1,uo.currentPanoIndex=co.initial[0],uo.maxAccessibleDistance=co.maxAccessibleDistance,uo.panoTapTriggerRadius=co.panoTapTriggerRadius,uo.panoCircleMeshCreator=co.panoCircleMeshCreator,uo.tileLevelForFov=co.tileLevelForFov;var fo=uo.model.getMaterial()||{},po=fo.pano0,vo=fo.pano1;po&&(vo==null?void 0:vo.map)!==po.map&&(uo.model.setMaterial({pano0:vo}),po.map.dispose(),(to=po.luminanceMap)===null||to===void 0||to.dispose()),uo.boundingMesh=uo.generateBoundingMesh(),uo.boundingMesh.setMaterial(uo.model.getMaterial()||{}),uo.boundingMesh.visible=!1,uo.scene.add(uo.boundingMesh),uo.panoMeshes=[],uo.updatePanoMeshes(),uo.locationMotion=new dn({count:0,distance:uo.camera.pose.distance,modelAlpha:(no=(ro=uo.model.getMaterial())===null||ro===void 0?void 0:ro.modelAlpha)!==null&&no!==void 0?no:0,perspToOrtho:(ao=(io=uo.model.getMaterial())===null||io===void 0?void 0:io.perspToOrtho)!==null&&ao!==void 0?ao:0}),uo.panoResources={},uo.panoResources[uo.locationMotion.keyframes[0].key=uo.locationMotion.keyframes[1].key=Xn()]={panoIndex:uo.currentPanoIndex,workCode:uo.work.workCode,panoPicture:(so=(oo=uo.model.getMaterial())===null||oo===void 0?void 0:oo.pano1)!==null&&so!==void 0?so:null,position:uo.camera.pose.offset.clone(),effect:"fly"};var go={allowHosts:uo.work.allowHosts,networkSubscribe:uo.networkSubscribe};return uo.textureLoader=new Ti(go),uo.tiling=new Xr(go,uo.imageOptions),uo.scene.add(uo.tiling.object),uo.panoVideo=new es,uo.scene.add(uo.panoVideo.object),uo}return t$3.__extends(_a,va),_a.parseArgs=function(eo){var to,ro,no,io,ao=va.parseArgs.call(this,eo);return t$3.__assign(t$3.__assign({},ao),{maxAccessibleDistance:(to=eo.maxAccessibleDistance)!==null&&to!==void 0?to:5,panoTapTriggerRadius:(ro=eo.panoTapTriggerRadius)!==null&&ro!==void 0?ro:.5,panoCircleMeshCreator:(no=eo.panoCircleMeshCreator)!==null&&no!==void 0?no:function(){return new _n},tileLevelForFov:(io=eo.tileLevelForFov)!==null&&io!==void 0?io:function(oo,so){var uo=2*Math.atan(Math.tan(oo/180*Math.PI/2)*(so.width/so.height))/Math.PI*180,co=Math.max(so.width/uo,so.height/oo),fo=ao.imageOptions.size;if(fo===void 0&&ao.work.observers[0]){var po=ao.work.observers[0].images.up.match(/\/cube_(\d+)\//);po&&(fo=Number(po[1]))}return fo===void 0&&(fo=2048),fo<8192&&co>40?4:fo<4096&&co>24?3:fo<2048&&co>10?2:fo<1024&&co>6?1:0}})},_a.initAnimationEndPose=function(eo){var to=this.parseArgs(eo);return va.initAnimationEndPose.call(this,to)},_a.prototype.destroy=function(){var eo,to,ro=this;va.prototype.destroy.call(this),this.scene.remove(this.tiling.object),this.tiling.dispose(),this.locationMotion.dispose(),delete this.pendingTextureTask,this.boundingMesh&&(this.scene.remove(this.boundingMesh),this.boundingMesh.dispose()),this.panoMeshes&&(this.panoMeshes.forEach(function(vo){ro.helper.remove(vo),vo.dispose()}),this.panoMeshes.length=0),this.interiaMovement=!1;var no=this.videoTexture.image;no.pause(),no.oncanplay=function(){},no.ontimeupdate=function(){},this.scene.remove(this.panoVideo.object),this.panoVideo.setMaterial(null),this.panoVideo.dispose();for(var io=(eo=this.model.getMaterial())!==null&&eo!==void 0?eo:{},ao=io.pano0,oo=io.pano1,so=0,uo=Object.keys(this.panoResources);so<uo.length;so++){var co=uo[so],fo=this.panoResources[co];if(fo.panoPicture){var po=fo.panoPicture.map;po&&po!==(ao==null?void 0:ao.map)&&po!==(oo==null?void 0:oo.map)&&(po.dispose(),(to=fo.panoPicture.luminanceMap)===null||to===void 0||to.dispose(),fo.panoPicture=null)}delete this.panoResources[co]}},_a.prototype.isReady=function(){return this.locationMotion.ended===!0&&va.prototype.isReady.call(this)},_a.prototype.updateWork=function(eo,to,ro,no,io){var ao=this;this.userAction=io,this.work=eo,this.currentPanoIndex=to,this.textureLoader.setAllowHosts(this.work.allowHosts),this.tiling.setAllowHosts(this.work.allowHosts),this.tiling.cleanup(),this.initAnimationed=!1;var oo={},so=!0;this.boundingMesh&&(oo=this.boundingMesh.getMaterial()||{},so=this.boundingMesh.visible,this.scene.remove(this.boundingMesh),this.boundingMesh.dispose()),this.boundingMesh=this.generateBoundingMesh(!0),this.boundingMesh.visible=so,this.boundingMesh.setMaterial(oo),this.scene.add(this.boundingMesh),this.hideIntersectMesh(),this.updatePanoMeshes();for(var uo=0,co=this.panoMeshes;uo<co.length;uo++)co[uo].visible=!1;return this.moveToPano(to,{effect:"fade",duration:no,longitude:ro.longitude,latitude:ro.latitude,fov:ro.fov,moveEndCallback:function(){ao.initAnimationed=!0},moveCancelCallback:function(){ao.initAnimationed=!0}},io),!0},_a.prototype.updateModel=function(eo){this.model=eo;var to={},ro=!0;this.boundingMesh&&(to=this.boundingMesh.getMaterial()||{},ro=this.boundingMesh.visible,this.scene.remove(this.boundingMesh),this.boundingMesh.dispose()),this.boundingMesh=this.generateBoundingMesh(),this.boundingMesh.visible=ro,this.boundingMesh.name="bounding",this.boundingMesh.setMaterial(to),this.scene.add(this.boundingMesh),this.updatePanoMeshes()},_a.prototype.updateTime=function(eo,to){var ro,no,io,ao,oo,so,uo;if(!this.destroyed){var co={},fo={},po=this.panoResourceFromLocationMotionKeyframe(this.locationMotion.keyframes[0]),vo=this.panoResourceFromLocationMotionKeyframe(this.locationMotion.keyframes[this.locationMotion.keyframes.length-1]);if(this.locationMotion.ended===!1){this.locationMotion.update(eo);var go=this.locationMotion.getKeyFrameSegment(eo),mo=go[0],lo=go[1],ho=this.panoResourceFromLocationMotionKeyframe(mo),yo=this.panoResourceFromLocationMotionKeyframe(lo),Ao=new r$4.Vector3().copy(ho.position),Eo=new r$4.Vector3().copy(yo.position),To=this.locationMotion.value.count-lo.value.count+1;co.modelAlpha=this.locationMotion.value.modelAlpha,co.perspToOrtho=cn(1-10*(1-this.locationMotion.value.perspToOrtho),0,1),co.useBlackTransition=yo.effect==="instant",yo.panoPicture&&(To<1?ho.panoPicture&&(co.pano0=ho.panoPicture):co.pano0=yo.panoPicture,co.pano1=yo.panoPicture),yo.effect==="fade"&&(co.pano0&&ho.panoPicture&&(co.pano0={map:co.pano0.map,luminanceMap:co.pano0.luminanceMap,matrix:ho.panoPicture.matrix.clone().setPosition(yo.position)}),Ao.copy(Eo)),co.progress=To,fo.distance=this.locationMotion.value.distance,fo.offset=new r$4.Vector3(Ao.x+(Eo.x-Ao.x)*To,Ao.y+(Eo.y-Ao.y)*To,Ao.z+(Eo.z-Ao.z)*To);for(var No=[],Co=[],Io=0,Mo=this.locationMotion.keyframes;Io<Mo.length;Io++){var wo=Mo[Io],xo=wo.key,bo=wo.progress;xo!==void 0&&(No.push(xo),bo>=this.locationMotion.progress&&Co.push(xo))}for(var So=0,Do=Object.keys(this.panoResources);So<Do.length;So++){var Oo=Do[So];if(!(Co.indexOf(Oo)>=0)){var Bo=this.panoResources[Oo];if(Bo.panoPicture){var $o=Bo.panoPicture.map;if($o){if($o===((ro=co.pano0)===null||ro===void 0?void 0:ro.map)||$o===((no=co.pano1)===null||no===void 0?void 0:no.map))continue;$o.dispose(),(io=Bo.panoPicture.luminanceMap)===null||io===void 0||io.dispose(),Bo.panoPicture=null}}No.indexOf(Oo)>=0||delete this.panoResources[Oo]}}ho.workCode===yo.workCode?this.currentPanoIndex=To<.5?ho.panoIndex:yo.panoIndex:this.currentPanoIndex=yo.panoIndex,this.emit("movingToPano",vo.panoIndex,po.panoIndex,this.locationMotion.progress)}if(this.cameraMotion.ended===!1&&(this.cameraMotion.update(eo),fo.longitude=this.cameraMotion.value.longitude,fo.latitude=this.cameraMotion.value.latitude,fo.fov=this.cameraMotion.value.fov),dr(co)===!1&&(this.model.setMaterial(co),this.boundingMesh.setMaterial(co)),dr(fo)===!1&&this.setCamera(fo),this.camera.pose.distance>.1)for(var Vo=0;Vo<this.work.observers.length;Vo++)($s=this.panoMeshes[Vo])&&($s.visible=!1);else{var Ho=this.work.observers[this.currentPanoIndex];if(Ho){var Fo=Ho.visibleNodes.concat(this.currentPanoIndex),Ko=this.getForwardPanoIndexOrNot();for(Vo=0;Vo<this.work.observers.length;Vo++){var $s,au=this.work.observers[Vo];if($s=this.panoMeshes[Vo])if(au.loadable||au.active)if(Fo.indexOf(Vo)!==-1){$s.visible=!0;var Ks=$s.position.clone().setY(this.camera.position.y).distanceTo(this.camera.position);$s.setCurrent(Ko===Vo),$s.setOpacity(Ks<.01?0:cn(2/Ks,.5,1)),$s.updateTime&&$s.updateTime(eo,to)}else $s.visible=!1;else $s.visible=!1}}}this.boundingMesh.visible=Boolean((ao=this.boundingMesh.getMaterial())===null||ao===void 0?void 0:ao.pano0)&&this.boundingMesh.boundingBox.containsPoint(this.camera.position);var Gs=this.tiling.object.visible;if(this.tileLevelForFov!==!1&&this.initAnimationed){var qs=vo.panoIndex,lu=this.work.observers[qs];if(lu)if($n(this.camera.position,lu.position)){this.tiling.object.visible=!0,this.enableIOSEDR&&this.tiling.setLuminance((oo=lu.images.luminance)!==null&&oo!==void 0?oo:null),this.tiling.panoIndex!==qs&&this.tiling.cleanup(),this.tiling.panoIndex=qs,this.tiling.setResource((uo=(so=lu.images)===null||so===void 0?void 0:so.tiles)!==null&&uo!==void 0?uo:[]),this.tiling.setRotation(lu.quaternion),this.tiling.setPosition(lu.position);var ou=this.renderer.getSize(new r$4.Vector2);ou.width*=this.scissor.width,ou.height*=this.scissor.height,this.tiling.update(this.camera,this.tileLevelForFov(this.camera.fov,ou),eo)}else this.tiling.object.visible=!1;else this.tiling.object.visible=!1}else this.tiling.object.visible=!1;Gs!==this.tiling.object.visible&&(this.tiling.object.needsRender=!0),this.panoVideo.object.position.copy(this.camera.position),this.panoVideo.updateTime(eo)}},_a.prototype.render=function(eo){var to=this.work.observers[this.currentPanoIndex];to&&to.video&&(this.needsRender=!0),va.prototype.render.call(this,eo)},_a.prototype.postProcessing=function(eo,to,ro){if(!this.destroyed)return this.effect||(this.effect=new kr(this.renderer)),this.effect.render(eo,to,ro)},_a.prototype.getTargetPose=function(){var eo=this.cameraMotion.getKeyFrameSegment(Re())[1],to=this.locationMotion.getKeyFrameSegment(Re())[1],ro=this.panoResourceFromLocationMotionKeyframe(to),no=this.work.observers[ro.panoIndex];return{longitude:eo.value.longitude,latitude:eo.value.latitude,fov:eo.value.fov,offset:no?no.position.clone():this.camera.position.clone()}},_a.prototype.moveToPano=function(eo,to,ro){var no,io,ao,oo=this,so=this.work.observers[eo],uo=t$3.__assign({key:"pano.".concat(eo),basisLoaderInitialized:wi.isInitialized()},ni(this.imageOptions,["format","size","quality"])),co=(no=this.imageOptions.transform)!==null&&no!==void 0?no:ht,fo={right:co(so.images.right,t$3.__assign(t$3.__assign({},uo),{key:"".concat(uo.key,".right")})),left:co(so.images.left,t$3.__assign(t$3.__assign({},uo),{key:"".concat(uo.key,".left")})),up:co(so.images.up,t$3.__assign(t$3.__assign({},uo),{key:"".concat(uo.key,".up")})),down:co(so.images.down,t$3.__assign(t$3.__assign({},uo),{key:"".concat(uo.key,".down")})),front:co(so.images.front,t$3.__assign(t$3.__assign({},uo),{key:"".concat(uo.key,".front")})),back:co(so.images.back,t$3.__assign(t$3.__assign({},uo),{key:"".concat(uo.key,".back")}))},po={key:"pano_luminance.".concat(eo),basisLoaderInitialized:wi.isInitialized(),size:uo.size?uo.size/2:1024},vo=this.enableIOSEDR&&so.images.luminance?{right:co(so.images.luminance.right,t$3.__assign(t$3.__assign({},po),{key:"".concat(po.key,".right")})),left:co(so.images.luminance.left,t$3.__assign(t$3.__assign({},po),{key:"".concat(po.key,".left")})),up:co(so.images.luminance.up,t$3.__assign(t$3.__assign({},po),{key:"".concat(po.key,".up")})),down:co(so.images.luminance.down,t$3.__assign(t$3.__assign({},po),{key:"".concat(po.key,".down")})),front:co(so.images.luminance.front,t$3.__assign(t$3.__assign({},po),{key:"".concat(po.key,".front")})),back:co(so.images.luminance.back,t$3.__assign(t$3.__assign({},po),{key:"".concat(po.key,".back")}))}:null,go="pano:"+Cr(fo);if(this.pendingTextureTask){if(this.pendingTextureTask.hash===go)return;var mo=this.pendingTextureTask.panoIndex;(io=this.panoMeshes[mo])===null||io===void 0||io.setProgress(0),this.emit("textureAbort",mo,so),this.pendingTextureTask.onError(new Error("texture aborted"))}var lo,ho=this.model.getMaterial()||{},yo=ho.pano0,Ao=ho.pano1;if(yo&&yo.map.name===go&&yo.luminanceMap!==null===this.enableIOSEDR?lo=yo:(Ao==null?void 0:Ao.map.name)===go&&Ao.luminanceMap!==null===this.enableIOSEDR&&(lo=Ao),lo){var Eo={panoIndex:eo,workCode:this.work.workCode,effect:(ao=to.effect)!==null&&ao!==void 0?ao:"fly",panoPicture:{map:lo.map,luminanceMap:lo.luminanceMap,matrix:new r$4.Matrix4().compose(so.position,so.quaternion,is)},position:so.position.clone()};this.doMoveToPano(eo,Eo,to,ro)}else{this.pending=!0,this.pendingTextureTask={panoIndex:eo,hash:go,onLoad:function(No,Co){var Io,Mo;if(oo.pending=!1,oo.destroyed)No.body.dispose();else{No.body.name=go,oo.emit("panoLoaded",eo);var wo={panoIndex:eo,workCode:oo.work.workCode,effect:(Io=to.effect)!==null&&Io!==void 0?Io:"fly",panoPicture:{map:No.body,luminanceMap:(Mo=Co==null?void 0:Co.body)!==null&&Mo!==void 0?Mo:null,matrix:new r$4.Matrix4().compose(so.position,so.quaternion,is)},position:so.position.clone()};oo.doMoveToPano(eo,wo,to,ro)}},onError:function(No){oo.pending=!1,to.moveCancelCallback&&to.moveCancelCallback(),oo.emit("panoLoadError",No,eo),oo.emit("moveToPanoCanceled",eo)}};var To=this.panoMeshes[eo];To&&To.tap&&To.tap(),Promise.all([this.textureLoader.loadCube(fo,{format:r$4.RGBFormat,viaAjax:!0},void 0,void 0,function(No){var Co,Io;oo.emit("textureLoading",No,eo,so),((Co=oo.pendingTextureTask)===null||Co===void 0?void 0:Co.hash)===go&&((Io=oo.panoMeshes[eo])===null||Io===void 0||Io.setProgress(No))},this.renderer),vo?this.textureLoader.loadCube(vo,{format:r$4.LuminanceFormat}).catch(function(){return null}):Promise.resolve(null)]).then(function(No){var Co,Io,Mo=No[0],wo=No[1];((Co=oo.pendingTextureTask)===null||Co===void 0?void 0:Co.hash)===go?(oo.pendingTextureTask.onLoad(Mo,wo),(Io=oo.panoMeshes[eo])===null||Io===void 0||Io.setProgress(0),delete oo.pendingTextureTask,oo.emit("textureLoaded",eo,so,Mo.meta)):(Mo.body.dispose(),wo==null||wo.body.dispose())}).catch(function(No){var Co,Io;((Co=oo.pendingTextureTask)===null||Co===void 0?void 0:Co.hash)===go&&(oo.pendingTextureTask.onError(No),(Io=oo.panoMeshes[eo])===null||Io===void 0||Io.setProgress(0),delete oo.pendingTextureTask,oo.emit("textureError",No,eo,so),oo.emit("error",No))}),this.emit("textureStartLoad",eo,so)}},_a.prototype.initAnimation=function(eo,to,ro,no){var io,ao,oo,so=this;if(!this.destroyed){var uo=!1;this.pending=!1,this.userAction=no,this.moveToPano(eo,{longitude:(io=to.longitude)!==null&&io!==void 0?io:this.defaultLongitude,latitude:cn((ao=to.latitude)!==null&&ao!==void 0?ao:this.defaultLatitude,this.minLatitude,this.maxLatitude),fov:cn((oo=to.fov)!==null&&oo!==void 0?oo:this.defaultFov,this.minFov,this.maxFov),duration:ro,moveStartCallback:function(co,fo){uo=!0,so.emit("initAnimationWillStart",co,fo,so.userAction)},moveEndCallback:function(co,fo){so.emit("initAnimationEnded",co,fo,so.userAction),so.initAnimationed=!0},moveCancelCallback:function(){var co={longitude:so.camera.pose.longitude,latitude:so.camera.pose.latitude,fov:so.camera.pose.fov,offset:so.camera.pose.offset.clone()};uo===!1&&so.emit("initAnimationWillStart",so.currentPanoIndex,co,so.userAction),so.emit("initAnimationEnded",so.currentPanoIndex,co,so.userAction),so.initAnimationed=!0}},no)}},_a.prototype.panoResourceFromLocationMotionKeyframe=function(eo){return this.panoResources[eo.key]},_a.prototype.locationMotionKeyframesLength=function(eo){for(var to=0,ro=1;ro<eo.length;ro++){var no=this.panoResourceFromLocationMotionKeyframe(eo[ro-1]).position,io=this.panoResourceFromLocationMotionKeyframe(eo[ro]).position;to+=no.distanceTo(io)*(eo[ro].value.count-eo[ro-1].value.count)}return to},_a.prototype.updatePanoMeshes=function(eo){eo===void 0&&(eo=!0);for(var to={},ro=0,no=this.panoMeshes;ro<no.length;ro++)to[(so=no[ro]).name]=so;this.panoMeshes.length=0;for(var io=0;io<this.work.observers.length;io++){var ao="panoCircle_".concat(this.work.workCode,"_").concat(io),oo=this.work.observers[io],so=void 0;if(to[ao]?(so=to[ao],delete to[ao]):((so=this.panoCircleMeshCreator()).name=ao,this.helper.add(so)),so.position.copy(oo.standingPosition),eo&&this.model.loaded&&this.model.bvhs.loaded){var uo=new r$4.Vector3(0,-1,0),co=new r$4.Vector3(0,.1,0).add(so.position),fo=new r$4.Raycaster(co,uo,0,.1),po=this.model.intersectRaycaster(fo)[0];po&&po.point.distanceTo(so.position)>.01&&so.position.copy(po.point)}this.panoMeshes[io]=so}for(var vo=0,go=Object.keys(to);vo<go.length;vo++){var mo=go[vo];this.helper.remove(to[mo]),to[mo].dispose(),delete to[mo]}},_a.prototype.generateBoundingMesh=function(eo){eo===void 0&&(eo=!1);for(var to=this.model.bounding.clone(),ro=0,no=this.work.observers;ro<no.length;ro++){var io=no[ro];to.expandByPoint(io.standingPosition),to.expandByPoint(new r$4.Vector3().fromArray([io.position.x,2*io.position.y-io.standingPosition.y,io.position.z]))}eo&&to.expandByPoint(this.camera.position);var ao=nr(to,new r$4.Vector3(1,0,1));return ao.name="panorama_bounding",ao},_a.prototype.doMoveToPano=function(eo,to,ro,no){var io,ao,oo,so=this;ro===void 0&&(ro={}),this.userAction=no;var uo=Re(),co=Xn();this.tiling.cleanup(),this.panoResources[co]=to;var fo,po,vo;if(this.locationMotion.ended){var go=this.locationMotion.getKeyFrameSegment(uo);go[0];var mo=go[1],lo=this.locationMotion.value,ho=this.panoResourceFromLocationMotionKeyframe(mo).position,yo=to.position;fo=Math.max(ho.distanceTo(yo),1),po=[{key:mo.key,progress:0,value:t$3.__assign(t$3.__assign({},lo),{count:0})},{key:co,progress:1,value:{distance:0,perspToOrtho:0,modelAlpha:0,count:1}}],vo=0}else{var Ao=this.locationMotion.getKeyFrameSegment(uo),Eo=Ao[0],To=(mo=Ao[1],lo=this.locationMotion.value,this.panoResourceFromLocationMotionKeyframe(Eo).position),No=(ho=this.panoResourceFromLocationMotionKeyframe(mo).position,yo=to.position,mo.value.count-lo.count),Co=Math.max(To.distanceTo(ho),1)*No;fo=Co+Math.max(ho.distanceTo(yo),1),po=[{key:Eo.key,progress:0,value:t$3.__assign({},lo)},{key:mo.key,progress:Co/fo,value:mo.value},{key:co,progress:1,value:{count:mo.value.count+1,distance:0,perspToOrtho:0,modelAlpha:0}}];var Io=this.locationMotionKeyframesLength(this.locationMotion.keyframes),Mo=this.locationMotionKeyframesLength(po);vo=this.locationMotion.getProgressVelocity(uo)*Io/Mo}var wo=this.calculateMovingDuration(ro.duration,fo),xo={longitude:ro.longitude,latitude:ro.latitude,fov:ro.fov},bo={longitude:(io=xo.longitude)!==null&&io!==void 0?io:this.camera.pose.longitude,latitude:(ao=xo.latitude)!==null&&ao!==void 0?ao:this.camera.pose.latitude,fov:(oo=xo.fov)!==null&&oo!==void 0?oo:this.camera.pose.fov,offset:to.position.clone()};ro.moveStartCallback&&ro.moveStartCallback(eo,bo),this.emit("panoWillArrive",eo,bo,this.userAction),this.videoTexture&&this.videoTexture.image instanceof HTMLVideoElement&&this.videoTexture.image.getAttribute("src")&&(this.videoTexture.image.pause(),this.videoTexture.image.removeAttribute("uuid"),this.videoTexture.image.removeAttribute("src"),this.videoTexture.image.oncanplay=Pe,this.videoTexture.needsUpdate=!0),this.panoVideo.setMaterial(null),this.cameraMotion.set(xo,wo).catch(Pe),this.locationMotion.setKeyframes(po,wo,vo).then(function(){var So,Do,Oo,Bo={longitude:so.camera.pose.longitude,latitude:so.camera.pose.latitude,fov:so.camera.pose.fov,offset:so.camera.pose.offset.clone()};ro.moveEndCallback&&ro.moveEndCallback(eo,Bo),so.emit("panoArrived",eo,Bo,no);var $o=so.work.observers[so.currentPanoIndex];if($o&&$o.video&&so.videoTexture&&so.videoTexture.image instanceof HTMLVideoElement){var Vo=ts.clone().multiply((Oo=(Do=(So=so.model.getMaterial())===null||So===void 0?void 0:So.pano1)===null||Do===void 0?void 0:Do.matrix)!==null&&Oo!==void 0?Oo:new r$4.Matrix4).multiply($o.video.matrix),Ho={map:so.videoTexture,size:$o.video.size,matrix:Vo,alpha:1},Fo=Xn(),Ko=so.videoTexture.image;Ko.setAttribute("uuid",Fo),(br||(br=new Promise(function($s){var au,Ks=document.createElement("video");Ks.muted=!0,Ks.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",Ks.addEventListener("timeupdate",function Gs(){Ks.removeEventListener("timeupdate",Gs,!1),clearTimeout(au);var qs=document.createElement("canvas");qs.width=qs.height=1;var lu=qs.getContext("2d");lu?(lu.drawImage(Ks,0,0,1,1),lu.getImageData(0,0,1,1).data[3]>10?$s(!0):$s(!1)):$s(!1)},!1),Ks.addEventListener("canplay",function Gs(){Ks.removeEventListener("canplay",Gs,!1),Ks.play()},!1),au=window.setTimeout(function(){return $s(!1)},1e3)}))).then(function($s){$s&&$o.video&&Ko.getAttribute("uuid")===Fo&&(Ko.oncanplay=function(){Ko.oncanplay=Pe,Ko.play()},Ko.ontimeupdate=function(){Ko.currentTime>.5&&(Ko.ontimeupdate=Pe,so.panoVideo.setMaterial(Ho))},Ko.src=$o.video.source)}).catch(function(){Ko.removeAttribute("uuid")})}},function(){ro.moveCancelCallback&&ro.moveCancelCallback(),so.emit("moveToPanoCanceled",eo)})},_a.prototype.getForwardPanoIndexOrNot=function(eo){var to=this,ro=this.camera.getWorldDirection(new r$4.Vector3),no=this.camera.position.clone(),io=this.work.observers[this.currentPanoIndex];if(!io)return null;var ao=io.accessibleNodes.filter(function(lo){if(lo===to.currentPanoIndex)return!1;var ho=to.work.observers[lo],yo=ho.standingPosition.clone().sub(no);return yo.length()!==0&&!(yo.angleTo(new r$4.Vector3(0,-1,0))<Math.PI/12)&&(ho.loadable||ho.active)}),oo=(eo?eo.ray.direction.clone():ro.clone()).setY(0);if(oo.length()===0)return null;for(var so=ao.slice().sort(function(lo,ho){var yo=to.work.observers[lo].position.clone().setY(no.y),Ao=to.work.observers[ho].position.clone().setY(no.y);return yo.distanceTo(no)-Ao.distanceTo(no)}),uo=0,co=[Math.PI/8,Math.PI/6,Math.PI/4,Math.PI/3];uo<co.length;uo++)for(var fo=co[uo],po=0,vo=so;po<vo.length;po++){var go=vo[po],mo=this.work.observers[go].position.clone().setY(no.y).sub(no);if(mo.length()!==0&&oo.angleTo(mo)<fo)return go}return null},_a.prototype.onTapGesture=function(eo){var to=this,ro=eo.pointers.map(function(Bo){return ni(Bo,["x","y"])});if(!this.emit("wantsGesture","tap",ro,!0)){var no=this.relativeClientPosition(eo.center),io=new r$4.Raycaster;if(io.setFromCamera(no,this.camera),!this.emit("wantsTapGesture",io,no,!0)){this.emit("gesture","tap",ro,!0),this.emit("tapGesture",io,no,!0),this.interiaMovement=!1;var ao=this.camera.getWorldDirection(new r$4.Vector3).setY(0),oo=null,so=this.work.observers[this.currentPanoIndex];if(so){var uo=so.accessibleNodes.filter(function(Bo){if(Bo===to.currentPanoIndex)return!1;var $o=to.work.observers[Bo];return!($o.position.distanceTo(to.camera.position)>to.maxAccessibleDistance)&&($o.loadable||$o.active)}),co=this.model.intersectRaycaster(io)[0];if(co){var fo=hr(uo,function(Bo){var $o=to.work.observers[Bo].standingPosition.clone();return $o.clone().sub(to.camera.position).setY(0).angleTo(ao)>Math.PI/2?1/0:$o.distanceTo(co.point)},!0),po=fo[0];fo[1]<this.panoTapTriggerRadius&&(oo=po)}Vi(oo)&&(oo=this.getForwardPanoIndexOrNot(io));for(var vo=0,go=this.locationMotion.keyframes;vo<go.length;vo++){var mo=go[vo],lo=this.panoResourceFromLocationMotionKeyframe(mo);if(!(mo.progress<this.locationMotion.progress)&&lo.panoIndex===oo){oo=null;break}}if(this.emit("panoSelected",oo),Vi(oo))this.locationMotion.ended===!0&&this.cameraBounce();else{var ho=this.work.observers[oo];if(ho.active){for(var yo={},Ao=Math.PI/6,Eo=Math.PI/12,To=new r$4.Vector3(0,1,0),No=ho.position.clone().setY(0).sub(so.position.clone().setY(0)).normalize(),Co=No.clone().applyAxisAngle(To,Ao),Io=No.clone().applyAxisAngle(To,-Ao),Mo=[],wo=[],xo=[],bo=0,So=ho.accessibleNodes;bo<So.length;bo++)if((po=So[bo])!==this.currentPanoIndex&&po!==oo){var Do=this.work.observers[po].position.clone().sub(ho.position).setY(0);No.angleTo(Do)<Ao?xo.push(Do):Co.angleTo(Do)<Ao?Mo.push(Do):Io.angleTo(Do)<Ao&&wo.push(Do)}var Oo=(xo.length>0?xo:t$3.__spreadArray(t$3.__spreadArray([],Mo,!0),wo,!0)).slice().sort(function(Bo,$o){return Bo.angleTo(No)-$o.angleTo(No)})[0];Oo&&Oo.angleTo(ao)>Eo&&(yo.longitude=Math.atan2(-Oo.x,-Oo.z)),this.cameraMotion.value.latitude<-Math.PI/4&&(yo.latitude=cn(0,this.minLatitude,this.maxLatitude)),this.cameraMotion.value.fov<60&&(yo.fov=this.defaultFov),this.emit("wantsMoveToPano",oo,yo,!0)}else this.panoMeshes[oo]&&(this.panoMeshes[oo].setDisabled(!1),this.panoMeshes[oo].setLoading(!0))}}}}},_a}(Sr),rs=function(va,_a){var eo=va!==void 0?va:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function to(vo){return vo&&vo.__esModule&&Object.prototype.hasOwnProperty.call(vo,"default")?vo.default:vo}function ro(vo,go){return vo(go={exports:{}},go.exports),go.exports}var no=function(){return/Android/i.test(_a.userAgent)||/iPhone|iPad|iPod/i.test(_a.userAgent)},io=function(vo,go){for(var mo=0,lo=vo.length;mo<lo;mo++)go[mo]=vo[mo]},ao=function(vo,go){for(var mo in go)go.hasOwnProperty(mo)&&(vo[mo]=go[mo]);return vo},oo=to(ro(function(vo,go){/**
         * @license
         * cardboard-vr-display
         * Copyright (c) 2015-2017 Google
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         * http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         *//**
         * @license
         * gl-preserve-state
         * Copyright (c) 2016, Brandon Jones.
         *
         * Permission is hereby granted, free of charge, to any person obtaining a copy
         * of this software and associated documentation files (the "Software"), to deal
         * in the Software without restriction, including without limitation the rights
         * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
         * copies of the Software, and to permit persons to whom the Software is
         * furnished to do so, subject to the following conditions:
         *
         * The above copyright notice and this permission notice shall be included in
         * all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
         * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
         * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
         * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
         * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
         * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
         * THE SOFTWARE.
         *//**
         * @license
         * webvr-polyfill-dpdb
         * Copyright (c) 2015-2017 Google
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         * http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         *//**
         * @license
         * nosleep.js
         * Copyright (c) 2017, Rich Tibbett
         *
         * Permission is hereby granted, free of charge, to any person obtaining a copy
         * of this software and associated documentation files (the "Software"), to deal
         * in the Software without restriction, including without limitation the rights
         * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
         * copies of the Software, and to permit persons to whom the Software is
         * furnished to do so, subject to the following conditions:
         *
         * The above copyright notice and this permission notice shall be included in
         * all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
         * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
         * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
         * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
         * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
         * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
         * THE SOFTWARE.
         */(function(mo,lo){vo.exports=lo()})(0,function(){var mo,lo=function(_o,Lo){if(!(_o instanceof Lo))throw new TypeError("Cannot call a class as a function")},ho=function(){function _o(Lo,zo){for(var jo=0;jo<zo.length;jo++){var Wo=zo[jo];Wo.enumerable=Wo.enumerable||!1,Wo.configurable=!0,"value"in Wo&&(Wo.writable=!0),Object.defineProperty(Lo,Wo.key,Wo)}}return function(Lo,zo,jo){return zo&&_o(Lo.prototype,zo),jo&&_o(Lo,jo),Lo}}(),yo=function(){function _o(Lo,zo){var jo=[],Wo=!0,Xo=!1,Zs=void 0;try{for(var fu,vu=Lo[Symbol.iterator]();!(Wo=(fu=vu.next()).done)&&(jo.push(fu.value),!zo||jo.length!==zo);Wo=!0);}catch(Js){Xo=!0,Zs=Js}finally{try{!Wo&&vu.return&&vu.return()}finally{if(Xo)throw Zs}}return jo}return function(Lo,zo){if(Array.isArray(Lo))return Lo;if(Symbol.iterator in Object(Lo))return _o(Lo,zo);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ao=.001,Eo=1,To=function(_o,Lo){return"data:"+_o+","+encodeURIComponent(Lo)},No=function(_o,Lo,zo){return _o+(Lo-_o)*zo},Co=function(){var _o=/iPad|iPhone|iPod/.test(_a.platform);return function(){return _o}}(),Io=function(){var _o=_a.userAgent.indexOf("Version")!==-1&&_a.userAgent.indexOf("Android")!==-1&&_a.userAgent.indexOf("Chrome")!==-1;return function(){return _o}}(),Mo=function(){var _o=/^((?!chrome|android).)*safari/i.test(_a.userAgent);return function(){return _o}}(),wo=function(){var _o=_a.userAgent.indexOf("Firefox")!==-1&&_a.userAgent.indexOf("Android")!==-1;return function(){return _o}}(),xo=function(){var _o=_a.userAgent.match(/.*Chrome\/([0-9]+)/),Lo=_o?parseInt(_o[1],10):null;return function(){return Lo}}(),bo=function(){var _o=!1;return _o=Co()&&Mo()&&_a.userAgent.indexOf("13_4")!==-1,function(){return _o}}(),So=function(){var _o=!1;if(xo()===65){var Lo=_a.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(Lo){var zo=Lo[1].split("."),jo=yo(zo,4);jo[0],jo[1];var Wo=jo[2],Xo=jo[3];_o=parseInt(Wo,10)===3325&&parseInt(Xo,10)<148}}return function(){return _o}}(),Do=function(){var _o=_a.userAgent.indexOf("R7 Build")!==-1;return function(){return _o}}(),Oo=function(){var _o=va.orientation==90||va.orientation==-90;return Do()?!_o:_o},Bo=function(_o){return!(isNaN(_o)||_o<=Ao||_o>Eo)},$o=function(){return Math.max(va.screen.width,va.screen.height)*va.devicePixelRatio},Vo=function(){return Math.min(va.screen.width,va.screen.height)*va.devicePixelRatio},Ho=function(_o){if(Io())return!1;if(_o.requestFullscreen)_o.requestFullscreen();else if(_o.webkitRequestFullscreen)_o.webkitRequestFullscreen();else if(_o.mozRequestFullScreen)_o.mozRequestFullScreen();else{if(!_o.msRequestFullscreen)return!1;_o.msRequestFullscreen()}return!0},Fo=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},Ko=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},$s=function(_o,Lo,zo,jo){var Wo=_o.createShader(_o.VERTEX_SHADER);_o.shaderSource(Wo,Lo),_o.compileShader(Wo);var Xo=_o.createShader(_o.FRAGMENT_SHADER);_o.shaderSource(Xo,zo),_o.compileShader(Xo);var Zs=_o.createProgram();for(var fu in _o.attachShader(Zs,Wo),_o.attachShader(Zs,Xo),jo)_o.bindAttribLocation(Zs,jo[fu],fu);return _o.linkProgram(Zs),_o.deleteShader(Wo),_o.deleteShader(Xo),Zs},au=function(_o,Lo){for(var zo={},jo=_o.getProgramParameter(Lo,_o.ACTIVE_UNIFORMS),Wo="",Xo=0;Xo<jo;Xo++)zo[Wo=_o.getActiveUniform(Lo,Xo).name.replace("[0]","")]=_o.getUniformLocation(Lo,Wo);return zo},Ks=function(_o,Lo,zo,jo,Wo,Xo,Zs){var fu=1/(Lo-zo),vu=1/(jo-Wo),Js=1/(Xo-Zs);return _o[0]=-2*fu,_o[1]=0,_o[2]=0,_o[3]=0,_o[4]=0,_o[5]=-2*vu,_o[6]=0,_o[7]=0,_o[8]=0,_o[9]=0,_o[10]=2*Js,_o[11]=0,_o[12]=(Lo+zo)*fu,_o[13]=(Wo+jo)*vu,_o[14]=(Zs+Xo)*Js,_o[15]=1,_o},Gs=function(){var _o,Lo=!1;return _o=_a.userAgent||_a.vendor||va.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(_o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(_o.substr(0,4)))&&(Lo=!0),Lo},qs=function(_o,Lo){for(var zo in Lo)Lo.hasOwnProperty(zo)&&(_o[zo]=Lo[zo]);return _o},lu=function(_o){if(Co()){var Lo=_o.style.width,zo=_o.style.height;_o.style.width=parseInt(Lo)+1+"px",_o.style.height=parseInt(zo)+"px",setTimeout(function(){_o.style.width=Lo,_o.style.height=zo},100)}va.canvas=_o},ou=function(){var _o=Math.PI/180,Lo=.25*Math.PI;function zo(Js,eu,Lu,Fu){var Wu=Math.tan(eu?eu.upDegrees*_o:Lo),qu=Math.tan(eu?eu.downDegrees*_o:Lo),Ku=Math.tan(eu?eu.leftDegrees*_o:Lo),Zu=Math.tan(eu?eu.rightDegrees*_o:Lo),Po=2/(Ku+Zu),ko=2/(Wu+qu);return Js[0]=Po,Js[1]=0,Js[2]=0,Js[3]=0,Js[4]=0,Js[5]=ko,Js[6]=0,Js[7]=0,Js[8]=-(Ku-Zu)*Po*.5,Js[9]=(Wu-qu)*ko*.5,Js[10]=Fu/(Lu-Fu),Js[11]=-1,Js[12]=0,Js[13]=0,Js[14]=Fu*Lu/(Lu-Fu),Js[15]=0,Js}function jo(Js,eu,Lu){var Fu=eu[0],Wu=eu[1],qu=eu[2],Ku=eu[3],Zu=Fu+Fu,Po=Wu+Wu,ko=qu+qu,qo=Fu*Zu,Ws=Fu*Po,hu=Fu*ko,xu=Wu*Po,Hu=Wu*ko,nl=qu*ko,il=Ku*Zu,ol=Ku*Po,vl=Ku*ko;return Js[0]=1-(xu+nl),Js[1]=Ws+vl,Js[2]=hu-ol,Js[3]=0,Js[4]=Ws-vl,Js[5]=1-(qo+nl),Js[6]=Hu+il,Js[7]=0,Js[8]=hu+ol,Js[9]=Hu-il,Js[10]=1-(qo+xu),Js[11]=0,Js[12]=Lu[0],Js[13]=Lu[1],Js[14]=Lu[2],Js[15]=1,Js}function Wo(Js,eu,Lu){var Fu,Wu,qu,Ku,Zu,Po,ko,qo,Ws,hu,xu,Hu,nl=Lu[0],il=Lu[1],ol=Lu[2];return eu===Js?(Js[12]=eu[0]*nl+eu[4]*il+eu[8]*ol+eu[12],Js[13]=eu[1]*nl+eu[5]*il+eu[9]*ol+eu[13],Js[14]=eu[2]*nl+eu[6]*il+eu[10]*ol+eu[14],Js[15]=eu[3]*nl+eu[7]*il+eu[11]*ol+eu[15]):(Fu=eu[0],Wu=eu[1],qu=eu[2],Ku=eu[3],Zu=eu[4],Po=eu[5],ko=eu[6],qo=eu[7],Ws=eu[8],hu=eu[9],xu=eu[10],Hu=eu[11],Js[0]=Fu,Js[1]=Wu,Js[2]=qu,Js[3]=Ku,Js[4]=Zu,Js[5]=Po,Js[6]=ko,Js[7]=qo,Js[8]=Ws,Js[9]=hu,Js[10]=xu,Js[11]=Hu,Js[12]=Fu*nl+Zu*il+Ws*ol+eu[12],Js[13]=Wu*nl+Po*il+hu*ol+eu[13],Js[14]=qu*nl+ko*il+xu*ol+eu[14],Js[15]=Ku*nl+qo*il+Hu*ol+eu[15]),Js}function Xo(Js,eu){var Lu=eu[0],Fu=eu[1],Wu=eu[2],qu=eu[3],Ku=eu[4],Zu=eu[5],Po=eu[6],ko=eu[7],qo=eu[8],Ws=eu[9],hu=eu[10],xu=eu[11],Hu=eu[12],nl=eu[13],il=eu[14],ol=eu[15],vl=Lu*Zu-Fu*Ku,Sl=Lu*Po-Wu*Ku,Dl=Lu*ko-qu*Ku,Nl=Fu*Po-Wu*Zu,Il=Fu*ko-qu*Zu,Cl=Wu*ko-qu*Po,Ll=qo*nl-Ws*Hu,Bl=qo*il-hu*Hu,Ol=qo*ol-xu*Hu,zl=Ws*il-hu*nl,Pl=Ws*ol-xu*nl,Rl=hu*ol-xu*il,yl=vl*Rl-Sl*Pl+Dl*zl+Nl*Ol-Il*Bl+Cl*Ll;return yl?(yl=1/yl,Js[0]=(Zu*Rl-Po*Pl+ko*zl)*yl,Js[1]=(Wu*Pl-Fu*Rl-qu*zl)*yl,Js[2]=(nl*Cl-il*Il+ol*Nl)*yl,Js[3]=(hu*Il-Ws*Cl-xu*Nl)*yl,Js[4]=(Po*Ol-Ku*Rl-ko*Bl)*yl,Js[5]=(Lu*Rl-Wu*Ol+qu*Bl)*yl,Js[6]=(il*Dl-Hu*Cl-ol*Sl)*yl,Js[7]=(qo*Cl-hu*Dl+xu*Sl)*yl,Js[8]=(Ku*Pl-Zu*Ol+ko*Ll)*yl,Js[9]=(Fu*Ol-Lu*Pl-qu*Ll)*yl,Js[10]=(Hu*Il-nl*Dl+ol*vl)*yl,Js[11]=(Ws*Dl-qo*Il-xu*vl)*yl,Js[12]=(Zu*Bl-Ku*zl-Po*Ll)*yl,Js[13]=(Lu*zl-Fu*Bl+Wu*Ll)*yl,Js[14]=(nl*Sl-Hu*Nl-il*vl)*yl,Js[15]=(qo*Nl-Ws*Sl+hu*vl)*yl,Js):null}var Zs=new Float32Array([0,0,0,1]),fu=new Float32Array([0,0,0]);function vu(Js,eu,Lu,Fu,Wu,qu){zo(Js,Fu||null,qu.depthNear,qu.depthFar),jo(eu,Lu.orientation||Zs,Lu.position||fu),Wu&&Wo(eu,eu,Wu),Xo(eu,eu)}return function(Js,eu,Lu){return!(!Js||!eu||(Js.pose=eu,Js.timestamp=eu.timestamp,vu(Js.leftProjectionMatrix,Js.leftViewMatrix,eu,Lu._getFieldOfView("left"),Lu._getEyeOffset("left"),Lu),vu(Js.rightProjectionMatrix,Js.rightViewMatrix,eu,Lu._getFieldOfView("right"),Lu._getEyeOffset("right"),Lu),0))}}(),ru=function(){var _o=va.self!==va.top,Lo=nu(document.referrer),zo=nu(va.location.href);return _o&&Lo!==zo},nu=function(_o){var Lo,zo=_o.indexOf("://");Lo=zo!==-1?zo+3:0;var jo=_o.indexOf("/",Lo);return jo===-1&&(jo=_o.length),_o.substring(0,jo)},su=function(_o){return _o.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(_o.w)},gu=(mo={},function(_o,Lo){mo[_o]===void 0&&(console.warn("webvr-polyfill: "+Lo),mo[_o]=!0)}),Au=function(_o,Lo){gu(_o,_o+" has been deprecated. This may not work on native WebVR displays. "+(Lo?"Please use "+Lo+" instead.":""))};function $u(_o,Lo,zo){if(Lo){for(var jo=[],Wo=null,Xo=0;Xo<Lo.length;++Xo)switch(Zs=Lo[Xo]){case _o.TEXTURE_BINDING_2D:case _o.TEXTURE_BINDING_CUBE_MAP:if((vu=Lo[++Xo])<_o.TEXTURE0||vu>_o.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),jo.push(null,null);break}Wo||(Wo=_o.getParameter(_o.ACTIVE_TEXTURE)),_o.activeTexture(vu),jo.push(_o.getParameter(Zs),null);break;case _o.ACTIVE_TEXTURE:Wo=_o.getParameter(_o.ACTIVE_TEXTURE),jo.push(null);break;default:jo.push(_o.getParameter(Zs))}for(zo(_o),Xo=0;Xo<Lo.length;++Xo){var Zs=Lo[Xo],fu=jo[Xo];switch(Zs){case _o.ACTIVE_TEXTURE:break;case _o.ARRAY_BUFFER_BINDING:_o.bindBuffer(_o.ARRAY_BUFFER,fu);break;case _o.COLOR_CLEAR_VALUE:_o.clearColor(fu[0],fu[1],fu[2],fu[3]);break;case _o.COLOR_WRITEMASK:_o.colorMask(fu[0],fu[1],fu[2],fu[3]);break;case _o.CURRENT_PROGRAM:_o.useProgram(fu);break;case _o.ELEMENT_ARRAY_BUFFER_BINDING:_o.bindBuffer(_o.ELEMENT_ARRAY_BUFFER,fu);break;case _o.FRAMEBUFFER_BINDING:_o.bindFramebuffer(_o.FRAMEBUFFER,fu);break;case _o.RENDERBUFFER_BINDING:_o.bindRenderbuffer(_o.RENDERBUFFER,fu);break;case _o.TEXTURE_BINDING_2D:if((vu=Lo[++Xo])<_o.TEXTURE0||vu>_o.TEXTURE31)break;_o.activeTexture(vu),_o.bindTexture(_o.TEXTURE_2D,fu);break;case _o.TEXTURE_BINDING_CUBE_MAP:var vu;if((vu=Lo[++Xo])<_o.TEXTURE0||vu>_o.TEXTURE31)break;_o.activeTexture(vu),_o.bindTexture(_o.TEXTURE_CUBE_MAP,fu);break;case _o.VIEWPORT:_o.viewport(fu[0],fu[1],fu[2],fu[3]);break;case _o.BLEND:case _o.CULL_FACE:case _o.DEPTH_TEST:case _o.SCISSOR_TEST:case _o.STENCIL_TEST:fu?_o.enable(Zs):_o.disable(Zs);break;default:console.log("No GL restore behavior for 0x"+Zs.toString(16))}Wo&&_o.activeTexture(Wo)}}else zo(_o)}var ku=$u,Uo=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join(`
`),Yo=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join(`
`);function mu(_o,Lo,zo,jo){this.gl=_o,this.cardboardUI=Lo,this.bufferScale=zo,this.dirtySubmitFrameBindings=jo,this.ctxAttribs=_o.getContextAttributes(),this.instanceExt=_o.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=_o.drawingBufferWidth,this.bufferHeight=_o.drawingBufferHeight,this.realBindFramebuffer=_o.bindFramebuffer,this.realEnable=_o.enable,this.realDisable=_o.disable,this.realColorMask=_o.colorMask,this.realClearColor=_o.clearColor,this.realViewport=_o.viewport,Co()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(_o.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(_o.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=$s(_o,Uo,Yo,this.attribs),this.uniforms=au(_o,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=_o.createBuffer(),this.indexBuffer=_o.createBuffer(),this.indexCount=0,this.renderTarget=_o.createTexture(),this.framebuffer=_o.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=_o.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=_o.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=_o.createRenderbuffer()),this.patch(),this.onResize()}mu.prototype.destroy=function(){var _o=this.gl;this.unpatch(),_o.deleteProgram(this.program),_o.deleteBuffer(this.vertexBuffer),_o.deleteBuffer(this.indexBuffer),_o.deleteTexture(this.renderTarget),_o.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&_o.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&_o.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&_o.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},mu.prototype.onResize=function(){var _o=this.gl,Lo=this,zo=[_o.RENDERBUFFER_BINDING,_o.TEXTURE_BINDING_2D,_o.TEXTURE0];ku(_o,zo,function(jo){Lo.realBindFramebuffer.call(jo,jo.FRAMEBUFFER,null),Lo.scissorTest&&Lo.realDisable.call(jo,jo.SCISSOR_TEST),Lo.realColorMask.call(jo,!0,!0,!0,!0),Lo.realViewport.call(jo,0,0,jo.drawingBufferWidth,jo.drawingBufferHeight),Lo.realClearColor.call(jo,0,0,0,1),jo.clear(jo.COLOR_BUFFER_BIT),Lo.realBindFramebuffer.call(jo,jo.FRAMEBUFFER,Lo.framebuffer),jo.bindTexture(jo.TEXTURE_2D,Lo.renderTarget),jo.texImage2D(jo.TEXTURE_2D,0,Lo.ctxAttribs.alpha?jo.RGBA:jo.RGB,Lo.bufferWidth,Lo.bufferHeight,0,Lo.ctxAttribs.alpha?jo.RGBA:jo.RGB,jo.UNSIGNED_BYTE,null),jo.texParameteri(jo.TEXTURE_2D,jo.TEXTURE_MAG_FILTER,jo.LINEAR),jo.texParameteri(jo.TEXTURE_2D,jo.TEXTURE_MIN_FILTER,jo.LINEAR),jo.texParameteri(jo.TEXTURE_2D,jo.TEXTURE_WRAP_S,jo.CLAMP_TO_EDGE),jo.texParameteri(jo.TEXTURE_2D,jo.TEXTURE_WRAP_T,jo.CLAMP_TO_EDGE),jo.framebufferTexture2D(jo.FRAMEBUFFER,jo.COLOR_ATTACHMENT0,jo.TEXTURE_2D,Lo.renderTarget,0),Lo.ctxAttribs.depth&&Lo.ctxAttribs.stencil?(jo.bindRenderbuffer(jo.RENDERBUFFER,Lo.depthStencilBuffer),jo.renderbufferStorage(jo.RENDERBUFFER,jo.DEPTH_STENCIL,Lo.bufferWidth,Lo.bufferHeight),jo.framebufferRenderbuffer(jo.FRAMEBUFFER,jo.DEPTH_STENCIL_ATTACHMENT,jo.RENDERBUFFER,Lo.depthStencilBuffer)):Lo.ctxAttribs.depth?(jo.bindRenderbuffer(jo.RENDERBUFFER,Lo.depthBuffer),jo.renderbufferStorage(jo.RENDERBUFFER,jo.DEPTH_COMPONENT16,Lo.bufferWidth,Lo.bufferHeight),jo.framebufferRenderbuffer(jo.FRAMEBUFFER,jo.DEPTH_ATTACHMENT,jo.RENDERBUFFER,Lo.depthBuffer)):Lo.ctxAttribs.stencil&&(jo.bindRenderbuffer(jo.RENDERBUFFER,Lo.stencilBuffer),jo.renderbufferStorage(jo.RENDERBUFFER,jo.STENCIL_INDEX8,Lo.bufferWidth,Lo.bufferHeight),jo.framebufferRenderbuffer(jo.FRAMEBUFFER,jo.STENCIL_ATTACHMENT,jo.RENDERBUFFER,Lo.stencilBuffer)),!jo.checkFramebufferStatus(jo.FRAMEBUFFER)===jo.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),Lo.realBindFramebuffer.call(jo,jo.FRAMEBUFFER,Lo.lastBoundFramebuffer),Lo.scissorTest&&Lo.realEnable.call(jo,jo.SCISSOR_TEST),Lo.realColorMask.apply(jo,Lo.colorMask),Lo.realViewport.apply(jo,Lo.viewport),Lo.realClearColor.apply(jo,Lo.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},mu.prototype.patch=function(){if(!this.isPatched){var _o=this,Lo=this.gl.canvas,zo=this.gl;Co()||(Lo.width=$o()*this.bufferScale,Lo.height=Vo()*this.bufferScale,Object.defineProperty(Lo,"width",{configurable:!0,enumerable:!0,get:function(){return _o.bufferWidth},set:function(jo){_o.bufferWidth=jo,_o.realCanvasWidth.set.call(Lo,jo),_o.onResize()}}),Object.defineProperty(Lo,"height",{configurable:!0,enumerable:!0,get:function(){return _o.bufferHeight},set:function(jo){_o.bufferHeight=jo,_o.realCanvasHeight.set.call(Lo,jo),_o.onResize()}})),this.lastBoundFramebuffer=zo.getParameter(zo.FRAMEBUFFER_BINDING),this.lastBoundFramebuffer==null&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(zo.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(jo,Wo){_o.lastBoundFramebuffer=Wo||_o.framebuffer,_o.realBindFramebuffer.call(zo,jo,_o.lastBoundFramebuffer)},this.cullFace=zo.getParameter(zo.CULL_FACE),this.depthTest=zo.getParameter(zo.DEPTH_TEST),this.blend=zo.getParameter(zo.BLEND),this.scissorTest=zo.getParameter(zo.SCISSOR_TEST),this.stencilTest=zo.getParameter(zo.STENCIL_TEST),zo.enable=function(jo){switch(jo){case zo.CULL_FACE:_o.cullFace=!0;break;case zo.DEPTH_TEST:_o.depthTest=!0;break;case zo.BLEND:_o.blend=!0;break;case zo.SCISSOR_TEST:_o.scissorTest=!0;break;case zo.STENCIL_TEST:_o.stencilTest=!0}_o.realEnable.call(zo,jo)},zo.disable=function(jo){switch(jo){case zo.CULL_FACE:_o.cullFace=!1;break;case zo.DEPTH_TEST:_o.depthTest=!1;break;case zo.BLEND:_o.blend=!1;break;case zo.SCISSOR_TEST:_o.scissorTest=!1;break;case zo.STENCIL_TEST:_o.stencilTest=!1}_o.realDisable.call(zo,jo)},this.colorMask=zo.getParameter(zo.COLOR_WRITEMASK),zo.colorMask=function(jo,Wo,Xo,Zs){_o.colorMask[0]=jo,_o.colorMask[1]=Wo,_o.colorMask[2]=Xo,_o.colorMask[3]=Zs,_o.realColorMask.call(zo,jo,Wo,Xo,Zs)},this.clearColor=zo.getParameter(zo.COLOR_CLEAR_VALUE),zo.clearColor=function(jo,Wo,Xo,Zs){_o.clearColor[0]=jo,_o.clearColor[1]=Wo,_o.clearColor[2]=Xo,_o.clearColor[3]=Zs,_o.realClearColor.call(zo,jo,Wo,Xo,Zs)},this.viewport=zo.getParameter(zo.VIEWPORT),zo.viewport=function(jo,Wo,Xo,Zs){_o.viewport[0]=jo,_o.viewport[1]=Wo,_o.viewport[2]=Xo,_o.viewport[3]=Zs,_o.realViewport.call(zo,jo,Wo,Xo,Zs)},this.isPatched=!0,lu(Lo)}},mu.prototype.unpatch=function(){if(this.isPatched){var _o=this.gl,Lo=this.gl.canvas;Co()||(Object.defineProperty(Lo,"width",this.realCanvasWidth),Object.defineProperty(Lo,"height",this.realCanvasHeight)),Lo.width=this.bufferWidth,Lo.height=this.bufferHeight,_o.bindFramebuffer=this.realBindFramebuffer,_o.enable=this.realEnable,_o.disable=this.realDisable,_o.colorMask=this.realColorMask,_o.clearColor=this.realClearColor,_o.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&_o.bindFramebuffer(_o.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){lu(Lo)},1)}},mu.prototype.setTextureBounds=function(_o,Lo){_o||(_o=[0,0,.5,1]),Lo||(Lo=[.5,0,.5,1]),this.viewportOffsetScale[0]=_o[0],this.viewportOffsetScale[1]=_o[1],this.viewportOffsetScale[2]=_o[2],this.viewportOffsetScale[3]=_o[3],this.viewportOffsetScale[4]=Lo[0],this.viewportOffsetScale[5]=Lo[1],this.viewportOffsetScale[6]=Lo[2],this.viewportOffsetScale[7]=Lo[3]},mu.prototype.submitFrame=function(){var _o=this.gl,Lo=this,zo=[];if(this.dirtySubmitFrameBindings||zo.push(_o.CURRENT_PROGRAM,_o.ARRAY_BUFFER_BINDING,_o.ELEMENT_ARRAY_BUFFER_BINDING,_o.TEXTURE_BINDING_2D,_o.TEXTURE0),ku(_o,zo,function(Wo){Lo.realBindFramebuffer.call(Wo,Wo.FRAMEBUFFER,null);var Xo=0,Zs=0;Lo.instanceExt&&(Xo=Wo.getVertexAttrib(Lo.attribs.position,Lo.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),Zs=Wo.getVertexAttrib(Lo.attribs.texCoord,Lo.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),Lo.cullFace&&Lo.realDisable.call(Wo,Wo.CULL_FACE),Lo.depthTest&&Lo.realDisable.call(Wo,Wo.DEPTH_TEST),Lo.blend&&Lo.realDisable.call(Wo,Wo.BLEND),Lo.scissorTest&&Lo.realDisable.call(Wo,Wo.SCISSOR_TEST),Lo.stencilTest&&Lo.realDisable.call(Wo,Wo.STENCIL_TEST),Lo.realColorMask.call(Wo,!0,!0,!0,!0),Lo.realViewport.call(Wo,0,0,Wo.drawingBufferWidth,Wo.drawingBufferHeight),(Lo.ctxAttribs.alpha||Co())&&(Lo.realClearColor.call(Wo,0,0,0,1),Wo.clear(Wo.COLOR_BUFFER_BIT)),Wo.useProgram(Lo.program),Wo.bindBuffer(Wo.ELEMENT_ARRAY_BUFFER,Lo.indexBuffer),Wo.bindBuffer(Wo.ARRAY_BUFFER,Lo.vertexBuffer),Wo.enableVertexAttribArray(Lo.attribs.position),Wo.enableVertexAttribArray(Lo.attribs.texCoord),Wo.vertexAttribPointer(Lo.attribs.position,2,Wo.FLOAT,!1,20,0),Wo.vertexAttribPointer(Lo.attribs.texCoord,3,Wo.FLOAT,!1,20,8),Lo.instanceExt&&(Xo!=0&&Lo.instanceExt.vertexAttribDivisorANGLE(Lo.attribs.position,0),Zs!=0&&Lo.instanceExt.vertexAttribDivisorANGLE(Lo.attribs.texCoord,0)),Wo.activeTexture(Wo.TEXTURE0),Wo.uniform1i(Lo.uniforms.diffuse,0),Wo.bindTexture(Wo.TEXTURE_2D,Lo.renderTarget),Wo.uniform4fv(Lo.uniforms.viewportOffsetScale,Lo.viewportOffsetScale),Wo.drawElements(Wo.TRIANGLES,Lo.indexCount,Wo.UNSIGNED_SHORT,0),Lo.cardboardUI&&Lo.cardboardUI.renderNoState(),Lo.realBindFramebuffer.call(Lo.gl,Wo.FRAMEBUFFER,Lo.framebuffer),Lo.ctxAttribs.preserveDrawingBuffer||(Lo.realClearColor.call(Wo,0,0,0,0),Wo.clear(Wo.COLOR_BUFFER_BIT)),Lo.dirtySubmitFrameBindings||Lo.realBindFramebuffer.call(Wo,Wo.FRAMEBUFFER,Lo.lastBoundFramebuffer),Lo.cullFace&&Lo.realEnable.call(Wo,Wo.CULL_FACE),Lo.depthTest&&Lo.realEnable.call(Wo,Wo.DEPTH_TEST),Lo.blend&&Lo.realEnable.call(Wo,Wo.BLEND),Lo.scissorTest&&Lo.realEnable.call(Wo,Wo.SCISSOR_TEST),Lo.stencilTest&&Lo.realEnable.call(Wo,Wo.STENCIL_TEST),Lo.realColorMask.apply(Wo,Lo.colorMask),Lo.realViewport.apply(Wo,Lo.viewport),!Lo.ctxAttribs.alpha&&Lo.ctxAttribs.preserveDrawingBuffer||Lo.realClearColor.apply(Wo,Lo.clearColor),Lo.instanceExt&&(Xo!=0&&Lo.instanceExt.vertexAttribDivisorANGLE(Lo.attribs.position,Xo),Zs!=0&&Lo.instanceExt.vertexAttribDivisorANGLE(Lo.attribs.texCoord,Zs))}),Co()){var jo=_o.canvas;jo.width==Lo.bufferWidth&&jo.height==Lo.bufferHeight||(Lo.bufferWidth=jo.width,Lo.bufferHeight=jo.height,Lo.onResize())}},mu.prototype.updateDeviceInfo=function(_o){var Lo=this.gl,zo=this,jo=[Lo.ARRAY_BUFFER_BINDING,Lo.ELEMENT_ARRAY_BUFFER_BINDING];ku(Lo,jo,function(Wo){var Xo=zo.computeMeshVertices_(zo.meshWidth,zo.meshHeight,_o);if(Wo.bindBuffer(Wo.ARRAY_BUFFER,zo.vertexBuffer),Wo.bufferData(Wo.ARRAY_BUFFER,Xo,Wo.STATIC_DRAW),!zo.indexCount){var Zs=zo.computeMeshIndices_(zo.meshWidth,zo.meshHeight);Wo.bindBuffer(Wo.ELEMENT_ARRAY_BUFFER,zo.indexBuffer),Wo.bufferData(Wo.ELEMENT_ARRAY_BUFFER,Zs,Wo.STATIC_DRAW),zo.indexCount=Zs.length}})},mu.prototype.computeMeshVertices_=function(_o,Lo,zo){for(var jo=new Float32Array(2*_o*Lo*5),Wo=zo.getLeftEyeVisibleTanAngles(),Xo=zo.getLeftEyeNoLensTanAngles(),Zs=zo.getLeftEyeVisibleScreenRect(Xo),fu=0,vu=0;vu<2;vu++){for(var Js=0;Js<Lo;Js++)for(var eu=0;eu<_o;eu++,fu++){var Lu=eu/(_o-1),Fu=Js/(Lo-1),Wu=Lu,qu=Fu,Ku=No(Wo[0],Wo[2],Lu),Zu=No(Wo[3],Wo[1],Fu),Po=Math.sqrt(Ku*Ku+Zu*Zu),ko=zo.distortion.distortInverse(Po),qo=Zu*ko/Po;Lu=(Ku*ko/Po-Xo[0])/(Xo[2]-Xo[0]),Fu=(qo-Xo[3])/(Xo[1]-Xo[3]),Lu=2*(Zs.x+Lu*Zs.width-.5),Fu=2*(Zs.y+Fu*Zs.height-.5),jo[5*fu+0]=Lu,jo[5*fu+1]=Fu,jo[5*fu+2]=Wu,jo[5*fu+3]=qu,jo[5*fu+4]=vu}var Ws=Wo[2]-Wo[0];Wo[0]=-(Ws+Wo[0]),Wo[2]=Ws-Wo[2],Ws=Xo[2]-Xo[0],Xo[0]=-(Ws+Xo[0]),Xo[2]=Ws-Xo[2],Zs.x=1-(Zs.x+Zs.width)}return jo},mu.prototype.computeMeshIndices_=function(_o,Lo){for(var zo=new Uint16Array(2*(_o-1)*(Lo-1)*6),jo=_o/2,Wo=Lo/2,Xo=0,Zs=0,fu=0;fu<2;fu++)for(var vu=0;vu<Lo;vu++)for(var Js=0;Js<_o;Js++,Xo++)Js!=0&&vu!=0&&(Js<=jo==vu<=Wo?(zo[Zs++]=Xo,zo[Zs++]=Xo-_o-1,zo[Zs++]=Xo-_o,zo[Zs++]=Xo-_o-1,zo[Zs++]=Xo,zo[Zs++]=Xo-1):(zo[Zs++]=Xo-1,zo[Zs++]=Xo-_o,zo[Zs++]=Xo,zo[Zs++]=Xo-_o,zo[Zs++]=Xo-1,zo[Zs++]=Xo-_o-1));return zo},mu.prototype.getOwnPropertyDescriptor_=function(_o,Lo){var zo=Object.getOwnPropertyDescriptor(_o,Lo);return zo.get!==void 0&&zo.set!==void 0||(zo.configurable=!0,zo.enumerable=!0,zo.get=function(){return this.getAttribute(Lo)},zo.set=function(jo){this.setAttribute(Lo,jo)}),zo};var pu=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join(`
`),Su=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join(`
`),_u=Math.PI/180,bu=60,Xu=12,Qu=20,ju=1,Mu=.75,Nu=.3125,wu=4,du=28,Jo=1.5;function Eu(_o){this.gl=_o,this.attribs={position:0},this.program=$s(_o,pu,Su,this.attribs),this.uniforms=au(_o,this.program),this.vertexBuffer=_o.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function Du(_o){this.coefficients=_o}Eu.prototype.destroy=function(){var _o=this.gl;this.listener&&_o.canvas.removeEventListener("click",this.listener,!1),_o.deleteProgram(this.program),_o.deleteBuffer(this.vertexBuffer)},Eu.prototype.listen=function(_o,Lo){var zo=this.gl.canvas;this.listener=function(jo){var Wo=zo.clientWidth/2,Xo=du*Jo;jo.clientX>Wo-Xo&&jo.clientX<Wo+Xo&&jo.clientY>zo.clientHeight-Xo?_o(jo):jo.clientX<Xo&&jo.clientY<Xo&&Lo(jo)},zo.addEventListener("click",this.listener,!1)},Eu.prototype.onResize=function(){var _o=this.gl,Lo=this,zo=[_o.ARRAY_BUFFER_BINDING];ku(_o,zo,function(jo){var Wo=[],Xo=jo.drawingBufferWidth/2,Zs=Math.max(screen.width,screen.height)*va.devicePixelRatio,fu=jo.drawingBufferWidth/Zs*va.devicePixelRatio,vu=wu*fu/2,Js=du*Jo*fu,eu=du*fu/2,Lu=(du*Jo-du)*fu;function Fu(Po,ko){var qo=(90-Po)*_u,Ws=Math.cos(qo),hu=Math.sin(qo);Wo.push(Nu*Ws*eu+Xo,Nu*hu*eu+eu),Wo.push(ko*Ws*eu+Xo,ko*hu*eu+eu)}Wo.push(Xo-vu,Js),Wo.push(Xo-vu,jo.drawingBufferHeight),Wo.push(Xo+vu,Js),Wo.push(Xo+vu,jo.drawingBufferHeight),Lo.gearOffset=Wo.length/2;for(var Wu=0;Wu<=6;Wu++){var qu=Wu*bu;Fu(qu,ju),Fu(qu+Xu,ju),Fu(qu+Qu,Mu),Fu(qu+(bu-Qu),Mu),Fu(qu+(bu-Xu),ju)}function Ku(Po,ko){Wo.push(Lu+Po,jo.drawingBufferHeight-Lu-ko)}Lo.gearVertexCount=Wo.length/2-Lo.gearOffset,Lo.arrowOffset=Wo.length/2;var Zu=vu/Math.sin(45*_u);Ku(0,eu),Ku(eu,0),Ku(eu+Zu,Zu),Ku(Zu,eu+Zu),Ku(Zu,eu-Zu),Ku(0,eu),Ku(eu,2*eu),Ku(eu+Zu,2*eu-Zu),Ku(Zu,eu-Zu),Ku(0,eu),Ku(Zu,eu-vu),Ku(du*fu,eu-vu),Ku(Zu,eu+vu),Ku(du*fu,eu+vu),Lo.arrowVertexCount=Wo.length/2-Lo.arrowOffset,jo.bindBuffer(jo.ARRAY_BUFFER,Lo.vertexBuffer),jo.bufferData(jo.ARRAY_BUFFER,new Float32Array(Wo),jo.STATIC_DRAW)})},Eu.prototype.render=function(){var _o=this.gl,Lo=this,zo=[_o.CULL_FACE,_o.DEPTH_TEST,_o.BLEND,_o.SCISSOR_TEST,_o.STENCIL_TEST,_o.COLOR_WRITEMASK,_o.VIEWPORT,_o.CURRENT_PROGRAM,_o.ARRAY_BUFFER_BINDING];ku(_o,zo,function(jo){jo.disable(jo.CULL_FACE),jo.disable(jo.DEPTH_TEST),jo.disable(jo.BLEND),jo.disable(jo.SCISSOR_TEST),jo.disable(jo.STENCIL_TEST),jo.colorMask(!0,!0,!0,!0),jo.viewport(0,0,jo.drawingBufferWidth,jo.drawingBufferHeight),Lo.renderNoState()})},Eu.prototype.renderNoState=function(){var _o=this.gl;_o.useProgram(this.program),_o.bindBuffer(_o.ARRAY_BUFFER,this.vertexBuffer),_o.enableVertexAttribArray(this.attribs.position),_o.vertexAttribPointer(this.attribs.position,2,_o.FLOAT,!1,8,0),_o.uniform4f(this.uniforms.color,1,1,1,1),Ks(this.projMat,0,_o.drawingBufferWidth,0,_o.drawingBufferHeight,.1,1024),_o.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),_o.drawArrays(_o.TRIANGLE_STRIP,0,4),_o.drawArrays(_o.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),_o.drawArrays(_o.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},Du.prototype.distortInverse=function(_o){for(var Lo=0,zo=1,jo=_o-this.distort(Lo);Math.abs(zo-Lo)>1e-4;){var Wo=_o-this.distort(zo),Xo=zo-Wo*((zo-Lo)/(Wo-jo));Lo=zo,zo=Xo,jo=Wo}return zo},Du.prototype.distort=function(_o){for(var Lo=_o*_o,zo=0,jo=0;jo<this.coefficients.length;jo++)zo=Lo*(zo+this.coefficients[jo]);return(zo+1)*_o};var Uu=Math.PI/180,Tu=180/Math.PI,Ru=function(_o,Lo,zo){this.x=_o||0,this.y=Lo||0,this.z=zo||0};Ru.prototype={constructor:Ru,set:function(_o,Lo,zo){return this.x=_o,this.y=Lo,this.z=zo,this},copy:function(_o){return this.x=_o.x,this.y=_o.y,this.z=_o.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var _o=this.length();if(_o!==0){var Lo=1/_o;this.multiplyScalar(Lo)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(_o){this.x*=_o,this.y*=_o,this.z*=_o},applyQuaternion:function(_o){var Lo=this.x,zo=this.y,jo=this.z,Wo=_o.x,Xo=_o.y,Zs=_o.z,fu=_o.w,vu=fu*Lo+Xo*jo-Zs*zo,Js=fu*zo+Zs*Lo-Wo*jo,eu=fu*jo+Wo*zo-Xo*Lo,Lu=-Wo*Lo-Xo*zo-Zs*jo;return this.x=vu*fu+Lu*-Wo+Js*-Zs-eu*-Xo,this.y=Js*fu+Lu*-Xo+eu*-Wo-vu*-Zs,this.z=eu*fu+Lu*-Zs+vu*-Xo-Js*-Wo,this},dot:function(_o){return this.x*_o.x+this.y*_o.y+this.z*_o.z},crossVectors:function(_o,Lo){var zo=_o.x,jo=_o.y,Wo=_o.z,Xo=Lo.x,Zs=Lo.y,fu=Lo.z;return this.x=jo*fu-Wo*Zs,this.y=Wo*Xo-zo*fu,this.z=zo*Zs-jo*Xo,this}};var Ju,al,dl,zu=function(_o,Lo,zo,jo){this.x=_o||0,this.y=Lo||0,this.z=zo||0,this.w=jo!==void 0?jo:1};function hl(_o){this.width=_o.width||$o(),this.height=_o.height||Vo(),this.widthMeters=_o.widthMeters,this.heightMeters=_o.heightMeters,this.bevelMeters=_o.bevelMeters}zu.prototype={constructor:zu,set:function(_o,Lo,zo,jo){return this.x=_o,this.y=Lo,this.z=zo,this.w=jo,this},copy:function(_o){return this.x=_o.x,this.y=_o.y,this.z=_o.z,this.w=_o.w,this},setFromEulerXYZ:function(_o,Lo,zo){var jo=Math.cos(_o/2),Wo=Math.cos(Lo/2),Xo=Math.cos(zo/2),Zs=Math.sin(_o/2),fu=Math.sin(Lo/2),vu=Math.sin(zo/2);return this.x=Zs*Wo*Xo+jo*fu*vu,this.y=jo*fu*Xo-Zs*Wo*vu,this.z=jo*Wo*vu+Zs*fu*Xo,this.w=jo*Wo*Xo-Zs*fu*vu,this},setFromEulerYXZ:function(_o,Lo,zo){var jo=Math.cos(_o/2),Wo=Math.cos(Lo/2),Xo=Math.cos(zo/2),Zs=Math.sin(_o/2),fu=Math.sin(Lo/2),vu=Math.sin(zo/2);return this.x=Zs*Wo*Xo+jo*fu*vu,this.y=jo*fu*Xo-Zs*Wo*vu,this.z=jo*Wo*vu-Zs*fu*Xo,this.w=jo*Wo*Xo+Zs*fu*vu,this},setFromAxisAngle:function(_o,Lo){var zo=Lo/2,jo=Math.sin(zo);return this.x=_o.x*jo,this.y=_o.y*jo,this.z=_o.z*jo,this.w=Math.cos(zo),this},multiply:function(_o){return this.multiplyQuaternions(this,_o)},multiplyQuaternions:function(_o,Lo){var zo=_o.x,jo=_o.y,Wo=_o.z,Xo=_o.w,Zs=Lo.x,fu=Lo.y,vu=Lo.z,Js=Lo.w;return this.x=zo*Js+Xo*Zs+jo*vu-Wo*fu,this.y=jo*Js+Xo*fu+Wo*Zs-zo*vu,this.z=Wo*Js+Xo*vu+zo*fu-jo*Zs,this.w=Xo*Js-zo*Zs-jo*fu-Wo*vu,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var _o=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return _o===0?(this.x=0,this.y=0,this.z=0,this.w=1):(_o=1/_o,this.x=this.x*_o,this.y=this.y*_o,this.z=this.z*_o,this.w=this.w*_o),this},slerp:function(_o,Lo){if(Lo===0)return this;if(Lo===1)return this.copy(_o);var zo=this.x,jo=this.y,Wo=this.z,Xo=this.w,Zs=Xo*_o.w+zo*_o.x+jo*_o.y+Wo*_o.z;if(Zs<0?(this.w=-_o.w,this.x=-_o.x,this.y=-_o.y,this.z=-_o.z,Zs=-Zs):this.copy(_o),Zs>=1)return this.w=Xo,this.x=zo,this.y=jo,this.z=Wo,this;var fu=Math.acos(Zs),vu=Math.sqrt(1-Zs*Zs);if(Math.abs(vu)<.001)return this.w=.5*(Xo+this.w),this.x=.5*(zo+this.x),this.y=.5*(jo+this.y),this.z=.5*(Wo+this.z),this;var Js=Math.sin((1-Lo)*fu)/vu,eu=Math.sin(Lo*fu)/vu;return this.w=Xo*Js+this.w*eu,this.x=zo*Js+this.x*eu,this.y=jo*Js+this.y*eu,this.z=Wo*Js+this.z*eu,this},setFromUnitVectors:(dl=1e-6,function(_o,Lo){return Ju===void 0&&(Ju=new Ru),(al=_o.dot(Lo)+1)<dl?(al=0,Math.abs(_o.x)>Math.abs(_o.z)?Ju.set(-_o.y,_o.x,0):Ju.set(0,-_o.z,_o.y)):Ju.crossVectors(_o,Lo),this.x=Ju.x,this.y=Ju.y,this.z=Ju.z,this.w=al,this.normalize(),this})};var pl=new hl({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),fl=new hl({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),ml={CardboardV1:new wl({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new wl({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function ll(_o,Lo){this.viewer=ml.CardboardV2,this.updateDeviceParams(_o),this.distortion=new Du(this.viewer.distortionCoefficients);for(var zo=0;zo<Lo.length;zo++){var jo=Lo[zo];ml[jo.id]=new wl(jo)}}function wl(_o){this.id=_o.id,this.label=_o.label,this.fov=_o.fov,this.interLensDistance=_o.interLensDistance,this.baselineLensDistance=_o.baselineLensDistance,this.screenLensDistance=_o.screenLensDistance,this.distortionCoefficients=_o.distortionCoefficients,this.inverseCoefficients=_o.inverseCoefficients}ll.prototype.updateDeviceParams=function(_o){this.device=this.determineDevice_(_o)||this.device},ll.prototype.getDevice=function(){return this.device},ll.prototype.setViewer=function(_o){this.viewer=_o,this.distortion=new Du(this.viewer.distortionCoefficients)},ll.prototype.determineDevice_=function(_o){if(!_o)return Co()?(console.warn("Using fallback iOS device measurements."),fl):(console.warn("Using fallback Android device measurements."),pl);var Lo=.0254,zo=Lo/_o.xdpi,jo=Lo/_o.ydpi;return new hl({widthMeters:zo*$o(),heightMeters:jo*Vo(),bevelMeters:.001*_o.bevelMm})},ll.prototype.getDistortedFieldOfViewLeftEye=function(){var _o=this.viewer,Lo=this.device,zo=this.distortion,jo=_o.screenLensDistance,Wo=(Lo.widthMeters-_o.interLensDistance)/2,Xo=_o.interLensDistance/2,Zs=_o.baselineLensDistance-Lo.bevelMeters,fu=Lo.heightMeters-Zs,vu=Tu*Math.atan(zo.distort(Wo/jo)),Js=Tu*Math.atan(zo.distort(Xo/jo)),eu=Tu*Math.atan(zo.distort(Zs/jo)),Lu=Tu*Math.atan(zo.distort(fu/jo));return{leftDegrees:Math.min(vu,_o.fov),rightDegrees:Math.min(Js,_o.fov),downDegrees:Math.min(eu,_o.fov),upDegrees:Math.min(Lu,_o.fov)}},ll.prototype.getLeftEyeVisibleTanAngles=function(){var _o=this.viewer,Lo=this.device,zo=this.distortion,jo=Math.tan(-Uu*_o.fov),Wo=Math.tan(Uu*_o.fov),Xo=Math.tan(Uu*_o.fov),Zs=Math.tan(-Uu*_o.fov),fu=Lo.widthMeters/4,vu=Lo.heightMeters/2,Js=_o.baselineLensDistance-Lo.bevelMeters-vu,eu=_o.interLensDistance/2-fu,Lu=-Js,Fu=_o.screenLensDistance,Wu=zo.distort((eu-fu)/Fu),qu=zo.distort((Lu+vu)/Fu),Ku=zo.distort((eu+fu)/Fu),Zu=zo.distort((Lu-vu)/Fu),Po=new Float32Array(4);return Po[0]=Math.max(jo,Wu),Po[1]=Math.min(Wo,qu),Po[2]=Math.min(Xo,Ku),Po[3]=Math.max(Zs,Zu),Po},ll.prototype.getLeftEyeNoLensTanAngles=function(){var _o=this.viewer,Lo=this.device,zo=this.distortion,jo=new Float32Array(4),Wo=zo.distortInverse(Math.tan(-Uu*_o.fov)),Xo=zo.distortInverse(Math.tan(Uu*_o.fov)),Zs=zo.distortInverse(Math.tan(Uu*_o.fov)),fu=zo.distortInverse(Math.tan(-Uu*_o.fov)),vu=Lo.widthMeters/4,Js=Lo.heightMeters/2,eu=_o.baselineLensDistance-Lo.bevelMeters-Js,Lu=_o.interLensDistance/2-vu,Fu=-eu,Wu=_o.screenLensDistance,qu=(Lu-vu)/Wu,Ku=(Fu+Js)/Wu,Zu=(Lu+vu)/Wu,Po=(Fu-Js)/Wu;return jo[0]=Math.max(Wo,qu),jo[1]=Math.min(Xo,Ku),jo[2]=Math.min(Zs,Zu),jo[3]=Math.max(fu,Po),jo},ll.prototype.getLeftEyeVisibleScreenRect=function(_o){var Lo=this.viewer,zo=this.device,jo=Lo.screenLensDistance,Wo=(zo.widthMeters-Lo.interLensDistance)/2,Xo=Lo.baselineLensDistance-zo.bevelMeters,Zs=(_o[0]*jo+Wo)/zo.widthMeters,fu=(_o[1]*jo+Xo)/zo.heightMeters,vu=(_o[2]*jo+Wo)/zo.widthMeters,Js=(_o[3]*jo+Xo)/zo.heightMeters;return{x:Zs,y:Js,width:vu-Zs,height:fu-Js}},ll.prototype.getFieldOfViewLeftEye=function(_o){return _o?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},ll.prototype.getFieldOfViewRightEye=function(_o){var Lo=this.getFieldOfViewLeftEye(_o);return{leftDegrees:Lo.rightDegrees,rightDegrees:Lo.leftDegrees,upDegrees:Lo.upDegrees,downDegrees:Lo.downDegrees}},ll.prototype.getUndistortedFieldOfViewLeftEye=function(){var _o=this.getUndistortedParams_();return{leftDegrees:Tu*Math.atan(_o.outerDist),rightDegrees:Tu*Math.atan(_o.innerDist),downDegrees:Tu*Math.atan(_o.bottomDist),upDegrees:Tu*Math.atan(_o.topDist)}},ll.prototype.getUndistortedViewportLeftEye=function(){var _o=this.getUndistortedParams_(),Lo=this.viewer,zo=this.device,jo=Lo.screenLensDistance,Wo=zo.widthMeters/jo,Xo=zo.heightMeters/jo,Zs=zo.width/Wo,fu=zo.height/Xo,vu=Math.round((_o.eyePosX-_o.outerDist)*Zs),Js=Math.round((_o.eyePosY-_o.bottomDist)*fu);return{x:vu,y:Js,width:Math.round((_o.eyePosX+_o.innerDist)*Zs)-vu,height:Math.round((_o.eyePosY+_o.topDist)*fu)-Js}},ll.prototype.getUndistortedParams_=function(){var _o=this.viewer,Lo=this.device,zo=this.distortion,jo=_o.screenLensDistance,Wo=_o.interLensDistance/2/jo,Xo=Lo.widthMeters/jo,Zs=Lo.heightMeters/jo,fu=Xo/2-Wo,vu=(_o.baselineLensDistance-Lo.bevelMeters)/jo,Js=_o.fov,eu=zo.distortInverse(Math.tan(Uu*Js)),Lu=Math.min(fu,eu),Fu=Math.min(Wo,eu),Wu=Math.min(vu,eu);return{outerDist:Lu,innerDist:Fu,topDist:Math.min(Zs-vu,eu),bottomDist:Wu,eyePosX:fu,eyePosY:vu}},ll.Viewers=ml;var Go={format:1,last_updated:"2019-11-09T17:36:14Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}]};function iu(_o,Lo){if(this.dpdb=Go,this.recalculateDeviceParams_(),_o){this.onDeviceParamsUpdated=Lo;var zo=new XMLHttpRequest,jo=this;zo.open("GET",_o,!0),zo.addEventListener("load",function(){jo.loading=!1,zo.status>=200&&zo.status<=299?(jo.dpdb=JSON.parse(zo.response),jo.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),zo.send()}}function tu(_o){this.xdpi=_o.xdpi,this.ydpi=_o.ydpi,this.bevelMm=_o.bevelMm}function uu(_o,Lo){this.set(_o,Lo)}function yu(_o,Lo){this.kFilter=_o,this.isDebug=Lo,this.currentAccelMeasurement=new uu,this.currentGyroMeasurement=new uu,this.previousGyroMeasurement=new uu,Co()?this.filterQ=new zu(-1,0,0,1):this.filterQ=new zu(1,0,0,1),this.previousFilterQ=new zu,this.previousFilterQ.copy(this.filterQ),this.accelQ=new zu,this.isOrientationInitialized=!1,this.estimatedGravity=new Ru,this.measuredGravity=new Ru,this.gyroIntegralQ=new zu}function Vu(_o,Lo){this.predictionTimeS=_o,this.isDebug=Lo,this.previousQ=new zu,this.previousTimestampS=null,this.deltaQ=new zu,this.outQ=new zu}function Bu(_o,Lo,zo,jo){this.yawOnly=zo,this.accelerometer=new Ru,this.gyroscope=new Ru,this.filter=new yu(_o,jo),this.posePredictor=new Vu(Lo,jo),this.isFirefoxAndroid=wo(),this.isIOS=Co();var Wo=xo();this.isDeviceMotionInRadians=!this.isIOS&&Wo&&Wo<66,this.isWithoutDeviceMotion=So()||bo(),this.filterToWorldQ=new zu,Co()?this.filterToWorldQ.setFromAxisAngle(new Ru(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new Ru(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new zu,this.worldToScreenQ=new zu,this.originalPoseAdjustQ=new zu,this.originalPoseAdjustQ.setFromAxisAngle(new Ru(0,0,1),-va.orientation*Math.PI/180),this.setScreenTransform_(),Oo()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new zu,this.orientationOut_=new Float32Array(4),this.start()}iu.prototype.getDeviceParams=function(){return this.deviceParams},iu.prototype.recalculateDeviceParams_=function(){var _o=this.calcDeviceParams_();_o?(this.deviceParams=_o,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},iu.prototype.calcDeviceParams_=function(){var _o=this.dpdb;if(!_o)return console.error("DPDB not available."),null;if(_o.format!=1)return console.error("DPDB has unexpected format version."),null;if(!_o.devices||!_o.devices.length)return console.error("DPDB does not have a devices section."),null;var Lo=_a.userAgent||_a.vendor||va.opera,zo=$o(),jo=Vo();if(!_o.devices)return console.error("DPDB has no devices section."),null;for(var Wo=0;Wo<_o.devices.length;Wo++){var Xo=_o.devices[Wo];if(Xo.rules)if(Xo.type=="ios"||Xo.type=="android"){if(Co()==(Xo.type=="ios")){for(var Zs=!1,fu=0;fu<Xo.rules.length;fu++){var vu=Xo.rules[fu];if(this.ruleMatches_(vu,Lo,zo,jo)){Zs=!0;break}}if(Zs)return new tu({xdpi:Xo.dpi[0]||Xo.dpi,ydpi:Xo.dpi[1]||Xo.dpi,bevelMm:Xo.bw})}}else console.warn("Device["+Wo+"] has invalid type.");else console.warn("Device["+Wo+"] has no rules section.")}return console.warn("No DPDB device match."),null},iu.prototype.ruleMatches_=function(_o,Lo,zo,jo){if(!_o.ua&&!_o.res||(_o.ua&&_o.ua.substring(0,2)==="SM"&&(_o.ua=_o.ua.substring(0,7)),_o.ua&&Lo.indexOf(_o.ua)<0))return!1;if(_o.res){if(!_o.res[0]||!_o.res[1])return!1;var Wo=_o.res[0],Xo=_o.res[1];if(Math.min(zo,jo)!=Math.min(Wo,Xo)||Math.max(zo,jo)!=Math.max(Wo,Xo))return!1}return!0},uu.prototype.set=function(_o,Lo){this.sample=_o,this.timestampS=Lo},uu.prototype.copy=function(_o){this.set(_o.sample,_o.timestampS)},yu.prototype.addAccelMeasurement=function(_o,Lo){this.currentAccelMeasurement.set(_o,Lo)},yu.prototype.addGyroMeasurement=function(_o,Lo){this.currentGyroMeasurement.set(_o,Lo);var zo=Lo-this.previousGyroMeasurement.timestampS;Bo(zo)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},yu.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var _o=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,Lo=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,_o);this.gyroIntegralQ.multiply(Lo),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(Lo);var zo=new zu;zo.copy(this.filterQ),zo.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(zo),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var jo=new zu;jo.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),jo.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",Tu*su(jo),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var Wo=new zu;Wo.copy(this.filterQ),Wo.multiply(jo),this.filterQ.slerp(Wo,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},yu.prototype.getOrientation=function(){return this.filterQ},yu.prototype.accelToQuaternion_=function(_o){var Lo=new Ru;Lo.copy(_o),Lo.normalize();var zo=new zu;return zo.setFromUnitVectors(new Ru(0,0,-1),Lo),zo.inverse(),zo},yu.prototype.gyroToQuaternionDelta_=function(_o,Lo){var zo=new zu,jo=new Ru;return jo.copy(_o),jo.normalize(),zo.setFromAxisAngle(jo,_o.length()*Lo),zo},Vu.prototype.getPrediction=function(_o,Lo,zo){if(!this.previousTimestampS)return this.previousQ.copy(_o),this.previousTimestampS=zo,_o;var jo=new Ru;jo.copy(Lo),jo.normalize();var Wo=Lo.length();if(Wo<20*Uu)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(Tu*Wo).toFixed(1)),this.outQ.copy(_o),this.previousQ.copy(_o),this.outQ;var Xo=Wo*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(jo,Xo),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(_o),this.previousTimestampS=zo,this.outQ},Bu.prototype.getPosition=function(){return null},Bu.prototype.getOrientation=function(){var _o=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var Wo=new zu().setFromAxisAngle(new Ru(0,0,-1),0),Xo=new zu;return va.orientation===-90?Xo.setFromAxisAngle(new Ru(0,1,0),Math.PI/-2):Xo.setFromAxisAngle(new Ru(0,1,0),Math.PI/2),Wo.multiply(Xo)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||((Lo=new zu).setFromAxisAngle(new Ru(1,0,0),-Math.PI/2),Lo),_o=this._deviceOrientationQ,(zo=new zu).copy(_o),zo.multiply(this.deviceOrientationFilterToWorldQ),zo.multiply(this.resetQ),zo.multiply(this.worldToScreenQ),zo.multiplyQuaternions(this.deviceOrientationFixQ,zo),this.yawOnly&&(zo.x=0,zo.z=0,zo.normalize()),this.orientationOut_[0]=zo.x,this.orientationOut_[1]=zo.y,this.orientationOut_[2]=zo.z,this.orientationOut_[3]=zo.w,this.orientationOut_;var Lo,zo,jo=this.filter.getOrientation();return _o=this.posePredictor.getPrediction(jo,this.gyroscope,this.previousTimestampS),(zo=new zu).copy(this.filterToWorldQ),zo.multiply(this.resetQ),zo.multiply(_o),zo.multiply(this.worldToScreenQ),this.yawOnly&&(zo.x=0,zo.z=0,zo.normalize()),this.orientationOut_[0]=zo.x,this.orientationOut_[1]=zo.y,this.orientationOut_[2]=zo.z,this.orientationOut_[3]=zo.w,this.orientationOut_},Bu.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),Oo()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},Bu.prototype.onDeviceOrientation_=function(_o){this._deviceOrientationQ=this._deviceOrientationQ||new zu;var Lo=_o.alpha,zo=_o.beta,jo=_o.gamma;Lo=(Lo||0)*Math.PI/180,zo=(zo||0)*Math.PI/180,jo=(jo||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(zo,Lo,-jo)},Bu.prototype.onDeviceMotion_=function(_o){this.updateDeviceMotion_(_o)},Bu.prototype.updateDeviceMotion_=function(_o){var Lo=_o.accelerationIncludingGravity,zo=_o.rotationRate,jo=_o.timeStamp/1e3,Wo=jo-this.previousTimestampS;return Wo<0?(gu("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=jo)):Wo<=Ao||Wo>Eo?(gu("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=jo)):(this.accelerometer.set(-Lo.x,-Lo.y,-Lo.z),zo&&(Do()?this.gyroscope.set(-zo.beta,zo.alpha,zo.gamma):this.gyroscope.set(zo.alpha,zo.beta,zo.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,jo)),this.filter.addAccelMeasurement(this.accelerometer,jo),void(this.previousTimestampS=jo))},Bu.prototype.onOrientationChange_=function(_o){this.setScreenTransform_()},Bu.prototype.onMessage_=function(_o){var Lo=_o.data;Lo&&Lo.type&&Lo.type.toLowerCase()==="devicemotion"&&this.updateDeviceMotion_(Lo.deviceMotionEvent)},Bu.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),va.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new Ru(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new Ru(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},Bu.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),Co()&&ru()&&va.addEventListener("message",this.onMessageCallback_),va.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?va.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):va.addEventListener("devicemotion",this.onDeviceMotionCallback_)},Bu.prototype.stop=function(){va.removeEventListener("devicemotion",this.onDeviceMotionCallback_),va.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),va.removeEventListener("orientationchange",this.onOrientationChangeCallback_),va.removeEventListener("message",this.onMessageCallback_)};var Ou=60,Gu=new Ru(1,0,0),Yu=new Ru(0,0,1),sl=new zu;sl.setFromAxisAngle(Gu,-Math.PI/2),sl.multiply(new zu().setFromAxisAngle(Yu,Math.PI/2));var Ro=function(){function _o(Lo){lo(this,_o),this.config=Lo,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new zu,this._outQ=new zu,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return ho(_o,[{key:"init",value:function(){var Lo=null;try{(Lo=new RelativeOrientationSensor({frequency:Ou,referenceFrame:"screen"})).addEventListener("error",this._onSensorError)}catch(zo){this.errors.push(zo),zo.name==="SecurityError"?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):zo.name==="ReferenceError"?this.useDeviceMotion():console.error(zo)}Lo&&(this.api="sensor",this.sensor=Lo,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new Bu(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var Lo=this.sensor.quaternion;this._sensorQ.set(Lo[0],Lo[1],Lo[2],Lo[3]);var zo=this._outQ;return zo.copy(sl),zo.multiply(this._sensorQ),this.config.YAW_ONLY&&(zo.x=zo.z=0,zo.normalize()),this._out[0]=zo.x,this._out[1]=zo.y,this._out[2]=zo.z,this._out[3]=zo.w,this._out}},{key:"_onSensorError",value:function(Lo){this.errors.push(Lo.error),Lo.error.name==="NotAllowedError"?console.error("Permission to access sensor was denied"):Lo.error.name==="NotReadableError"?console.error("Sensor could not be read"):console.error(Lo.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),_o}(),Qo="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function Zo(){this.loadIcon_();var _o=document.createElement("div");(Xo=_o.style).position="fixed",Xo.top=0,Xo.right=0,Xo.bottom=0,Xo.left=0,Xo.backgroundColor="gray",Xo.fontFamily="sans-serif",Xo.zIndex=1e6;var Lo=document.createElement("img");Lo.src=this.icon,(Xo=Lo.style).marginLeft="25%",Xo.marginTop="25%",Xo.width="50%",_o.appendChild(Lo);var zo=document.createElement("div");(Xo=zo.style).textAlign="center",Xo.fontSize="16px",Xo.lineHeight="24px",Xo.margin="24px 25%",Xo.width="50%",zo.innerHTML="Place your phone into your Cardboard viewer.",_o.appendChild(zo);var jo=document.createElement("div");(Xo=jo.style).backgroundColor="#CFD8DC",Xo.position="fixed",Xo.bottom=0,Xo.width="100%",Xo.height="48px",Xo.padding="14px 24px",Xo.boxSizing="border-box",Xo.color="#656A6B",_o.appendChild(jo);var Wo=document.createElement("div");Wo.style.float="left",Wo.innerHTML="No Cardboard viewer?";var Xo,Zs=document.createElement("a");Zs.href="https://www.google.com/get/cardboard/get-cardboard/",Zs.innerHTML="get one",Zs.target="_blank",(Xo=Zs.style).float="right",Xo.fontWeight=600,Xo.textTransform="uppercase",Xo.borderLeft="1px solid gray",Xo.paddingLeft="24px",Xo.textDecoration="none",Xo.color="#656A6B",jo.appendChild(Wo),jo.appendChild(Zs),this.overlay=_o,this.text=zo,this.hide()}Zo.prototype.show=function(_o){_o||this.overlay.parentElement?_o&&(this.overlay.parentElement&&this.overlay.parentElement!=_o&&this.overlay.parentElement.removeChild(this.overlay),_o.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var Lo=this.overlay.querySelector("img").style;Oo()?(Lo.width="20%",Lo.marginLeft="40%",Lo.marginTop="3%"):(Lo.width="50%",Lo.marginLeft="25%",Lo.marginTop="25%")},Zo.prototype.hide=function(){this.overlay.style.display="none"},Zo.prototype.showTemporarily=function(_o,Lo){this.show(Lo),this.timer=setTimeout(this.hide.bind(this),_o)},Zo.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},Zo.prototype.update=function(){this.disableShowTemporarily(),!Oo()&&Gs()?this.show():this.hide()},Zo.prototype.loadIcon_=function(){this.icon=To("image/svg+xml",Qo)};var Xs="CardboardV1",cu="WEBVR_CARDBOARD_VIEWER",Pu="webvr-polyfill-viewer-selector";function Iu(_o){try{this.selectedKey=localStorage.getItem(cu)}catch(Lo){console.error("Failed to load viewer profile: %s",Lo)}this.selectedKey||(this.selectedKey=_o||Xs),this.dialog=this.createDialog_(ll.Viewers),this.root=null,this.onChangeCallbacks_=[]}function ul(_o){return _o&&_o.__esModule&&Object.prototype.hasOwnProperty.call(_o,"default")?_o.default:_o}function Cu(_o,Lo){return _o(Lo={exports:{}},Lo.exports),Lo.exports}Iu.prototype.show=function(_o){this.root=_o,_o.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},Iu.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Iu.prototype.getCurrentViewer=function(){return ll.Viewers[this.selectedKey]},Iu.prototype.getSelectedKey_=function(){var _o=this.dialog.querySelector("input[name=field]:checked");return _o?_o.id:null},Iu.prototype.onChange=function(_o){this.onChangeCallbacks_.push(_o)},Iu.prototype.fireOnChange_=function(_o){for(var Lo=0;Lo<this.onChangeCallbacks_.length;Lo++)this.onChangeCallbacks_[Lo](_o)},Iu.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&ll.Viewers[this.selectedKey]){this.fireOnChange_(ll.Viewers[this.selectedKey]);try{localStorage.setItem(cu,this.selectedKey)}catch(_o){console.error("Failed to save viewer profile: %s",_o)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},Iu.prototype.createDialog_=function(_o){var Lo=document.createElement("div");Lo.classList.add(Pu),Lo.style.display="none";var zo=document.createElement("div");(Xo=zo.style).position="fixed",Xo.left=0,Xo.top=0,Xo.width="100%",Xo.height="100%",Xo.background="rgba(0, 0, 0, 0.3)",zo.addEventListener("click",this.hide.bind(this));var jo=280,Wo=document.createElement("div"),Xo=Wo.style;for(var Zs in Xo.boxSizing="border-box",Xo.position="fixed",Xo.top="24px",Xo.left="50%",Xo.marginLeft=-jo/2+"px",Xo.width=jo+"px",Xo.padding="24px",Xo.overflow="hidden",Xo.background="#fafafa",Xo.fontFamily="'Roboto', sans-serif",Xo.boxShadow="0px 5px 20px #666",Wo.appendChild(this.createH1_("Select your viewer")),_o)Wo.appendChild(this.createChoice_(Zs,_o[Zs].label));return Wo.appendChild(this.createButton_("Save",this.onSave_.bind(this))),Lo.appendChild(zo),Lo.appendChild(Wo),Lo},Iu.prototype.createH1_=function(_o){var Lo=document.createElement("h1"),zo=Lo.style;return zo.color="black",zo.fontSize="20px",zo.fontWeight="bold",zo.marginTop=0,zo.marginBottom="24px",Lo.innerHTML=_o,Lo},Iu.prototype.createChoice_=function(_o,Lo){var zo=document.createElement("div");zo.style.marginTop="8px",zo.style.color="black";var jo=document.createElement("input");jo.style.fontSize="30px",jo.setAttribute("id",_o),jo.setAttribute("type","radio"),jo.setAttribute("value",_o),jo.setAttribute("name","field");var Wo=document.createElement("label");return Wo.style.marginLeft="4px",Wo.setAttribute("for",_o),Wo.innerHTML=Lo,zo.appendChild(jo),zo.appendChild(Wo),zo},Iu.prototype.createButton_=function(_o,Lo){var zo=document.createElement("button");zo.innerHTML=_o;var jo=zo.style;return jo.float="right",jo.textTransform="uppercase",jo.color="#1094f7",jo.fontSize="14px",jo.letterSpacing=0,jo.border=0,jo.background="none",jo.marginTop="16px",zo.addEventListener("click",Lo),zo};var cl=ul(Cu(function(_o,Lo){(function(zo,jo){_o.exports=jo()})(0,function(){return function(zo){var jo={};function Wo(Xo){if(jo[Xo])return jo[Xo].exports;var Zs=jo[Xo]={i:Xo,l:!1,exports:{}};return zo[Xo].call(Zs.exports,Zs,Zs.exports,Wo),Zs.l=!0,Zs.exports}return Wo.m=zo,Wo.c=jo,Wo.d=function(Xo,Zs,fu){Wo.o(Xo,Zs)||Object.defineProperty(Xo,Zs,{configurable:!1,enumerable:!0,get:fu})},Wo.n=function(Xo){var Zs=Xo&&Xo.__esModule?function(){return Xo.default}:function(){return Xo};return Wo.d(Zs,"a",Zs),Zs},Wo.o=function(Xo,Zs){return Object.prototype.hasOwnProperty.call(Xo,Zs)},Wo.p="",Wo(Wo.s=0)}([function(zo,jo,Wo){var Xo=function(){function eu(Lu,Fu){for(var Wu=0;Wu<Fu.length;Wu++){var qu=Fu[Wu];qu.enumerable=qu.enumerable||!1,qu.configurable=!0,"value"in qu&&(qu.writable=!0),Object.defineProperty(Lu,qu.key,qu)}}return function(Lu,Fu,Wu){return Fu&&eu(Lu.prototype,Fu),Wu&&eu(Lu,Wu),Lu}}();function Zs(eu,Lu){if(!(eu instanceof Lu))throw new TypeError("Cannot call a class as a function")}var fu=Wo(1),vu=_a!==void 0&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(_a.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!va.MSStream,Js=function(){function eu(){Zs(this,eu),vu?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",fu),this.noSleepVideo.addEventListener("timeupdate",function(Lu){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return Xo(eu,[{key:"enable",value:function(){vu?(this.disable(),this.noSleepTimer=va.setInterval(function(){va.location.href="/",va.setTimeout(va.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){vu?this.noSleepTimer&&(va.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),eu}();zo.exports=Js},function(zo,jo,Wo){zo.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})})),Ml=1e3,bl=[0,0,.5,1],Tl=[.5,0,.5,1],El=va.requestAnimationFrame,xl=va.cancelAnimationFrame;function _l(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function Al(_o){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:_o.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:_o.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:_o.canPresent},maxLayers:{writable:!1,enumerable:!0,value:_o.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Au("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),_o.hasOrientation}}})}function el(_o){var Lo=!("wakelock"in(_o=_o||{}))||_o.wakelock;this.isPolyfilled=!0,this.displayId=Ml++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return Au("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new Al({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,Lo&&Gs()&&(this.wakelock_=new cl)}el.prototype.getFrameData=function(_o){return ou(_o,this._getPose(),this)},el.prototype.getPose=function(){return Au("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},el.prototype.resetPose=function(){return Au("VRDisplay.prototype.resetPose"),this._resetPose()},el.prototype.getImmediatePose=function(){return Au("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},el.prototype.requestAnimationFrame=function(_o){return El(_o)},el.prototype.cancelAnimationFrame=function(_o){return xl(_o)},el.prototype.wrapForFullscreen=function(_o){if(Co())return _o;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var Lo=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",Lo.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==_o)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=_o,this.originalParent_=_o.parentElement,this.originalParent_||document.body.appendChild(_o),!this.fullscreenWrapper_.parentElement){var zo=this.fullscreenElement_.parentElement;zo.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),zo.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var jo=this;function Wo(){if(jo.fullscreenElement_){var Xo=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];jo.fullscreenElement_.setAttribute("style",Xo.join("; ")+";")}}return Wo(),this.fullscreenWrapper_},el.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var _o=this.fullscreenElement_;this.fullscreenElementCachedStyle_?_o.setAttribute("style",this.fullscreenElementCachedStyle_):_o.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var Lo=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(_o),this.originalParent_===Lo?Lo.insertBefore(_o,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(_o),Lo.removeChild(this.fullscreenWrapper_),_o}},el.prototype.requestPresent=function(_o){var Lo=this.isPresenting,zo=this;return _o instanceof Array||(Au("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),_o=[_o]),new Promise(function(jo,Wo){if(zo.capabilities.canPresent)if(_o.length==0||_o.length>zo.capabilities.maxLayers)Wo(new Error("Invalid number of layers."));else{var Xo=_o[0];if(Xo.source){var Zs=Xo.leftBounds||bl,fu=Xo.rightBounds||Tl;if(Lo){var vu=zo.layer_;vu.source!==Xo.source&&(vu.source=Xo.source);for(var Js=0;Js<4;Js++)vu.leftBounds[Js]=Zs[Js],vu.rightBounds[Js]=fu[Js];return zo.wrapForFullscreen(zo.layer_.source),zo.updatePresent_(),void jo()}if(zo.layer_={predistorted:Xo.predistorted,source:Xo.source,leftBounds:Zs.slice(0),rightBounds:fu.slice(0)},zo.waitingForPresent_=!1,zo.layer_&&zo.layer_.source){var eu=zo.wrapForFullscreen(zo.layer_.source),Lu=function(){var Wu=Ko();zo.isPresenting=eu===Wu,zo.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(qu){console.error("screen.orientation.lock() failed due to",qu.message)}),zo.waitingForPresent_=!1,zo.beginPresent_(),jo()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),zo.removeFullscreenWrapper(),zo.disableWakeLock(),zo.endPresent_(),zo.removeFullscreenListeners_()),zo.fireVRDisplayPresentChange_()},Fu=function(){zo.waitingForPresent_&&(zo.removeFullscreenWrapper(),zo.removeFullscreenListeners_(),zo.disableWakeLock(),zo.waitingForPresent_=!1,zo.isPresenting=!1,Wo(new Error("Unable to present.")))};zo.addFullscreenListeners_(eu,Lu,Fu),Ho(eu)?(zo.enableWakeLock(),zo.waitingForPresent_=!0):(Co()||Io())&&(zo.enableWakeLock(),zo.isPresenting=!0,zo.beginPresent_(),zo.fireVRDisplayPresentChange_(),jo())}zo.waitingForPresent_||Co()||(Fo(),Wo(new Error("Unable to present.")))}else jo()}else Wo(new Error("VRDisplay is not capable of presenting."))})},el.prototype.exitPresent=function(){var _o=this.isPresenting,Lo=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(zo,jo){_o?(!Fo()&&Co()&&(Lo.endPresent_(),Lo.fireVRDisplayPresentChange_()),Io()&&(Lo.removeFullscreenWrapper(),Lo.removeFullscreenListeners_(),Lo.endPresent_(),Lo.fireVRDisplayPresentChange_()),zo()):jo(new Error("Was not presenting to VRDisplay."))})},el.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},el.prototype.fireVRDisplayPresentChange_=function(){var _o=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});va.dispatchEvent(_o)},el.prototype.fireVRDisplayConnect_=function(){var _o=new CustomEvent("vrdisplayconnect",{detail:{display:this}});va.dispatchEvent(_o)},el.prototype.addFullscreenListeners_=function(_o,Lo,zo){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=_o,this.fullscreenChangeHandler_=Lo,this.fullscreenErrorHandler_=zo,Lo&&(document.fullscreenEnabled?_o.addEventListener("fullscreenchange",Lo,!1):document.webkitFullscreenEnabled?_o.addEventListener("webkitfullscreenchange",Lo,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",Lo,!1):document.msFullscreenEnabled&&_o.addEventListener("msfullscreenchange",Lo,!1)),zo&&(document.fullscreenEnabled?_o.addEventListener("fullscreenerror",zo,!1):document.webkitFullscreenEnabled?_o.addEventListener("webkitfullscreenerror",zo,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",zo,!1):document.msFullscreenEnabled&&_o.addEventListener("msfullscreenerror",zo,!1))},el.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var _o=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var Lo=this.fullscreenChangeHandler_;_o.removeEventListener("fullscreenchange",Lo,!1),_o.removeEventListener("webkitfullscreenchange",Lo,!1),document.removeEventListener("mozfullscreenchange",Lo,!1),_o.removeEventListener("msfullscreenchange",Lo,!1)}if(this.fullscreenErrorHandler_){var zo=this.fullscreenErrorHandler_;_o.removeEventListener("fullscreenerror",zo,!1),_o.removeEventListener("webkitfullscreenerror",zo,!1),document.removeEventListener("mozfullscreenerror",zo,!1),_o.removeEventListener("msfullscreenerror",zo,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},el.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},el.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},el.prototype.beginPresent_=function(){},el.prototype.endPresent_=function(){},el.prototype.submitFrame=function(_o){},el.prototype.getEyeParameters=function(_o){return null};var gl={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},rl={LEFT:"left",RIGHT:"right"};function tl(_o){var Lo=qs({},gl);_o=qs(Lo,_o||{}),el.call(this,{wakelock:_o.MOBILE_WAKE_LOCK}),this.config=_o,this.displayName="Cardboard VRDisplay",this.capabilities=new Al({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new Ro(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new iu(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new ll(this.dpdb_.getDeviceParams(),_o.ADDITIONAL_VIEWERS),this.viewerSelector_=new Iu(_o.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new Zo),Co()&&va.addEventListener("resize",this.onResize_.bind(this))}return tl.prototype=Object.create(el.prototype),tl.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},tl.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},tl.prototype._getFieldOfView=function(_o){var Lo;if(_o==rl.LEFT)Lo=this.deviceInfo_.getFieldOfViewLeftEye();else{if(_o!=rl.RIGHT)return console.error("Invalid eye provided: %s",_o),null;Lo=this.deviceInfo_.getFieldOfViewRightEye()}return Lo},tl.prototype._getEyeOffset=function(_o){var Lo;if(_o==rl.LEFT)Lo=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(_o!=rl.RIGHT)return console.error("Invalid eye provided: %s",_o),null;Lo=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return Lo},tl.prototype.getEyeParameters=function(_o){var Lo=this._getEyeOffset(_o),zo=this._getFieldOfView(_o),jo={offset:Lo,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(jo,"fieldOfView",{enumerable:!0,get:function(){return Au("VRFieldOfView","VRFrameData's projection matrices"),zo}}),jo},tl.prototype.onDeviceParamsUpdated_=function(_o){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(_o),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},tl.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},tl.prototype.beginPresent_=function(){var _o=this.layer_.source.getContext("webgl");_o||(_o=this.layer_.source.getContext("experimental-webgl")),_o||(_o=this.layer_.source.getContext("webgl2")),_o&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(_o.canvas.width=$o()*this.bufferScale_,_o.canvas.height=Vo()*this.bufferScale_,this.cardboardUI_=new Eu(_o)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new Eu(_o)),this.distorter_=new mu(_o,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(Lo){this.viewerSelector_.show(this.layer_.source.parentElement),Lo.stopPropagation(),Lo.preventDefault()}.bind(this),function(Lo){this.exitPresent(),Lo.stopPropagation(),Lo.preventDefault()}.bind(this)),this.rotateInstructions_&&(Oo()&&Gs()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),va.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),va.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},tl.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),va.removeEventListener("orientationchange",this.orientationHandler),va.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},tl.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},tl.prototype.submitFrame=function(_o){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var Lo=this.layer_.source.getContext("webgl");Lo||(Lo=this.layer_.source.getContext("experimental-webgl")),Lo||(Lo=this.layer_.source.getContext("webgl2"));var zo=Lo.canvas;zo.width==this.lastWidth&&zo.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=zo.width,this.lastHeight=zo.height,this.cardboardUI_.render()}},tl.prototype.onOrientationChange_=function(_o){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},tl.prototype.onResize_=function(_o){if(this.layer_){var Lo=this.layer_.source.getContext("webgl");Lo||(Lo=this.layer_.source.getContext("experimental-webgl")),Lo||(Lo=this.layer_.source.getContext("webgl2"));var zo=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];Lo.canvas.setAttribute("style",zo.join("; ")+";"),lu(Lo.canvas)}},tl.prototype.onViewerChanged_=function(_o){this.deviceInfo_.setViewer(_o),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},tl.prototype.fireVRDisplayDeviceParamsChange_=function(){var _o=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});va.dispatchEvent(_o)},tl.VRFrameData=_l,tl.VRDisplay=el,tl})})),so="0.10.12",uo={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function co(vo){this.config=ao(ao({},uo),vo),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in _a,this.native={},this.native.getVRDisplays=_a.getVRDisplays,this.native.VRFrameData=va.VRFrameData,this.native.VRDisplay=va.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&no())&&(this.enable(),this.getVRDisplays().then(function(go){go&&go[0]&&go[0].fireVRDisplayConnect_&&go[0].fireVRDisplayConnect_()}))}co.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(no()){var vo=new oo({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(vo)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},co.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var vo=this.native.VRFrameData,go=new this.native.VRFrameData,mo=this.native.VRDisplay.prototype.getFrameData;va.VRDisplay.prototype.getFrameData=function(lo){lo instanceof vo?mo.call(this,lo):(mo.call(this,go),lo.pose=go.pose,io(go.leftProjectionMatrix,lo.leftProjectionMatrix),io(go.rightProjectionMatrix,lo.rightProjectionMatrix),io(go.leftViewMatrix,lo.leftViewMatrix),io(go.rightViewMatrix,lo.rightViewMatrix))}}_a.getVRDisplays=this.getVRDisplays.bind(this),va.VRDisplay=oo.VRDisplay,va.VRFrameData=oo.VRFrameData},co.prototype.getVRDisplays=function(){var vo=this;return this.config,this.hasNative?this.native.getVRDisplays.call(_a).then(function(go){return go.length>0?go:vo.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},co.version=so,co.VRFrameData=oo.VRFrameData,co.VRDisplay=oo.VRDisplay;var fo=Object.freeze({default:co}),po=fo&&co||fo;return eo!==void 0&&eo.window&&(eo.document||(eo.document=eo.window.document),eo.navigator||(eo.navigator=eo.window.navigator)),po}(typeof window<"u"?window:{screen:{width:512,height:512}},typeof navigator<"u"?navigator:{userAgent:"node"});function ss(va,_a){var eo,to,ro,no,io=new r$4.Vector3,ao=new r$4.Vector3,oo=null;"VRFrameData"in window&&(oo=new window.VRFrameData),typeof navigator<"u"&&navigator.getVRDisplays&&navigator.getVRDisplays().then(function(Ao){to=Ao,Ao.length>0?eo=Ao[0]:_a&&_a(new Error("HMD not available"))}).catch(function(){console.warn("THREE.VREffect: Unable to get VR Displays")}),this.isPresenting=!1,this.scale=1;var so=this,uo=va.getSize(new r$4.Vector2),co=!1,fo=va.getPixelRatio();this.getVRDisplay=function(){return eo},this.setVRDisplay=function(Ao){eo=Ao},this.getVRDisplays=function(){return console.warn("THREE.VREffect: getVRDisplays() is being deprecated."),to},this.setSize=function(Ao,Eo,To){if(uo=new r$4.Vector2(Ao,Eo),co=To,so.isPresenting){var No=eo.getEyeParameters("left");va.setPixelRatio(1),va.setSize(2*No.renderWidth,No.renderHeight,!1)}else va.setPixelRatio(fo),va.setSize(Ao,Eo,To)};var po=va.domElement,vo=[0,0,.5,1],go=[.5,0,.5,1];function mo(){var Ao=so.isPresenting;if(so.isPresenting=eo!==void 0&&eo.isPresenting,so.isPresenting){var Eo=eo.getEyeParameters("left"),To=Eo.renderWidth,No=Eo.renderHeight;Ao||(fo=va.getPixelRatio(),uo=va.getSize(new r$4.Vector2),va.setPixelRatio(1),va.setSize(2*To,No,!1))}else Ao&&(va.setPixelRatio(fo),va.setSize(uo.width,uo.height,co))}window.addEventListener("vrdisplaypresentchange",mo,!1),this.setFullScreen=function(Ao){return new Promise(function(Eo,To){eo!==void 0?so.isPresenting!==Ao?Ao?(eo.requestPresent([{source:po}]),Eo()):(eo.exitPresent(),Eo()):Eo():To(new Error("No VR hardware found."))})},this.requestPresent=function(){return this.setFullScreen(!0)},this.exitPresent=function(){return this.setFullScreen(!1)},this.requestAnimationFrame=function(Ao){return eo!==void 0?eo.requestAnimationFrame(Ao):window.requestAnimationFrame(Ao)},this.cancelAnimationFrame=function(Ao){eo!==void 0?eo.cancelAnimationFrame(Ao):window.cancelAnimationFrame(Ao)},this.submitFrame=function(){eo!==void 0&&so.isPresenting&&eo.submitFrame()},this.autoSubmitFrame=!0;var lo=new r$4.PerspectiveCamera;lo.layers.enable(1);var ho=new r$4.PerspectiveCamera;function yo(Ao,Eo,To,No){var Co=Math.PI/180;return function(Io,Mo,wo,xo){wo=wo===void 0?.01:wo,xo=xo===void 0?1e4:xo;var bo=(Mo=Mo===void 0||Mo)?-1:1,So=new r$4.Matrix4,Do=So.elements,Oo=function(Bo){var $o=2/(Bo.leftTan+Bo.rightTan),Vo=(Bo.leftTan-Bo.rightTan)*$o*.5,Ho=2/(Bo.upTan+Bo.downTan);return{scale:[$o,Ho],offset:[Vo,(Bo.upTan-Bo.downTan)*Ho*.5]}}(Io);return Do[0]=Oo.scale[0],Do[1]=0,Do[2]=Oo.offset[0]*bo,Do[3]=0,Do[4]=0,Do[5]=Oo.scale[1],Do[6]=-Oo.offset[1]*bo,Do[7]=0,Do[8]=0,Do[9]=0,Do[10]=xo/(wo-xo)*-bo,Do[11]=xo*wo/(wo-xo),Do[12]=0,Do[13]=0,Do[14]=bo,Do[15]=0,So.transpose(),So}({upTan:Math.tan(Ao.upDegrees*Co),downTan:Math.tan(Ao.downDegrees*Co),leftTan:Math.tan(Ao.leftDegrees*Co),rightTan:Math.tan(Ao.rightDegrees*Co)},Eo,To,No)}ho.layers.enable(2),this.render=function(Ao,Eo){var To,No;if(eo&&so.isPresenting){var Co=Ao.autoUpdate;Co&&(Ao.updateMatrixWorld(),Ao.autoUpdate=!1);var Io=eo.getEyeParameters("left"),Mo=eo.getEyeParameters("right");io.fromArray(Io.offset),ao.fromArray(Mo.offset),Array.isArray(Ao)&&(console.warn("THREE.VREffect.render() no longer supports arrays. Use object.layers instead."),Ao=Ao[0]);var wo,xo,bo=va.getSize(new r$4.Vector2),So=eo.getLayers();if(So.length){var Do=So[0];wo=Do.leftBounds!==null&&((To=Do.leftBounds)===null||To===void 0?void 0:To.length)===4?Do.leftBounds:vo,xo=Do.rightBounds!==null&&((No=Do.rightBounds)===null||No===void 0?void 0:No.length)===4?Do.rightBounds:go}else wo=vo,xo=go;ro={x:Math.round(bo.width*wo[0]),y:Math.round(bo.height*wo[1]),width:Math.round(bo.width*wo[2]),height:Math.round(bo.height*wo[3])},no={x:Math.round(bo.width*xo[0]),y:Math.round(bo.height*xo[1]),width:Math.round(bo.width*xo[2]),height:Math.round(bo.height*xo[3])},va.setScissorTest(!0),va.autoClear&&va.clear(),Eo.parent===null&&Eo.updateMatrixWorld(),Eo.matrixWorld.decompose(lo.position,lo.quaternion,lo.scale),Eo.matrixWorld.decompose(ho.position,ho.quaternion,ho.scale);var Oo=this.scale;return lo.translateOnAxis(io,Oo),ho.translateOnAxis(ao,Oo),eo.getFrameData&&oo?(eo.depthNear=Eo.near,eo.depthFar=Eo.far,eo.getFrameData(oo),lo.projectionMatrix.elements=[].slice.call(oo.leftProjectionMatrix),ho.projectionMatrix.elements=[].slice.call(oo.rightProjectionMatrix)):(lo.projectionMatrix=yo(Io.fieldOfView,!0,Eo.near,Eo.far),ho.projectionMatrix=yo(Mo.fieldOfView,!0,Eo.near,Eo.far)),va.setViewport(ro.x,ro.y,ro.width,ro.height),va.setScissor(ro.x,ro.y,ro.width,ro.height),va.render(Ao,lo),va.setViewport(no.x,no.y,no.width,no.height),va.setScissor(no.x,no.y,no.width,no.height),va.render(Ao,ho),va.setViewport(0,0,bo.width,bo.height),va.setScissorTest(!1),Co&&(Ao.autoUpdate=!0),void(so.autoSubmitFrame&&so.submitFrame())}va.render(Ao,Eo)},this.dispose=function(){window.removeEventListener("vrdisplaypresentchange",mo,!1)}}var os=new r$4.SphereBufferGeometry(.1,32,32);function as(va,_a){va.setValues({color:_a})}var us=function(va){function _a(){var eo=va.call(this)||this,to=new r$4.MeshBasicMaterial({color:8900346,opacity:.5,transparent:!0});return eo.mesh=new r$4.Mesh(os,to),eo.current=!1,eo.add(eo.mesh),eo.loading=!1,eo.disabled=!1,eo.progress=0,eo.opacity=1,eo.needsRender=!0,eo}return t$3.__extends(_a,va),_a.prototype.draw=function(){this.progress>0?as(this.mesh.material,16776960):this.current?as(this.mesh.material,65280):as(this.mesh.material,8900346)},_a.prototype.setDisabled=function(eo){this.disabled!==eo&&(this.disabled=eo)},_a.prototype.setLoading=function(eo){this.loading!==eo&&(this.loading=eo)},_a.prototype.setProgress=function(eo){this.progress!==eo&&(this.progress=eo)},_a.prototype.setOpacity=function(eo){this.opacity!==eo&&(this.opacity=eo)},_a.prototype.setCurrent=function(eo){this.current!==eo&&(this.current=eo,this.draw())},_a.prototype.dispose=function(){this.remove(this.mesh),Array.isArray(this.mesh.material)?this.mesh.material.forEach(function(eo){return eo.dispose()}):this.mesh.material.dispose()},_a}(r$4.Object3D),cs=null,As=[{zh:"1. \u8FDB\u5165: \u5C06\u624B\u673A\u6A2A\u5C4F\u653E\u5165VR\u773C\u955C\u4E2D",en:"1. Enter: Put your phone<br/> horizontally into the VR glasses",ja:"1. \u5165\u529B\uFF1A\u96FB\u8A71\u3092VR\u30E1\u30AC\u30CD\u306B\u6C34\u5E73\u306B\u7F6E\u304D\u307E\u3059"},{zh:"2. \u524D\u8FDB: \u89C6\u89D2\u4E2D\u5FC3\u5BF9\u51C6\u84DD\u70B9, \u76F4\u81F3\u53D8\u7EFF",en:"2. Forward: align the center of the viewing<br/> angle with the blue dot, until it turns green",ja:"2. \u524D\u65B9\uFF1A\u7DD1\u8272\u306B\u5909\u308F\u308B\u307E\u3067\u3001<br/>\u8996\u91CE\u89D2\u306E\u4E2D\u5FC3\u3092\u9752\u3044\u70B9\u306B\u5408\u308F\u305B\u307E\u3059"},{zh:"3. \u9000\u51FA: \u5C06\u624B\u673A\u7AD6\u5C4F\u518D\u89E6\u78B0\u5C4F\u5E55",en:"3. Exit: Put the phone in portrait<br/> orientation and then touch the screen",ja:"3. \u7D42\u4E86\uFF1A\u96FB\u8A71\u3092\u7E26\u5411\u304D\u306B\u3057\u3066\u304B\u3089<br/>\u753B\u9762\u306B\u30BF\u30C3\u30C1\u3057\u307E\u3059"}],ls=function(va){function _a(eo){var to=this;Vi(cs)&&(cs=new rs(eo.webvrPolyfillConfig||{}));var ro=_a.parseArgs(eo);return(to=va.call(this,ro)||this).effect=new ss(to.renderer),to.effect.setSize(to.element.offsetWidth,to.element.offsetHeight),to.effect.isPresenting=!0,to.initHelper(to.element),to}return t$3.__extends(_a,va),_a.parseArgs=function(eo){var to=t$3.__assign(t$3.__assign({},eo),{maxLatitude:Math.PI/2,minLatitude:-Math.PI/2});return va.parseArgs.call(this,to)},_a.initAnimationEndPose=function(eo){var to=this.parseArgs(eo);return va.initAnimationEndPose.call(this,to)},_a.prototype.destroy=function(){va.prototype.destroy.call(this),this.destroyHelper();for(var eo=0,to=this.panoMeshes;eo<to.length;eo++){var ro=to[eo];this.helper.remove(ro),ro.dispose()}this.panoMeshes.length=0},_a.prototype.isReady=function(){return!1},_a.prototype.updateRenderSize=function(){this.effect.isPresenting=!1,this.effect.setSize(this.element.offsetWidth,this.element.offsetHeight),this.effect.isPresenting=!0,this.needsRender=!0,this.setHelperElementSize()},_a.prototype.updatePanoMeshes=function(){var eo=this;this.panoMeshes.forEach(function(io){eo.helper.remove(io),io.dispose()}),this.panoMeshes.length=0;for(var to=0;to<this.work.observers.length;to++){var ro=this.work.observers[to],no=new us;no.name="panoSphere_".concat(this.work.workCode,"_").concat(to),no.position.copy(ro.position),no.needsRender=!0,this.helper.add(no),this.panoMeshes[to]=no}},_a.prototype.updateTime=function(eo,to){var ro,no;if(!this.destroyed){this.needsRender=!0,this.intersect(eo);var io={},ao={};if(this.locationMotion.ended===!1){this.locationMotion.update(eo);var oo=this.locationMotion.getKeyFrameSegment(eo),so=oo[0],uo=oo[1],co=this.panoResourceFromLocationMotionKeyframe(so),fo=this.panoResourceFromLocationMotionKeyframe(uo),po=this.panoResourceFromLocationMotionKeyframe(this.locationMotion.keyframes[0]),vo=this.panoResourceFromLocationMotionKeyframe(this.locationMotion.keyframes[this.locationMotion.keyframes.length-1]),go=co.position,mo=fo.position,lo=this.locationMotion.value.count-uo.value.count+1;io.modelAlpha=this.locationMotion.value.modelAlpha,io.perspToOrtho=cn(1-10*(1-this.locationMotion.value.perspToOrtho),0,1),io.useBlackTransition=fo.effect==="instant",fo.panoPicture&&(lo<1?co.panoPicture&&(io.pano0=co.panoPicture):io.pano0=fo.panoPicture,io.pano1=fo.panoPicture),fo.effect==="fade"&&(io.pano0&&co.panoPicture&&(io.pano0={map:io.pano0.map,luminanceMap:io.pano0.luminanceMap,matrix:co.panoPicture.matrix.clone().setPosition(fo.position)}),go.copy(mo)),io.progress=lo,ao.distance=this.locationMotion.value.distance,ao.offset=new r$4.Vector3(go.x+(mo.x-go.x)*lo,go.y+(mo.y-go.y)*lo,go.z+(mo.z-go.z)*lo);for(var ho=[],yo=[],Ao=0,Eo=this.locationMotion.keyframes;Ao<Eo.length;Ao++){var To=(Bo=Eo[Ao]).key,No=Bo.progress;To!==void 0&&(ho.push(To),No>=this.locationMotion.progress&&yo.push(To))}for(var Co=0,Io=Object.keys(this.panoResources);Co<Io.length;Co++){var Mo=Io[Co];if(!(yo.indexOf(Mo)>=0)){var wo=this.panoResources[Mo];if(wo.panoPicture){var xo=wo.panoPicture.map;if(xo){if(xo===((ro=io.pano0)===null||ro===void 0?void 0:ro.map)||xo===((no=io.pano1)===null||no===void 0?void 0:no.map))continue;xo.dispose(),wo.panoPicture=null}}ho.indexOf(Mo)>=0||delete this.panoResources[Mo]}}this.currentPanoIndex=lo<.5?co.panoIndex:fo.panoIndex,this.emit("movingToPano",vo.panoIndex,po.panoIndex,this.locationMotion.progress)}for(var bo=this.work.observers[this.currentPanoIndex].visibleNodes.concat(this.currentPanoIndex),So=[],Do=0,Oo=this.locationMotion.keyframes;Do<Oo.length;Do++){var Bo;(Bo=Oo[Do]).progress>=this.locationMotion.progress&&So.push(this.panoResourceFromLocationMotionKeyframe(Bo).panoIndex)}for(var $o=0;$o<this.work.observers.length;$o++){var Vo=this.work.observers[$o],Ho=this.panoMeshes[$o];if(Ho.visible=!0,So.indexOf($o)>=0)Ho.visible=!1;else if(Vo.loadable||Vo.active)if(bo.indexOf($o)===-1)Ho.visible=!1;else{Ho.visible=!0;var Fo=Ho.position.clone().setY(this.camera.position.y).distanceTo(this.camera.position);Fo<.01?Ho.setOpacity(0):Ho.setOpacity(cn(1.5/Fo,0,1))}else Ho.visible=!0}dr(io)===!1&&(this.model.setMaterial(io),this.boundingMesh.setMaterial(io)),ao.offset&&this.camera.position.copy(ao.offset);var Ko=this.camera.pose.longitude,$s=this.camera.pose.latitude,au=this.effect.getVRDisplay();if(au){var Ks=au.getPose();Ks&&Ks.orientation&&this.camera.quaternion.fromArray(Ks.orientation)}this.camera.updateMatrixWorld(),this.camera.computePose(),Ko===this.camera.pose.longitude&&$s===this.camera.pose.latitude||(this.cameraMotion.set(ni(this.camera.pose,["longitude","latitude"]),0).catch(Pe),this.emit("cameraDirectionUpdate",ni(this.camera.pose,["longitude","latitude"]),!0),this.emit("cameraUpdate",gr(ni(this.camera.pose,["longitude","latitude","fov","offset"])),!0))}},_a.prototype.render=function(){this.effect.render(this.scene,this.camera)},_a.prototype.setCamera=function(eo){},_a.prototype.initHelper=function(eo){for(var to=this,ro="five_webvr_helper_"+Xn(),no=1,io=document.getElementsByTagName("meta"),ao=0;ao<io.length;ao++){var oo=io[ao];if(oo.getAttribute("name")==="viewport"){var so=(oo.getAttribute("content")||"").match(/initial\-scale\=([\d|\.]+)/);so&&(no=Number(so[1])),isNaN(no)&&(no=1)}}var uo=document.createElement("style");uo.setAttribute("type","text/css");var co,fo,po=(fo=function(mo){return Math.floor(mo*no)+"px"},`
    .`.concat(co=ro,`{
      font-family:sans-serif;
      background:#394043;color:#ffffff;
      position:absolute;display:none;
      -webkit-tap-highlight-color:rgba(0,0,0,0);
    }
    .`).concat(co,` img{
      position:absolute;top:50%;left:50%;
      -webkit-transform:translate(-50%,-100%);
      -moz-transform:translate(-50%,-100%);
      transform:translate(-50%,-100%);
      pointer-events:none;
      width:`).concat(fo(132),`;
      height:`).concat(fo(162),`;
    }
    .`).concat(co,` ol{
      position:absolute;top:50%;left:50%;
      -webkit-transform:translate(-50%,0);
      -moz-transform:translate(-50%,0);
      transform:translate(-50%,0);
      pointer-events:none;
      margin-top:`).concat(fo(38),`;
      font-size:`).concat(fo(16),`;
      line-height:`).concat(fo(30),`;
    }
    .`).concat(co,` li{
      list-style-type:none;
      white-space:nowrap;
      position:relative;
      padding-left:`).concat(fo(14),`;
      margin-bottom:`).concat(fo(12),`;
    }
    @media screen and (orientation: portrait){
      .`).concat(co,`{display: block!important}
    }
  `));"styleSheet"in uo?uo.styleSheet.cssText=po:uo.appendChild(document.createTextNode(po));var vo=this.helperElement=document.createElement("div");vo.className=ro,vo.innerHTML=`
      <img src="`.concat("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTMycHgiIGhlaWdodD0iMTYycHgiIHZpZXdCb3g9IjAgMCAxMzIgMTYyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0Ni4xICg0NDQ2MykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+R3JvdXA8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8cG9seWdvbiBpZD0icGF0aC0xIiBwb2ludHM9IjY1Ljk4NTM0MjMgOTMuMTg5NjU1MiAwIDkzLjE4OTY1NTIgMCAwLjI0NzE1NTE3MiAxMzEuOTcwNjg1IDAuMjQ3MTU1MTcyIDEzMS45NzA2ODUgOTMuMTg5NjU1MiI+PC9wb2x5Z29uPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWKoOi9vemhtS1jb3B5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE4LjAwMDAwMCwgLTE4NC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTguMDAwMDAwLCAxODQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iUGFnZS0xIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaXBob25lIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNS4wMDAwMDAsIDAuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02Mi4yMDIzNzg3LDMyLjI2OTE1MzIgQzYyLjIwODU3NTQsMzQuNDI4MDQyOSA2MC42ODkzNDU5LDM3LjA2MDgzNTEgNTguODA3NjA4MiwzOC4xNDI4NjEgTDU1Ljg3MDM2MjMsMzkuODQwMjM3NyBMNTUuMTc5NDI3OSwzOC42Mzc0MTMgTDU1LjEzNTAxOCwyMi4xNTMwMzY0IEw1Ni4zMTM0Mjc5LDIyLjE0Njg0MTYgQzU2LjMxMzQyNzksMjMuNDk1MjQ0MiA1Ny4yNjk3ODg1LDI0LjAzOTM1NDUgNTguNDQ3MTY1NiwyMy4zNTU4NjEgQzU5LjYxODM0NTksMjIuNjc4NTYyMyA2MC41NjIzMTMxLDIxLjAzOTAwMzkgNjAuNTYyMzEzMSwxOS42OTY3OTYxIEw2Mi4xNjQxNjU2LDE5LjY5MDYwMTMgTDYyLjIwMjM3ODcsMzIuMjY5MTUzMiBaIiBpZD0iRmlsbC0xIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02Mi4xMjAxNjg5LDUuMjYzNjIyNzMgTDYyLjE2MzU0NTksMTkuNjkxMzI0IEw2MC41NjI3MjYyLDE5LjY5NjQ4NjQgQzYwLjU1NTQ5NjcsMTguMzQxODg5IDU5LjYwNTMzMjgsMTcuNzk3Nzc4NiA1OC40Mjc5NTU3LDE4LjQ3NTA3NzMgQzU3LjI1Njc3NTQsMTkuMTUyMzc2IDU2LjMwNjYxMTUsMjAuNzk4MTI5MiA1Ni4zMTI4MDgyLDIyLjE0NzU2NDMgTDU1LjEzNTQzMTEsMjIuMTUyNzI2NiBMNTUuMDkxMDIxMyw3LjAxMDU1Nzc5IEw1NC4zOTQ5MjMsNS44MDc3MzMxMiBMNTguNzA2ODA4MiwzLjMxOTQ4NjM2IEM2MC41ODc1MTMxLDIuMjMxMjY1NTggNjIuMTIwMTY4OSwzLjEwNDczMzEyIDYyLjEyMDE2ODksNS4yNjM2MjI3MyIgaWQ9IkZpbGwtMyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjAuMTEyNjM3NywxOS45NTYxNTE5IEM2MC4xMTI2Mzc3LDIxLjAxMzM5ODcgNTkuMzY0OSwyMi4zMTEyMTA0IDU4LjQ0MDU1NTcsMjIuODQyOTMxMiBDNTcuNTE2MjExNSwyMy4zNzU2ODQ0IDU2Ljc2MjI3NywyMi45NDUxNDU1IDU2Ljc2MjI3NywyMS44ODY4NjYyIEM1Ni43NTYwODAzLDIwLjgyMzQyNDcgNTcuNTAzODE4LDE5LjUyNTYxMyA1OC40MzQzNTksMTguOTkzODkyMiBDNTkuMzUyNTA2NiwxOC40NjIxNzE0IDYwLjEwNjQ0MSwxOC44OTI3MTA0IDYwLjExMjYzNzcsMTkuOTU2MTUxOSIgaWQ9IkZpbGwtNyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS4wMTA4NTkwMiw1My4yOTE1MzQ0IEw4Ljk5MTIzNjA3LDQ1LjYxOTI2ODIgQzguOTkxMjM2MDcsNDUuNDc0NzIyNyA4Ljg5MDAyMjk1LDQ1LjQxNjkwNDUgOC43NjQwMjI5NSw0NS40ODYwNzk5IEM4LjYzNjk5MDE2LDQ1LjU2MzUxNDkgOC41NDE5NzM3Nyw0NS43MzM4NzIxIDguNTQxOTczNzcsNDUuODc4NDE3NSBMOC41NjA1NjM5Myw1My41NTE3MTYyIEM4LjU2MDU2MzkzLDUzLjY5MTA5OTQgOC42NjI4MDk4NCw1My43NDY4NTI2IDguNzgyNjEzMTEsNTMuNjc3Njc3MyBDOC45MDk2NDU5LDUzLjYwMjMwNzEgOS4wMTA4NTkwMiw1My40MzE5NSA5LjAxMDg1OTAyLDUzLjI5MTUzNDQgTDkuMDEwODU5MDIsNTMuMjkxNTM0NCBaIE01NS4xNzk1MzExLDM4LjYzNzcyMjcgTDU1Ljg3MDQ2NTYsMzkuODQwNTQ3NCBMOS4xODc0NjU1Nyw2Ni43ODE3NTUyIEM3LjMwNzc5MzQ0LDY3Ljg3MTAwODQgNS43NzUxMzc3LDY2Ljk5NjUwODQgNS43NzUxMzc3LDY0LjgzODY1MTMgTDUuNjkyNTE0NzUsMzcuODMyMzk4MSBDNS42ODYzMTgwMywzNS42NzU1NzM0IDcuMjA1NTQ3NTQsMzMuMDQxNzQ4NyA5LjA4NzI4NTI1LDMxLjk1ODY5MDMgTDU0LjM5NDYxMzEsNS44MDgzNTI2IEw1NS4wOTA3MTE1LDcuMDExMTc3MjcgTDExLjg5ODUzMTEsMzEuOTM5MDczNCBMMTEuOTg3MzUwOCw2My41NjU2MTg4IEw1NS4xNzk1MzExLDM4LjYzNzcyMjcgWiIgaWQ9IkZpbGwtOSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTUuMzI1ODc3LDAuMDAwNTE2MjMzNzY2IEM1NC44NjYyODY5LDAuMDAwNTE2MjMzNzY2IDU0LjM0Njc5NTEsMC4xNTAyMjQwMjYgNTMuNzk4Mzg1MiwwLjQ2NzE5MTU1OCBMNC4xNzkxNzIxMywyOS4xMDU3NzYgQzIuMjk5NSwzMC4xOTA4OTk0IDAuNzgwMjcwNDkyLDMyLjgyMTYyNjYgMC43ODU0MzQ0MjYsMzQuOTgxNTQ4NyBMMC44NjI4OTM0NDMsNjEuOTg3ODAxOSBDMC44NjU5OTE4MDMsNjMuMDYwNTM1NyAxLjI0Mzk5MTgsNjMuODE1MjY5NSAxLjg1NTQwMTY0LDY0LjE2OTQwNTggTDYuNzY0MjM3Nyw2Ny4wMjIxMTM2IEM2LjE1Mzg2MDY2LDY2LjY2Njk0NDggNS43NzQ4Mjc4Nyw2NS45MTIyMTEgNS43NzE3Mjk1MSw2NC44Mzk0NzczIEw1LjY5NTMwMzI4LDM3LjgzMzIyNCBDNS42ODkxMDY1NiwzNS42NzQzMzQ0IDcuMjA4MzM2MDcsMzMuMDQyNTc0NyA5LjA4ODAwODIsMzEuOTU3NDUxMyBMNTguNzA3MjIxMywzLjMxODg2Njg4IEM1OS4yNTY2NjM5LDMuMDAxODk5MzUgNTkuNzc1MTIzLDIuODUyMTkxNTYgNjAuMjM0NzEzMSwyLjg1MjE5MTU2IEM2MC41NjgzMDMzLDIuODUyMTkxNTYgNjAuODY5ODc3LDIuOTMwNjU5MDkgNjEuMTMwMTM5MywzLjA4MTM5OTM1IEw1Ni4yMjAyNzA1LDAuMjMwNzU2NDk0IEM1NS45NjEwNDEsMC4wNzg5ODM3NjYyIDU1LjY1ODQzNDQsMC4wMDA1MTYyMzM3NjYgNTUuMzI1ODc3LDAuMDAwNTE2MjMzNzY2IE01NS4zMjU4NzcsMC42MzM0MTg4MzEgQzU1LjU0Mzc5NTEsMC42MzM0MTg4MzEgNTUuNzM3OTU5LDAuNjgxOTQ0ODA1IDU1LjkwMjE3MjEsMC43NzY5MzE4MTggTDU4Ljg5NjIyMTMsMi41MTY2Mzk2MSBDNTguNzI4OTA5OCwyLjU4Nzg3OTg3IDU4LjU2MDU2NTYsMi42NzM1NzQ2OCA1OC4zOTExODg1LDIuNzcxNjU5MDkgTDguNzcxOTc1NDEsMzEuNDEwMjQzNSBDNi42ODQ3MTMxMSwzMi42MTQxMDA2IDUuMDU0OTc1NDEsMzUuNDM2ODY2OSA1LjA2MjIwNDkyLDM3LjgzNTI4OSBMNS4xMzg2MzExNSw2NC44NDE1NDIyIEM1LjEzODYzMTE1LDY1LjAyMTE5MTYgNS4xNDg5NTkwMiw2NS4xOTU2Nzg2IDUuMTY3NTQ5MTgsNjUuMzYyOTM4MyBMMi4xNzM1LDYzLjYyMzIzMDUgQzEuNzM4Njk2NzIsNjMuMzcwMjc2IDEuNDk4MDU3MzgsNjIuNzg3OTY0MyAxLjQ5NTk5MTgsNjEuOTg1NzM3IEwxLjQxOTU2NTU3LDM0Ljk3OTQ4MzggQzEuNDEzMzY4ODUsMzMuMDU5MDk0MiAyLjgyMzEyMjk1LDMwLjYxOTM3MzQgNC40OTUyMDQ5MiwyOS42NTQwMTYyIEw1NC4xMTU0NTA4LDEuMDE0Mzk5MzUgQzU0LjU0ODE4ODUsMC43NjU1NzQ2NzUgNTQuOTY2NDY3MiwwLjYzMzQxODgzMSA1NS4zMjU4NzcsMC42MzM0MTg4MzEiIGlkPSJGaWxsLTM1Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05LjA4ODUyNDU5LDMyLjI3NDIxMjMgQzkuMDMzNzg2ODksMzIuMjc0MjEyMyA4Ljk4MDA4MTk3LDMyLjI1OTc1NzggOC45Mjk0NzU0MSwzMi4yMzE4ODEyIEw0LjM4OTM0NDI2LDI5LjU5MzkyNjYgQzQuMjM3NTI0NTksMjkuNTA2MTY2OSA0LjE4NTg4NTI1LDI5LjMxMjA2MyA0LjI3MzY3MjEzLDI5LjE2MTMyMjcgQzQuMzYyNDkxOCwyOS4wMDk1NSA0LjU1NjY1NTc0LDI4Ljk1OTk5MTYgNC43MDc0NDI2MiwyOS4wNDY3MTg4IEw5LjI0NzU3Mzc3LDMxLjY4NDY3MzQgQzkuMzk4MzYwNjYsMzEuNzcyNDMzMSA5LjQ1LDMxLjk2NTUwNDUgOS4zNjIyMTMxMSwzMi4xMTcyNzczIEM5LjMwMzM0NDI2LDMyLjIxNzQyNjYgOS4xOTY5NjcyMSwzMi4yNzQyMTIzIDkuMDg4NTI0NTksMzIuMjc0MjEyMyIgaWQ9IkZpbGwtMzciPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTU4LjcwNzYzNDQsMy42MzUzMTgxOCBDNTguNjUyODk2NywzLjYzNTMxODE4IDU4LjU5OTE5MTgsMy42MjE4OTYxIDU4LjU0ODU4NTIsMy41OTI5ODcwMSBMNTMuOTY5MjA4MiwwLjkzMjMxODE4MiBDNTMuODE4NDIxMywwLjg0NDU1ODQ0MiA1My43NjY3ODIsMC42NTA0NTQ1NDUgNTMuODU0NTY4OSwwLjQ5OTcxNDI4NiBDNTMuOTQyMzU1NywwLjM0NjkwOTA5MSA1NC4xMzY1MTk3LDAuMjk4MzgzMTE3IDU0LjI4NzMwNjYsMC4zODUxMTAzOSBMNTguODY2NjgzNiwzLjA0NTc3OTIyIEM1OS4wMTc0NzA1LDMuMTMzNTM4OTYgNTkuMDY5MTA5OCwzLjMyNjYxMDM5IDU4Ljk4MTMyMywzLjQ3ODM4MzEyIEM1OC45MjI0NTQxLDMuNTc5NTY0OTQgNTguODE2MDc3LDMuNjM1MzE4MTggNTguNzA3NjM0NCwzLjYzNTMxODE4IiBpZD0iRmlsbC0zOSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMy4zMjA5MjYyMyw2My4zMzk5MjE0IEMyLjc5NjI3MDQ5LDYzLjMzOTkyMTQgMi4zNzA3NjIzLDYyLjkxNTU3NzMgMi4zNzA3NjIzLDYyLjM5MDA1MTMgTDIuMzcwNzYyMyw1OC4xMzAwOTAzIEMyLjM3MDc2MjMsNTcuNjA0NTY0MyAyLjc5NjI3MDQ5LDU3LjE4MDIyMDEgMy4zMjA5MjYyMyw1Ny4xODAyMjAxIEMzLjg0NTU4MTk3LDU3LjE4MDIyMDEgNC4yNzAwNTczOCw1Ny42MDQ1NjQzIDQuMjcwMDU3MzgsNTguMTMwMDkwMyBMNC4yNzAwNTczOCw2Mi4zOTAwNTEzIEM0LjI3MDA1NzM4LDYyLjkxNTU3NzMgMy44NDU1ODE5Nyw2My4zMzk5MjE0IDMuMzIwOTI2MjMsNjMuMzM5OTIxNCIgaWQ9IkZpbGwtNDEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTQ3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgNjguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IkNsaXAtNDYiPjwvZz4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc5Ljg2NTUwNjcsNTEuOTU3Njg5NyBDODAuMzMyNzcwNiw1MC4yNzIxNzI0IDgxLjQ3MTM3MTgsNDguNjk5MjkzMSA4Mi43NjcwNzczLDQ3Ljk1MDUzNDUgQzgzLjM3MDM5MDIsNDcuNjAyMDg2MiA4My45NDIxMjAyLDQ3LjQ3OTcyNDEgODQuMzM4OTMwMSw0Ny42MTUwNTE3IEM4NC42MTI2NDc5LDQ3LjcwNzQzMSA4NC44MTgzNDExLDQ3LjkyNjIyNDEgODQuOTY3MzQ3Miw0OC4yODQzOTY2IEw4OC41NTQwMjIxLDU2LjkxOTQzMSBDODguNTYzNzM5OSw1Ni45NDEzMTAzIDg4LjU3NjY5NjksNTYuOTYwNzU4NiA4OC41ODcyMjQ1LDU2Ljk4MTAxNzIgQzg4LjU5Nzc1MjEsNTcuMDAwNDY1NSA4OC42MDU4NTAzLDU3LjAxOTkxMzggODguNjE3OTk3NSw1Ny4wMzg1NTE3IEM4OC42MzUwMDM3LDU3LjA2NDQ4MjggODguNjU1MjQ5MSw1Ny4wODcxNzI0IDg4LjY3NDY4NDcsNTcuMTA5ODYyMSBDODguNjg1MjEyMyw1Ny4xMjM2Mzc5IDg4LjY5NDkzMDEsNTcuMTM4MjI0MSA4OC43MDYyNjc1LDU3LjE0OTU2OSBDODguNzMyMTgxNiw1Ny4xNzYzMTAzIDg4Ljc2MDUyNTIsNTcuMTk5ODEwMyA4OC43ODk2Nzg1LDU3LjIyMTY4OTcgQzg4Ljc5Nzc3NjcsNTcuMjI4MTcyNCA4OC44MDUwNjUsNTcuMjM1NDY1NSA4OC44MTMxNjMyLDU3LjI0MTk0ODMgQzg5LjAwNzUxOSw1Ny4zNzgwODYyIDg5LjI2MjYxMSw1Ny40MjEwMzQ1IDg5LjQ5OTg4NzEsNTcuMzMyNzA2OSBMODkuODMxMTAxOCw1Ny4yMDc5MTM4IEw5MC4wNzQ4NTY0LDU3LjExODc3NTkgQzkwLjIxMDkwNTUsNTcuMDY4NTM0NSA5MC4zNDc3NjQ0LDU3LjAxODI5MzEgOTAuNDg1NDMzMSw1Ni45Njk2NzI0IEM5MC43ODY2ODQ3LDU2Ljg2MTg5NjYgOTEuMDkwMzY1Niw1Ni43NTk3OTMxIDkxLjM5NDA0NjYsNTYuNjU3Njg5NyBMOTIuMzY1MDE2LDU2LjM0MTY1NTIgQzkyLjgwMjMxNjYsNTYuMjAzMDg2MiA5My4yNDA0MjcsNTYuMDY4NTY5IDkzLjY4MjU4NjUsNTUuOTQwNTM0NSBDOTMuODUxMDI4Miw1NS44OTE5MTM4IDk0LjAxOTQ2OTksNTUuODQ0OTEzOCA5NC4xODc5MTE3LDU1Ljc5NjI5MzEgTDk0LjI3OTQyMDksNTUuNzcxMTcyNCBDOTQuNjg0MzI4OCw1NS42NTc3MjQxIDk1LjA5MDA0NjYsNTUuNTQ5OTQ4MyA5NS40OTczODQsNTUuNDQ2MjI0MSBMOTUuNjA2NzA5Miw1NS40MTcwNTE3IEM5NS43NjMwMDM3LDU1LjM3NjUzNDUgOTUuOTIwMTA4LDU1LjMzNjAxNzIgOTYuMDc3MjEyMyw1NS4yOTc5MzEgQzk2LjU2NjM0MTEsNTUuMTc3MTg5NyA5Ny4wNTU0Njk5LDU1LjA2Mzc0MTQgOTcuNTQ2MjE4NCw1NC45NTUxNTUyIEw5Ny44NTM5NDg1LDU0Ljg4NTQ2NTUgQzk4LjQ0NDMwNDMsNTQuNzU5MDUxNyA5OS4wMzcwODk2LDU0LjY0MjM2MjEgOTkuNjI3NDQ1NCw1NC41MzM3NzU5IEwxMDAuMDIxMDE2LDU0LjQ2NjUxNzIgQzEwMC42MTU0MjEsNTQuMzYxMTcyNCAxMDEuMjA5MDE2LDU0LjI2NjM2MjEgMTAxLjgwNDIzMSw1NC4xNzk2NTUyIEwxMDIuMjY1MDE2LDU0LjExMjM5NjYgQzEwMi45NjA2NDgsNTQuMDE2Nzc1OSAxMDMuNjQ3MzcyLDUzLjkzNDEyMDcgMTA0LjMwNTc1Miw1My44NjYwNTE3IEwxMDQuODM2MTgyLDUzLjgxNzQzMSBDMTA1LjIyNjUxMyw1My43ODE3NzU5IDEwNS42MTUyMjUsNTMuNzQ3NzQxNCAxMDYuMDA0NzQ2LDUzLjcyMDE4OTcgQzEwNi4yMTQ0ODgsNTMuNzA0NzkzMSAxMDYuNDIxODAxLDUzLjY5MjYzNzkgMTA2LjYzMDczNCw1My42Nzk2NzI0IEMxMDcuMDAwMDEsNTMuNjU3NzkzMSAxMDcuMzY2ODU2LDUzLjYzODM0NDggMTA3LjczNTMyMyw1My42MjM3NTg2IEMxMDcuOTUyMzUzLDUzLjYxNDg0NDggMTA4LjE2OTM4NCw1My42MDUxMjA3IDEwOC4zODU2MDUsNTMuNTk4NjM3OSBDMTA4LjY0Nzk4NSw1My41OTIxNTUyIDEwOC45MTAzNjYsNTMuNTg3MjkzMSAxMDkuMTczNTU2LDUzLjU4NDA1MTcgQzEwOS42NzgwNzEsNTMuNTc1OTQ4MyAxMTAuMTc4NTM3LDUzLjU3Njc1ODYgMTEwLjY4MDYyMyw1My41ODQ4NjIxIEwxMTAuNzY0MDM0LDUzLjU4NTY3MjQgQzExMC45ODE4NzUsNTMuNTg4OTEzOCAxMTEuMTk5NzE1LDUzLjU5MjE1NTIgMTExLjQxNTEyNiw1My41OTc4Mjc2IEMxMTEuNjI4MTA4LDUzLjYwNTEyMDcgMTExLjg0MDI4LDUzLjYxNDg0NDggMTEyLjA1MjQ1Miw1My42MjM3NTg2IEMxMTIuMzE0MDIyLDUzLjYzNDI5MzEgMTEyLjU3NDc4Myw1My42NDcyNTg2IDExMi44MzQ3MzQsNTMuNjYyNjU1MiBDMTEzLjA0NDQ3Niw1My42NzQ4MTAzIDExMy4yNTQyMTgsNTMuNjg5Mzk2NiAxMTMuNDYzOTYxLDUzLjcwNDc5MzEgQzExMy43MjQ3MjEsNTMuNzI0MjQxNCAxMTMuOTg1NDgyLDUzLjc0NDUgMTE0LjI0MzgxMyw1My43NjcxODk3IEMxMTQuNDMzMzEsNTMuNzg1MDE3MiAxMTQuNjIxOTk4LDUzLjgwMjg0NDggMTE0LjgwOTA2NSw1My44MjIyOTMxIEMxMTUuMDczODc1LDUzLjg0OTAzNDUgMTE1LjMzNjI1NSw1My44Nzk4Mjc2IDExNS41OTYyMDYsNTMuOTExNDMxIEMxMTUuNzgwMDM0LDUzLjkzMzMxMDMgMTE1Ljk2MzA1Myw1My45NTYgMTE2LjE0NDQ1Miw1My45ODAzMTAzIEMxMTYuNDEyNTAxLDU0LjAxNjc3NTkgMTE2LjY3ODEyLDU0LjA1NzI5MzEgMTE2Ljk0MTMxLDU0LjA5ODYyMDcgTDExNy4wOTExMjYsNTQuMTIxMzEwMyBDMTE3LjIxMDE2OSw1NC4xMzkxMzc5IDExNy4zMjY3ODMsNTQuMTU3Nzc1OSAxMTcuNDQyNTg3LDU0LjE3NjQxMzggQzExNy43MzA4ODEsNTQuMjI1ODQ0OCAxMTguMDE1MTI2LDU0LjI3OTMyNzYgMTE4LjMwMDk5MSw1NC4zMzUyNDE0IEwxMTguNDQ2NzU4LDU0LjM2MTk4MjggQzExOC41MzUwMjgsNTQuMzc4MTg5NyAxMTguNjIzMjk4LDU0LjM5NTIwNjkgMTE4LjcxMjM3OCw1NC40MTMwMzQ1IEMxMTkuMDE3Njc5LDU0LjQ3NDYyMDcgMTE5LjMxNzMxLDU0LjU0NDMxMDMgMTE5LjYxNTMyMyw1NC42MTQgTDExOS45NzE2NDIsNTQuNjk0MjI0MSBDMTIwLjM4NDY0OCw1NC43OTU1MTcyIDEyMC43OTE5ODUsNTQuOTAyNDgyOCAxMjEuMTkyODQ0LDU1LjAxNjc0MTQgQzEyMS42MjkzMzUsNTUuMTQyMzQ0OCAxMjIuMDU2OTE4LDU1LjI3NjA1MTcgMTIyLjQ3ODgzMiw1NS40MTc4NjIxIEMxMjIuNTU0MTQ1LDU1LjQ0MjE3MjQgMTIyLjYyNzAyOCw1NS40Njk3MjQxIDEyMi43MDA3MjEsNTUuNDk1NjU1MiBMMTIyLjg1NjIwNiw1NS41NTMxODk3IEMxMjMuMTQ1MzEsNTUuNjU0NDgyOCAxMjMuNDMyNzk1LDU1Ljc1NjU4NjIgMTIzLjcxNjIzMSw1NS44Njc2MDM0IEMxMjMuNzc2OTY3LDU1Ljg5MTEwMzQgMTIzLjgzNTI3NCw1NS45MTYyMjQxIDEyMy44OTQzOSw1NS45NDA1MzQ1IEwxMjQuMDQwOTY3LDU2LjAwMTMxMDMgQzEyNC40MTc1MzEsNTYuMTU0NDY1NSAxMjQuNzg1MTg4LDU2LjMxNDkxMzggMTI1LjE0MzkzNiw1Ni40ODI2NTUyIEwxMjUuMjMwNTg3LDU2LjUyMzE3MjQgQzEyNS4zMjc3NjQsNTYuNTY3NzQxNCAxMjUuNDI0OTQyLDU2LjYxMzEyMDcgMTI1LjUyMjEyLDU2LjY2MTc0MTQgQzEyNS44NTk4MTMsNTYuODI3MDUxNyAxMjYuMTYwMjU1LDU2Ljk4MTgyNzYgMTI2LjQzNTU5Myw1Ny4xMzA5MzEgQzEyNi40MzU1OTMsNTcuMzczMjI0MSAxMjYuNDM1NTkzLDU3LjY4NjgyNzYgMTI2LjQzNjQwMiw1OC4wMDM2NzI0IEwxMjYuNDM2NDAyLDU4LjAyNzE3MjQgQzExNy40MzUyOTgsNTMuNTMzIDEwMy4wNTg2MzYsNTMuNTYyMTcyNCA5MC4wMjU0NTc3LDU4LjE5ODE1NTIgTDg4LjQ5ODE0NDgsNTguMTg2IEw3OC44MzI5OTE0LDU1LjY4NzcwNjkgTDc5Ljg2NTUwNjcsNTEuOTU3Njg5NyBaIE03Ni4yNDQwMDk4LDU3LjQ1OTkzMSBMNzYuMjQ3MjQ5MSw1Ni40MjI2ODk3IEM3Ni4yNDcyNDkxLDU2LjQxNTM5NjYgNzYuMjQ0ODE5Niw1Ni40MDg5MTM4IDc2LjI0NDgxOTYsNTYuNDAxNjIwNyBDNzYuMjQ0MDA5OCw1Ni4zODg2NTUyIDc2LjI0NTYyOTQsNTYuMzc0ODc5MyA3Ni4yNDQwMDk4LDU2LjM2MTkxMzggTDc2LjI0NDAwOTgsNTYuMjI5MDE3MiBDNzYuMjQ0MDA5OCw1NS45NjI0MTM4IDc2LjEwMjI5Miw1NS43MTY4NzkzIDc1Ljg3MTQ5NDUsNTUuNTgzOTgyOCBDNzUuNzMyMjA2MSw1NS41MDM3NTg2IDc1LjU3MzQ4MjIsNTUuNDc3ODI3NiA3NS40MTg4MDc0LDU1LjQ5NDg0NDggQzc1LjI5MzI4NTksNTUuNDE3ODYyMSA3NS4xNjQ1MjUyLDU1LjM0MzMxMDMgNzUuMDQyMjQyOSw1NS4yNjM4OTY2IEM3NS4wMDQxODE2LDU1LjIzODc3NTkgNzQuOTY4NTQ5Nyw1NS4yMTI4NDQ4IDc0LjkyOTY3ODUsNTUuMTg2OTEzOCBDNzQuNjg5MTYzMiw1NS4wMjgwODYyIDc0LjQ1MjY5NjksNTQuODY1MjA2OSA3NC4yMjY3NTgzLDU0LjY5ODI3NTkgQzc0LjIxMjk5MTQsNTQuNjg3NzQxNCA3NC4xOTkyMjQ1LDU0LjY3NzIwNjkgNzQuMTg1NDU3Nyw1NC42Njc0ODI4IEM3My42Nzc3MDMxLDU0LjI4OTg2MjEgNzMuMjA1NTgwNCw1My44OTQ0MTM4IDcyLjc3Mzk0ODUsNTMuNDgwMzI3NiBDNzMuNDc3Njc4NSw1MS45MzAxMzc5IDczLjg0NjE0NDgsNTAuMzY2OTgyOCA3My44NDIwOTU3LDQ4LjkzMDI0MTQgQzczLjgzNzIzNjgsNDcuMTYyODc5MyA3My4yNDYwNzEyLDQ1Ljc1NTMxMDMgNzIuMTc3MTE0MSw0NC45NjYwMzQ1IEM3MS43MzczODQsNDQuNjQwMjc1OSA3MS4yMjgwMDk4LDQ0LjQzNjg3OTMgNzAuNjc3MzM1LDQ0LjM0NjEyMDcgQzcwLjY4Nzg2MjYsNDQuMzIzNDMxIDcwLjY5ODM5MDIsNDQuMjk3NSA3MC43MDg5MTc4LDQ0LjI3NDgxMDMgQzcwLjcxMDUzNzQsNDQuMjcxNTY5IDcwLjczMzIxMjMsNDQuMjI3IDcwLjczNDgzMTksNDQuMjIzNzU4NiBDNzAuNzk3OTk3NSw0NC4wOTI0ODI4IDcwLjg2NzY0MTcsNDMuOTYyODI3NiA3MC45MzcyODU5LDQzLjgzMDc0MTQgTDcxLjE4MjY2MDEsNDMuMzU2Njg5NyBDNzEuMjM2MTA4LDQzLjI2MjY4OTcgNzEuMjkxOTg1Myw0My4xNjc4NzkzIDcxLjM0ODY3MjQsNDMuMDczMDY5IEw3MS40MTUwNzczLDQyLjk2Mjg2MjEgQzcxLjUzNDkzMDEsNDIuNzYxMDg2MiA3MS42NTg4MzE5LDQyLjU1ODUgNzEuNzkwMDIyMSw0Mi4zNTY3MjQxIEM3MS44NzAxOTM5LDQyLjIzMjc0MTQgNzEuOTUzNjA0OSw0Mi4xMDg3NTg2IDcyLjAzNzgyNTgsNDEuOTg2Mzk2NiBDNzIuMTc1NDk0NSw0MS43ODYyNDE0IDcyLjMxODAyMjEsNDEuNTg2ODk2NiA3Mi40NjU0MDg2LDQxLjM4OTE3MjQgTDcyLjU2MTc3NjcsNDEuMjU3ODk2NiBDNzIuNjU0OTA1NSw0MS4xMzIyOTMxIDcyLjc0ODAzNDQsNDEuMDA1ODc5MyA3Mi44NDUyMTIzLDQwLjg4MjcwNjkgQzcyLjg4NDg5MzMsNDAuODMxNjU1MiA3Mi45MjcwMDM3LDQwLjc4MjIyNDEgNzIuOTY5MTE0MSw0MC43MzExNzI0IEw3My4wNTk4MTM1LDQwLjYyMzM5NjYgQzczLjIwOTYyOTQsNDAuNDQwMjU4NiA3My4zNTk0NDU0LDQwLjI1NzkzMSA3My41MzM1NTU4LDQwLjA1Nzc3NTkgQzczLjc2NTk3MywzOS43OTAzNjIxIDc0LjAxMDUzNzQsMzkuNTI0NTY5IDc0LjI2NDAwOTgsMzkuMjU5NTg2MiBDNzQuMzQ0MTgxNiwzOS4xNzUzMTAzIDc0LjQyNTE2MzIsMzkuMDkxMDM0NSA3NC41MDg1NzQyLDM5LjAwNjc1ODYgQzc0Ljc1NzE4NzcsMzguNzUxNSA3NS4wMTM4OTk0LDM4LjUwMDI5MzEgNzUuMjg1MTg3NywzOC4yNDM0MTM4IEw3NS4zNjEzMTA0LDM4LjE3MTI5MzEgQzc1LjQ1NjA1ODksMzguMDgxMzQ0OCA3NS41NTU2NjYzLDM3Ljk5MzgyNzYgNzUuNjU1MjczNiwzNy45MDM4NzkzIEw3NS44NzM5MjM5LDM3LjcwODU4NjIgQzc2LjAzODMxNjYsMzcuNTYxMTAzNCA3Ni4yMDE4OTk0LDM3LjQxNTI0MTQgNzYuMzcyNzcwNiwzNy4yNjkzNzkzIEM3Ni40NzM5OTc1LDM3LjE4NDI5MzEgNzYuNTc3NjU0LDM3LjA5ODM5NjYgNzYuNjgxMzEwNCwzNy4wMTMzMTAzIEw3Ni43ODkwMTYsMzYuOTIzMzYyMSBDNzcuMDIzODYyNiwzNi43MzEzMTAzIDc3LjI2MDMyODgsMzYuNTM5MjU4NiA3Ny41MDQwODM0LDM2LjM0ODgyNzYgQzc3LjY1NzEzODcsMzYuMjMwNTE3MiA3Ny44MTE4MTM1LDM2LjExMjIwNjkgNzcuOTY3Mjk4MiwzNS45OTQ3MDY5IEM3OC4yMTc1MzEzLDM1LjgwNTg5NjYgNzguNDc1MDUyOCwzNS42MTk1MTcyIDc4LjczNDE5MzksMzUuNDMzOTQ4MyBMNzguODA0NjQ3OSwzNS4zODQ1MTcyIEM3OC45MzkwNzczLDM1LjI4ODg5NjYgNzkuMDc0MzE2NiwzNS4xOTI0NjU1IDc5LjIxMDM2NTYsMzUuMDk3NjU1MiBDNzkuNTAxMDg5NiwzNC44OTgzMTAzIDc5Ljc5OTkxMTcsMzQuNzAwNTg2MiA4MC4xMDAzNTM0LDM0LjUwNTI5MzEgTDgwLjI3Njg5MzMsMzQuMzg4NjAzNCBDODAuMzcwMDIyMSwzNC4zMjc4Mjc2IDgwLjQ2MjM0MTEsMzQuMjY2MjQxNCA4MC41NjExMzg3LDM0LjIwNDY1NTIgTDgwLjgzNDg1NjQsMzQuMDM0NDgyOCBDODEuMTkzNjA0OSwzMy44MTE2Mzc5IDgxLjU1NTU5MjYsMzMuNTkwNDEzOCA4MS45MzA1Mzc0LDMzLjM3MTYyMDcgQzgyLjM0NzU5MjYsMzMuMTI5MzI3NiA4Mi43NzE5MzYyLDMyLjg5MzUxNzIgODMuMjAxMTM4NywzMi42NjA5NDgzIEM4My4yOTAyMTg0LDMyLjYxMzk0ODMgODMuMzc4NDg4MywzMi41NjY5NDgzIDgzLjQ2ODM3NzksMzIuNTIwNzU4NiBMODQuMjAyODgxLDMyLjEzOTA4NjIgQzg0LjMwMjQ4ODMsMzIuMDg3MjI0MSA4NC40MDI5MDU1LDMyLjAzNTM2MjEgODQuNTAxNzAzMSwzMS45ODUxMjA3IEw4NS4yOTM3MDMxLDMxLjYwMTAxNzIgQzg1LjQ3MjY3MjQsMzEuNTEzNSA4NS42NTI0NTE1LDMxLjQyNjc5MzEgODUuODM0NjYwMSwzMS4zNDI1MTcyIEM4Ni4wMTg0ODgzLDMxLjI1NjYyMDcgODYuMjA0NzQ2LDMxLjE3MzE1NTIgODYuMzkxMDAzNywzMS4wODg4NzkzIEM4Ni42NTc0MzMxLDMwLjk2ODk0ODMgODYuOTI1NDgyMiwzMC44NDkwMTcyIDg3LjE5NTE1MDksMzAuNzMzOTQ4MyBDODcuMzg1NDU3NywzMC42NTA0ODI4IDg3LjU3NjU3NDIsMzAuNTcwMjU4NiA4Ny43NzAxMjAyLDMwLjQ5MDAzNDUgQzg4LjAzOTc4OSwzMC4zNzczOTY2IDg4LjMxMTg4NzEsMzAuMjY2Mzc5MyA4OC41ODQ3OTUxLDMwLjE1Nzc5MzEgQzg4Ljc3NjcyMTUsMzAuMDgxNjIwNyA4OC45Njk0NTc3LDMwLjAwNDYzNzkgODkuMTYwNTc0MiwyOS45MzA4OTY2IEM4OS40MTA4MDc0LDI5LjgzNTI3NTkgODkuNjYxMDQwNSwyOS43NDIwODYyIDg5LjkxMjg5MzMsMjkuNjQ5NzA2OSBDODkuOTE1MzIyNywyOS42NDg4OTY2IDkwLjAwNDQwMjUsMjkuNjE1NjcyNCA5MC4wMDYwMjIxLDI5LjYxNDg2MjEgTDkwLjE0NDUwMDYsMjkuNTYzIEM5MC4yODYyMTg0LDI5LjUxMTk0ODMgOTAuNDI3MTI2NCwyOS40NTkyNzU5IDkwLjU3MTI3MzYsMjkuNDA5MDM0NSBDOTAuNjg1NDU3NywyOS4zNjc3MDY5IDkwLjgwMTI2MTMsMjkuMzI4ODEwMyA5MC45MTYyNTUyLDI5LjI4OTkxMzggTDkxLjAyODgxOTYsMjkuMjUxODI3NiBDOTEuMTc5NDQ1NCwyOS4xOTkxNTUyIDkxLjMzMDg4MSwyOS4xNDcyOTMxIDkxLjQ4MzkzNjIsMjkuMDk1NDMxIEw5Mi40NTI0NzYxLDI4Ljc4MDIwNjkgQzkyLjg4OTc3NjcsMjguNjQyNDQ4MyA5My4zMjcwNzczLDI4LjUwNzkzMSA5My43NjY4MDc0LDI4LjM3OTg5NjYgQzkzLjk2NjAyMjEsMjguMzIyMzYyMSA5NC4xNjYwNDY2LDI4LjI2NjQ0ODMgOTQuMzY3NjkwOCwyOC4yMDk3MjQxIEM5NC43NzA5NzkxLDI4LjA5Nzg5NjYgOTUuMTc1ODg3MSwyNy45ODg1IDk1LjU4MzIyNDUsMjcuODgzOTY1NSBMOTUuNzIyNTEyOSwyNy44NDkxMjA3IEM5NS44Njk4OTk0LDI3LjgxMDIyNDEgOTYuMDE2NDc2MSwyNy43NzIxMzc5IDk2LjE2Mzg2MjYsMjcuNzM1NjcyNCBDOTYuNjUyMTgxNiwyNy42MTY1NTE3IDk3LjE0MTMxMDQsMjcuNTAyMjkzMSA5Ny42MzY5MTc4LDI3LjM5MzcwNjkgTDk3Ljk0MDU5ODgsMjcuMzI0ODI3NiBDOTguNTMwOTU0NiwyNy4xOTc2MDM0IDk5LjEyMjkzMDEsMjcuMDgxNzI0MSA5OS43MTQwOTU3LDI2Ljk3MzEzNzkgTDEwMC4xMDc2NjYsMjYuOTA1ODc5MyBDMTAwLjcwMTI2MSwyNi44MDA1MzQ1IDEwMS4yOTQwNDcsMjYuNzA1NzI0MSAxMDEuODg3NjQyLDI2LjYxODIwNjkgTDEwMi4zNTI0NzYsMjYuNTUwOTQ4MyBDMTAzLjAzMjcyMSwyNi40NTY5NDgzIDEwMy43MTk0NDUsMjYuMzc1MTAzNCAxMDQuMzkyNDAyLDI2LjMwNjIyNDEgTDEwNC45MjQ0NTIsMjYuMjU2NzkzMSBDMTA1LjMxMzE2MywyNi4yMjAzMjc2IDEwNS43MDEwNjUsMjYuMTg3MTAzNCAxMDYuMDg5Nzc3LDI2LjE1OTU1MTcgQzEwNi4yOTc4OTksMjYuMTQ0MTU1MiAxMDYuNTA1MjEyLDI2LjEzMTE4OTcgMTA2LjcxODE5NCwyNi4xMTgyMjQxIEMxMDYuOTY1OTk4LDI2LjEwMzYzNzkgMTA3LjIxMjE4MiwyNi4wOTIyOTMxIDEwNy40NTkxNzUsMjYuMDgwOTQ4MyBMMTA3LjUxOTkxMiw0NS4yODQ1IEw4OS42Mjc4MzgsNTUuNjIxMjU4NiBMODYuMzQyNDE0Nyw0Ny43MTMxMDM0IEM4Ni4wMjkwMTYsNDYuOTU3MDUxNyA4NS41MDE4MjU4LDQ2LjQzNTE4OTcgODQuODE3NTMxMyw0Ni4yMDI2MjA3IEM4NC4wMDIwNDY2LDQ1LjkyNTQ4MjggODMuMDEwODMxOSw0Ni4wODgzNjIxIDgyLjAyMjg1NjQsNDYuNjU5NjU1MiBDODAuMzgyMTY5Myw0Ny42MDc3NTg2IDc5LjAwNTQ4MjIsNDkuNDg0NTE3MiA3OC40MzA1MTI5LDUxLjU1OSBMNzYuMjQ0MDA5OCw1OS40NTkwNTE3IEw3Ni4yNDQwMDk4LDU3LjQ1OTkzMSBaIE01OC4wMzEyNDkxLDExLjkwMTUzNDUgTDMuMjI1MzM0OTcsNDMuNjE4NDMxIEwzLjIyNTMzNDk3LDM3Ljc5NTI5MzEgQzMuMjI1MzM0OTcsMzUuMDY3NjcyNCA0LjY5MTEwMTg0LDMyLjUyNTYyMDcgNy4wNTA5MDU1MiwzMS4xNjAxODk3IEw1NC4zMDQ0NzYxLDMuODE0MjkzMSBDNTUuMDgyNzA5MiwzLjM2MjkzMTAzIDU2LjAxMDc1ODMsMy4zNjIxMjA2OSA1Ni43ODgxODE2LDMuODEyNjcyNDEgQzU3LjU2NjQxNDcsNC4yNjE2MDM0NSA1OC4wMzEyNDkxLDUuMDY2Mjc1ODYgNTguMDMxMjQ5MSw1Ljk2NDk0ODI4IEw1OC4wMzEyNDkxLDExLjkwMTUzNDUgWiBNMTI3LjIwOTc3NywyNS40Mzk5NjU1IEMxMjcuMTQ5ODUsMjUuNDA2NzQxNCAxMjcuMDg5OTI0LDI1LjM3NDMyNzYgMTI3LjAyOTk5OCwyNS4zNDI3MjQxIEMxMjYuOTUzMDY1LDI1LjMwMjIwNjkgMTI2Ljg4MDE4MiwyNS4yNjA4NzkzIDEyNi44MDMyNDksMjUuMjIwMzYyMSBDMTI2LjgwMjQzOSwyNS4yMTk1NTE3IDEyNi44MDE2MjksMjUuMjE5NTUxNyAxMjYuODAxNjI5LDI1LjIxOTU1MTcgQzEyNi42NDEyODYsMjUuMTM1Mjc1OSAxMjYuNDc5MzIzLDI1LjA1NDI0MTQgMTI2LjMxNTc0LDI0Ljk3MzIwNjkgQzEyNi4yOTcxMTQsMjQuOTY0MjkzMSAxMjYuMjc5Mjk4LDI0Ljk1NTM3OTMgMTI2LjI2MTQ4MiwyNC45NDU2NTUyIEMxMjYuMTU3ODI2LDI0Ljg5NTQxMzggMTI2LjA1MDkzLDI0Ljg0NTk4MjggMTI1LjkwNjc4MywyNC43Nzg3MjQxIEMxMjUuOTAzNTQ0LDI0Ljc3NjI5MzEgMTI1Ljg2NDY3MiwyNC43NTg0NjU1IDEyNS44NjA2MjMsMjQuNzU2MDM0NSBDMTI1Ljg0MzYxNywyNC43NDc5MzEgMTI1LjgyNDk5MSwyNC43NDE0NDgzIDEyNS44MDc5ODUsMjQuNzMyNTM0NSBDMTI1LjQ5Mjk2NywyNC41ODgyOTMxIDEyNS4xNzE0NywyNC40NDgxMDM0IDEyNC44NDUxMTQsMjQuMzEzNTg2MiBDMTI0Ljc5MjQ3NiwyNC4yOTA4OTY2IDEyNC43NDIyNjcsMjQuMjY2NTg2MiAxMjQuNjg4ODIsMjQuMjQ1NTE3MiBMMTI0LjU2MDg2OSwyNC4xOTEyMjQxIEMxMjQuNDg3OTg1LDI0LjE2MTI0MTQgMTI0LjQxNTEwMiwyNC4xMzEyNTg2IDEyNC4zNDA1OTksMjQuMTAyMDg2MiBDMTI0LjMxOTU0NCwyNC4wOTMxNzI0IDEyNC4yOTYwNTksMjQuMDg1ODc5MyAxMjQuMjc0MTk0LDI0LjA3Nzc3NTkgQzEyNC4yNTIzMjksMjQuMDY4ODYyMSAxMjQuMjI4MDM0LDI0LjA2MDc1ODYgMTI0LjIwNjE2OSwyNC4wNTE4NDQ4IEMxMjMuOTUzNTA3LDIzLjk1NjIyNDEgMTIzLjY5NzYwNSwyMy44NjMwMzQ1IDEyMy40MzkyNzQsMjMuNzcxNDY1NSBMMTIzLjI4NzgzOCwyMy43MTYzNjIxIEMxMjMuMjA1MjM3LDIzLjY4NjM3OTMgMTIzLjEyMTgyNiwyMy42NTYzOTY2IDEyMy4wMzc2MDUsMjMuNjI4MDM0NSBDMTIyLjU5NTQ0NSwyMy40Nzg5MzEgMTIyLjE0NTk5OCwyMy4zMzk1NTE3IDEyMS42ODY4MzIsMjMuMjA3NDY1NSBDMTIxLjI2ODE1NywyMy4wODgzNDQ4IDEyMC44NDMwMDQsMjIuOTc2NTE3MiAxMjAuNDEwNTYyLDIyLjg3MDM2MjEgQzEyMC4zMzM2MjksMjIuODUxNzI0MSAxMjAuMjU1MDc3LDIyLjgzNDcwNjkgMTIwLjE3NzMzNSwyMi44MTY4NzkzIEwxMjAuMDQxMjg2LDIyLjc4Njg5NjYgQzExOS43Mjg2OTcsMjIuNzEzOTY1NSAxMTkuNDE0NDg4LDIyLjY0MTg0NDggMTE5LjA5NDYxMSwyMi41NzYyMDY5IEwxMTguNjY3ODM4LDIyLjQ5NTk4MjggQzExOC4zNzIyNTUsMjIuNDM4NDQ4MyAxMTguMDc2NjcyLDIyLjM4MTcyNDEgMTE3Ljc3NzA0LDIyLjMzMTQ4MjggQzExNy42NTQ3NTgsMjIuMzExMjI0MSAxMTcuNTMxNjY2LDIyLjI5MjU4NjIgMTE3LjQwODU3NCwyMi4yNzMxMzc5IEwxMTcuMjU3MTM5LDIyLjI0OTYzNzkgQzExNi45ODE4MDEsMjIuMjA2Njg5NyAxMTYuNzA3Mjc0LDIyLjE2NDU1MTcgMTE2LjQzMDMxNywyMi4xMjcyNzU5IEMxMTYuMjY1MTE0LDIyLjEwNTM5NjYgMTE2LjA5OTEwMiwyMi4wODUxMzc5IDExNS45MzMwOSwyMi4wNjQwNjkgTDExNS44NjQyNTUsMjIuMDU1OTY1NSBDMTE1LjYwOTE2MywyMi4wMjUxNzI0IDExNS4zNTI0NTIsMjEuOTk1MTg5NyAxMTUuMTEwMzE3LDIxLjk3MDg3OTMgQzExNS4xMDQ2NDgsMjEuOTcwMDY5IDExNS4wNTI4MiwyMS45NjM1ODYyIDExNS4wNDc5NjEsMjEuOTYzNTg2MiBDMTE0Ljg1NTIyNSwyMS45NDQxMzc5IDExNC42NjAwNTksMjEuOTI0Njg5NyAxMTQuNDYzMjc0LDIxLjkwNjg2MjEgQzExNC4xOTY4NDQsMjEuODgzMzYyMSAxMTMuOTI4Nzk1LDIxLjg2MjI5MzEgMTEzLjY1OTEyNiwyMS44NDI4NDQ4IEMxMTMuNDQyMDk2LDIxLjgyNjYzNzkgMTEzLjIyNTA2NSwyMS44MTEyNDE0IDExMy4wMTQ1MTMsMjEuNzk5MDg2MiBMMTEyLjkyMDU3NCwyMS43OTQyMjQxIEMxMTIuNjgxNjc5LDIxLjc4MDQ0ODMgMTEyLjQ0MTE2MywyMS43NjgyOTMxIDExMi4xOTk4MzgsMjEuNzU3NzU4NiBDMTExLjk4MzYxNywyMS43NDg4NDQ4IDExMS43NjY1ODcsMjEuNzM5OTMxIDExMS41NDc5MzYsMjEuNzMzNDQ4MyBDMTExLjMyMzYxNywyMS43MjYxNTUyIDExMS4wOTg0ODgsMjEuNzIyOTEzOCAxMTAuODcyNTUsMjEuNzIwNDgyOCBMMTEwLjc4ODMyOSwyMS43MTg4NjIxIEMxMTAuMjc0MDk2LDIxLjcxMDc1ODYgMTA5Ljc2MTQ4MiwyMS43MDk5NDgzIDEwOS4yMzgzNDEsMjEuNzE3MjQxNCBDMTA4Ljk2ODY3MiwyMS43MjEyOTMxIDEwOC42OTk4MTMsMjEuNzI0NTM0NSAxMDguNDI4NTI1LDIxLjczMzQ0ODMgQzEwOC4yNTQ0MTUsMjEuNzM4MzEwMyAxMDguMDc5NDk0LDIxLjc0NTYwMzQgMTA3LjkwNDU3NCwyMS43NTI4OTY2IEwxMDcuNzU3MTg4LDIxLjc1Nzc1ODYgQzEwNy4zODIyNDMsMjEuNzczOTY1NSAxMDcuMDA1Njc5LDIxLjc5MjYwMzQgMTA2LjYyMDIwNiwyMS44MTY5MTM4IEMxMDYuNDA3MjI1LDIxLjgyOTA2OSAxMDYuMTk1MDUzLDIxLjg0Mjg0NDggMTA1Ljk4MjA3MSwyMS44NTc0MzEgQzEwNS41ODQ0NTIsMjEuODg2NjAzNCAxMDUuMTg2MDIyLDIxLjkyMTQ0ODMgMTA0Ljc4NTE2MywyMS45NTc5MTM4IEwxMDQuMjQwOTY3LDIyLjAwODE1NTIgQzEwMy41NjM5NjEsMjIuMDc3MDM0NSAxMDIuODYwMjMxLDIyLjE2MTMxMDMgMTAyLjE1MDAyMiwyMi4yNjAxNzI0IEwxMDEuNjczMDQsMjIuMzI5MDUxNyBDMTAxLjA2NDg2OSwyMi40MTczNzkzIDEwMC40NTc1MDcsMjIuNTE1NDMxIDk5Ljg0NjA5NTcsMjIuNjIzMjA2OSBMOTkuNDQ2MDQ2NiwyMi42OTIwODYyIEM5OC44Mzk0OTQ1LDIyLjgwMzEwMzQgOTguMjMzNzUyMSwyMi45MjIyMjQxIDk3LjYyMzE1MDksMjMuMDUzNSBMOTcuMzEyMTgxNiwyMy4xMjQgQzk2LjgxMDA5NTcsMjMuMjM1MDE3MiA5Ni4zMDgwMDk4LDIzLjM1MDA4NjIgOTUuODA4MzUzNCwyMy40NzQ4NzkzIEM5NS42MzkxMDE4LDIzLjUxNTM5NjYgOTUuNDcwNjYwMSwyMy41NTkxNTUyIDk1LjMwMjIxODQsMjMuNjAyOTEzOCBMOTUuMjEyMzI4OCwyMy42MjU2MDM0IEM5NC43OTYwODM0LDIzLjczMjU2OSA5NC4zODA2NDc5LDIzLjg0NDM5NjYgOTMuOTY2MDIyMSwyMy45NTk0NjU1IEM5My43NjExMzg3LDI0LjAxNyA5My41NTYyNTUyLDI0LjA3NDUzNDUgOTMuMzUwNTYyLDI0LjEzMzY4OTcgQzkyLjkwMDMwNDMsMjQuMjY0OTY1NSA5Mi40NTE2NjYzLDI0LjQwMjcyNDEgOTIuMDAzODM4LDI0LjU0NDUzNDUgTDkxLjgxNzU4MDQsMjQuNjAyMDY5IEM5MS43MjIwMjIxLDI0LjYzMTI0MTQgOTEuNjI3MjczNiwyNC42NjA0MTM4IDkxLjUzMzMzNSwyNC42OTEyMDY5IEM5MS40MTUxMDE4LDI0LjcyOTI5MzEgOTEuMjk2ODY4NywyNC43Njk4MTAzIDkxLjE3ODYzNTYsMjQuODEwMzI3NiBMOTAuMDc0MDQ2NiwyNS4xODg3NTg2IEM4OS45MjUwNDA1LDI1LjI0MTQzMSA4OS43Nzc2NTQsMjUuMjk1NzI0MSA4OS42MzAyNjc1LDI1LjM1MDAxNzIgTDg5LjM5Nzg1MDMsMjUuNDM1OTEzOCBDODkuMTQwMzI4OCwyNS41MzE1MzQ1IDg4Ljg4MjgwNzQsMjUuNjI2MzQ0OCA4OC42MjYwOTU3LDI1LjcyNTIwNjkgQzg4LjQyNjg4MSwyNS44MDIxODk3IDg4LjIzMDA5NTcsMjUuODc5MTcyNCA4OC4wMzQxMjAyLDI1Ljk1ODU4NjIgQzg3Ljc1MzExNDEsMjYuMDcwNDEzOCA4Ny40NzM3Mjc2LDI2LjE4MzA1MTcgODcuMTk1OTYwNywyNi4yOTk3NDE0IEM4Ny4xMDkzMTA0LDI2LjMzNjIwNjkgODcuMDIyNjYwMSwyNi4zNzI2NzI0IDg2LjkzNjAwOTgsMjYuNDA5OTQ4MyBDODYuODk4NzU4MywyNi40MjUzNDQ4IDg2Ljg2MDY5NjksMjYuNDQxNTUxNyA4Ni44MjI2MzU2LDI2LjQ1Njk0ODMgQzg2Ljc1MDU2MiwyNi40ODc3NDE0IDg2LjY3NzY3ODUsMjYuNTE3NzI0MSA4Ni42MDU2MDQ5LDI2LjU0OTMyNzYgQzg2LjMyNzgzOCwyNi42NjkyNTg2IDg2LjA1MjUwMDYsMjYuNzkxNjIwNyA4NS43Nzg3ODI4LDI2LjkxNTYwMzQgQzg1LjcxMDc1ODMsMjYuOTQ2Mzk2NiA4NS42NDM1NDM2LDI2Ljk3NzE4OTcgODUuNTc1NTE5LDI3LjAwNzE3MjQgQzg1LjQ4NjQzOTMsMjcuMDQ4NSA4NS4zOTY1NDk3LDI3LjA4OTAxNzIgODUuMzA3NDY5OSwyNy4xMjk1MzQ1IEM4NS4yNzM0NTc3LDI3LjE0NTc0MTQgODUuMjM5NDQ1NCwyNy4xNTk1MTcyIDg1LjIwNjI0MjksMjcuMTc1NzI0MSBDODUuMDQxMDQwNSwyNy4yNTI3MDY5IDg0Ljg3ODI2NzUsMjcuMzMxMzEwMyA4NC43MTU0OTQ1LDI3LjQwOTkxMzggTDg0LjIwNzczOTksMjcuNjU0NjM3OSBDODQuMTk1NTkyNiwyNy42NjExMjA3IDg0LjE4MzQ0NTQsMjcuNjY2NzkzMSA4NC4xNzEyOTgyLDI3LjY3MjQ2NTUgQzg0LjA3MDg4MSwyNy43MjE4OTY2IDgzLjk3MDQ2MzgsMjcuNzY5NzA2OSA4My44NzA4NTY0LDI3LjgxOTk0ODMgQzgzLjg1ODcwOTIsMjcuODI2NDMxIDgzLjg0NjU2MiwyNy44MzIxMDM0IDgzLjgzNDQxNDcsMjcuODM3Nzc1OSBDODMuNzI1ODk5NCwyNy44OTI4NzkzIDgzLjYxOTgxMzUsMjcuOTQ3OTgyOCA4My41MTI5MTc4LDI4LjAwMzg5NjYgTDgzLjE1NDk3OTEsMjguMTkwMjc1OSBDODIuOTM2MzI4OCwyOC4zMDQ1MzQ1IDgyLjcxNTI0OTEsMjguNDE1NTUxNyA4Mi40OTkwMjgyLDI4LjUzMjI0MTQgTDgyLjQ5MzM1OTUsMjguNTM1NDgyOCBDODIuMDUxMiwyOC43NzQ1MzQ1IDgxLjYxMzA4OTYsMjkuMDE3NjM3OSA4MS4xODIyNjc1LDI5LjI2ODg0NDggQzgwLjc5NTE3NTUsMjkuNDkzMzEwMyA4MC40MjAyMzA3LDI5LjcyMzQ0ODMgODAuMDUwOTU0NiwyOS45NTI3NzU5IEw3OS43NjI2NjAxLDMwLjEzMTA1MTcgQzc5Ljc1NjE4MTYsMzAuMTM1MTAzNCA3OS43NTA1MTI5LDMwLjEzOTE1NTIgNzkuNzQ0ODQ0MiwzMC4xNDIzOTY2IEM3OS42MDE1MDY3LDMwLjIzMjM0NDggNzkuNDY1NDU3NywzMC4zMjU1MzQ1IDc5LjMyNDU0OTcsMzAuNDE3MTAzNCBMNzkuMjg4MTA4LDMwLjQ0MDYwMzQgQzc5LjIyNzM3MTgsMzAuNDgwMzEwMyA3OS4xNjk4NzQ4LDMwLjUyMDAxNzIgNzkuMTA5OTQ4NSwzMC41NTk3MjQxIEM3Mi4zODkyODU5LDM0Ljk3NzcyNDEgNjguNDQyMjQyOSw0MC4zMjM1NjkgNjguMDcyMTU3MSw0NS41NTY3NzU5IEw2OC4wNTExMDE4LDQ1Ljg0NzY4OTcgQzY4LjA0Nzg2MjYsNDUuOTA5Mjc1OSA2OC4wNTExMDE4LDQ1Ljk3MDg2MjEgNjguMDQ4NjcyNCw0Ni4wMzMyNTg2IEM2OC4wNDU0MzMxLDQ2LjE0ODMyNzYgNjguMDMyNDc2MSw0Ni4yNjQyMDY5IDY4LjAzMjQ3NjEsNDYuMzc4NDY1NSBDNjguMDM4MTQ0OCw1MC4wMjUwMTcyIDY5Ljc5OTQ5NDUsNTMuMjI3NSA3My4xNDU2NTQsNTUuNzUwOTEzOCBDNzMuMTU1MzcxOCw1NS43NTgyMDY5IDczLjE2NTg5OTQsNTUuNzY2MzEwMyA3My4xNzY0MjcsNTUuNzczNjAzNCBDNzMuMzYxODc0OCw1NS45MTI5ODI4IDczLjU1MDU2Miw1Ni4wNDk5MzEgNzMuNzQ1NzI3Niw1Ni4xODUyNTg2IEM3My43ODM3ODksNTYuMjExMTg5NyA3My44MjE4NTAzLDU2LjIzNzkzMSA3My44NTk5MTE3LDU2LjI2Mzg2MjEgQzczLjg3NDQ4ODMsNTYuMjczNTg2MiA3My44ODY2MzU2LDU2LjI4MzMxMDMgNzMuOTAwNDAyNSw1Ni4yOTMwMzQ1IEw3My4xODkzODQsNTYuNzAzMDY5IEwzOC41NjQ4OTMzLDM2LjY5OTcwNjkgTDY4LjIyODQ1MTUsMTkuNTMzMzYyMSBDNjguMjMyNTAwNiwxOS41MzA5MzEgNjguMjM3MzU5NSwxOS41Mjc2ODk3IDY4LjI0MTQwODYsMTkuNTI2MDY5IEw5My4zNzY0NzYxLDQuOTc5NTY4OTcgTDEyOC4wMDAxNTcsMjQuOTgzNzQxNCBMMTI3LjIwOTc3NywyNS40Mzk5NjU1IFogTTEyOC4wMDUwMTYsMjkuMjMzMTg5NyBDMTI4LjAxMzkyNCwyOS4xNzI0MTM4IDEyOC4wMTIzMDQsMjkuMTEwODI3NiAxMjguMDA1MDE2LDI5LjA0OTI0MTQgTDEyOC4wMTE0OTQsMjYuNjk3NjIwNyBMMTI4Ljc0NDM3OCwyNi4yNzQ2MjA3IEwxMjguNzQ0Mzc4LDU3Ljc0MTkzMSBMMTI3LjkyOTcwMyw1OC4yMTM1NTE3IEwxMjguMDA1MDE2LDI5LjIzMzE4OTcgWiBNMTA4LjI2NjU2Miw0Ni41NzM3NTg2IEwxMTkuNDkyMjMxLDUzLjA1OTc1ODYgQzExOS4zMzE4ODcsNTMuMDIzMjkzMSAxMTkuMTczMTYzLDUyLjk4NjAxNzIgMTE5LjAxMDM5LDUyLjk1Mjc5MzEgQzExOC45MTQwMjIsNTIuOTMyNTM0NSAxMTguODE2MDM0LDUyLjkxNDcwNjkgMTE4LjcxODA0Nyw1Mi44OTYwNjkgTDExOC41ODExODgsNTIuODcwOTQ4MyBDMTE4LjI4NjQxNSw1Mi44MTQyMjQxIDExNy45OTI0NTIsNTIuNzU4MzEwMyAxMTcuNjkyMDEsNTIuNzA3MjU4NiBDMTE3LjU2ODEwOCw1Mi42ODYxODk3IDExNy40NDI1ODcsNTIuNjY3NTUxNyAxMTcuMzE3ODc1LDUyLjY0ODEwMzQgTDExNy4xNjk2NzksNTIuNjI0NjAzNCBDMTE2Ljg5NTk2MSw1Mi41ODI0NjU1IDExNi42MjE0MzMsNTIuNTQxMTM3OSAxMTYuMzQyODU2LDUyLjUwMzA1MTcgQzExNi4xNTQ5NzksNTIuNDc4NzQxNCAxMTUuOTY2MjkyLDUyLjQ1NDQzMSAxMTUuNzc1OTg1LDUyLjQzMTc0MTQgQzExNS41MDU1MDcsNTIuMzk5MzI3NiAxMTUuMjM1MDI4LDUyLjM2NzcyNDEgMTE0Ljk2MDUwMSw1Mi4zMzkzNjIxIEMxMTQuNzY3NzY0LDUyLjMxOTEwMzQgMTE0LjU3MjU5OSw1Mi4zMDEyNzU5IDExNC4zNzgyNDMsNTIuMjgyNjM3OSBDMTE0LjExMTgxMyw1Mi4yNTkxMzc5IDExMy44NDIxNDUsNTIuMjM4MDY5IDExMy41NzI0NzYsNTIuMjE3ODEwMyBDMTEzLjM1NjI1NSw1Mi4yMDI0MTM4IDExMy4xMzkyMjUsNTIuMTg3MDE3MiAxMTIuOTIyMTk0LDUyLjE3NDg2MjEgQzExMi42NTQxNDUsNTIuMTU4NjU1MiAxMTIuMzg0NDc2LDUyLjE0NTY4OTcgMTEyLjExNTYxNyw1Mi4xMzQzNDQ4IEMxMTEuODk4NTg3LDUyLjEyNDYyMDcgMTExLjY4MDc0Niw1Mi4xMTU3MDY5IDExMS40NjA0NzYsNTIuMTA5MjI0MSBDMTExLjIzNjE1Nyw1Mi4xMDE5MzEgMTExLjAxMTAyOCw1Mi4wOTg2ODk3IDExMC43ODY3MDksNTIuMDk1NDQ4MyBMMTEwLjcwMjQ4OCw1Mi4wOTM4Mjc2IEMxMTAuMTg2NjM2LDUyLjA4NjUzNDUgMTA5LjY2ODM1Myw1Mi4wODU3MjQxIDEwOS4xNTI1MDEsNTIuMDkzMDE3MiBDMTA4Ljg4MjgzMiw1Mi4wOTcwNjkgMTA4LjYxMzE2Myw1Mi4xMDExMjA3IDEwOC4zNDI2ODUsNTIuMTA5MjI0MSBDMTA4LjExOTk4NSw1Mi4xMTU3MDY5IDEwNy44OTY0NzYsNTIuMTI0NjIwNyAxMDcuNjczNzc3LDUyLjEzNDM0NDggQzEwNy4yOTcyMTIsNTIuMTQ4OTMxIDEwNi45MTk4MzgsNTIuMTY4Mzc5MyAxMDYuNTQxNjU0LDUyLjE5MTg3OTMgQzEwNi4zMjcwNTMsNTIuMjA0ODQ0OCAxMDYuMTEyNDUyLDUyLjIxNzgxMDMgMTA1Ljg5Nzg1LDUyLjIzNDAxNzIgQzEwNS40OTg2MTEsNTIuMjYyMzc5MyAxMDUuMDk4NTYyLDUyLjI5NjQxMzggMTA0LjY5OTMyMyw1Mi4zMzM2ODk3IEwxMDQuNTIzNTkzLDUyLjM0OTA4NjIgQzEwNC40MDA1MDEsNTIuMzYwNDMxIDEwNC4yNzc0MDksNTIuMzcxNzc1OSAxMDQuMTUzNTA3LDUyLjM4MzkzMSBDMTAzLjQ3ODkzLDUyLjQ1MjgxMDMgMTAyLjc3NTIsNTIuNTM3ODk2NiAxMDIuMDYwMTMzLDUyLjYzNTk0ODMgTDEwMS41ODk2MjksNTIuNzA0ODI3NiBDMTAwLjk4MDY0OCw1Mi43OTMxNTUyIDEwMC4zNzE2NjYsNTIuODkwMzk2NiA5OS43NjI2ODQ3LDUyLjk5ODE3MjQgTDk5LjM1OTM5NjMsNTMuMDY3ODYyMSBDOTguNzUzNjU0LDUzLjE3OTY4OTcgOTguMTQ3MTAxOCw1My4yOTggOTcuNTQxMzU5NSw1My40Mjc2NTUyIEw5Ny4yMjcxNTA5LDUzLjQ5OTc3NTkgQzk2LjcyMzQ0NTQsNTMuNjA5OTgyOCA5Ni4yMjIxNjkzLDUzLjcyNjY3MjQgOTUuNzIwODkzMyw1My44NTA2NTUyIEM5NS42OTE3Mzk5LDUzLjg1NzEzNzkgOTUuNjYyNTg2NSw1My44NjUyNDE0IDk1LjYzNDI0MjksNTMuODcxNzI0MSBMMTA4LjI2NjU2Miw0Ni41NzM3NTg2IFogTTEwOS4wMDkxNjMsNDUuMjgyODc5MyBMMTA4Ljk0ODQyNywyNi4wMjkwODYyIEMxMDkuMDUyODkzLDI2LjAyNjY1NTIgMTA5LjE1NjU1LDI2LjAyNDIyNDEgMTA5LjI2MDIwNiwyNi4wMjI2MDM0IEMxMDkuNzY1NTMxLDI2LjAxNTMxMDMgMTEwLjI2NTk5OCwyNi4wMTUzMTAzIDExMC43NjY0NjQsMjYuMDIzNDEzOCBMMTEwLjg0OTg3NSwyNi4wMjQyMjQxIEMxMTEuMDY4NTI1LDI2LjAyODI3NTkgMTExLjI4NzE3NSwyNi4wMzE1MTcyIDExMS41MDI1ODcsMjYuMDM4IEMxMTEuNzE0NzU4LDI2LjA0MzY3MjQgMTExLjkyNTMxLDI2LjA1MzM5NjYgMTEyLjEzNzQ4MiwyNi4wNjMxMjA3IEMxMTIuMzcxNTE5LDI2LjA3MjAzNDUgMTEyLjYwMzEyNiwyNi4wODMzNzkzIDExMi44Mzk1OTMsMjYuMDk3MTU1MiBDMTEyLjg0MTIxMiwyNi4wOTcxNTUyIDExMi45MTgxNDUsMjYuMTAxMjA2OSAxMTIuOTE5NzY0LDI2LjEwMTIwNjkgQzExMy4xMzExMjYsMjYuMTEzMzYyMSAxMTMuMzQwODY5LDI2LjEyNzk0ODMgMTEzLjU1MDYxMSwyNi4xNDQxNTUyIEMxMTMuODExMzcyLDI2LjE2Mjc5MzEgMTE0LjA3MTMyMywyNi4xODMwNTE3IDExNC4zMzA0NjQsMjYuMjA3MzYyMSBDMTE0LjUxOTE1MSwyNi4yMjM1NjkgMTE0LjcwNjIxOCwyNi4yNDEzOTY2IDExNC45NDEwNjUsMjYuMjY2NTE3MiBDMTE1LjE5MDQ4OCwyNi4yOTI0NDgzIDExNS40Mzc0ODIsMjYuMzIgMTE1LjY4Mjg1NiwyNi4zNDk5ODI4IEMxMTUuODY2Njg1LDI2LjM3MjY3MjQgMTE2LjA0ODg5MywyNi4zOTUzNjIxIDExNi4yMjk0ODIsMjYuNDE4ODYyMSBDMTE2LjQ5NzUzMSwyNi40NTUzMjc2IDExNi43NjMxNTEsMjYuNDk1ODQ0OCAxMTcuMDI5NTgsMjYuNTM3OTgyOCBMMTE3LjE0NTM4NCwyNi41NTU4MTAzIEMxMTcuMjczMzM1LDI2LjU3NTI1ODYgMTE3LjQwMjA5NiwyNi41OTQ3MDY5IDExNy41MzAwNDcsMjYuNjE2NTg2MiBDMTE3LjgxNzUzMSwyNi42NjUyMDY5IDExOC4xMDE3NzcsMjYuNzE4Njg5NyAxMTguMzg1MjEyLDI2Ljc3Mzc5MzEgTDExOC43OTc0MDksMjYuODUyMzk2NiBDMTE5LjEwMjcwOSwyNi45MTQ3OTMxIDExOS40MDMxNTEsMjYuOTgzNjcyNCAxMTkuNzAyNzgzLDI3LjA1NDE3MjQgTDEyMC4wNTgyOTIsMjcuMTMzNTg2MiBDMTIwLjQ3MTI5OCwyNy4yMzQwNjkgMTIwLjg3NzgyNiwyNy4zNDE4NDQ4IDEyMS4yNzc4NzUsMjcuNDU2MTAzNCBDMTIxLjcxNDM2NiwyNy41ODA4OTY2IDEyMi4xNDM1NjgsMjcuNzE0NjAzNCAxMjIuNTY0NjcyLDI3Ljg1NjQxMzggQzEyMi42MzUxMjYsMjcuODc5OTEzOCAxMjIuNzA1NTgsMjcuOTA1MDM0NSAxMjIuNzc1MjI1LDI3LjkzMTc3NTkgTDEyMi45NDUyODYsMjcuOTkyNTUxNyBDMTIzLjIzMjc3MSwyOC4wOTQ2NTUyIDEyMy41MjAyNTUsMjguMTk2NzU4NiAxMjMuNzk5NjQyLDI4LjMwNTM0NDggQzEyMy44NjExODgsMjguMzI5NjU1MiAxMjMuOTIwMzA0LDI4LjM1Mzk2NTUgMTIzLjk4MDIzMSwyOC4zNzkwODYyIEwxMjQuMTI3NjE3LDI4LjQ0MDY3MjQgQzEyNC41MDMzNzIsMjguNTkzODI3NiAxMjQuODcxODM4LDI4Ljc1NDI3NTkgMTI1LjIzMzAxNiwyOC45MjM2Mzc5IEwxMjUuNjA2MzQxLDI5LjA5OTQ4MjggQzEyNS43Nzk2NDIsMjkuMTg0NTY5IDEyNS45NTA1MTMsMjkuMjcyMDg2MiAxMjYuMTE3MzM1LDI5LjM1NzE3MjQgQzEyNi4yNTE3NjQsMjkuNDI3NjcyNCAxMjYuMzgyMTQ1LDI5LjUwMTQxMzggMTI2LjUxNDE0NSwyOS41NzI3MjQxIEwxMjYuNDQ3NzQsNTUuMzU3MDg2MiBMMTA5LjAwOTE2Myw0NS4yODI4NzkzIFogTTc5LjEwOTEzODcsMzIuMzU0NjM3OSBDNzkuMTM3NDgyMiwzMi4zMzUxODk3IDc5LjE2NDIwNjEsMzIuMzE1NzQxNCA3OS4xOTE3Mzk5LDMyLjI5NjI5MzEgQzc5LjU4NzczOTksMzIuMDIxNTg2MiA3OS45OTUwNzczLDMxLjc1MjU1MTcgODAuNDEyMTMyNSwzMS40ODU5NDgzIEM4MC40NTUwNTI4LDMxLjQ1NzU4NjIgODAuNDk4NzgyOCwzMS40MjkyMjQxIDgwLjU0MjUxMjksMzEuNDAxNjcyNCBDODAuOTkzNTgwNCwzMS4xMTQ4MTAzIDgxLjQ1NTk4NTMsMzAuODM0NDMxIDgxLjkzMDUzNzQsMzAuNTU4MTAzNCBDODIuMzUwMDIyMSwzMC4zMTMzNzkzIDgyLjc3Njc5NTEsMzAuMDc1OTQ4MyA4My4yMDY4MDc0LDI5Ljg0MzM3OTMgTDg0LjAxODI0MjksMjkuNDIwMzc5MyBDODQuMTcwNDg4MywyOS4zNDI1ODYyIDg0LjMyMTExNDEsMjkuMjYxNTUxNyA4NC40NzQxNjkzLDI5LjE4NDU2OSBMODQuNTAxNzAzMSwyOS4xNzA3OTMxIEw4NS4zMDUwNDA1LDI4Ljc4MDIwNjkgQzg1LjQ4NDgxOTYsMjguNjk0MzEwMyA4NS42NjI5NzkxLDI4LjYwNjc5MzEgODUuODQ0Mzc3OSwyOC41MjI1MTcyIEM4Ni4wMjQ5NjY5LDI4LjQzOTA1MTcgODYuMjA3OTg1MywyOC4zNTYzOTY2IDg2LjM5MTAwMzcsMjguMjczNzQxNCBDODYuNjU3NDMzMSwyOC4xNTM4MTAzIDg2LjkyNTQ4MjIsMjguMDM0Njg5NyA4Ny4xOTUxNTA5LDI3LjkxODgxMDMgQzg3LjM4NjI2NzUsMjcuODM2MTU1MiA4Ny41NzgxOTM5LDI3Ljc1NTEyMDcgODcuNzcwMTIwMiwyNy42NzQwODYyIEM4OC4wMzk3ODksMjcuNTYyMjU4NiA4OC4zMTE4ODcxLDI3LjQ1MjA1MTcgODguNTg0Nzk1MSwyNy4zNDM0NjU1IEM4OC43NzY3MjE1LDI3LjI2NjQ4MjggODguOTY5NDU3NywyNy4xOTExMjA3IDg5LjE2MDU3NDIsMjcuMTE2NTY5IEM4OS40MTA4MDc0LDI3LjAyMDk0ODMgODkuNjYxMDQwNSwyNi45MjY5NDgzIDg5LjkxMjg5MzMsMjYuODM0NTY5IEM4OS45MTUzMjI3LDI2LjgzMzc1ODYgOTAuMDA0NDAyNSwyNi44MDA1MzQ1IDkwLjAwNjAyMjEsMjYuNzk5NzI0MSBMOTAuMTQ0NTAwNiwyNi43NDk0ODI4IEM5MC4yODYyMTg0LDI2LjY5NjgxMDMgOTAuNDI3MTI2NCwyNi42NDQ5NDgzIDkwLjU3MTI3MzYsMjYuNTkzODk2NiBMOTEuNjU0ODA3NCwyNi4yMjI3NTg2IEM5MS43NjczNzE4LDI2LjE4Mzg2MjEgOTEuODc5OTM2MiwyNi4xNDQ5NjU1IDkxLjk5NTczOTksMjYuMTA4NSBMOTIuNDUyNDc2MSwyNS45NjU4NzkzIEM5Mi44ODk3NzY3LDI1LjgyNzMxMDMgOTMuMzI3MDc3MywyNS42OTM2MDM0IDkzLjc2NjgwNzQsMjUuNTY1NTY5IEM5My45NjY4MzE5LDI1LjUwNzIyNDEgOTQuMTY2ODU2NCwyNS40NTEzMTAzIDk0LjM2NzY5MDgsMjUuMzk1Mzk2NiBDOTQuNzcwOTc5MSwyNS4yODE5NDgzIDk1LjE3NjY5NjksMjUuMTczMzYyMSA5NS41ODMyMjQ1LDI1LjA2ODgyNzYgTDk1LjY3MzkyMzksMjUuMDQ2MTM3OSBDOTUuODM3NTA2NywyNS4wMDQgOTYuMDAwMjc5OCwyNC45NjE4NjIxIDk2LjE2Mzg2MjYsMjQuOTIxMzQ0OCBDOTYuNjUyMTgxNiwyNC44MDE0MTM4IDk3LjE0MTMxMDQsMjQuNjg3MTU1MiA5Ny42MzA0MzkzLDI0LjU4MDE4OTcgTDk3Ljk0MDU5ODgsMjQuNTA5Njg5NyBDOTguNTMwOTU0NiwyNC4zODMyNzU5IDk5LjEyMjkzMDEsMjQuMjY2NTg2MiA5OS43MTQwOTU3LDI0LjE1OCBMMTAwLjEwNjg1NiwyNC4wODk5MzEgQzEwMC43MDEyNjEsMjMuOTg1Mzk2NiAxMDEuMjk0MDQ3LDIzLjg5MDU4NjIgMTAxLjg4NzY0MiwyMy44MDM4NzkzIEwxMDIuMzUyNDc2LDIzLjczNjYyMDcgQzEwMy4wNDY0ODgsMjMuNjQxIDEwMy43MzI0MDIsMjMuNTU4MzQ0OCAxMDQuMzkyNDAyLDIzLjQ5MTA4NjIgTDEwNC45MjI4MzIsMjMuNDQyNDY1NSBDMTA1LjMxMjM1MywyMy40MDYgMTA1LjcwMTA2NSwyMy4zNzI3NzU5IDEwNi4wODk3NzcsMjMuMzQ0NDEzOCBDMTA2LjI5Nzg5OSwyMy4zMjk4Mjc2IDEwNi41MDUyMTIsMjMuMzE2MDUxNyAxMDYuNzE5MDA0LDIzLjMwMzg5NjYgQzEwNy4wODc0NywyMy4yODEyMDY5IDEwNy40NTM1MDcsMjMuMjYyNTY5IDEwNy44MTc5MjQsMjMuMjQ3MTcyNCBMMTA3Ljk2NTMxLDIzLjI0MTUgQzEwOC4xMzM3NTIsMjMuMjM1MDE3MiAxMDguMzAzMDA0LDIzLjIyNzcyNDEgMTA4LjQ3MjI1NSwyMy4yMjI4NjIxIEMxMDguNzM1NDQ1LDIzLjIxNTU2OSAxMDguOTk3ODI2LDIzLjIxMTUxNzIgMTA5LjI2MDIwNiwyMy4yMDc0NjU1IEMxMDkuNzY1NTMxLDIzLjIwMDk4MjggMTEwLjI2NTk5OCwyMy4yMDE3OTMxIDExMC43NjY0NjQsMjMuMjA4Mjc1OSBMMTEwLjg0OTg3NSwyMy4yMDkwODYyIEMxMTEuMDY4NTI1LDIzLjIxMzEzNzkgMTExLjI4NzE3NSwyMy4yMTYzNzkzIDExMS41MDQyMDYsMjMuMjIyODYyMSBDMTExLjcxNjM3OCwyMy4yMjkzNDQ4IDExMS45MjYxMiwyMy4yMzkwNjkgMTEyLjEzNTg2MywyMy4yNDcxNzI0IEMxMTIuMzY5ODk5LDIzLjI1Njg5NjYgMTEyLjYwMzEyNiwyMy4yNjkwNTE3IDExMi44Mzk1OTMsMjMuMjgyMDE3MiBDMTEyLjg0MTIxMiwyMy4yODIwMTcyIDExMi45MTgxNDUsMjMuMjg2MDY5IDExMi45MTk3NjQsMjMuMjg2MDY5IEMxMTMuMTMxMTI2LDIzLjI5OTAzNDUgMTEzLjM0MDg2OSwyMy4zMTM2MjA3IDExMy41NTA2MTEsMjMuMzI5MDE3MiBDMTEzLjgxMTM3MiwyMy4zNDc2NTUyIDExNC4wNzEzMjMsMjMuMzY5NTM0NSAxMTQuMzMyMDgzLDIzLjM5MjIyNDEgQzExNC41MTk5NjEsMjMuNDA5MjQxNCAxMTQuNzA3MDI4LDIzLjQyNzA2OSAxMTQuOTQxMDY1LDIzLjQ1MTM3OTMgQzExNS4xOTA0ODgsMjMuNDc3MzEwMyAxMTUuNDM3NDgyLDIzLjUwNTY3MjQgMTE1LjY4Mjg1NiwyMy41MzU2NTUyIEwxMTUuNzUxNjkxLDIzLjU0NDU2OSBDMTE1LjkxMTIyNSwyMy41NjMyMDY5IDExNi4wNzA3NTgsMjMuNTgyNjU1MiAxMTYuMjI5NDgyLDIzLjYwNDUzNDUgQzExNi40OTgzNDEsMjMuNjQxODEwMyAxMTYuNzYzOTYxLDIzLjY4MTUxNzIgMTE3LjAyNzk2MSwyMy43MjIwMzQ1IEwxMTcuMTgxODI2LDIzLjc0NzE1NTIgQzExNy4yOTg0MzksMjMuNzY0MTcyNCAxMTcuNDE0MjQzLDIzLjc4MTE4OTcgMTE3LjUzMDA0NywyMy44MDE0NDgzIEMxMTcuODE3NTMxLDIzLjg1MDA2OSAxMTguMTAxNzc3LDIzLjkwNDM2MjEgMTE4LjM4NzY0MiwyMy45NTk0NjU1IEwxMTguNzk3NDA5LDI0LjAzNzI1ODYgQzExOS4xMDI3MDksMjQuMDk5NjU1MiAxMTkuNDAzMTUxLDI0LjE2OTM0NDggMTE5LjcwNTIxMiwyNC4yMzkwMzQ1IEwxMjAuMDU3NDgyLDI0LjMxODQ0ODMgQzEyMC40NzA0ODgsMjQuNDE5NzQxNCAxMjAuODc3ODI2LDI0LjUyNTg5NjYgMTIxLjI3Nzg3NSwyNC42NDA5NjU1IEMxMjEuNzE0MzY2LDI0Ljc2NTc1ODYgMTIyLjE0Mjc1OCwyNC44OTg2NTUyIDEyMi41NjQ2NzIsMjUuMDQxMjc1OSBDMTIyLjYzNTEyNiwyNS4wNjQ3NzU5IDEyMi43MDU1OCwyNS4wOTA3MDY5IDEyMi43NzUyMjUsMjUuMTE2NjM3OSBMMTIyLjk0NjA5NiwyNS4xNzgyMjQxIEMxMjMuMjMzNTgsMjUuMjc4NzA2OSAxMjMuNTIwMjU1LDI1LjM4MTYyMDcgMTIzLjc5OTY0MiwyNS40OTEwMTcyIEMxMjMuODYyODA3LDI1LjUxNDUxNzIgMTIzLjkyMjczNCwyNS41NDA0NDgzIDEyMy45ODM0NywyNS41NjYzNzkzIEwxMjQuMTI3NjE3LDI1LjYyNjM0NDggQzEyNC41MDQxODIsMjUuNzc4Njg5NyAxMjQuODcyNjQ4LDI1Ljk0MDc1ODYgMTI1LjI1NjUwMSwyNi4xMTkwMzQ1IEMxMjUuMjYwNTUsMjYuMTIwNjU1MiAxMjUuMzEzOTk4LDI2LjE0NjU4NjIgMTI1LjMxODA0NywyNi4xNDgyMDY5IEMxMjUuNDE2MDM0LDI2LjE5MzU4NjIgMTI1LjUxMzIxMiwyNi4yMzk3NzU5IDEyNS42MDc5NjEsMjYuMjg1MTU1MiBDMTI1Ljc4MDQ1MiwyNi4zNzAyNDE0IDEyNS45NTEzMjMsMjYuNDU2OTQ4MyAxMjYuMTE3MzM1LDI2LjU0MzY1NTIgQzEyNi4xMTk3NjQsMjYuNTQ0NDY1NSAxMjYuMTIzMDA0LDI2LjU0NjA4NjIgMTI2LjEyNTQzMywyNi41NDc3MDY5IEMxMjYuMjU5MDUzLDI2LjYxNzM5NjYgMTI2LjM5MTA1MywyNi42ODg3MDY5IDEyNi41MjIyNDMsMjYuNzYxNjM3OSBMMTI2LjUxOTAwNCwyNy44OTEyNTg2IEMxMjYuNDMzMTYzLDI3Ljg0NzUgMTI2LjM0ODk0MiwyNy44MDM3NDE0IDEyNi4yNjE0ODIsMjcuNzYwNzkzMSBMMTI1Ljg2MTQzMywyNy41NzExNzI0IEMxMjUuNDc5MiwyNy4zOTM3MDY5IDEyNS4wODgwNTksMjcuMjIzNTM0NSAxMjQuNjg4ODIsMjcuMDU5ODQ0OCBMMTI0LjU1ODQzOSwyNy4wMDYzNjIxIEMxMjQuNDg3MTc1LDI2Ljk3NjM3OTMgMTI0LjQxNDI5MiwyNi45NDU1ODYyIDEyNC4zNDA1OTksMjYuOTE3MjI0MSBDMTI0LjA0NjYzNiwyNi44MDEzNDQ4IDEyMy43NDQ1NzQsMjYuNjkzNTY5IDEyMy40MzkyNzQsMjYuNTg1NzkzMSBMMTIzLjI4NzgzOCwyNi41MzE1IEMxMjMuMjA1MjM3LDI2LjUwMTUxNzIgMTIzLjEyMTgyNiwyNi40NzA3MjQxIDEyMy4wMzc2MDUsMjYuNDQyMzYyMSBDMTIyLjU5NDYzNiwyNi4yOTQwNjkgMTIyLjE0NTk5OCwyNi4xNTM4NzkzIDEyMS42ODY4MzIsMjYuMDIyNjAzNCBDMTIxLjI2NzM0NywyNS45MDI2NzI0IDEyMC44NDMwMDQsMjUuNzkwODQ0OCAxMjAuNDEwNTYyLDI1LjY4NTUgQzEyMC4zMzg0ODgsMjUuNjY4NDgyOCAxMjAuMjYzOTg1LDI1LjY1MTQ2NTUgMTIwLjE4OTQ4MiwyNS42MzYwNjkgTDEyMC4wNDEyODYsMjUuNjAyMDM0NSBDMTE5LjcyODY5NywyNS41MjkxMDM0IDExOS40MTQ0ODgsMjUuNDU2OTgyOCAxMTkuMDk0NjExLDI1LjM5MTM0NDggTDExOC42Njc4MzgsMjUuMzEwMzEwMyBDMTE4LjM3MjI1NSwyNS4yNTI3NzU5IDExOC4wNzY2NzIsMjUuMTk2ODYyMSAxMTcuNzc3MDQsMjUuMTQ1ODEwMyBDMTE3LjY0MTgwMSwyNS4xMjM5MzEgMTE3LjUwNTc1MiwyNS4xMDIwNTE3IDExNy4zNjk3MDMsMjUuMDgyNjAzNCBMMTE3LjI1Nzk0OCwyNS4wNjM5NjU1IEMxMTYuOTgyNjExLDI1LjAyMTgyNzYgMTE2LjcwNzI3NCwyNC45Nzk2ODk3IDExNi40Mjc4ODcsMjQuOTQyNDEzOCBDMTE2LjI0MTYyOSwyNC45MTcyOTMxIDExNi4wNTM3NTIsMjQuODk0NjAzNCAxMTUuODY0MjU1LDI0Ljg3MDI5MzEgQzExNS42MDgzNTMsMjQuODM5NSAxMTUuMzUyNDUyLDI0LjgxMDMyNzYgMTE1LjA0Nzk2MSwyNC43Nzg3MjQxIEMxMTQuODU1MjI1LDI0Ljc1OTI3NTkgMTE0LjY2MDA1OSwyNC43Mzk4Mjc2IDExNC40NjQwODMsMjQuNzIyODEwMyBDMTE0LjE5NzY1NCwyNC42OTc2ODk3IDExMy45Mjg3OTUsMjQuNjc3NDMxIDExMy42NTkxMjYsMjQuNjU3MTcyNCBDMTEzLjQ0MjA5NiwyNC42NDE3NzU5IDExMy4yMjUwNjUsMjQuNjI1NTY5IDExMy4wMTQ1MTMsMjQuNjE0MjI0MSBMMTEyLjkyMDU3NCwyNC42MDkzNjIxIEMxMTIuNjgwODY5LDI0LjU5NDc3NTkgMTEyLjQ0MDM1MywyNC41ODM0MzEgMTEyLjE5OTgzOCwyNC41NzI4OTY2IEMxMTEuOTgzNjE3LDI0LjU2Mzk4MjggMTExLjc2NzM5NiwyNC41NTUwNjkgMTExLjU0NzkzNiwyNC41NDc3NzU5IEMxMTEuMzIzNjE3LDI0LjU0MTI5MzEgMTExLjA5ODQ4OCwyNC41MzgwNTE3IDExMC44NzI1NSwyNC41MzQgTDExMC43ODgzMjksMjQuNTMyMzc5MyBDMTEwLjI3NDA5NiwyNC41MjUwODYyIDEwOS43NjE0ODIsMjQuNTI0Mjc1OSAxMDkuMjM4MzQxLDI0LjUzMTU2OSBDMTA4Ljk2ODY3MiwyNC41MzU2MjA3IDEwOC42OTk4MTMsMjQuNTQwNDgyOCAxMDguNDI4NTI1LDI0LjU0ODU4NjIgQzEwOC40MTMxMzksMjQuNTQ5Mzk2NiAxMDguMzk2OTQyLDI0LjU1MDIwNjkgMTA4LjM4MTU1NiwyNC41NTAyMDY5IEMxMDguMzIzMjQ5LDI0LjUzNTYyMDcgMTA4LjI2MzMyMywyNC41MjUwODYyIDEwOC4yMDA5NjcsMjQuNTI1MDg2MiBMMTA4LjE5ODUzNywyNC41MjUwODYyIEMxMDguMTE5MTc1LDI0LjUyNTg5NjYgMTA4LjA0Mzg2MywyNC41NDIxMDM0IDEwNy45NzI1OTksMjQuNTY0NzkzMSBDMTA3LjkwMTMzNSwyNC41NjgwMzQ1IDEwNy44MjkyNjEsMjQuNTcwNDY1NSAxMDcuNzU3OTk4LDI0LjU3Mjg5NjYgQzEwNy4zODMwNTMsMjQuNTg5MTAzNCAxMDcuMDA3Mjk4LDI0LjYwNzc0MTQgMTA2LjYyMDIwNiwyNC42MzA0MzEgQzEwNi40MDcyMjUsMjQuNjQ0MjA2OSAxMDYuMTk1MDUzLDI0LjY1NzE3MjQgMTA1Ljk4MjA3MSwyNC42NzI1NjkgQzEwNS41ODQ0NTIsMjQuNzAwOTMxIDEwNS4xODUyMTIsMjQuNzM1Nzc1OSAxMDQuNzg2NzgzLDI0Ljc3MjI0MTQgTDEwNC42MTEwNTMsMjQuNzg5MjU4NiBDMTA0LjQ4Nzk2MSwyNC43OTg5ODI4IDEwNC4zNjQwNTksMjQuODEwMzI3NiAxMDQuMjQwMTU3LDI0LjgyMzI5MzEgQzEwMy41NTAxOTQsMjQuODk0NjAzNCAxMDIuODQ2NDY0LDI0Ljk3ODA2OSAxMDIuMTUwMDIyLDI1LjA3NDUgTDEwMS42NzMwNCwyNS4xNDMzNzkzIEMxMDEuMDY0ODY5LDI1LjIzMjUxNzIgMTAwLjQ1NjY5NywyNS4zMzA1NjkgOTkuODQ5MzM1LDI1LjQzNjcyNDEgTDk5LjQ0NTIzNjgsMjUuNTA2NDEzOCBDOTguODM5NDk0NSwyNS42MTgyNDE0IDk4LjIzMzc1MjEsMjUuNzM4MTcyNCA5Ny42Mjk2Mjk0LDI1Ljg2NzAxNzIgTDk3LjMxMjE4MTYsMjUuOTM5MTM3OSBDOTYuODEwMDk1NywyNi4wNDg1MzQ1IDk2LjMwODgxOTYsMjYuMTY2MDM0NSA5NS44MDgzNTM0LDI2LjI4ODM5NjYgQzk1LjY1NTI5ODIsMjYuMzI2NDgyOCA5NS41MDIyNDI5LDI2LjM2NjE4OTcgOTUuMzQ5MTg3NywyNi40MDU4OTY2IEw5NS4yMTM5NDg1LDI2LjQ0MDc0MTQgQzk0Ljc5NjA4MzQsMjYuNTQ3NzA2OSA5NC4zODA2NDc5LDI2LjY1ODcyNDEgOTMuOTY3NjQxNywyNi43NzQ2MDM0IEM5My43NjE5NDg1LDI2LjgzMTMyNzYgOTMuNTU2MjU1MiwyNi44ODg4NjIxIDkzLjM1MDU2MiwyNi45NDg4Mjc2IEM5Mi45MDAzMDQzLDI3LjA4MDEwMzQgOTIuNDUxNjY2MywyNy4yMTc4NjIxIDkyLjAwMzgzOCwyNy4zNTk2NzI0IEw5MS4wMDkzODQsMjcuNjgzIEM5MC44NTE0Njk5LDI3LjczNDg2MjEgOTAuNjk1OTg1MywyNy43ODk5NjU1IDkwLjU0NDU0OTcsMjcuODQyNjM3OSBMOTAuNDM5MjczNiwyNy44Nzc0ODI4IEM5MC4zMTY5OTE0LDI3LjkxOTYyMDcgOTAuMTk0NzA5MiwyNy45NjA5NDgzIDkwLjA3NDA0NjYsMjguMDAzMDg2MiBDODkuOTI1MDQwNSwyOC4wNTU3NTg2IDg5Ljc3NzY1NCwyOC4xMTAwNTE3IDg5LjYzMDI2NzUsMjguMTY1MTU1MiBMODkuMzk3ODUwMywyOC4yNTAyNDE0IEM4OS4xNDAzMjg4LDI4LjM0NTA1MTcgODguODgyODA3NCwyOC40NDA2NzI0IDg4LjYyNjA5NTcsMjguNTQwMzQ0OCBDODguNDI2ODgxLDI4LjYxNjUxNzIgODguMjMwMDk1NywyOC42OTQzMTAzIDg4LjAzNDEyMDIsMjguNzczNzI0MSBDODcuNzUzMTE0MSwyOC44ODQ3NDE0IDg3LjQ3MzcyNzYsMjguOTk4MTg5NyA4Ny4xOTc1ODA0LDI5LjExNDg3OTMgQzg2Ljk5OTE3NTUsMjkuMTk1OTEzOCA4Ni44MDE1ODA0LDI5LjI4MDE4OTcgODYuNjA1NjA0OSwyOS4zNjM2NTUyIEM4Ni4zMjc4MzgsMjkuNDg0Mzk2NiA4Ni4wNTI1MDA2LDI5LjYwNTk0ODMgODUuNzc4NzgyOCwyOS43Mjk5MzEgQzg1LjU4NjA0NjYsMjkuODE2NjM3OSA4NS4zOTQ5MzAxLDI5LjkwMjUzNDUgODUuMjA2MjQyOSwyOS45OTE2NzI0IEM4NS4wMTY3NDYsMzAuMDc5MTg5NyA4NC44MzA0ODgzLDMwLjE2OTEzNzkgODQuNjQzNDIwOSwzMC4yNTk4OTY2IEw4NC4yMDc3Mzk5LDMwLjQ2ODk2NTUgQzg0LjA4MzAyODIsMzAuNTMwNTUxNyA4My45NTkxMjY0LDMwLjU5MDUxNzIgODMuODM0NDE0NywzMC42NTI5MTM4IEM4My43MjU4OTk0LDMwLjcwNzIwNjkgODMuNjE5ODEzNSwzMC43NjMxMjA3IDgzLjUxMjkxNzgsMzAuODE5MDM0NSBMODIuNzgyNDYzOCwzMS4xOTc0NjU1IEM4Mi42ODUyODU5LDMxLjI0NzcwNjkgODIuNTg4MTA4LDMxLjI5ODc1ODYgODIuNDkzMzU5NSwzMS4zNDk4MTAzIEM4Mi4wNTEyLDMxLjU4ODg2MjEgODEuNjEzMDg5NiwzMS44MzI3NzU5IDgxLjE4MTQ1NzcsMzIuMDgzOTgyOCBDODAuNzk0MzY1NiwzMi4zMDkyNTg2IDgwLjQxOTQyMDksMzIuNTM3Nzc1OSA4MC4wNDg1MjUyLDMyLjc2ODcyNDEgTDc5Ljc2MzQ2OTksMzIuOTQ1Mzc5MyBDNzkuNjU5ODEzNSwzMy4wMTEwMTcyIDc5LjU1ODU4NjUsMzMuMDc3NDY1NSA3OS40NTczNTk1LDMzLjE0MzkxMzggTDc5LjI4ODEwOCwzMy4yNTU3NDE0IEM3OC45NzYzMjg4LDMzLjQ1OTEzNzkgNzguNjY2OTc5MSwzMy42NjMzNDQ4IDc4LjM2NTcyNzYsMzMuODcwNzkzMSBDNzguMjIxNTgwNCwzMy45NzA0NjU1IDc4LjA4MDY3MjQsMzQuMDcwMTM3OSA3Ny45Mzk3NjQ0LDM0LjE3MDYyMDcgTDc3Ljg2OTMxMDQsMzQuMjIwODYyMSBDNzcuNTk4ODMxOSwzNC40MTQ1MzQ1IDc3LjMzMDc4MjgsMzQuNjA4MjA2OSA3Ny4wNzAwMjIxLDM0LjgwNTEyMDcgQzc2LjkwODA1ODksMzQuOTI3NDgyOCA3Ni43NDc3MTUzLDM1LjA0OTg0NDggNzYuNTg5ODAxMiwzNS4xNzMwMTcyIEM3Ni4zMzQ3MDkyLDM1LjM3MTU1MTcgNzYuMDg2MDk1NywzNS41NzA4OTY2IDc1Ljg0MTUzMTMsMzUuNzczNDgyOCBMNzUuNzMzODI1OCwzNS44NjI2MjA3IEM3NS42MjQ1MDA2LDM1Ljk1MjU2OSA3NS41MTQzNjU2LDM2LjA0MjUxNzIgNzUuNDA3NDY5OSwzNi4xMzQwODYyIEM3NS4yMjc2OTA4LDM2LjI4ODA1MTcgNzUuMDU0MzkwMiwzNi40NDI4Mjc2IDc0Ljg4MTA4OTYsMzYuNTk2NzkzMSBMNzQuNjYyNDM5MywzNi43OTI4OTY2IEM3NC41NTQ3MzM3LDM2Ljg4OTMyNzYgNzQuNDQ3ODM4LDM2Ljk4NDk0ODMgNzQuMzM0NDYzOCwzNy4wOTAyOTMxIEw3NC4yNTc1MzEzLDM3LjE2NDg0NDggQzczLjk3NzMzNSwzNy40MjkwMTcyIDczLjcwNjA0NjYsMzcuNjk1NjIwNyA3My40NDUyODU5LDM3Ljk2MjIyNDEgQzczLjM1NzAxNiwzOC4wNTIxNzI0IDczLjI2OTU1NTgsMzguMTQyMTIwNyA3My4xODUzMzUsMzguMjMyMDY5IEM3Mi45MTY0NzYxLDM4LjUxMzI1ODYgNzIuNjU3MzM1LDM4Ljc5NTI1ODYgNzIuMzkzMzM1LDM5LjA5NzUxNzIgQzcyLjIyNDg5MzMsMzkuMjkxMTg5NyA3Mi4wNjUzNTk1LDM5LjQ4NDg2MjEgNzEuOTA3NDQ1NCwzOS42NzkzNDQ4IEw3MS44MjcyNzM2LDM5Ljc3NDk2NTUgQzcxLjc3NjI1NTIsMzkuODM1NzQxNCA3MS43MjYwNDY2LDM5Ljg5NTcwNjkgNzEuNjc3NDU3NywzOS45NTcyOTMxIEM3MS41NjgxMzI1LDQwLjA5NTg2MjEgNzEuNDY2MDk1Nyw0MC4yMzM2MjA3IDcxLjM2NDA1ODksNDAuMzcxMzc5MyBMNzEuMjcwMTIwMiw0MC40OTk0MTM4IEM3MS4yMTE4MTM1LDQwLjU3NzIwNjkgNzEuMTU5MTc1NSw0MC42NTU4MTAzIDcxLjEwMjQ4ODMsNDAuNzMzNjAzNCBDNzIuNjkxMzQ3MiwzNy44MDk4NzkzIDc1LjQyNzcxNTMsMzQuOTIxODEwMyA3OS4xMDkxMzg3LDMyLjM1NDYzNzkgTDc5LjEwOTEzODcsMzIuMzU0NjM3OSBaIE03MS42NjIwNzEyLDUyLjI3ODU4NjIgQzcxLjYxODM0MTEsNTIuMjI0MjkzMSA3MS41NzM4MDEyLDUyLjE3MTYyMDcgNzEuNTMyNTAwNiw1Mi4xMTczMjc2IEM3MS40MzA0NjM4LDUxLjk4NTI0MTQgNzEuMzM1NzE1Myw1MS44NTE1MzQ1IDcxLjI0MTc3NjcsNTEuNzE3MDE3MiBDNzEuMTk2NDI3LDUxLjY1MjE4OTcgNzEuMTQ5NDU3Nyw1MS41ODgxNzI0IDcxLjEwNjUzNzQsNTEuNTIzMzQ0OCBDNzEuMDE3NDU3Nyw1MS4zODk2Mzc5IDcwLjkzNDA0NjYsNTEuMjU0MzEwMyA3MC44NTMwNjUsNTEuMTE4MTcyNCBDNzAuODEwOTU0Niw1MS4wNDg0ODI4IDcwLjc2ODAzNDQsNTAuOTc4NzkzMSA3MC43MjgzNTM0LDUwLjkwODI5MzEgQzcwLjY1Mzg1MDMsNTAuNzc2MjA2OSA3MC41ODMzOTYzLDUwLjY0MjUgNzAuNTE1MzcxOCw1MC41MDc5ODI4IEM3MC40NzU2OTA4LDUwLjQzMDE4OTcgNzAuNDM2MDA5OCw1MC4zNTMyMDY5IDcwLjM5OTU2ODEsNTAuMjc0NjAzNCBDNzAuMzM4ODMxOSw1MC4xNDY1NjkgNzAuMjgyOTU0Niw1MC4wMTY5MTM4IDcwLjIyODY5NjksNDkuODg3MjU4NiBDNzAuMTkxNDQ1NCw0OS43OTgxMjA3IDcwLjE1NDE5MzksNDkuNzA4MTcyNCA3MC4xMjAxODE2LDQ5LjYxNzQxMzggQzcwLjA3NDgzMTksNDkuNDk4MjkzMSA3MC4wMzI3MjE1LDQ5LjM3NzU1MTcgNjkuOTkyMjMwNyw0OS4yNTY4MTAzIEM2OS45NTc0MDg2LDQ5LjE1MDY1NTIgNjkuOTIzMzk2Myw0OS4wNDQ1IDY5Ljg5MTgxMzUsNDguOTM4MzQ0OCBDNjkuODYwMjMwNyw0OC44MzEzNzkzIDY5LjgzMTg4NzEsNDguNzIyNzkzMSA2OS44MDQzNTM0LDQ4LjYxNDIwNjkgQzY5Ljc3Mjc3MDYsNDguNDg4NjAzNCA2OS43NDI4MDc0LDQ4LjM2MTM3OTMgNjkuNzE2ODkzMyw0OC4yMzMzNDQ4IEM2OS42OTgyNjc1LDQ4LjE0MzM5NjYgNjkuNjgwNDUxNSw0OC4wNTM0NDgzIDY5LjY2NTA2NSw0Ny45NjE4NzkzIEM2OS42NTI5MTc4LDQ3Ljg5MzgxMDMgNjkuNjQ0ODE5Niw0Ny44MjQ5MzEgNjkuNjM1MTAxOCw0Ny43NTY4NjIxIEM2OS42NTA0ODgzLDQ3LjY0NTg0NDggNjkuNjY5MTE0MSw0Ny41Mjk5NjU1IDY5LjY5MzQwODYsNDcuMzkxMzk2NiBDNjkuNzEzNjU0LDQ3LjI3NzEzNzkgNjkuNzMzODk5NCw0Ny4xNjIwNjkgNjkuNzU4MTkzOSw0Ny4wNDk0MzEgQzY5Ljc5Nzg3NDgsNDYuODYwNjIwNyA2OS44NDY0NjM4LDQ2LjY3MTgxMDMgNjkuODk2NjcyNCw0Ni40ODM4MTAzIEw2OS45MjkwNjUsNDYuMzYzMDY5IEM2OS45NDYwNzEyLDQ2LjI5NSA2OS45NjM4ODcxLDQ2LjIyNjkzMSA2OS45ODgxODE2LDQ2LjE1MDc1ODYgTDcwLjAzNTk2MDcsNDYuMDAyNDY1NSBDNzAuMDU4NjM1Niw0NS45MzExNTUyIDcwLjA4MzczOTksNDUuODU3NDEzOCA3MC4xMDg4NDQyLDQ1Ljc4NDQ4MjggQzcwLjU2MDcyMTUsNDUuNzk1ODI3NiA3MC45NjIzOTAyLDQ1LjkxOTgxMDMgNzEuMjkyNzk1MSw0Ni4xNjUzNDQ4IEM3MS45NzIyMzA3LDQ2LjY2Njk0ODMgNzIuMzQ4Nzk1MSw0Ny42NTE1MTcyIDcyLjM1Mjg0NDIsNDguOTM0MjkzMSBDNzIuMzU1MjczNiw0OS45NjQyNDE0IDcyLjExMTUxOSw1MS4xMjMwMzQ1IDcxLjY2MjA3MTIsNTIuMjc4NTg2MiBMNzEuNjYyMDcxMiw1Mi4yNzg1ODYyIFogTTc0LjAyMTg3NDgsNTcuOTQzNzA2OSBMNzQuNzU0NzU4Myw1Ny41MTk4OTY2IEw3NC43NTQ3NTgzLDU3LjUyOTYyMDcgTDc0LjczNTMyMjcsNjQuNTQ4MDE3MiBMNzQuNzM1MzIyNyw2NC41NDg4Mjc2IEM3NC43MzQ1MTI5LDY0LjYwNjM2MjEgNzQuNzQyNjExLDY0LjY2MjI3NTkgNzQuNzU0NzU4Myw2NC43MTU3NTg2IEw3NC43NTQ3NTgzLDg4Ljk4ODAxNzIgTDczLjkzOTI3MzYsODkuNDU4ODI3NiBMNzQuMDIxODc0OCw1Ny45NDM3MDY5IFogTTM3Ljc0MDUwMDYsNjkuMjE5NjU1MiBMMzcuODIyMjkyLDM3Ljk5MjIwNjkgTDcyLjUzMTgxMzUsNTguMDQ1IEw3Mi40NTQwNzEyLDg3LjgyMTkzMSBDNzIuNDQ2NzgyOCw4Ny44NjQwNjkgNzIuNDQ0MzUzNCw4Ny45MDUzOTY2IDcyLjQ0NDM1MzQsODcuOTQ3NTM0NSBDNzIuNDQ1MTYzMiw4OC4wMDUwNjkgNzIuNDQ1MTYzMiw4OC42MjgyMjQxIDcyLjQ0NTk3Myw4OS4yNTA1NjkgTDcyLjQ0NTk3Myw4OS4yNjkyMDY5IEwzNy43NDA1MDA2LDY5LjIxOTY1NTIgWiBNNTguNzMzMzU5NSwxMy4yMTc1MzQ1IEw2Ni41MjI5NzkxLDE4Ljc5ODM3OTMgTDM2LjcwNzk4NTMsMzYuMDUyMjQxNCBDMzYuNzAwNjk2OSwzNi4wNTcxMDM0IDM2LjY5NDIxODQsMzYuMDYyNzc1OSAzNi42ODc3Mzk5LDM2LjA2NzYzNzkgQzM2LjY3NzIxMjMsMzYuMDczMzEwMyAzNi42NjY2ODQ3LDM2LjA3ODk4MjggMzYuNjU2OTY2OSwzNi4wODYyNzU5IEMzNi42MzUxMDE4LDM2LjEwMTY3MjQgMzYuNjE0MDQ2NiwzNi4xMTcwNjkgMzYuNTkzODAxMiwzNi4xMzU3MDY5IEMzNi41ODczMjI3LDM2LjE0MDU2OSAzNi41ODE2NTQsMzYuMTQ2MjQxNCAzNi41NzUxNzU1LDM2LjE1MTkxMzggQzM2LjU3MTEyNjQsMzYuMTU1OTY1NSAzNi41NjcwNzczLDM2LjE2MDAxNzIgMzYuNTYyMjE4NCwzNi4xNjQwNjkgQzM2LjU1ODk3OTEsMzYuMTY3MzEwMyAzNi41NTU3Mzk5LDM2LjE3MDU1MTcgMzYuNTUyNTAwNiwzNi4xNzI5ODI4IEMzNi41Mjk4MjU4LDM2LjE5NTY3MjQgMzYuNTA4NzcwNiwzNi4yMTk5ODI4IDM2LjQ4OTMzNSwzNi4yNDUxMDM0IEMzNi40ODY5MDU1LDM2LjI0ODM0NDggMzYuNDg1Mjg1OSwzNi4yNTE1ODYyIDM2LjQ4Mjg1NjQsMzYuMjU0ODI3NiBDMzYuNDc3MTg3NywzNi4yNjIxMjA3IDM2LjQ3MjMyODgsMzYuMjY5NDEzOCAzNi40NjY2NjAxLDM2LjI3NTg5NjYgQzM2LjQ2NTg1MDMsMzYuMjc4MzI3NiAzNi40NjQyMzA3LDM2LjI3OTk0ODMgMzYuNDYyNjExLDM2LjI4MjM3OTMgQzM2LjQ1MjA4MzQsMzYuMjk3Nzc1OSAzNi40Mzk5MzYyLDM2LjMxMDc0MTQgMzYuNDMwMjE4NCwzNi4zMjY5NDgzIEMzNi4zNTAwNDY2LDM2LjQ2NzEzNzkgMzYuMzIwODkzMywzNi42MjE5MTM4IDM2LjMzNTQ2OTksMzYuNzcxODI3NiBMMzYuMjUzNjc4NSw2OC4xODk3MDY5IEwzLjg1Mzc1MjE1LDQ0Ljk3ODE4OTcgTDU4LjczMzM1OTUsMTMuMjE3NTM0NSBaIE0xMzAuNzI5MjM3LDIyLjgzMTQ2NTUgTDk0LjYxNzExNDEsMS45NjgzMjc1OSBDOTQuMjMzMjYxMywxLjc0NjI5MzEgOTMuODA0MDU4OSwxLjYzNTI3NTg2IDkzLjM3NTY2NjMsMS42MzUyNzU4NiBDOTIuOTQ2NDYzOCwxLjYzNTI3NTg2IDkyLjUxNzI2MTMsMS43NDYyOTMxIDkyLjEzMjU5ODgsMS45NjkxMzc5MyBMNjguMDM4MTQ0OCwxNS45MTM1NTE3IEw2MS4yNjA3OTUxLDExLjA1NTUzNDUgTDYxLjI2MDc5NTEsNS45NjI1MTcyNCBDNjEuMjYwNzk1MSwyLjgxMTg5NjU1IDU4LjY5NjEwOCwwLjI0NzE1NTE3MiA1NS41NDM0OTQ1LDAuMjQ3MTU1MTcyIEM1NC41NDgyMzA3LDAuMjQ3MTU1MTcyIDUzLjU2MTA2NSwwLjUxNTM3OTMxIDUyLjY4NzI3MzYsMS4wMjE4NDQ4MyBMNS40MzUzMjI3LDI4LjM2NjkzMSBDMi4wODM0OTQ0OCwzMC4zMDI4NDQ4IC0wLjAwMDE2MTk2MzE5LDMzLjkxNjE3MjQgLTAuMDAwMTYxOTYzMTksMzcuNzk1MjkzMSBMLTAuMDAwMTYxOTYzMTksNDQuOTEwOTMxIEMtMC4wMDAxNjE5NjMxOSw0NS43MTE1NTE3IDAuMzg2MTIwMjQ1LDQ2LjQ2NDM2MjEgMS4wMzcyMTIyNyw0Ni45MzAzMTAzIEwzNS41NDk5NDg1LDcxLjY2Mjg0NDggQzM1LjU2MjkwNTUsNzEuNjcyNTY5IDM1LjU3NjY3MjQsNzEuNjgyMjkzMSAzNS41ODk2Mjk0LDcxLjY5MTIwNjkgTDM1LjY2ODk5MTQsNzEuNzQ1NSBDMzUuNzIyNDM5Myw3MS43ODI3NzU5IDM1Ljc3NzUwNjcsNzEuODE3NjIwNyAzNS44MzQxOTM5LDcxLjg1MDAzNDUgTDcxLjUyNTIxMjMsOTIuNDY2MDE3MiBDNzEuOTk0OTA1NSw5Mi45MzUyMDY5IDcyLjYzMDYxMSw5My4xODk2NTUyIDczLjI3OTI3MzYsOTMuMTg5NjU1MiBDNzMuNzAwMzc3OSw5My4xODk2NTUyIDc0LjEyNzk2MDcsOTMuMDgxODc5MyA3NC41MTkxMDE4LDkyLjg1NTc5MzEgTDc2Ljc0MzY2NjMsOTEuNTY4OTY1NSBDNzcuNTExMzcxOCw5MS4xMjQ4OTY2IDc3Ljk4MzQ5NDUsOTAuMzA0ODI3NiA3Ny45ODM0OTQ1LDg5LjQxODMxMDMgTDc3Ljk4MzQ5NDUsNjUuMjQ4OTY1NSBDNzguMDA1MzU5NSw2NS4xODkgNzguMDI1NjA0OSw2NS4xMjc0MTM4IDc4LjA0MjYxMSw2NS4wNjUwMTcyIEw3OS42NTY1NzQyLDU5LjIzMzc3NTkgTDc5LjgxNjEwOCw1OS4yNzUxMDM0IEw4Ny43NzkwMjgyLDYxLjMzNjYyMDcgQzg3Ljk3NTAwMzcsNjEuMzg3NjcyNCA4OC4xNzY2NDc5LDYxLjQxNDQxMzggODguMzc5OTExNyw2MS40MTYwMzQ1IEw5MC4xMjc0OTQ1LDYxLjQzMDYyMDcgTDkwLjE0ODU0OTcsNjEuNDMwNjIwNyBDOTAuNDMzNjA0OSw2MS40MzA2MjA3IDkwLjcxNjIzMDcsNjEuMzgyIDkwLjk4NTA4OTYsNjEuMjg1NTY5IEM5Ny4wMjA2NDc5LDU5LjEyMzU2OSAxMDMuNzcyMDgzLDU3LjkzMjM2MjEgMTA5Ljk5NDcwOSw1Ny45MzIzNjIxIEMxMTYuMTk5NTE5LDU3LjkzMjM2MjEgMTIxLjc0OTE4OCw1OS4xMTU0NjU1IDEyNS42NzE5MzYsNjEuMjY5MzYyMSBDMTI1Ljk1NzgwMSw2MS41MjYyNDE0IDEyNi4zMDE5NzMsNjEuNzE0MjQxNCAxMjYuNjgwMTU3LDYxLjgxNjM0NDggQzEyNi44OTMxMzksNjEuODczODc5MyAxMjcuMTEwOTc5LDYxLjkwMjI0MTQgMTI3LjMyODAxLDYxLjkwMjI0MTQgQzEyNy43NTk2NDIsNjEuOTAyMjQxNCAxMjguMTg4MDM0LDYxLjc5MDQxMzggMTI4LjU2ODY0OCw2MS41NyBMMTMwLjcyODQyNyw2MC4zMjI4NzkzIEMxMzEuNDk2OTQyLDU5Ljg3OTYyMDcgMTMxLjk3MDY4NSw1OS4wNTk1NTE3IDEzMS45NzA2ODUsNTguMTcxNDEzOCBMMTMxLjk3MDY4NSwyNC45ODIxMjA3IEMxMzEuOTcwNjg1LDI0LjA5NDc5MzEgMTMxLjQ5Njk0MiwyMy4yNzQ3MjQxIDEzMC43MjkyMzcsMjIuODMxNDY1NSBMMTMwLjcyOTIzNywyMi44MzE0NjU1IFoiIGlkPSJGaWxsLTQ1IiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTk3LjUyODgwNzQsMjkuMzM4NDUzNCBDOTguMjg1OTg1MywyOC45MDA4NjcyIDk5LjAwMDI0MjksMjguNjc5NjQzMSA5OS42MjYyMzA3LDI4LjY3OTY0MzEgQzEwMC4wMjMwNCwyOC42Nzk2NDMxIDEwMC4zODM0MDksMjguNzY4NzgxIDEwMC42OTU5OTgsMjguOTQ5NDg3OSBDMTAxLjQ5MjA0NywyOS40MDczMzI4IDEwMS45MzMzOTYsMzAuNDM1NjYwMyAxMDEuOTM3NDQ1LDMxLjg0MjQxOSBDMTAxLjk0NjM1MywzNS4wOTUxNDMxIDk5LjY1MDUyNTIsMzkuMDcxNTA1MiA5Ni44MjAyMTg0LDQwLjcwNTk3MDcgQzk1LjU4MjgxOTYsNDEuNDE5ODg0NSA5NC40NTk2MDQ5LDQxLjU1NzY0MzEgOTMuNjU2MjY3NSw0MS4wOTQ5MzYyIEM5Mi44NTk0MDg2LDQwLjYzNTQ3MDcgOTIuNDE4MDU4OSwzOS42MDc5NTM0IDkyLjQxNDgxOTYsMzguMjAxMTk0OCBDOTIuNDA1MTAxOCwzNC45NDg0NzA3IDk0LjY5OTMxMDQsMzAuOTczNzI5MyA5Ny41Mjg4MDc0LDI5LjMzODQ1MzQgTTkyLjkxMzY2NjMsNDIuMzg3NDM2MiBDOTMuNDU4NjcyNCw0Mi43MDAyMjkzIDk0LjA2ODQ2MzgsNDIuODU2NjI1OSA5NC43MjExNzU1LDQyLjg1NjYyNTkgQzk1LjYwODczMzcsNDIuODU2NjI1OSA5Ni41NzY0NjM4LDQyLjU2NzMzMjggOTcuNTY0NDM5Myw0MS45OTY4NSBDMTAwLjg2MjAxLDQwLjA5MjUzOTcgMTAzLjQzNzIyNSwzNS42Mjk5NzA3IDEwMy40MjY2OTcsMzEuODM4MzY3MiBDMTAzLjQyMTAyOCwyOS44NzY1MjI0IDEwMi43MTQ4NjksMjguMzkxOTcwNyAxMDEuNDM4NTk5LDI3LjY1Njk4NzkgQzEwMC4xNTQyMzEsMjYuOTE3MTQzMSA5OC41MDEzOTYzLDI3LjA1NjUyMjQgOTYuNzgzNzc2NywyOC4wNDc1NzQxIEM5My40ODc4MjU4LDI5Ljk1MTg4NDUgOTAuOTE0MjMwNywzNC40MTQ0NTM0IDkwLjkyNTU2ODEsMzguMjA0NDM2MiBDOTAuOTMwNDI3LDQwLjE2NTQ3MDcgOTEuNjM3Mzk2Myw0MS42NTE2NDMxIDkyLjkxMzY2NjMsNDIuMzg3NDM2MiIgaWQ9IkZpbGwtNDMiIGZpbGw9IiNGRkZGRkYiIG1hc2s9InVybCgjbWFzay0yKSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03NC42MjY2OTc1LDU0LjgyNTc1MjggTDc3LjA0MDEwMDIsNTkuMDQ5MjA3NSBMNzcuMDQwMTAwMiw1OS4wNDkyMDc1IEM3Ny4zMDY0OTY4LDU5LjUxNTQwMTUgNzcuMTU3MTc5OCw2MC4xMDg3NjczIDc2LjcwMTg1Niw2MC4zOTMzNDQ3IEw3MS44NzUwNTA3LDYzLjQxMDA5OCBMNzEuODc1MDUwNyw2My40MTAwOTggQzcxLjQwNjcxNDEsNjMuNzAyODA4NCA3MC43ODk3NjM4LDYzLjU2MDQzNTIgNzAuNDk3MDUzNCw2My4wOTIwOTg3IEM3MC4zMzg5NjQ1LDYyLjgzOTE1NjMgNzAuMzAyMDQzNSw2Mi41Mjg4NDY4IDcwLjM5NjM2ODQsNjIuMjQ1ODcyIEw3Mi44MDk3NzExLDU1LjAwNTY2NCBMNzIuODA5NzcxMSw1NS4wMDU2NjQgQzcyLjk4NDQxODksNTQuNDgxNzIwNyA3My41NTA3Mzg4LDU0LjE5ODU2MDcgNzQuMDc0NjgyMiw1NC4zNzMyMDg0IEM3NC4zMDgwOTMxLDU0LjQ1MTAxMjEgNzQuNTA0NjI5MSw1NC42MTIxMzMxIDc0LjYyNjY5NzUsNTQuODI1NzUyOCBaIiBpZD0iVHJpYW5nbGUiIGZpbGwtb3BhY2l0eT0iMC4yNjYwNDk1OTIiIGZpbGw9IiNGRkZGRkYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDczLjc1ODUyMSwgNTguOTQxOTI3KSByb3RhdGUoMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC03My43NTg1MjEsIC01OC45NDE5MjcpICI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",`"/>
      <ol>
        `).concat(As.map(function(mo){var lo;return"<li>".concat((lo=mo[navigator.language.split("-")[0]])!==null&&lo!==void 0?lo:mo.zh,"</li>")}).join(""),`
      </ol>
    `);var go=new pr(vo);eo.parentNode&&(eo.parentNode.insertBefore(uo,eo),eo.parentNode.insertBefore(vo,eo),this.setHelperElementSize(),go.on("tap",function(){return to.emit("vrWantsToExit")})),this.destroyHelper=function(){go.destroy(),uo.parentNode&&uo.parentNode.removeChild(uo),vo.parentNode&&vo.parentNode.removeChild(vo)}},_a.prototype.destroyHelper=function(){},_a.prototype.setHelperElementSize=function(){if(this.helperElement){var eo=new r$4.Vector2(this.element.offsetWidth,this.element.offsetHeight),to=eo.x*this.scissor.left,ro=eo.y*(1-this.scissor.bottom-this.scissor.height),no=eo.x*this.scissor.width,io=eo.y*this.scissor.height;this.helperElement.style.marginLeft=to+"px",this.helperElement.style.marginTop=ro+"px",this.helperElement.style.width=no+"px",this.helperElement.style.height=io+"px"}},_a.prototype.intersect=function(eo){if(this.locationMotion.ended!==!1){if(this.activePanoMesh&&this.activeTime&&eo-this.activeTime>2e3){var to=this.panoMeshes.indexOf(this.activePanoMesh);return to>=0&&this.moveToPano(to,{},!0),delete this.activePanoMesh,void delete this.activeTime}for(var ro=0,no=this.panoMeshes;ro<no.length;ro++)(fo=no[ro]).setCurrent(!1);for(var io=this.camera.getWorldDirection(new r$4.Vector3),ao=new r$4.Raycaster(this.camera.position,io),oo=void 0,so=[],uo=0,co=this.panoMeshes;uo<co.length;uo++){var fo;if((fo=co[uo]).visible!==!1){var po=ao.intersectObject(fo,!0)[0];po&&so.push({panoMesh:fo,intersection:po})}}var vo=so.sort(function(yo,Ao){return yo.intersection.distance-Ao.intersection.distance})[0];if(vo&&(oo=vo.intersection,vo.panoMesh.setCurrent(!0),this.activePanoMesh!==vo.panoMesh&&(this.activePanoMesh=vo.panoMesh,this.activeTime=eo)),oo||this.model.empty||(oo=this.model.intersectRaycaster(ao)[0]),oo&&oo.face){var go=oo.face.normal,mo=new r$4.Quaternion;mo.setFromUnitVectors(new r$4.Vector3(0,0,-1),go),this.intersectMesh.quaternion.copy(mo);var lo=go.clone().multiplyScalar(.05),ho=oo.point.clone().add(lo);this.intersectMesh.position.copy(ho),this.intersectMesh.visible=!0,this.emit("intersectionOnModelUpdate",oo,this.intersectMesh)}else this.intersectMesh.visible=!1,this.emit("intersectionHidden")}else this.intersectMesh.visible=!1},_a.prototype.onPanGesture=function(){},_a.prototype.onTapGesture=function(){},_a.prototype.onPinchGesture=function(){},_a.prototype.onMouseMove=function(){},_a.prototype.onMouseOut=function(){},_a}(ns),hs=function(va){function _a(eo){var to,ro,no,io,ao=this,oo=_a.parseArgs(eo);return(ao=va.call(this,oo)||this).currentPanoIndex=oo.initial[0],ao.locationMotion=new dn({x:ao.camera.pose.offset.x,y:ao.camera.pose.offset.y,z:ao.camera.pose.offset.z,distance:ao.camera.pose.distance,modelAlpha:(ro=(to=ao.model.getMaterial())===null||to===void 0?void 0:to.modelAlpha)!==null&&ro!==void 0?ro:0,perspToOrtho:(io=(no=ao.model.getMaterial())===null||no===void 0?void 0:no.perspToOrtho)!==null&&io!==void 0?io:0}),ao}return t$3.__extends(_a,va),_a.parseArgs=function(eo){return va.parseArgs.call(this,eo)},_a.initAnimationEndPose=function(eo){var to=this.parseArgs(eo);return va.initAnimationEndPose.call(this,to)},_a.prototype.destroy=function(){va.prototype.destroy.call(this),this.locationMotion.dispose()},_a.prototype.isReady=function(){return this.locationMotion.ended!==!1&&va.prototype.isReady.call(this)},_a.prototype.updateWork=function(eo,to,ro,no,io){this.work=eo,this.currentPanoIndex=to,this.hideIntersectMesh();var ao={duration:0,longitude:ro.longitude,latitude:ro.latitude,fov:ro.fov};return this.moveToPano(to,ao,io),!0},_a.prototype.updateTime=function(eo,to){if(!this.destroyed){var ro={},no={};if(!this.locationMotion.ended){this.locationMotion.update(eo),ro.modelAlpha=this.locationMotion.value.modelAlpha,ro.perspToOrtho=cn(1-10*(1-this.locationMotion.value.perspToOrtho),0,1),no.distance=this.locationMotion.value.distance,no.offset=new r$4.Vector3(this.locationMotion.value.x,this.locationMotion.value.y,this.locationMotion.value.z);var io=new r$4.Vector3(this.locationMotion.value.x,this.locationMotion.value.y,this.locationMotion.value.z),ao=hr(this.work.observers,function(oo){return oo.position.distanceTo(io)});this.currentPanoIndex=this.work.observers.indexOf(ao)}this.cameraMotion.ended||(this.cameraMotion.update(eo),no.longitude=this.cameraMotion.value.longitude,no.latitude=this.cameraMotion.value.latitude,no.fov=this.cameraMotion.value.fov),dr(ro)||this.model.setMaterial(ro),dr(no)||this.setCamera(no)}},_a.prototype.initAnimation=function(eo,to,ro,no){var io,ao,oo,so=this;this.destroyed||(this.pending=!1,this.userAction=no,this.moveToPano(eo,{longitude:(io=to.longitude)!==null&&io!==void 0?io:this.defaultLongitude,latitude:cn((ao=to.latitude)!==null&&ao!==void 0?ao:this.defaultLatitude,this.minLatitude,this.maxLatitude),fov:cn((oo=to.fov)!==null&&oo!==void 0?oo:this.defaultFov,this.minFov,this.maxFov),duration:ro,moveStartCallback:function(uo,co){so.emit("initAnimationWillStart",uo,co,so.userAction)},moveEndCallback:function(uo,co){so.emit("initAnimationEnded",uo,co,so.userAction)},moveCancelCallback:function(){var uo=so.currentPanoIndex,co={longitude:so.camera.pose.longitude,latitude:so.camera.pose.latitude,fov:so.camera.pose.fov,offset:so.camera.pose.offset.clone()};so.emit("initAnimationEnded",uo,co,so.userAction)}},no))},_a.prototype.getTargetPose=function(){var eo=this.cameraMotion.getKeyFrameSegment(Re())[1],to=this.locationMotion.getKeyFrameSegment(Re())[1];return{longitude:eo.value.longitude,latitude:eo.value.latitude,fov:eo.value.fov,offset:new r$4.Vector3(to.value.x,to.value.y,to.value.z)}},_a.prototype.moveToPano=function(eo,to,ro){to===void 0&&(to={});var no=this.work.observers[eo];no&&this.moveToPosition(no.position,to,ro)},_a.prototype.moveToPosition=function(eo,to,ro){var no,io,ao,oo=this;to===void 0&&(to={}),this.userAction=ro;for(var so=Re(),uo=new r$4.Vector3(this.locationMotion.value.x,this.locationMotion.value.y,this.locationMotion.value.z).distanceTo(eo),co=this.locationMotion.getProgressVelocity(so),fo=0,po=1;po<this.locationMotion.keyframes.length;po++){var vo=this.locationMotion.keyframes[po-1].value,go=vo.x,mo=vo.y,lo=vo.z,ho=this.locationMotion.keyframes[po].value,yo=ho.x,Ao=ho.y,Eo=ho.z;fo+=Math.sqrt(Math.pow(yo-go,2)+Math.pow(Ao-mo,2)+Math.pow(Eo-lo,2))}var To=uo===0?0:co*fo/uo,No=this.calculateMovingDuration(to.duration,uo),Co={x:eo.x,y:eo.y,z:eo.z,distance:0,modelAlpha:1,perspToOrtho:0},Io={longitude:to.longitude,latitude:to.latitude,fov:to.fov},Mo={longitude:(no=Io.longitude)!==null&&no!==void 0?no:this.camera.pose.longitude,latitude:(io=Io.latitude)!==null&&io!==void 0?io:this.camera.pose.latitude,fov:(ao=Io.fov)!==null&&ao!==void 0?ao:this.camera.pose.fov,offset:eo.clone()},wo=hr(this.work.observers,function(bo){return bo.position.distanceTo(eo)}),xo=this.work.observers.indexOf(wo);this.emit("moveToPano",xo,this.userAction),to.moveStartCallback&&to.moveStartCallback(xo,Mo),this.emit("panoWillArrive",xo,Mo,this.userAction),this.cameraMotion.set(Io,No).catch(Pe),this.locationMotion.set(Co,No,To).then(function(){var bo=gr(oo.camera.pose);to.moveEndCallback&&to.moveEndCallback(xo,bo),oo.emit("panoArrived",xo,bo,oo.userAction)},function(){to.moveCancelCallback&&to.moveCancelCallback(),oo.emit("moveToPanoCanceled",xo)})},_a.prototype.onTapGesture=function(eo){var to=eo.pointers.map(function(vo){return ni(vo,["x","y"])});if(!this.emit("wantsGesture","tap",to,!0)){var ro=this.relativeClientPosition(eo.center),no=new r$4.Raycaster;if(no.setFromCamera(ro,this.camera),!this.emit("wantsTapGesture",no,ro,!0)){this.emit("gesture","tap",to,!0),this.emit("tapGesture",no,ro,!0),this.interiaMovement=!1;var io=this.model.intersectRaycaster(no)[0];if(io&&io.face){var ao=io.face.normal,oo=io.point;if(new r$4.Vector3(0,1,0).angleTo(ao)>Math.PI/3){var so=this.camera.position.clone().setY(oo.y),uo=oo.clone().sub(so).setLength(.3),co=oo.clone().sub(uo);no.set(co,new r$4.Vector3(0,-1,0)),io=this.model.intersectRaycaster(no)[0]}}if(io){var fo=io.point.clone(),po=hr(this.work.observers.filter(function(vo){return Math.abs(vo.standingPosition.y-fo.y)<1}),function(vo){return vo.standingPosition.distanceTo(fo)});if(po)return fo.y=po.position.y,void this.moveToPosition(fo,{},!0)}this.cameraBounce()}}},_a}(Sr),ds=function(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];var eo=113,to=126,ro=0,no="";return arguments[ro].split(no).map(function(io){return io.charCodeAt(ro)>to?io:String.fromCharCode((io.charCodeAt(ro)+eo)%to)}).join(no)}(`{vs|z-rp@-}n{|]|vv|{H{vs|z-znA-}n{|Znv\x07H{vs|z-nz}yr?Q-}n{|Qv}ynprzr{Zn}H<<{vs|z-sy|n-pnyrHn\bv{t-rp@-}n{|d|yq]|vv|{H<<-n\bv{t-sy|n-vU|yrHp|{-sy|n-]V-J-@;>A>BF?CHp|{-sy|n-aNb-J-C;?E@>EB?Hp|{-sy|n-pnyr-J->@;>Hrp?-|P||q5rp@-rp|6-
--sy|n--J-yr{tu5rp|6H--sy|n-urn-J-np|5:rp|;\b-<-6H--sy|n-}uv-J-nn{5rp|;\x079-rp|;	6H--r{-rp?5=;B-8-}uv-<-aNb9-urn-<-]V6H\f|vq-znv{56-
--rpA-|yq]|vv|{-J-z|qryZnv\x07-7-rpA5}|vv|{9->;=6H--}n{|d|yq]|vv|{-J-5rpA5|yq]|vv|{;\x07\b	9->;=6-7-}n{|Znv\x076;\x07\b	H--rp?-p||q-J-|P||q5}n{|d|yq]|vv|{6H--sy|n-qvn{pr-J-pnyrH--vs-5p||q;\b-I-=;>B6-
----rp?-n{s|zrqP||q-J-rp?5p||q;\x079-=;=6H----rpA-}n{|Qv}ynprzr{-J-r\x07r?Q5}n{|Qv}ynprzr{Zn}9-n{s|zrqP||q6H----qvn{pr-J-pnyr-7-}n{|Qv}ynprzr{;\x07H----qvn{pr-J-qvn{pr-7-p|5]V-7-5=;>B-:-p||q;\b66H----qvn{pr-J-pnyrH--\f-ryr-vs-5p||q;\b-KJ-=;>B-33-p||q;\b-IJ-=;EB6-
----rp?-n{s|zrqP||q-J-rp?5p||q;\x079-5p||q;\b-:-=;>B6-<-=;D6H----rpA-}n{|Qv}ynprzr{-J-r\x07r?Q5}n{|Qv}ynprzr{Zn}9-n{s|zrqP||q6H----vs5-}n{|Qv}ynprzr{;\x07-JJ-=;=6
------qvn{pr-J-pnyrH----\fryr
------qvn{pr-J-pnyr-7-}n{|Qv}ynprzr{;\x07H----\f--\f-ryr-
----rp?-n{s|zrqP||q-J-rp?5p||q;\x079->;=6H----rpA-}n{|Qv}ynprzr{-J-r\x07r?Q5}n{|Qv}ynprzr{Zn}9-n{s|zrqP||q6H----qvn{pr-J-pnyr-7-}n{|Qv}ynprzr{;\x07H----qvn{pr-J-qvn{pr-7-p|5]V-7-5p||q;\b-:-=;EB66H----qvn{pr-J-pnyrH--\f--rpA-ry]|vv|{-J-rpA5}|vv|{-8-}n{|]|vv|{-8-{|znyv	r5|yq]|vv|{;\x07\b	6-7-qvn{pr9->;=6H--tyl]|vv|{-J-}|wrpv|{Znv\x07-7-z|qrycvrZnv\x07-7-ry]|vv|{H\f`),gs=function(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];var eo=113,to=126,ro=0,no="";return arguments[ro].split(no).map(function(io){return io.charCodeAt(ro)>to?io:String.fromCharCode((io.charCodeAt(ro)+eo)%to)}).join(no)}(`{vs|z-sy|n-|}npv\bH{vs|z-nz}yrPor-}n{|Zn}H{vs|z-nz}yr?Q-}n{|Qv}ynprzr{Zn}Hn\bv{t-rp@-}n{|d|yq]|vv|{H|vq-znv{56-
--rpA-}n{|P|y|-J-r\x07rPor5}n{|Zn}9-}n{|d|yq]|vv|{;\x07\b	6H--tylSntP|y|-J-rpA5}n{|P|y|;to9-|}npv\b6H\f`),ps=Object.assign({opacity:new r$4.Uniform(1),scale:new r$4.Uniform(13.1),panoMap:new r$4.Uniform(null),panoDisplacementMap:new r$4.Uniform(null),panoPosition:new r$4.Uniform(new r$4.Vector3),panoMatrix:new r$4.Uniform(new r$4.Matrix4)},{emissive:new r$4.Uniform(new r$4.Color(0)),emissiveMap:new r$4.Uniform(null),specular:new r$4.Uniform(new r$4.Color(1118481)),specularMap:new r$4.Uniform(null),normalMap:new r$4.Uniform(null),bumpMap:new r$4.Uniform(null),shininess:new r$4.Uniform(30)},r$4.UniformsLib.common,r$4.UniformsLib.lights),Ms=new r$4.SphereBufferGeometry(.01,128,128),fs=function(){function va(_a){_a===void 0&&(_a={}),this.textureLoader=new Ti({allowHosts:this.allowHosts,networkSubscribe:this.networkSubscribe}),this.allowHosts=_a.allowHosts,this.networkSubscribe=_a.networkSubscribe}return va.prototype.setAllowHosts=function(_a){this.allowHosts=_a,this.textureLoader.setAllowHosts(_a)},va.prototype.setNetworkSubscribe=function(_a){this.networkSubscribe=_a,this.textureLoader.setNetworkSubscribe(_a)},va.prototype.load=function(_a,eo,to,ro,no,io,ao,oo){var so=[0,0],uo=function(fo,po){so[po]=fo,ao(.8*so[0]+.2*so[1])},co=[this.textureLoader.load(_a,{viaAjax:!0},void 0,void 0,function(fo){return uo(fo,1)},oo),this.textureLoader.loadCube(eo,{viaAjax:!0},void 0,void 0,function(fo){return uo(fo,0)},oo)];return Promise.all(co).then(function(fo){var po=fo[0],vo=fo[1],go={body:function(mo,lo,ho,yo){var Ao=new r$4.ShaderMaterial({side:r$4.BackSide,vertexShader:ds,fragmentShader:gs,transparent:!0,uniforms:r$4.UniformsUtils.clone(ps)}),Eo=lo;return Eo.needsUpdate=!0,Eo.minFilter=r$4.LinearFilter,Eo.magFilter=r$4.LinearFilter,mo.needsUpdate=!0,mo.minFilter=r$4.LinearFilter,mo.magFilter=r$4.LinearFilter,Ao.uniforms.opacity.value=0,Ao.uniforms.panoMap.value=Eo,Ao.uniforms.panoDisplacementMap.value=mo,Ao.uniforms.panoPosition.value=ho,Ao.uniforms.panoMatrix.value=yo,Object.assign(new r$4.Mesh(Ms,Ao),{frustumCulled:!1,dispose:function(){this.material instanceof r$4.ShaderMaterial&&(this.material.uniforms.panoDisplacementMap.value.dispose(),this.material.uniforms.panoDisplacementMap.value=null,this.material.dispose())}})}(po.body,vo.body,to,ro),meta:t$3.__spreadArray([po.meta],vo.meta,!0)};return no(go),go}).catch(function(fo){for(var po=0,vo=co;po<vo.length;po++)vo[po].then(function(go){return go.body.dispose()}).catch(Pe);return io(fo),Promise.reject(fo)})},va}(),ys=new r$4.Vector3(-1,1,1),ms=function(va){function _a(eo){var to,ro,no,io,ao,oo,so,uo=this,co=_a.parseArgs(eo);return(uo=va.call(this,co)||this).currentPanoIndex=co.initial[0],uo.maxAccessibleDistance=co.maxAccessibleDistance,uo.panoTapTriggerRadius=co.panoTapTriggerRadius,uo.panoCircleMeshCreator=co.panoCircleMeshCreator,uo.boundingMesh=uo.generateBoundingMesh(),uo.boundingMesh.setMaterial(uo.model.getMaterial()||{}),uo.boundingMesh.visible=!1,uo.scene.add(uo.boundingMesh),uo.panoModelGroup=new r$4.Group,uo.panoModelGroup.name="panoModels",uo.scene.add(uo.panoModelGroup),uo.panoMeshes=[],uo.updatePanoMeshes(),uo.helper.remove(uo.intersectMesh),uo.locationMotion=new dn({count:0,distance:uo.camera.pose.distance,modelAlpha:(ro=(to=uo.model.getMaterial())===null||to===void 0?void 0:to.modelAlpha)!==null&&ro!==void 0?ro:0,perspToOrtho:(io=(no=uo.model.getMaterial())===null||no===void 0?void 0:no.perspToOrtho)!==null&&io!==void 0?io:0}),uo.panoResources={},uo.panoResources[uo.locationMotion.keyframes[0].key=uo.locationMotion.keyframes[1].key=Xn()]={panoIndex:uo.currentPanoIndex,workCode:uo.work.workCode,matrix:(so=(oo=(ao=uo.model.getMaterial())===null||ao===void 0?void 0:ao.pano1)===null||oo===void 0?void 0:oo.matrix)!==null&&so!==void 0?so:new r$4.Matrix4,position:uo.camera.pose.offset.clone(),effect:"fly"},uo.depthTextureLoader=new fs({allowHosts:uo.work.allowHosts,networkSubscribe:uo.networkSubscribe}),uo}return t$3.__extends(_a,va),_a.parseArgs=function(eo){var to,ro,no,io=va.parseArgs.call(this,eo);return t$3.__assign(t$3.__assign({},io),{maxAccessibleDistance:(to=eo.maxAccessibleDistance)!==null&&to!==void 0?to:5,panoTapTriggerRadius:(ro=eo.panoTapTriggerRadius)!==null&&ro!==void 0?ro:1,panoCircleMeshCreator:(no=eo.panoCircleMeshCreator)!==null&&no!==void 0?no:function(){return new _n}})},_a.initAnimationEndPose=function(eo){var to=this.parseArgs(eo);return va.initAnimationEndPose.call(this,to)},_a.prototype.destroy=function(){var eo,to=this;if(va.prototype.destroy.call(this),this.locationMotion.dispose(),delete this.pendingTextureTask,this.model&&(this.model.visible=!0),this.panoModelGroup){for(var ro=0,no=this.panoModelGroup.children;ro<no.length;ro++){var io=no[ro];typeof io.dispose=="function"&&io.dispose()}this.scene.remove(this.panoModelGroup)}this.boundingMesh&&(this.scene.remove(this.boundingMesh),this.boundingMesh.dispose()),this.panoMeshes&&(this.panoMeshes.forEach(function(vo){to.helper.remove(vo),vo.dispose()}),this.panoMeshes.length=0);for(var ao=(eo=this.model.getMaterial())!==null&&eo!==void 0?eo:{},oo=ao.pano0,so=ao.pano1,uo=0,co=Object.keys(this.panoResources);uo<co.length;uo++){var fo=co[uo],po=this.panoResources[fo];po.panoModel&&po.panoModel.material.uniforms.panoMap.value!==(oo==null?void 0:oo.map)&&po.panoModel.material.uniforms.panoMap.value!==(so==null?void 0:so.map)&&(this.panoModelGroup.remove(po.panoModel),po.panoModel.material.uniforms.panoMap.value.dispose(),po.panoModel.dispose(),delete po.panoModel),delete this.panoResources[fo]}this.interiaMovement=!1},_a.prototype.isReady=function(){return this.locationMotion.ended===!1&&va.prototype.isReady.call(this)},_a.prototype.updateWork=function(eo,to,ro,no,io){this.userAction=io,this.work=eo,this.currentPanoIndex=to,this.depthTextureLoader.setAllowHosts(this.work.allowHosts);var ao={},oo=!0;this.boundingMesh&&(ao=this.boundingMesh.getMaterial()||{},oo=this.boundingMesh.visible,this.scene.remove(this.boundingMesh),this.boundingMesh.dispose()),this.boundingMesh=this.generateBoundingMesh(!0),this.boundingMesh.visible=oo,this.boundingMesh.setMaterial(ao),this.scene.add(this.boundingMesh),this.hideIntersectMesh(),this.updatePanoMeshes();for(var so=0,uo=this.panoMeshes;so<uo.length;so++)uo[so].visible=!1;return this.moveToPano(to,{effect:"fade",duration:no,longitude:ro.longitude,latitude:ro.latitude,fov:ro.fov},io),!0},_a.prototype.updateTime=function(eo,to){var ro,no,io;if(!this.destroyed){var ao={},oo={};if(this.locationMotion.ended===!1){this.locationMotion.update(eo);var so=this.locationMotion.getKeyFrameSegment(eo),uo=so[0],co=so[1],fo=this.panoResourceFromLocationMotionKeyframe(uo),po=this.panoResourceFromLocationMotionKeyframe(co),vo=this.panoResourceFromLocationMotionKeyframe(this.locationMotion.keyframes[0]),go=this.panoResourceFromLocationMotionKeyframe(this.locationMotion.keyframes[this.locationMotion.keyframes.length-1]),mo=new r$4.Vector3().copy(fo.position),lo=new r$4.Vector3().copy(po.position),ho=this.locationMotion.value.count-co.value.count+1;ao.modelAlpha=this.locationMotion.value.modelAlpha,ao.perspToOrtho=cn(1-10*(1-this.locationMotion.value.perspToOrtho),0,1),ao.useBlackTransition=po.effect==="instant";for(var yo=0,Ao=this.panoModelGroup.children;yo<Ao.length;yo++){var Eo=Ao[yo];Eo.visible=Eo===fo.panoModel||Eo===po.panoModel}fo.panoModel&&(fo.panoModel.material.uniforms.opacity.value=1-ho,fo.panoModel.material.depthTest=ho!==0),po.panoModel&&(po.panoModel.material.uniforms.opacity.value=ho,po.panoModel.material.depthTest=ho!==1),po.panoModel&&(ho<1?fo.panoModel&&(ao.pano0={map:fo.panoModel.material.uniforms.panoMap.value,luminanceMap:null,matrix:fo.matrix}):ao.pano0={map:po.panoModel.material.uniforms.panoMap.value,luminanceMap:null,matrix:po.matrix},ao.pano1={map:po.panoModel.material.uniforms.panoMap.value,luminanceMap:null,matrix:po.matrix}),po.effect==="fade"&&(ao.pano0&&(ao.pano0={map:ao.pano0.map,luminanceMap:null,matrix:fo.matrix.clone().setPosition(po.position)}),mo.copy(lo)),ao.progress=ho,oo.distance=this.locationMotion.value.distance,oo.offset=new r$4.Vector3(mo.x+(lo.x-mo.x)*ho,mo.y+(lo.y-mo.y)*ho,mo.z+(lo.z-mo.z)*ho);for(var To=[],No=[],Co=0,Io=this.locationMotion.keyframes;Co<Io.length;Co++){var Mo=Io[Co],wo=Mo.key,xo=Mo.progress;wo!==void 0&&(To.push(wo),xo>=this.locationMotion.progress&&No.push(wo))}for(var bo=0,So=Object.keys(this.panoResources);bo<So.length;bo++){var Do=So[bo];if(!(No.indexOf(Do)>=0)){var Oo=this.panoResources[Do];if(Oo.panoModel){if(Oo.panoModel.material.uniforms.panoMap.value===((ro=ao.pano0)===null||ro===void 0?void 0:ro.map)||Oo.panoModel.material.uniforms.panoMap.value===((no=ao.pano1)===null||no===void 0?void 0:no.map))continue;this.panoModelGroup.remove(Oo.panoModel),Oo.panoModel.material.uniforms.panoMap.value.dispose(),Oo.panoModel.dispose(),delete Oo.panoModel}To.indexOf(Do)>=0||delete this.panoResources[Do]}}fo.workCode===po.workCode?this.currentPanoIndex=ho<.5?fo.panoIndex:po.panoIndex:this.currentPanoIndex=po.panoIndex,this.emit("movingToPano",go.panoIndex,vo.panoIndex,this.locationMotion.progress)}if(this.cameraMotion.ended===!1&&(this.cameraMotion.update(eo),oo.longitude=this.cameraMotion.value.longitude,oo.latitude=this.cameraMotion.value.latitude,oo.fov=this.cameraMotion.value.fov),dr(ao)===!1&&(this.model.setMaterial(ao),this.boundingMesh.setMaterial(ao)),dr(oo)===!1&&this.setCamera(oo),this.camera.pose.distance>.1)for(var Bo=0;Bo<this.work.observers.length;Bo++)(Fo=this.panoMeshes[Bo])&&(Fo.visible=!1);else{var $o=this.work.observers[this.currentPanoIndex];if($o){var Vo=$o.visibleNodes.concat(this.currentPanoIndex),Ho=this.getForwardPanoIndexOrNot();for(Bo=0;Bo<this.work.observers.length;Bo++){var Fo,Ko=this.work.observers[Bo];if(Fo=this.panoMeshes[Bo])if(Ko.loadable||Ko.active)if(Vo.indexOf(Bo)!==-1){Fo.visible=!0;var $s=Fo.position.clone().setY(this.camera.position.y).distanceTo(this.camera.position);Fo.setCurrent(Ho===Bo),Fo.setOpacity($s<.01?0:cn(2/$s,.5,1)),Fo.updateTime&&Fo.updateTime(eo,to)}else Fo.visible=!1;else Fo.visible=!1}}}this.boundingMesh.visible=Boolean((io=this.boundingMesh.getMaterial())===null||io===void 0?void 0:io.pano0)&&this.boundingMesh.boundingBox.containsPoint(this.camera.position)}},_a.prototype.getTargetPose=function(){var eo=this.cameraMotion.getKeyFrameSegment(Re())[1],to=this.locationMotion.getKeyFrameSegment(Re())[1],ro=this.panoResourceFromLocationMotionKeyframe(to),no=this.work.observers[ro.panoIndex];return{longitude:eo.value.longitude,latitude:eo.value.latitude,fov:eo.value.fov,offset:no?no.position.clone():this.camera.position.clone()}},_a.prototype.moveToPano=function(eo,to,ro){var no,io,ao=this;to===void 0&&(to={});var oo=this.work.observers[eo].images.depth,so=t$3.__assign({key:"pano.".concat(eo),basisLoaderInitialized:wi.isInitialized()},ni(this.imageOptions,["format","size","quality"])),uo=(no=this.imageOptions.transform)!==null&&no!==void 0?no:ht,co={right:uo(this.work.observers[eo].images.right,t$3.__assign(t$3.__assign({},so),{key:"pano.".concat(eo,".right")})),left:uo(this.work.observers[eo].images.left,t$3.__assign(t$3.__assign({},so),{key:"pano.".concat(eo,".left")})),up:uo(this.work.observers[eo].images.up,t$3.__assign(t$3.__assign({},so),{key:"pano.".concat(eo,".up")})),down:uo(this.work.observers[eo].images.down,t$3.__assign(t$3.__assign({},so),{key:"pano.".concat(eo,".down")})),front:uo(this.work.observers[eo].images.front,t$3.__assign(t$3.__assign({},so),{key:"pano.".concat(eo,".front")})),back:uo(this.work.observers[eo].images.back,t$3.__assign(t$3.__assign({},so),{key:"pano.".concat(eo,".back")}))},fo=this.work.observers[eo],po=fo.position,vo=fo.quaternion,go=new r$4.Matrix4().compose(po,vo,new r$4.Vector3(-1,1,1)),mo="pano:"+Cr(co);if(this.pendingTextureTask){if(this.pendingTextureTask.hash===mo)return;var lo=this.pendingTextureTask.panoIndex;(io=this.panoMeshes[lo])===null||io===void 0||io.setProgress(0),this.emit("textureAbort",lo,this.work.observers[lo]),this.pendingTextureTask.onError(new Error("texture aborted"))}this.pending=!0,this.pendingTextureTask={panoIndex:eo,hash:mo,onLoad:function(yo){ao.pending=!1,ao.destroyed?yo.body.dispose():(yo.body.name=mo,ao.emit("panoLoaded",eo),ao.doMoveToPano(eo,yo.body,to,ro))},onError:function(yo){ao.pending=!1,to.moveCancelCallback&&to.moveCancelCallback(),ao.emit("panoLoadError",yo,eo),ao.emit("moveToPanoCanceled",eo)}};var ho=this.panoMeshes[eo];ho&&ho.tap&&ho.tap(),this.depthTextureLoader.load(oo,co,po,go,function(yo){var Ao,Eo;((Ao=ao.pendingTextureTask)===null||Ao===void 0?void 0:Ao.hash)===mo?(ao.pendingTextureTask.onLoad(yo),(Eo=ao.panoMeshes[eo])===null||Eo===void 0||Eo.setProgress(0),delete ao.pendingTextureTask,ao.emit("textureLoaded",eo,ao.work.observers[eo],yo.meta)):yo.body.dispose()},function(yo){var Ao,Eo;((Ao=ao.pendingTextureTask)===null||Ao===void 0?void 0:Ao.hash)===mo&&(ao.pendingTextureTask.onError(yo),(Eo=ao.panoMeshes[eo])===null||Eo===void 0||Eo.setProgress(0),delete ao.pendingTextureTask,ao.emit("textureError",yo,eo,ao.work.observers[eo]),ao.emit("error",yo))},function(yo){var Ao,Eo;ao.emit("textureLoading",yo,eo,ao.work.observers[eo]),((Ao=ao.pendingTextureTask)===null||Ao===void 0?void 0:Ao.hash)===mo&&((Eo=ao.panoMeshes[eo])===null||Eo===void 0||Eo.setProgress(yo))},this.renderer),this.emit("textureStartLoad",eo,this.work.observers[eo])},_a.prototype.initAnimation=function(eo,to,ro,no){var io,ao,oo,so=this;if(!this.destroyed){var uo=!1;this.pending=!1,this.userAction=no,this.moveToPano(eo,{longitude:(io=to.longitude)!==null&&io!==void 0?io:this.defaultLongitude,latitude:cn((ao=to.latitude)!==null&&ao!==void 0?ao:this.defaultLatitude,this.minLatitude,this.maxLatitude),fov:cn((oo=to.fov)!==null&&oo!==void 0?oo:this.defaultFov,this.minFov,this.maxFov),duration:ro,moveStartCallback:function(co,fo){uo=!0,so.emit("initAnimationWillStart",co,fo,so.userAction)},moveEndCallback:function(co,fo){so.emit("initAnimationEnded",co,fo,so.userAction)},moveCancelCallback:function(){var co=gr(so.camera.pose);uo===!1&&so.emit("initAnimationWillStart",so.currentPanoIndex,co,so.userAction),so.emit("initAnimationEnded",so.currentPanoIndex,co,so.userAction)}},no)}},_a.prototype.panoResourceFromLocationMotionKeyframe=function(eo){return this.panoResources[eo.key]},_a.prototype.locationMotionKeyframesLength=function(eo){for(var to=0,ro=1;ro<eo.length;ro++){var no=this.panoResourceFromLocationMotionKeyframe(eo[ro-1]).position,io=this.panoResourceFromLocationMotionKeyframe(eo[ro]).position;to+=no.distanceTo(io)*(eo[ro].value.count-eo[ro-1].value.count)}return to},_a.prototype.updatePanoMeshes=function(){for(var eo={},to=0,ro=this.panoMeshes;to<ro.length;to++)eo[(oo=ro[to]).name]=oo;this.panoMeshes.length=0;for(var no=0;no<this.work.observers.length;no++){var io="panoCircle_".concat(this.work.workCode,"_").concat(no),ao=this.work.observers[no],oo=void 0;eo[io]?(oo=eo[io],delete eo[io]):((oo=this.panoCircleMeshCreator()).name=io,this.helper.add(oo)),oo.position.copy(ao.standingPosition),this.panoMeshes[no]=oo}for(var so=0,uo=Object.keys(eo);so<uo.length;so++){var co=uo[so];this.helper.remove(eo[co]),eo[co].dispose(),delete eo[co]}},_a.prototype.generateBoundingMesh=function(eo){eo===void 0&&(eo=!1);for(var to=this.model.bounding.clone(),ro=0,no=this.work.observers;ro<no.length;ro++){var io=no[ro];to.expandByPoint(io.standingPosition),to.expandByPoint(new r$4.Vector3().fromArray([io.position.x,2*io.position.y-io.standingPosition.y,io.position.z]))}eo&&to.expandByPoint(this.camera.position);var ao=nr(to,new r$4.Vector3(1,0,1));return ao.name="panorama_bounding",ao.frustumCulled=!1,ao},_a.prototype.doMoveToPano=function(eo,to,ro,no){var io,ao,oo,so,uo=this;ro===void 0&&(ro={}),this.userAction=no;var co=Re(),fo=Xn(),po=this.work.observers[eo],vo=this.panoResources[fo]={panoIndex:eo,workCode:this.work.workCode,effect:(io=ro.effect)!==null&&io!==void 0?io:"fly",panoModel:to,matrix:new r$4.Matrix4().compose(po.position,po.quaternion,ys),position:po.position.clone()};to.visible=!1,to.renderOrder=-1,this.panoModelGroup.add(to);var go,mo,lo;if(this.locationMotion.ended){var ho=this.locationMotion.getKeyFrameSegment(co);ho[0];var yo=ho[1],Ao=this.locationMotion.value,Eo=this.panoResourceFromLocationMotionKeyframe(yo).position,To=vo.position;go=Math.max(Eo.distanceTo(To),1),mo=[{key:yo.key,progress:0,value:t$3.__assign(t$3.__assign({},Ao),{count:0})},{key:fo,progress:1,value:{distance:0,perspToOrtho:0,modelAlpha:0,count:1}}],lo=0}else{var No=this.locationMotion.getKeyFrameSegment(co),Co=No[0],Io=(yo=No[1],Ao=this.locationMotion.value,this.panoResourceFromLocationMotionKeyframe(Co).position),Mo=(Eo=this.panoResourceFromLocationMotionKeyframe(yo).position,To=vo.position,yo.value.count-Ao.count),wo=Math.max(Io.distanceTo(Eo),1)*Mo;go=wo+Math.max(Eo.distanceTo(To),1),mo=[{key:Co.key,progress:0,value:t$3.__assign({},Ao)},{key:yo.key,progress:wo/go,value:yo.value},{key:fo,progress:1,value:{count:yo.value.count+1,distance:0,perspToOrtho:0,modelAlpha:0}}];var xo=this.locationMotionKeyframesLength(this.locationMotion.keyframes),bo=this.locationMotionKeyframesLength(mo);lo=this.locationMotion.getProgressVelocity(co)*xo/bo}var So=this.calculateMovingDuration(ro.duration,go),Do={longitude:ro.longitude,latitude:ro.latitude,fov:ro.fov},Oo={longitude:(ao=Do.longitude)!==null&&ao!==void 0?ao:this.camera.pose.longitude,latitude:(oo=Do.latitude)!==null&&oo!==void 0?oo:this.camera.pose.latitude,fov:(so=Do.fov)!==null&&so!==void 0?so:this.camera.pose.fov,offset:po.position.clone()};ro.moveStartCallback&&ro.moveStartCallback(eo,Oo),this.emit("panoWillArrive",eo,Oo,this.userAction),this.cameraMotion.set(Do,So).catch(Pe),this.locationMotion.setKeyframes(mo,So,lo).then(function(){var Bo={longitude:uo.camera.pose.longitude,latitude:uo.camera.pose.latitude,fov:uo.camera.pose.fov,offset:uo.camera.pose.offset.clone()};ro.moveEndCallback&&ro.moveEndCallback(eo,Bo),uo.emit("panoArrived",eo,Bo,no)},function(){ro.moveCancelCallback&&ro.moveCancelCallback(),uo.emit("moveToPanoCanceled",eo)})},_a.prototype.getForwardPanoIndexOrNot=function(eo){var to=this,ro=this.camera.getWorldDirection(new r$4.Vector3),no=this.camera.position.clone(),io=this.work.observers[this.currentPanoIndex];if(!io)return null;var ao=io.accessibleNodes.filter(function(lo){if(lo===to.currentPanoIndex)return!1;var ho=to.work.observers[lo],yo=ho.standingPosition.clone().sub(no);return yo.length()!==0&&!(yo.angleTo(new r$4.Vector3(0,-1,0))<Math.PI/12)&&(ho.loadable||ho.active)}),oo=(eo?eo.ray.direction.clone():ro.clone()).setY(0);if(oo.length()===0)return null;for(var so=ao.slice().sort(function(lo,ho){var yo=to.work.observers[lo].position.clone().setY(no.y),Ao=to.work.observers[ho].position.clone().setY(no.y);return yo.distanceTo(no)-Ao.distanceTo(no)}),uo=0,co=[Math.PI/8,Math.PI/6,Math.PI/4,Math.PI/3];uo<co.length;uo++)for(var fo=co[uo],po=0,vo=so;po<vo.length;po++){var go=vo[po],mo=this.work.observers[go].position.clone().setY(no.y).sub(no);if(mo.length()!==0&&oo.angleTo(mo)<fo)return go}return null},_a.prototype.onTapGesture=function(eo){var to=this,ro=eo.pointers.map(function(Bo){return ni(Bo,["x","y"])});if(!this.emit("wantsGesture","tap",ro,!0)){var no=this.relativeClientPosition(eo.center),io=new r$4.Raycaster;if(io.setFromCamera(no,this.camera),!this.emit("wantsTapGesture",io,no,!0)){this.emit("gesture","tap",ro,!0),this.emit("tapGesture",io,no,!0),this.interiaMovement=!1;var ao=this.camera.getWorldDirection(new r$4.Vector3).setY(0),oo=null,so=this.work.observers[this.currentPanoIndex];if(so){var uo=so.accessibleNodes.filter(function(Bo){if(Bo===to.currentPanoIndex)return!1;var $o=to.work.observers[Bo];return!($o.position.distanceTo(to.camera.position)>to.maxAccessibleDistance)&&($o.loadable||$o.active)}),co=io.intersectObject(this.boundingMesh,!0)[0];if(co){var fo=hr(uo,function(Bo){var $o=to.work.observers[Bo].standingPosition.clone();return $o.clone().sub(to.camera.position).setY(0).angleTo(ao)>Math.PI/2?1/0:$o.distanceTo(co.point)},!0),po=fo[0];fo[1]<this.panoTapTriggerRadius&&(oo=po)}Vi(oo)&&(oo=this.getForwardPanoIndexOrNot(io));for(var vo=0,go=this.locationMotion.keyframes;vo<go.length;vo++){var mo=go[vo],lo=this.panoResourceFromLocationMotionKeyframe(mo);if(!(mo.progress<this.locationMotion.progress)&&lo.panoIndex===oo){oo=null;break}}if(this.emit("panoSelected",oo),Vi(oo))this.locationMotion.ended===!0&&this.cameraBounce();else{var ho=this.work.observers[oo];if(ho.active){for(var yo={},Ao=Math.PI/6,Eo=Math.PI/12,To=new r$4.Vector3(0,1,0),No=ho.position.clone().setY(0).sub(so.position.clone().setY(0)).normalize(),Co=No.clone().applyAxisAngle(To,Ao),Io=No.clone().applyAxisAngle(To,-Ao),Mo=[],wo=[],xo=[],bo=0,So=ho.accessibleNodes;bo<So.length;bo++)if((po=So[bo])!==this.currentPanoIndex&&po!==oo){var Do=this.work.observers[po].position.clone().sub(ho.position).setY(0);No.angleTo(Do)<Ao?xo.push(Do):Co.angleTo(Do)<Ao?Mo.push(Do):Io.angleTo(Do)<Ao&&wo.push(Do)}var Oo=(xo.length>0?xo:t$3.__spreadArray(t$3.__spreadArray([],Mo,!0),wo,!0)).slice().sort(function(Bo,$o){return Bo.angleTo(No)-$o.angleTo(No)})[0];Oo&&Oo.angleTo(ao)>Eo&&(yo.longitude=Math.atan2(-Oo.x,-Oo.z)),this.cameraMotion.value.latitude<-Math.PI/4&&(yo.latitude=cn(0,this.minLatitude,this.maxLatitude)),this.emit("wantsMoveToPano",oo,yo,!0)}else this.panoMeshes[oo]&&(this.panoMeshes[oo].setDisabled(!1),this.panoMeshes[oo].setLoading(!0))}}}}},_a}(Sr),vs=["Panorama","DepthPanorama","Model"],Ns={Floorplan:xr,Topview:jr,Panorama:ns,VRPanorama:ls,Model:hs,DepthPanorama:ms};function Ds(va){for(var _a=0,eo=vs;_a<eo.length;_a++){var to=eo[_a];if(typeof va=="string"){if(to===va)return!0}else if(va instanceof Tr&&va instanceof Ns[to])return!0}return!1}var Es=["cameraDirectionUpdate","cameraUpdate","cameraPositionUpdate","panoSelected","moveToPano","moveToPanoCanceled","panoWillArrive","movingToPano","panoArrived","panoWillLoad","panoLoaded","panoLoadError","initAnimationEnded","initAnimationWillStart","wantsGesture","gesture","wantsTapGesture","tapGesture","wantsPressGesture","pressGesture","wantsPanGesture","wantsInteriaPan","panGesture","interiaPan","wantsPinchGesture","pinchGesture","wantsMouseWheel","mouseWheel","wantsShowIntersectionOnModel","intersectionOnModelUpdate","intersectionHidden","textureStartLoad","textureLoading","textureAbort","textureLoaded","textureError"];function ws(va){for(var _a,eo,to={},ro=0,no=va.split(/(\;|\,)/);ro<no.length;ro++){var io=no[ro].split("="),ao=(_a=io[0])===null||_a===void 0?void 0:_a.trim(),oo=(eo=io[1])===null||eo===void 0?void 0:eo.trim();ao&&oo&&(to[ao]=oo)}return to}function Is(){for(var va,_a=document.getElementsByTagName("meta"),eo=0;eo<_a.length;eo++){var to=_a[eo];if(to.getAttribute("name")==="viewport"){var ro=ws((va=to.getAttribute("content"))!==null&&va!==void 0?va:""),no=Number(ro["initial-scale"]);if(!isNaN(no))return no}}return 1}var Ts=[351,63],xs=[20,20],js=new Float32Array([-.5,-.5,0,.5,-.5,0,-.5,.5,0,.5,.5,0]),zs=new Float32Array([0,0,1,0,0,1,1,1]),Cs=new Uint8Array([0,1,2,1,3,2]),bs=new r$4.BufferGeometry;bs.setAttribute("position",new r$4.BufferAttribute(js,3)),bs.setAttribute("uv",new r$4.BufferAttribute(zs,2)),bs.setIndex(new r$4.BufferAttribute(Cs,1));var Ss=new r$4.MeshBasicMaterial({transparent:!0,depthTest:!1}),Ls=new r$4.Mesh(bs,Ss),Os=new r$4.Scene;Os.add(Ls);var Bs=new r$4.OrthographicCamera(-.5,.5,.5,-.5,.1,1);Bs.position.set(0,0,.5),Bs.lookAt(0,0,0);var Qs=new r$4.Vector4,ks=new r$4.Vector4;function Ps(va){if(Ss.map){var _a=va.getViewport(Qs),eo=va.getScissor(ks),to=va.getScissorTest(),ro=va.autoClear;va.setViewport(eo.x+xs[0]/3,eo.y+xs[1]/3,Ts[0]/3,Ts[1]/3),va.setScissor(eo.x+xs[0]/3,eo.y+xs[1]/3,Ts[0]/3,Ts[1]/3),va.setScissorTest(!0),va.autoClear=!1,va.render(Os,Bs),va.setViewport(_a),va.setScissor(eo),va.setScissorTest(to),va.autoClear=ro}else{var no=new r$4.Texture,io=new Image;io.onload=function(){no.image=io,no.wrapS=r$4.ClampToEdgeWrapping,no.wrapT=r$4.ClampToEdgeWrapping,no.minFilter=r$4.LinearFilter,no.needsUpdate=!0,Ss.needsUpdate=!0,io.onload=function(){}},io.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV8AAAA/CAQAAADtPwPkAAAR+0lEQVR4AezYg3LEQACH8d1cbdu23Q5qG9G47z/TN/h6tn2b/H+TUTLc7yjcOXV46OUAnUs6EbUp022ZBXc1NhoZYYd7fjDRvdcHAwrlK2QBVJ4sgoqONmY45RUT23sZ6H42F2hK5CtkMbjhZlDmUUcvq1zyieUVyjbE4I1GBfItwxG56YaUZTQwyh4P6NgJ4YYYvCuQb5kOyI03pORjiqe4Lwpq5pt1vJqfUwKWJVbSMYfppYconG+maNNQOWBZuwHTzicGel75NtFOkxr5apmV8cikcko0DrDQs863AeGl0cE0+1xy573m0/wf0cEKW6H7BWtggiMG8sy3oHRDpJMw4NWb6am/bv9znkqEzjd61t5oo5clTrjhwevO75EJRBKSRt745Z16ZEjcM73sccZplBPm8PyTcxZAkSRdHm/acJ0Z3JZhHB0BxqDHgWFZFmm0ZbCw87twI/zc3e/Cz93vPneXtU/WdQS3oTviXdY/q5PsJKfoGuQjZuO/0in1qsj85cuXrxqeAOJpGqdJOqrUutgVl2Qb0BWqp/RE8AWWVB7t2KrIzY2Wx2fWKl7yfswgxqj8lYummYa3hfwF9MuQRmbfQE4ocPDjtUWQ6Tq1M2w7gC2EcrMGtWS6xlpGKEDDcb1vUQ25zT4lrC2s0dU4gFPppKkbeIYr7NMpqjStuFg5rNU9epGyt8PXyfX4DE1bKLhR/1XPxwJhp5DAV67T9ZPwFdovhBMIGUYoRBN4wim6S3eoXVEHXdLgmwY0x6BQnO4xPJ0Ar5OVxhQF0L9UslRM4yaQQfQImnBegi8vhY2A1k6YLlrj61TwDdNQnIISwiPvpD7TwYQTssZXK47vg8y9Gp2nxRcATkozOEmdCeObSt3IIo+xf/00IDRKAaZ89PBTkHqpkA5LagKeNZKlIhqX8RcQ95GHtdYA62Y6rOg5LLsOSnoyvk4V38hFhytef+V9/3DER1P48W89o1GxE9o5vns2Mk+F7yiftafEN4nhmUv9DKEeyqI0U+l0CQg+B//sZ5+6lOuqKaTgm0LH41RHw/CsLZRk4huiYxrvP2SNr1OSS+Dr1ulBMR+K9SqHa58Oec49VgL3mXHvDr7QfuM7LMNrH1/IS30Moe64SLYBuFVJ+MbnJY7L+GrVQkFcl4ISx/fEll4ZWnz18DpcSzUCX602LqD9svDLzmdaLkP28P1+VsJjsx/4hmh6x/gmm/i6pbrGneCL9iCOg0dQUvF1UwEdVvG19r2uTXxXLz0J37eLjfZoF++tTtPnU/cWp5e8n3An0m/G+U7qjiy4PpHyV16HKx5flCxAV/H9A88nUnZ7l7KN78SBxPcQgzLAepxEScU3l7pZ6fL2+Dot8fXECfj+QRoGYAwlAfBSPrXQXQri0Pd85NJKcVw8XUdt1LZapk7YRhO1RdpmFJwW8ozekYvx2/fjM5Hr5MfQ95HvcY2a/9hoNK4yEntL+dEuGseTdNmxIPqd5v2YRjeaX8pQ8IW2ohuP7+dTN87RMK4aitx8XPsH0r2oBqNRqrv7+gmjjY7uIr6TBxBfL2MlxNRKSVp8S5CTuGgHXxfkFvh69Pq3LD4pkkd2bdRvHaSNC3/l2sQXAccdlIS+lc57qhPJwxPybT7XSxnUrdqnXuHlJHS+mjZfJfUZR9s2FuQR+EQKdSi9Am8UTnsEvlYS+L6TFwW6kl74Vjr6AFHsX89rgg8njRltK0XPOL7NyDL0IurV4VtMwafB1709vu9X4OjWHoP3z1Ii7eaQdG00Lx5n8HXyDSva/dU0Pq2vZnKYxHYMYRo1WY5ov1G7Vh4r3y+kMdgbilxeOrV0aqOFenFl8GGJig7rG0bbPRqiSRpP2AL0w+yon9dHbi43zFetnKcuw9ZLeSa+7kTw/TDfuFu0Z7Vp/uhyHfPkAZ5ufP9wLIfD49E3clR818rR089Lzyy+VRREPneICnYLX9cT8PVKQs36TbQ3i6NcCwYkxEAQ3phN4CjAvC4mFr5vrlKe7AizBKj8cu33s7i9GbeY7BHYujTjjd3Bx54SSyT4m8mxOoYOAGX/DtwvnGE1M+5v5Bgt1hbkJRW9Cxv9X81GL2i5jqaoJ4avBcCsLYp+Ru+VC5sWPpFhXt8/EPvJL2F/alJDEeIjUhcrP5P45rDeATPj+wKl7gBf1fcq+HpVnfHO1vEf//UCHgt/OxfDE3onj5UkfTaThrg3NCGoBUCtZjvgMnwQB0bG5XENeraJ5XEWvtiHkqSVRqN+uQ4lEx2o+69SeY1dC++Wcsj+LCW+H0ZE4KtDWHkGwCtrxstbFqr51e9wbz42E2fpjRQsqEn50PnM4eumO9IbujCi393Hd+3q72TI+p9DPyyfraF+c3rOx0KJyB2z7Fa1yCO8HoHzlDFhPiWD8XoB3aPppRrUQdRp1D8qE9exdgr+Zbpqf8BLfmZ/bMYbh87k58VCSswCjQoLPPw4Jnp4uFi/YQlfKB5eBd/gr6aqB973zbDAF+v5PN+NZEvm+84bSkhxUPE9C9wqbeJ7Hi+gA9Jr5ZM7x9el4mulyK0Bb2xiMTj3/iBtK77Tnii27H/MlCfsjcJY+2oTg2/U4TYWQERE0r+aCouBcx5zEZzEYrqui8JXsQW/X8FLHJ3IVbWXhQV3zAJCjFQst1F25y1arlXwhRR4Bb4rZ3VPy5d+bHEtHIPF27K16ItYuKXM5kHD10M9DKFeSpbqLlOYAlRiC99yCiDmbUf0206jPPO7b/iud71avBkHf+kQP0OrWHBFrhmt75ZyPzbLg5KmWK9oH4Oq1eFZOm0c6n48mdfer46HcLUZU3pGB8R9IDBbJ+N7v1q0J2xhudZ45tcL8PN16vq9WizwtRLwFQtKER+NDypj4QQOdJNY3NC7GEsaGtiSmDsA+CZhyx+hXFHjYrgGGXpZNvDNpn5gWWuiWkUtyEB0UcrO8Y2L9KI9K+cXLmxqruGd6pcKfycj/ij3URVgu6bPUaycN1qXTHD+KoOmjGORnH57q8rh+e9sTHk5r1+7zpEXk36bp7iiXRrBW61e5k/D0fn+EXF/OxYEypFW3ZH1HzPt4Pv5PN2Rd7VJLDZeboGnbpSPwPDcBw5f6AIysadFOR9Hr7vksoFvE91jdbdYvzpYqyIvdQPU87uKL45u3u213CA8qkYPT6H1YgwIfkz7RI5xJdomfjoV4PXjfjgaRkNGhHwG1mNt1oq0y/j+SaZ5pV0LnrlG89Dl1YkmEsc3nKKzMKskJD+fx6NhlFiohdTe5EsZIig5WPgWUYCC9Dx5TG/sA5x15LCBbzXDtx/+uh74VmMZjLDamh8JvhzQtSsoeVTNNXB/Euv96LRR/qjO+By5xTxxJ683/FB00Pj0fZz9F2GPa70Ld2hbbVptWmjWabbGCl/ZAiTsbJa5hQ9OK/eWFE4xva9nG3z1zwCtnFXjYr6c3ykxPn9QiYWEWPhA4uuiDnzBpt4EMcg0QOm28M0gP76hJuELbIdZi4PqaILpJI+RYz4ZV42y+q49wBcxIbyXTmtXgevRWPl3MmjSSJU5vB3J0TA2Uu8mtP+R5/Au4iiF6NrUUiuCieOiJpnJq8gSXzwFLFiLP8X6bV0bYvzt8TXj75eLtKPRauY1RM1HR7GwEHpFbonIWAPwjxpfqJSCyBVUsk/DFOChhC18kyiPHFvwdVGh6XFbmfLx+RRi4jaqYiCnUDO1wc4u4ovo7pfS+XFD32e9GzndwxJiHcbQ/Vz6JrBMDGYyYK5l7YOsfkS2MVePfGkLsNXLGl9hIVbWXAv9fQ5i/j6UFL1RaQffB9qlwn3tS4WxMhaxETCMz6T9ZTqCk5FznoOKL9SEXMMIUwAZW6dNfCEVX61azdxwmIbg4aHdwtcj5KVBeNiqrb2+g5M8hTskSB6exHZ5bMEIF/wCoOT128zvdXziMLbvuDu/Usmh0oG7doMmafKNSmt8hQWUnmzhjJf/RskXCzQL8aYNfLG/QPGLY5KjKtcuNPGsyGytmj0/kPi6qdXwwJCPvOTYI3zTaICCNEh9FGSWM54OX4+A1UI80RV98czWKceJf65ervsleJm164/7ganACHHn+IPz8Nby1ptcnRztRWbipArvp4/gRchodbIFvsBSWPBaW+CHtzWfauFfcmnKRuyr+Fiu1WbzGKtCPWWMHjIgU1/Mgn2B74GKfbkajHwtVIHy3uBbh0Ocj9oplCC+kIJvYuKvI9bbkUUQ2+JaG7AeknwvhLd0YUxx+SZIf4XkGeqHUCNt9N8sQdvYlwtl9H4hMzqI5dHosMIX2taCl2s6LRowaubPyld/IgcvHBJPnKGnHDLh0ArfqzlYtkv5D8++4RsAvPbwTaJzgDcIDzxIRXuEbx4NIsYupjt7gi/6idL3j1AIqPY+OPH5PGO67x/jUS9NvF6hTte7x2kaCvtSZJiMlxjxMSqEtqXr3GPMn/9y4cXUypS/ymPxbIAvmurtYl9o7dqmBV9KdbLOgsik4B3d6xW/lO7w/kfe+yfx7bFuGkwY3/C6sURDj8584rCxJH5QtnYFVrFQVL35HNoQgO0jvt228XVRC4WQPLtANyiEzb1gD/BNoy5kHa5QEnUmiq/uG2fubeXh+kwuNj8IRxAoOqiLIqfTaNw84SfLWsDmqo08k30prHVKbHuYDo7ez6U7EsLX0oJX1ltV2AOg2KfoMPPA/sTx/ZPMqF9YiN11AsHLFrHgaAT3GBvw7hO+U9TH4bX10rgVx7YgMr0p7Pow4tL8XcY3l1kJMfVQmsA3fa/wFQh3JK9eivtV+tCaD4cUjdZvIRI9BfDUDd6PkkbfKhVbOJf/jUpuQcXXlgVNv68ejr4gTflk5AZ71+jR4AvEdPg6PDNpaz6a2AQm2otoWKvVS+LVTyL4OnaE7wSNUjfdpnZb+KbQdcA7Jr5ek0od8MD9dNjiN43t4etk1v0ITfyw6gS+Q4l5XwGwbXli+u/sj6pWGu9XfyYXx75d18+lf6t0tnau/pXKv8+xzorIkltn0l4r2dYCXlO8XDRbu9xw/9g/Zko2FXSFtKPxOxn3q+caluteK5lJsboXwVP/S27cPVz28X3i3/Ll/v8eDVMPDmzwvDbwddMt+NoROhq3yXcC4D7KpmTyA+XnqEzSFQrawDeLrsNemHrEL2+24r7NlENZUMa2vyxkH2DIs628e669ubdsR4VXC7C9u79eIVJtOwgdgO/dOICHGK6jQHaIwdXN4Lwt0LWHr4d6kX8tV+ozqAs+uYCSmO2w+jd4zGNeUYL4nqZxeN5WKVgooSAClmEaYhqhdit89QC7niSbCEM2sdkBuHYxQg9ri5ZjkuhI6DMP+J7cTvEtokEx0aPscyddoFJKpSZqV7G1GTxcpmEthpnw5058c6GfwqpwzGOtGjXSJI3FLYhc+O+jSr9aGhPWQlRshS8AticLX7wnsgbXxt6gsWCpRBa0vRGQM8oB9dhmP3QAwFX4c079dJNq6Qi5xbuyTmpPSJ1Ur4UtF7GoTtmUL3zxaWqMU8P/k3cXSQ1EQRjHGdzdHTa4u7tzBs7CedhykNwF2/5jq56iU11db6Lv2yTj8hs3JoiU9sZZp5/62J5v1z9NjrDHaSbnbFMf52sHrDUVaidDxNG0o9+uLjfosfdb3jT5d5j757riJgst9NIZQ2Pn+ySZll80vjI6Wz/hQJG4vPG0L/H6poQch/dW3vL3B0u8jl0HvVj5PvHCElEF8DUAFikVYTcvmfBdDzQlvvMXSV5lP5zrXj/fJ54zuWaeeuoqkW8AwCIaqeTZKkmYrpPwR2eqN9X72W7EG57vU67OBeuMV8KXLUzv93UTTj42tvaFS++GVsc5JRyLSLJ8nzO555hFBmiSRCqMr4GwrcmGkib5xSvcwmzFK6e8s7DMa2xH4YZdZumSOwsVzFeBWdr37tpIhOpSwXqONNgZq/2KgvBt54znHN1HzlljTO4oVD5fb+prNIJXQNL1ofDKQisbPLJDv3jNSLq9OkYBEIihKIj3v7S1TRQCX5Kdl1ZQlol7LF+E++fwirfiq2sf4cTXxc6hzxffPuLEeqSWrPGWMF58TWr5viyJAP5/4EV4KePiaSE8eNRgjDy8/tyRW+FZjhS+2tlovNJovtJovNJ0uhK6Wo64SDdxEbM//KesjwAAAABJRU5ErkJggg==",Ss.map=no}}var Us=new r$4.Box3(new r$4.Vector3(-50,-50,-50),new r$4.Vector3(50,50,50)),Rs=new r$4.Vector2,_s=new r$4.Frustum,Ys=new r$4.Matrix4,Fs=new r$4.Clock,Hs=new WeakMap,Vs=function(va){function _a(eo){var to,ro,no,io,ao,oo,so,uo,co,fo;eo===void 0&&(eo={});var po=va.call(this)||this;if(po.ident=Xn(),po.renderSwitch01=0,po.panoIndex=0,po.needsRender=!1,po.onlyRenderIfNeeds=(to=eo.onlyRenderIfNeeds)===null||to===void 0||to,po.imageOptions=t$3.__assign({},(ro=eo.imageOptions)!==null&&ro!==void 0?ro:{}),po.textureOptions=t$3.__assign({},(no=eo.textureOptions)!==null&&no!==void 0?no:{}),po.poweredByRealsee=(io=eo.poweredByRealsee)===null||io===void 0||io,po.extraElements=[],po.controllerInits={Panorama:Object.assign({},eo.panorama),Model:Object.assign({},eo.model),Floorplan:Object.assign({},eo.floorplan),Topview:Object.assign({},eo.topview),DepthPanorama:Object.assign({},eo.depthPanorama),VRPanorama:Object.assign({},eo.vrPanorama)},po.fps={testCount:0,testTime:Re()},po.modeChangeDuration=(ao=eo.modeChangeDuration)!==null&&ao!==void 0?ao:1e3,po.panoramaLikeSavedPose={},typeof window<"u")if(eo.renderer)eo.renderer instanceof wt&&po.throwError(new Error("cannot render a internal renderer")),po.renderer=eo.renderer;else try{po.renderer=new wt({preserveDrawingBuffer:eo.preserveDrawingBuffer,backgroundColor:eo.backgroundColor,backgroundAlpha:eo.backgroundAlpha,antialias:eo.antialias});var vo=Is();po.renderer.setPixelRatio(vo===1?window.devicePixelRatio:1),po.renderer.setSize(512,512)}catch(No){No instanceof Error&&po.throwError(No)}po.getPixelsRenderTarget=new r$4.WebGLRenderTarget(1,1,{encoding:(so=(oo=po.renderer)===null||oo===void 0?void 0:oo.outputEncoding)!==null&&so!==void 0?so:r$4.sRGBEncoding}),po.scissor=Object.assign({left:0,bottom:0,width:1,height:1},eo.scissor),po.camera=new Lt(80),po.scene=new It,po.lastLoadWorkTask=Promise.resolve(),po.networkSubscribe=new et,po.networkSubscribe.on("network",function(No,Co,Io,Mo){var wo;po.emit("network",No,Co,Io,Mo),(wo=po.analysis)===null||wo===void 0||wo.network(po.work,No,Co,Io,Mo)}),po.model=new Wi({allowHosts:[],networkSubscribe:po.networkSubscribe});var go=nr(Us);if(go.name="model_empty",po.model.add(go),po.model.visible=!1,po.readyCallbacks=[],po.modelPending=!1,po.syncingState=!1,po.scene.add(po.model),po.helperGroup=new r$4.Group,po.helperGroup.name="helper",po.scene.add(po.helperGroup),po.videoTexture=new r$4.VideoTexture(eo.videoInstance||function(){var No=document.createElement("video");No.loop=!0,No.autoplay=!0,No.playsInline=!0,No.muted=!0,No.crossOrigin="";var Co=function(){document.removeEventListener("touchstart",Co,!1),document.removeEventListener("mousedown",Co,!1),No.muted=!1};return document.addEventListener("touchstart",Co,!1),document.addEventListener("mousedown",Co,!1),No}()),function(No){(Co=new r$4.DirectionalLight(16777215,.5)).position.copy(new r$4.Vector3(1,1,1)),No.add(Co);var Co=new r$4.DirectionalLight(16777215,.3);No.add(Co),Co=new r$4.AmbientLight(16777215,.3),No.add(Co)}(po.scene),po.state={mode:(uo=po.currentMode)!==null&&uo!==void 0?uo:"Panorama",panoIndex:(co=po.panoIndex)!==null&&co!==void 0?co:0,longitude:po.camera.pose.longitude,latitude:po.camera.pose.latitude,fov:po.camera.pose.fov,offset:po.camera.pose.offset.clone()},po.stateSynced=!1,po._enableIOSEDR=!1,po.destroyed=!1,po.paused=!0,typeof window<"u"&&(eo.play!==!1&&po.play(),((fo=eo.initialBasisLoader)!==null&&fo!==void 0&&fo)!==!1&&(typeof eo.initialBasisLoader=="string"?po.initBasisLoader(eo.initialBasisLoader):po.initBasisLoader()),po.stopAnimationLoop=ot.shared.add(function(No,Co){po.updateTime(No,Co)},!1,0,10)),po.plugins={},eo.plugins&&eo.plugins.length)for(var mo=0,lo=eo.plugins;mo<lo.length;mo++){var ho=lo[mo];if(typeof ho=="function")ho(po);else if(Array.isArray(ho)){var yo=ho[0],Ao=ho[1],Eo=ho[2];if(typeof yo=="function"){var To=yo(po,Eo);typeof Ao=="string"&&(po.plugins[Ao]?po.throwError(new Error("plugin name ".concat(Ao," is exists."))):po.plugins[Ao]=To)}}}return po}return t$3.__extends(_a,va),_a.prototype.dispose=function(){var eo;if(this.destroyed!==!0){this.emit("dispose"),this.destroyed=!0,this.pause(),this.stopAnimationLoop&&(this.stopAnimationLoop(),delete this.stopAnimationLoop),this.off(),this.networkSubscribe.off(),this.controller&&(this.controller.destroy(),this.controller=void 0);var to=this.getElement();to&&to.parentNode&&to.parentNode.removeChild(to),this.scene.remove(this.model);var ro=this.model.getMaterial();ro&&(ro.pano0&&ro.pano0.map.dispose(),ro.pano1&&ro.pano1.map!==((eo=ro.pano0)===null||eo===void 0?void 0:eo.map)&&ro.pano1.map.dispose()),this.model.dispose(),this.renderer instanceof wt&&this.renderer.forceContextLoss&&this.renderer.forceContextLoss()}},_a.prototype.setScissor=function(eo){Object.assign(this.scissor,eo),this.controller&&this.controller.updateRenderSize&&this.controller.updateRenderSize()},Object.defineProperty(_a.prototype,"helperVisible",{get:function(){return this.helperGroup.visible},set:function(eo){this.helperGroup.visible!==eo&&(this.helperGroup.visible=eo,this.emit("helpersVisibleChange",eo),this.needsRender=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(_a.prototype,"enableIOSEDR",{get:function(){return this._enableIOSEDR},set:function(eo){this._enableIOSEDR!==eo&&(this._enableIOSEDR=eo,this.currentMode&&this.currentMode==="Panorama"&&this.changeMode(this.currentMode,{},0,!1,!0))},enumerable:!1,configurable:!0}),Object.defineProperty(_a.prototype,"enablePostProcessing",{get:function(){return this.screenBuffer!==void 0},set:function(eo){var to,ro;if(eo){if(!this.screenBuffer){var no=this.getDrawingBufferSize(Rs);this.screenBuffer=new r$4.WebGLRenderTarget(no.x,no.y,{encoding:(ro=(to=this.renderer)===null||to===void 0?void 0:to.outputEncoding)!==null&&ro!==void 0?ro:r$4.sRGBEncoding})}}else this.screenBuffer&&(this.screenBuffer.dispose(),delete this.screenBuffer);this.needsRender=!0},enumerable:!1,configurable:!0}),_a.prototype.updateConfiguration=function(eo){var to=!1;eo.panorama&&(Object.assign(this.controllerInits.Panorama,eo.panorama),this.currentMode==="Panorama"&&(to=!0)),eo.model&&(Object.assign(this.controllerInits.Model,eo.model),this.currentMode==="Model"&&(to=!0)),eo.floorplan&&(Object.assign(this.controllerInits.Floorplan,eo.floorplan),this.currentMode==="Floorplan"&&(to=!0)),eo.topview&&(Object.assign(this.controllerInits.Topview,eo.topview),this.currentMode==="Topview"&&(to=!0)),eo.depthPanorama&&(Object.assign(this.controllerInits.DepthPanorama,eo.depthPanorama),this.currentMode==="DepthPanorama"&&(to=!0)),eo.vrPanorama&&(Object.assign(this.controllerInits.VRPanorama,eo.vrPanorama),this.currentMode==="VRPanorama"&&(to=!0)),eo.imageOptions&&(Object.assign(this.imageOptions,eo.imageOptions),this.currentMode!=="Panorama"&&this.currentMode!=="DepthPanorama"&&this.currentMode!=="VRPanorama"||(to=!0)),to&&this.controller&&this.currentMode&&this.changeMode(this.currentMode,this.getCurrentState(),0,!1,!0)},_a.prototype.appendTo=function(eo,to){if(to===void 0&&(to={}),this.renderer)if(this.renderer instanceof wt){var ro=this.getElement();if(ro){eo.appendChild(ro),this.refresh(to);var no=window.getComputedStyle(eo).position;no!=="relative"&&no!=="absolute"&&no!=="fixed"&&no!=="sticky"&&(eo.style.position="relative")}}else this.throwError(new Error("cannot call appendTo method when render a external renderer"))},_a.prototype.refresh=function(eo,to){if(eo===void 0&&(eo={}),this.renderer){var ro=this.getElement();if(ro){var no=ro.parentNode;if(no&&no.nodeName){var io=eo.width,ao=io===void 0?no.offsetWidth:io,oo=eo.height,so=oo===void 0?no.offsetHeight:oo;this.renderer instanceof wt&&(to&&this.renderer.setPixelRatio(to),this.renderer.setSize(ao,so))}var uo=this.renderer.getSize(new r$4.Vector2);this.camera.aspect=uo.x*this.scissor.width/(uo.y*this.scissor.height),this.camera.updateProjectionMatrix(),this.controller&&this.controller.updateRenderSize&&this.controller.updateRenderSize(),this.needsRender=!0}}},_a.prototype.addExtraElement=function(eo){var to=this;return this.extraElements.indexOf(eo)===-1&&(this.extraElements.push(eo),this.controller&&this.controller.bindExtraElement(eo)),function(){return to.removeExtraElement(eo)}},_a.prototype.removeExtraElement=function(eo){var to=this.extraElements.indexOf(eo);to!==-1&&(this.extraElements.splice(to,1),this.controller&&this.controller.unbindExtraElement(eo))},_a.prototype.getPose=function(){var eo=this.camera.copyPose();return{longitude:eo.longitude,latitude:eo.latitude,fov:eo.fov,offset:eo.offset}},_a.prototype.getSize=function(eo){if(!this.renderer)throw new Error("renderer is not initialized");return this.renderer.getSize(eo),eo.x*=this.scissor.width,eo.y*=this.scissor.height,eo},_a.prototype.getDrawingBufferSize=function(eo){if(!this.renderer)throw new Error("renderer is not initialized");return this.renderer.getDrawingBufferSize(eo),eo.x*=this.scissor.width,eo.y*=this.scissor.height,eo},_a.prototype.updateCamera=function(eo,to,ro){return ro===void 0&&(ro=!0),this.controller?this.controller.updateCamera(eo,to,ro):Promise.reject(new Error("controller is not initialized."))},_a.prototype.getLongitudeAndLatitude=function(){var eo=this.getPose();return{longitude:eo.longitude,latitude:eo.latitude}},_a.prototype.getOffset=function(){return this.getPose().offset},_a.prototype.getCameraLocal=function(){if(typeof this.panoIndex=="number"&&this.controller&&this.work){var eo=this.work.observers[this.panoIndex],to=new r$4.Object3D;return to.position.copy(eo.position),to.quaternion.copy(eo.quaternion),to.scale.set(1,1,1),to.updateMatrixWorld(!0),function(ro,no){var io=new r$4.Vector3(0,0,-1);io.applyQuaternion(ro.quaternion);var ao=no.quaternion.clone().inverse();return io.applyQuaternion(ao),{theta:Math.atan2(io.x,-io.z),phi:-Math.asin(io.y),lookAtVector:io}}(this.camera,to)}},_a.prototype.initBasisLoader=function(eo){try{if(!this.renderer)throw new Error("renderer is not initialized.");if(typeof Promise>"u"||typeof WeakMap>"u"||typeof WebAssembly>"u")throw new Error("Basis loader not support.");typeof eo=="string"&&wi.setTranscoderPath(eo),wi.workerConfig.format||wi.detectSupport(this.renderer),wi._allocateWorker(0)}catch(to){to instanceof Error&&this.throwError(to)}},Object.defineProperty(_a.prototype,"work",{get:function(){var eo=Hs.get(this);if(eo&&on.get(eo))return eo},enumerable:!1,configurable:!0}),_a.prototype.load=function(eo,to,ro,no){var io=this;if(no===void 0&&(no=!0),!this.renderer)throw new Error("renderer is not initialized");var ao=this.lastLoadWorkTask.then(function(){return!(oo=eo)||typeof oo!="object"&&typeof oo!="function"||typeof oo.then!="function"?io.load_(eo,to,ro,no):eo.then(function(so){return io.load_(so,to,ro,no)});var oo});return this.lastLoadWorkTask=ao.catch(function(oo){io.throwError(oo)}),ao},_a.prototype.load_=function(eo,to,ro,no){var io,ao,oo,so,uo,co,fo,po,vo,go=this;no===void 0&&(no=!0);var mo,lo,ho,yo=un(eo),Ao=this.work;to===void 0&&(to=Ao?"inherit":"initial"),to==="inherit"?(mo=typeof this.panoIndex=="number"&&yo.observers[this.panoIndex]?this.panoIndex:yo.initial.panoIndex,lo=(io=this.currentMode)!==null&&io!==void 0?io:yo.initial.mode,ho={longitude:this.camera.pose.longitude,latitude:this.camera.pose.latitude,fov:this.camera.pose.fov}):to==="initial"?(lo=(ao=this.currentMode)!==null&&ao!==void 0?ao:yo.initial.mode,mo=yo.initial.panoIndex,ho=lo===_a.Mode.Panorama||lo===_a.Mode.DepthPanorama||lo===_a.Mode.Model||lo===_a.Mode.VRPanorama?{longitude:yo.initial.longitude,latitude:yo.initial.latitude,fov:yo.initial.fov}:{longitude:this.camera.pose.longitude,latitude:this.camera.pose.latitude,fov:this.camera.pose.fov}):(mo=(oo=to.panoIndex)!==null&&oo!==void 0?oo:yo.initial.panoIndex,lo=(uo=(so=to.mode)!==null&&so!==void 0?so:this.currentMode)!==null&&uo!==void 0?uo:"Panorama",ho={longitude:(co=to.longitude)!==null&&co!==void 0?co:yo.initial.longitude,latitude:(fo=to.latitude)!==null&&fo!==void 0?fo:yo.initial.latitude,fov:(po=to.fov)!==null&&po!==void 0?po:yo.initial.fov}),this.emit("willLoad",eo,yo,{panoIndex:mo,mode:lo,longitude:ho.longitude,latitude:ho.latitude,fov:ho.fov});var Eo=function(){var No;go.panoIndex=mo,go.panoramaLikeSavedPose.longitude=yo.initial.longitude,go.panoramaLikeSavedPose.latitude=yo.initial.latitude,go.panoramaLikeSavedPose.fov=yo.initial.fov;var Co=go.controller?ro??go.modeChangeDuration:0,Io=t$3.__assign(t$3.__assign({initial:[mo,ho,Co,no]},go.commonParams()),go.controllerInits[lo]);go.controller?go.controller.updateWork(yo,mo,ho,Co,no)===!1&&(go.controller.destroy(),go.controller=go.applyController(lo,Io)):go.controller=go.applyController(lo,Io),go.emit("load",eo,yo,{panoIndex:mo,mode:lo,longitude:ho.longitude,latitude:ho.latitude,fov:ho.fov}),(No=go.analysis)===null||No===void 0||No.work(yo)},To=function(No){var Co;No===void 0&&(No=Pe),yo.model&&(go.model.name!==((Co=yo.model)===null||Co===void 0?void 0:Co.file)?(go.emit("modelWillLoad",yo.model),go.loadModel(yo.model,yo.allowHosts,No,!0)):No&&No())};return Hs.set(this,yo),lo===_a.Mode.Floorplan||lo===_a.Mode.Topview||lo===_a.Mode.Model?To(function(){Eo(),go.needsRender=!0}):(this.controller||(this.camera.setFromPose({distance:0,fov:yo.initial.fov,longitude:yo.initial.longitude,latitude:yo.initial.latitude,offset:yo.observers[yo.initial.panoIndex].position}),this.needsRender=!0),Eo(),(vo=this.controller)===null||vo===void 0||vo.once("panoLoaded",function(){go.needsRender=!0,go.emit("cameraUpdate",go.camera.copyPose(),no),To()})),this.ready().then(function(){go.emit("loaded",eo,go.work)})},_a.prototype.changeMode=function(eo,to,ro,no,io){var ao=this;if(to===void 0&&(to={}),ro===void 0&&(ro=this.modeChangeDuration),no===void 0&&(no=!0),io===void 0&&(io=!1),!this.renderer)throw new Error("renderer is not initialized.");return new Promise(function(oo,so){if(!_a.Mode.hasOwnProperty(eo)){var uo=new Error('mode "'.concat(eo,'" is not existed'));return ao.throwError(uo),void so(uo)}if((eo===_a.Mode.Floorplan||eo===_a.Mode.Topview||eo===_a.Mode.Model)&&(Vi(ao.model)||ao.model.loaded!==!0))return uo=new Error("model is not ready."),ao.throwError(uo),void so(uo);if(Vi(ao.controller))return uo=new Error("controller is not ready."),ao.throwError(uo),void so(uo);var co=ao.controller,fo=ao.currentMode,po=function(){var vo,go,mo,lo;if(ao.emit("wantsChangeMode",eo,fo))so(new Error("change mode canceled."));else{if(ao.controller&&io===!1&&fo===eo)eo===_a.Mode.Panorama||eo===_a.Mode.DepthPanorama||eo===_a.Mode.Model||eo===_a.Mode.VRPanorama?typeof to.panoIndex=="number"&&to.panoIndex!==ao.panoIndex?ao.controller.moveToPano((go=(vo=to.panoIndex)!==null&&vo!==void 0?vo:ao.panoIndex)!==null&&go!==void 0?go:0,t$3.__assign({duration:ro},to),no):ao.controller.updateCamera(to,ro,no).catch(Pe):(typeof to.panoIndex=="number"&&to.panoIndex!==ao.panoIndex&&(ao.panoIndex=to.panoIndex),ao.controller.updateCamera(to,ro,no).catch(Pe));else{co.destroy();var ho=(lo=(mo=to.panoIndex)!==null&&mo!==void 0?mo:ao.panoIndex)!==null&&lo!==void 0?lo:0,yo=Ds(eo)?ao.panoramaLikeSavedPose:{};typeof to.longitude!="number"&&typeof to.latitude!="number"||(yo.longitude=to.longitude,yo.latitude=to.latitude),typeof to.fov=="number"&&(yo.fov=to.fov);var Ao=t$3.__assign(t$3.__assign({initial:[ho,yo,ro,no]},ao.commonParams()),ao.controllerInits[eo]);ao.saveControllerPose(co),ao.controller=ao.applyController(eo,Ao);var Eo=Ns[eo].initAnimationEndPose(Ao);ao.emit("modeChange",eo,fo,ho,Eo)}oo()}};eo===_a.Mode.VRPanorama?(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(vo){if(vo=="granted")return Promise.resolve();var go=new Error("Request DeviceOrientation Permission denied.");return Promise.reject(go)}):Promise.resolve()).then(function(){return po()}).catch(function(vo){vo instanceof Error&&(ao.throwError(vo),so(vo))}):po()})},_a.prototype.getPixels=function(eo,to,ro,no,io){if(io===void 0&&(io=1),!this.renderer)throw new Error("renderer is not initialized.");var ao=this.getPixelsRenderTarget,oo=this.renderer.getSize(new r$4.Vector2);eo=Math.min(Math.max(eo,Math.floor(ro/2)),Math.floor(oo.x-ro)),to=Math.min(Math.max(to,Math.floor(no/2)),Math.floor(oo.y-no)),eo*=io,to*=io,ro*=io,no*=io,ao.setSize(oo.x*io,oo.y*io),ao.scissor.set(eo,to,ro,no),ao.scissorTest=!0,this.renderer.setRenderTarget(ao);var so=new Uint8Array(ro*no*4);return this.controller?this.controller.render(Fs.getDelta()):this.renderer.render(this.scene,this.camera),this.renderer.readRenderTargetPixels(ao,eo,to,ro,no,so),this.renderer.setRenderTarget(null),ao.setSize(1,1),ao.scissor.set(0,0,0,0),ao.scissorTest=!1,so},_a.prototype.getElement=function(){var eo;return(eo=this.renderer)===null||eo===void 0?void 0:eo.domElement},_a.prototype.render=function(eo,to){var ro=this;if(to===void 0&&(to=!1),!this.renderer)return null;if(to){var no=this.renderer.getSize(Rs);this.scene.traverseVisible(function(oo){oo.setResolution&&oo.setResolution(no.x,no.y)})}var io=Fs.getDelta();if(this.controller&&this.screenBuffer&&this.renderer.getRenderTarget()===null){var ao=this.getDrawingBufferSize(Rs);return this.screenBuffer.setSize(ao.x,ao.y),this.renderer.setRenderTarget(this.screenBuffer),this.controller.render(io),this.renderer.setRenderTarget(null),this.poweredByRealsee&&Ps(this.renderer),this.renderer.setRenderTarget(null),eo&&ot.shared.add(eo,!0),this.screenBuffer}return this.aroundScissor(function(){ro.renderer&&(ro.controller?ro.controller.render(io):ro.renderer.render(ro.scene,ro.camera),ro.poweredByRealsee&&Ps(ro.renderer)),eo&&ot.shared.add(eo,!0)}),null},_a.prototype.updateTime=function(eo,to){var ro=this;if(!this.destroyed){this.syncingState=this.syncState(eo,to),this.controller&&this.controller.updateTime(eo,to),this.syncingState=!1;var no=new r$4.Vector2(512,512),io=new r$4.Vector2(512,512);this.renderer&&(this.renderer.getSize(no),no.x*=this.scissor.width,no.y*=this.scissor.height,this.renderer.getDrawingBufferSize(io),io.x*=this.scissor.width,io.y*=this.scissor.height);var ao=[];if(Ys.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),_s.setFromProjectionMatrix(Ys),this.scene.traverse(function(vo){vo.setResolution&&vo.setResolution(no.x,no.y),vo.mixer instanceof r$4.AnimationMixer&&vo.mixer.update(Fs.getDelta()),(vo instanceof r$4.Mesh||vo instanceof r$4.Line||vo instanceof r$4.Points)&&(vo instanceof r$4.ImmediateRenderObject||!vo.frustumCulled||_s.intersectsObject(vo))&&ao.push(vo)}),io.width*io.height>8388608?this.renderSwitch01=1^this.renderSwitch01:this.renderSwitch01=0,this.renderer&&this.paused===!1&&this.renderSwitch01===0){var oo=void 0;if(this.onlyRenderIfNeeds!==!0)oo=this.render();else{for(var so=0,uo=ao;so<uo.length;so++){var co=uo[so],fo=function(vo){vo.needsRender===!0?(vo.needsRender=!1,ro.needsRender=!0):vo.mixer&&vo.mixer.stats.actions.inUse>0&&(ro.needsRender=!0)};fo(co),co.traverseAncestors(fo)}this.controller&&this.controller.needsRender===!0&&(this.controller.needsRender=!1,this.needsRender=!0),this.needsRender!==!1&&(oo=this.render())}this.needsRender=!1,this.controller&&this.screenBuffer&&this.aroundScissor(function(){return ro.controller.postProcessing(ro.screenBuffer,void 0,Fs.getDelta())}),this.hasListener("renderFrame")&&this.emit("renderFrame",oo!==void 0)}if(this.fps.testTime&&eo-this.fps.testTime<1e3)this.fps.testCount++;else if(this.emit("fps",this.fps.testCount),this.fps.testTime=eo,this.fps.testCount=0,this.renderer){var po=function(vo){var go=vo.getError();if(go===vo.NO_ERROR)return null;switch(go){case vo.INVALID_ENUM:return new Error("webgl error: INVALID_ENUM");case vo.INVALID_VALUE:return new Error("webgl error: INVALID_VALUE");case vo.INVALID_OPERATION:return new Error("webgl error: INVALID_OPERATION");case vo.INVALID_FRAMEBUFFER_OPERATION:return new Error("webgl error: INVALID_FRAMEBUFFER_OPERATION");case vo.OUT_OF_MEMORY:return new Error("webgl error: OUT_OF_MEMORY");case vo.CONTEXT_LOST_WEBGL:return new Error("webgl error: CONTEXT_LOST_WEBGL");default:return null}}(this.renderer.getContext());po&&this.throwError(po)}}},_a.prototype.pause=function(){this.paused=!0,this.renderer&&this.renderer instanceof wt&&this.renderer.clear(!0,!0,!0)},_a.prototype.play=function(){this.needsRender=!0,this.paused=!1},_a.prototype.moveToPano=function(eo,to,ro){to===void 0&&(to={}),ro===void 0&&(ro=!0);var no=this,io=no.controller,ao=no.currentMode,oo=no.renderer;io?oo?ao===_a.Mode.Floorplan||ao===_a.Mode.Topview?Vi(eo)||(this.panoIndex=eo,this.changeMode(_a.Mode.Panorama,to,void 0,ro)):io.moveToPano(eo,to,ro):this.throwError(new Error("renderer is not initialized.")):this.throwError(new Error("controller is not initialized."))},_a.prototype.preloadPano=function(eo,to){var ro=this;if(to===void 0&&(to=Pe),!this.work)return Promise.reject(new Error("work never loaded"));var no=this.work.observers[eo],io=Re();return Promise.all(["right","left","up","down","front","back"].map(function(ao){var oo=t$3.__assign({key:"pano.".concat(eo,".").concat(ao),basisLoaderInitialized:wi.isInitialized()},ni(ro.imageOptions,["size","format","quality"])),so=no.images[ao];return function(uo,co){return co===void 0&&(co={}),uo in it?it[uo]:it[uo]=new Promise(function(fo,po){var vo=document.createElement("link");vo.href=uo,vo.rel=vo.relList&&vo.relList.supports("prefetch")?"prefetch":"preload",vo.as="fetch",vo.crossOrigin="";var go=Re(),mo=document.head||document.getElementsByTagName("head")[0];mo&&mo.appendChild(vo);var lo=!1;vo.onload=function(){var ho;if(lo!==!0){lo=!0,fo();var yo=Re(),Ao={source:uo,requestTime:go,responseTime:yo,costs:yo-go,headers:{}};(ho=co.networkSubscribe)===null||ho===void 0||ho.emit("network",uo,"Link","preload",JSON.stringify(Ao))}},vo.onerror=function(ho){var yo;if(lo!==!0){lo=!0;var Ao=new qe(uo,"Link",0);po(Ao),(yo=co.networkSubscribe)===null||yo===void 0||yo.emit("network",uo,"Link","error",Ao.message)}}})}(ro.imageOptions.transform?ro.imageOptions.transform(so,oo):ht(so,oo),{networkSubscribe:ro.networkSubscribe})})).then(function(){var ao=Re()-io;return to(ao),ao})},_a.prototype.project2d=function(eo,to){if(to===void 0&&(to=!1),!this.renderer)return null;if(this.model.empty===!1&&to){var ro=this.camera.position,no=eo.clone().sub(ro),io=new r$4.Raycaster(ro,no.clone().normalize()),ao=this.model.intersectRaycaster(io)[0];if(ao&&ao.distance+.01<no.length())return null}var oo=eo.clone().project(this.camera);if(Math.abs(oo.z)>1)return null;var so=this.renderer.getSize(new r$4.Vector2),uo=so.x*this.scissor.width,co=so.y*this.scissor.height,fo=so.x*this.scissor.left+(oo.x+1)/2*uo,po=so.y*(1-this.scissor.bottom-this.scissor.height)+(1-oo.y)/2*co;return new r$4.Vector2(fo,po)},_a.prototype.getRenderObjects=function(eo){Ys.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),_s.setFromProjectionMatrix(Ys),eo||(eo=this.scene);var to=[];return eo.traverseVisible(function(ro){(ro instanceof r$4.Mesh||ro instanceof r$4.Line||ro instanceof r$4.Points)&&(ro instanceof r$4.ImmediateRenderObject||!ro.frustumCulled||_s.intersectsObject(ro))&&to.push(ro)}),to},_a.prototype.getCurrentState=function(){return t$3.__assign(t$3.__assign({},this.getPose()),{mode:this.currentMode||_a.Mode.Panorama,panoIndex:this.panoIndex||0})},_a.prototype.setState=function(eo,to,ro){var no,io,ao,oo,so,uo,co,fo;to===void 0&&(to=!1),ro===void 0&&(ro=!0),!(eo=Object.assign({},eo)).offset||eo instanceof r$4.Vector3||(eo.offset=new r$4.Vector3(eo.offset.x,eo.offset.y,eo.offset.z));var po,vo,go,mo,lo=(no=eo.panoIndex)!==null&&no!==void 0?no:this.state.panoIndex,ho=(io=eo.mode)!==null&&io!==void 0?io:this.state.mode;if(this.work)if(this.work.observers[lo])if(eo.mode!==_a.Mode.Floorplan&&eo.mode!==_a.Mode.Topview&&eo.mode!==_a.Mode.Model||!Vi(this.model)&&this.model.loaded===!0){if(this.state.mode!==ho){var yo=void 0;yo=Ds(this.state.mode)&&Ds(ho)?t$3.__assign({},this.state):Ds(ho)?t$3.__assign({},this.panoramaLikeSavedPose):t$3.__assign({},eo),typeof eo.longitude=="number"&&(yo.longitude=eo.longitude),typeof eo.latitude=="number"&&(yo.latitude=eo.latitude),typeof eo.fov=="number"&&(yo.fov=eo.fov);var Ao=t$3.__assign(t$3.__assign({initial:[lo,yo,this.modeChangeDuration,!1]},this.commonParams()),this.controllerInits[ho]),Eo=Ns[ho].initAnimationEndPose(Ao);po=Eo.longitude,vo=Eo.latitude,go=Eo.fov,mo=Eo.offset}else po=(ao=eo.longitude)!==null&&ao!==void 0?ao:this.state.longitude,vo=(oo=eo.latitude)!==null&&oo!==void 0?oo:this.state.latitude,go=(so=eo.fov)!==null&&so!==void 0?so:this.state.fov,mo=(uo=eo.offset)!==null&&uo!==void 0?uo:this.state.offset;var To={panoIndex:lo,mode:ho,longitude:po,latitude:vo,fov:go,offset:mo};this.emit("setState",To),Ar(this.state,To)||(cr(this.state,To),this.controller&&(this.controller.userAction=ro),to&&this.state.mode===To.mode&&(this.syncingState=this.syncState(Re(),0,to),this.syncingState&&((co=this.controller)===null||co===void 0||co.updateTime(Re(),0),this.syncingState=!1)),this.emit("stateChange",this.state,ro),(fo=this.analysis)===null||fo===void 0||fo.state(this.work,this.state))}else this.throwError(new Error("model is not ready."));else this.throwError(new Error("panoIndex not found in work"));else this.throwError(new Error("work never load."))},_a.prototype.aroundScissor=function(eo){if(this.renderer){var to=new r$4.Vector2,ro=this.scissor.left!==0||this.scissor.bottom!==0||this.scissor.width!==1||this.scissor.height!==1;if(ro){this.renderer.getSize(to);var no=Math.floor(to.x*this.scissor.left),io=Math.floor(to.y*this.scissor.bottom),ao=Math.floor(to.x*this.scissor.width),oo=Math.floor(to.y*this.scissor.height);this.renderer.setViewport(no,io,ao,oo),this.renderer.setScissor(no,io,ao,oo),this.renderer.setScissorTest(!0)}eo(),ro&&(this.renderer.setViewport(0,0,to.x,to.y),this.renderer.setScissor(0,0,to.x,to.y),this.renderer.setScissorTest(!1))}},_a.prototype.syncState=function(eo,to,ro){ro===void 0&&(ro=!1);var no=this.stateSynced;if(this.stateSynced=!1,!this.controller)return!1;if(this.state.mode!==this.currentMode){var io={mode:this.state.mode,panoIndex:this.state.panoIndex,longitude:this.state.longitude,latitude:this.state.latitude,fov:this.state.fov,offset:this.state.offset};return this.changeMode(this.state.mode,io,this.modeChangeDuration,this.controller.userAction),!0}if(this.controller.isReady()===!1)return!1;if(this.readyCallbacks.length){var ao=this.currentMode;if(!(ao===_a.Mode.Floorplan||ao===_a.Mode.Topview||ao===_a.Mode.Model)||!this.modelPending)for(var oo=void 0;oo=this.readyCallbacks.shift();)oo()}if(this.controller instanceof Ns.Model){if(!this.camera.pose.offset.equals(this.state.offset)){var so={longitude:this.state.longitude,latitude:this.state.latitude,fov:this.state.fov,offset:this.state.offset};return this.controller.moveToPosition(this.state.offset,so,!1),!0}}else if(this.state.panoIndex!==this.panoIndex)return so={longitude:this.state.longitude,latitude:this.state.latitude,fov:this.state.fov,offset:this.state.offset},this.controller.moveToPano(this.state.panoIndex,so,!1),!0;if(this.controller instanceof Ns.Topview){var uo=1,co=ro?this.state.fov:ur(this.camera.pose.fov,this.state.fov,uo),fo=ro?new r$4.Vector3(this.state.offset.x,this.state.offset.y,this.state.offset.z):new r$4.Vector3(ur(this.camera.pose.offset.x,this.state.offset.x,.2),ur(this.camera.pose.offset.y,this.state.offset.y,.2),ur(this.camera.pose.offset.z,this.state.offset.z,.2));if(Jn(co,this.camera.pose.fov)||er(fo,this.camera.pose.offset))return this.controller.cameraMotion.set({fov:co},0).catch(Pe),this.controller.locationMotion.set({x:fo.x,y:fo.y,z:fo.z},0).catch(Pe),!0}else{uo=1;var po=Math.PI/45,vo=(co=ro?this.state.fov:ur(this.camera.pose.fov,this.state.fov,uo),ro?{longitude:this.state.longitude,latitude:this.state.latitude}:function(lo,ho,yo){if(lo.longitude===ho.longitude&&lo.latitude===ho.latitude)return{longitude:ho.longitude,latitude:ho.latitude};var Ao=sr(lo.longitude),Eo=lo.latitude,To=sr(ho.longitude),No=ho.latitude;To-Ao>or?Ao+=ar:Ao-To>or&&(Ao-=ar);var Co=yo/Math.sqrt(Math.pow(To-Ao,2)+Math.pow(No-Eo,2));return Co>=1?{longitude:ho.longitude,latitude:ho.latitude}:{longitude:Ao+(To-Ao)*Co,latitude:Eo+(No-Eo)*Co}}({longitude:this.camera.pose.longitude,latitude:this.camera.pose.latitude},{longitude:this.state.longitude,latitude:this.state.latitude},po)),go=vo.longitude,mo=vo.latitude;if(Jn(go,this.camera.pose.longitude,2*Math.PI)||Jn(mo,this.camera.pose.latitude)||Jn(co,this.camera.pose.fov))return this.controller.cameraMotion.set({longitude:go,latitude:mo,fov:co},0).catch(Pe),!0}return this.stateSynced=!0,no===!1&&this.emit("stateSynced",this.state),!1},_a.prototype.ready=function(){var eo=this;return new Promise(function(to){return eo.readyCallbacks.push(to)})},_a.prototype.throwError=function(eo){this.hasListener("error")?this.emit("error",eo):console.error(eo)},_a.prototype.loadModel=function(eo,to,ro,no){var io=this,ao=eo.file;this.emit("modelWillLoad",eo);var oo=new Wi({allowHosts:to,networkSubscribe:this.networkSubscribe});oo.once("bvhLoaded",function(){var so,uo;io.destroyed||ao===((uo=(so=io.work)===null||so===void 0?void 0:so.model)===null||uo===void 0?void 0:uo.file)&&io.emit("modelBvhLoaded",oo)}),oo.once("materialLoaded",function(){var so,uo;io.destroyed||ao===((uo=(so=io.work)===null||so===void 0?void 0:so.model)===null||uo===void 0?void 0:uo.file)&&io.emit("modelMaterialLoaded",oo)}),oo.once("geometryLoaded",function(){var so,uo,co,fo;if(!io.destroyed&&ao===((uo=(so=io.work)===null||so===void 0?void 0:so.model)===null||uo===void 0?void 0:uo.file)){oo.bounding.max.y-oo.bounding.min.y<1.5&&(oo.bounding.max.y=oo.bounding.min.y+10);var po,vo=io.model;vo&&(vo.show(),po=vo.getMaterial()||{},io.scene.remove(vo),vo.dispose(),oo.setTransparent(vo.getTransparent())),po&&oo.setMaterial(po),eo.bvh&&oo.buildBVH(),io.model=oo,io.scene.add(oo),(co=io.controller)===null||co===void 0||co.updateModel(oo),(fo=io.renderer)===null||fo===void 0||fo.compile(io.scene,io.camera),io.needsRender=!0,io.modelPending=!1,io.emit("modelGeometryLoaded",oo)}}),oo.once("loaded",function(){var so,uo;io.destroyed||ao===((uo=(so=io.work)===null||so===void 0?void 0:so.model)===null||uo===void 0?void 0:uo.file)&&(ro(),io.emit("modelLoaded",oo))}),oo.on("shownFloorChange",function(so,uo){var co,fo;io.destroyed||ao===((fo=(co=io.work)===null||co===void 0?void 0:co.model)===null||fo===void 0?void 0:fo.file)&&io.emit("modelShownFloorChange",so,uo)}),oo.on("error",function(so){var uo,co,fo,po;if(!io.destroyed&&ao===((co=(uo=io.work)===null||uo===void 0?void 0:uo.model)===null||co===void 0?void 0:co.file)){oo.bounding.makeEmpty();for(var vo=0,go=io.work.observers;vo<go.length;vo++){var mo=go[vo];oo.bounding.expandByPoint(mo.standingPosition),oo.bounding.expandByPoint(new r$4.Vector3().fromArray([mo.position.x,2*mo.position.y-mo.standingPosition.y,mo.position.z]))}var lo=nr(oo.bounding,new r$4.Vector3(1,0,1));lo.visible=!0,lo.name="model_empty",oo.add(lo);var ho,yo=io.model;yo&&(yo.show(),ho=yo.getMaterial()||{},io.scene.remove(yo),yo.dispose(),oo.setTransparent(yo.getTransparent())),ho&&oo.setMaterial(ho),io.model=oo,io.scene.add(oo),(fo=io.controller)===null||fo===void 0||fo.updateModel(oo),(po=io.renderer)===null||po===void 0||po.compile(io.scene,io.camera),io.emit("modelLoadError",so,oo),io.throwError(so),io.modelPending=!1,ro()}}),this.modelPending=!0,oo.load(eo,this.textureOptions).catch(Pe)},_a.prototype.commonParams=function(){return{ident:this.ident,scene:this.scene,helper:this.helperGroup,camera:this.camera,renderer:this.renderer,scissor:this.scissor,element:this.getElement(),model:this.model,work:this.work,imageOptions:this.imageOptions,enableIOSEDR:this._enableIOSEDR,extraElements:this.extraElements,videoTexture:this.videoTexture,networkSubscribe:this.networkSubscribe}},_a.prototype.saveControllerPose=function(eo){eo===void 0&&(eo=this.controller),eo&&Ds(eo)&&(this.panoramaLikeSavedPose.longitude=this.camera.pose.longitude,this.panoramaLikeSavedPose.latitude=this.camera.pose.latitude,this.panoramaLikeSavedPose.fov=this.camera.pose.fov)},_a.prototype.applyController=function(eo,to){var ro=this;if(!this.renderer)throw new Error("renderer is not initialized.");var no=Ns[eo];eo===this.currentMode||this.model.empty||this.model.show(),this.model.setTransparent(eo===_a.Mode.Floorplan||eo===_a.Mode.Topview||eo===_a.Mode.Model),this.currentMode=eo;for(var io=new no(to),ao=function(po){io.on(po,function(){for(var vo=[],go=0;go<arguments.length;go++)vo[go]=arguments[go];var mo=ro.emit.apply(ro,t$3.__spreadArray([po],vo,!1));if(mo)return!1})},oo=0,so=Es;oo<so.length;oo++)ao(so[oo]);var uo=Ns[eo].initAnimationEndPose(to),co=to.initial[3],fo={panoIndex:to.initial[0],mode:eo,longitude:uo.longitude,latitude:uo.latitude,fov:uo.fov,offset:uo.offset};return Ar(this.state,fo)||(cr(this.state,fo),this.emit("stateChange",this.state,co)),this.emit("currentStateChange",this.getCurrentState(),co),io.on("cameraUpdate",function(po,vo){var go;if(ro.controller){var mo=t$3.__assign(t$3.__assign({},ro.controller.getTargetPose()),{panoIndex:ro.panoIndex,mode:eo});vo&&ro.syncingState===!1&&ro.state.mode===mo.mode&&!Ar(ro.state,mo)&&(cr(ro.state,mo),ro.emit("stateChange",ro.state,vo),(go=ro.analysis)===null||go===void 0||go.state(ro.work,ro.state))}ro.emit("currentStateChange",ro.getCurrentState(),vo)}),io.on("initAnimationWillStart",function(po,vo,go){var mo,lo=t$3.__assign(t$3.__assign({},vo),{panoIndex:po,mode:eo});go&&ro.state.mode===lo.mode&&!Ar(ro.state,lo)&&(cr(ro.state,lo),ro.emit("stateChange",ro.state,go),(mo=ro.analysis)===null||mo===void 0||mo.state(ro.work,ro.state))}),io.on("initAnimationEnded",function(po,vo,go){var mo,lo=t$3.__assign(t$3.__assign({},vo),{panoIndex:po,mode:eo});go&&ro.state.mode===lo.mode&&!Ar(ro.state,lo)&&(cr(ro.state,lo),ro.emit("stateChange",ro.state,go),(mo=ro.analysis)===null||mo===void 0||mo.state(ro.work,ro.state))}),io.on("panoWillArrive",function(po,vo,go){var mo;ro.panoIndex=po;var lo=t$3.__assign(t$3.__assign({},vo),{panoIndex:po,mode:eo});go&&ro.state.mode===lo.mode&&!Ar(ro.state,lo)&&(cr(ro.state,lo),ro.emit("stateChange",ro.state,go),(mo=ro.analysis)===null||mo===void 0||mo.state(ro.work,ro.state))}),io.on("panoArrived",function(po,vo,go){var mo,lo=t$3.__assign(t$3.__assign({},vo),{panoIndex:po,mode:eo});go&&ro.state.mode===lo.mode&&!Ar(ro.state,lo)&&(cr(ro.state,lo),ro.emit("stateChange",ro.state,go),(mo=ro.analysis)===null||mo===void 0||mo.state(ro.work,ro.state))}),io.on("moveToPano",function(po,vo){ro.emit("currentStateChange",ro.getCurrentState(),vo)}),io.on("wantsMoveToPano",function(po,vo,go){var mo=ro.emit("wantsMoveToPano",po,vo,go);mo||(mo=ro.emit("wantsToMoveToPano",po,vo,go)),mo||ro.moveToPano(po,vo,go)}),io.on("vrWantsToExit",function(){ro.currentMode===_a.Mode.VRPanorama&&ro.changeMode(_a.Mode.Panorama)}),io.on("error",function(po){return ro.throwError(po)}),io},_a.Mode={Panorama:"Panorama",Model:"Model",Floorplan:"Floorplan",Topview:"Topview",DepthPanorama:"DepthPanorama",VRPanorama:"VRPanorama"},_a.Line=null,_a}(ke);five.AnimationFrameLoop=ot,five.BVH=_t$1,five.BVHIntersect=Qt,five.BVHNode=Bt,five.BVHVector3=Ot,five.Camera=Lt,Five=five.Five=Vs,five.InternalWebGLRenderer=wt,five.IntersectMesh=qn,five.LegacyPanoCircleMesh=Tn,five.Model=Wi,five.NetworkSubscribe=et,five.PBMContainer=gt,five.PBMGroup=pt,five.PBMMaterial=Et,five.PBMMesh=dt,five.PROXY_CONTROLLER_EVENT_NAMES=Es,five.PanoCircleMesh=_n,five.Scene=It,Subscribe=five.Subscribe=ke,five.defaultImageURLTransform=ht,five.getViewportScale=Is,parseWork=five.parseWork=un;/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */var mod={},l$3=void 0,aa=mod;function r$3(va,_a){var eo=va.split("."),to=aa;!(eo[0]in to)&&to.execScript&&to.execScript("var "+eo[0]);for(var ro;eo.length&&(ro=eo.shift());)!eo.length&&_a!==l$3?to[ro]=_a:to=to[ro]?to[ro]:to[ro]={}}var t$2=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"&&typeof DataView<"u";function v$3(va){var _a=va.length,eo=0,to=Number.POSITIVE_INFINITY,ro,no,io,ao,oo,so,uo,co,fo,po;for(co=0;co<_a;++co)va[co]>eo&&(eo=va[co]),va[co]<to&&(to=va[co]);for(ro=1<<eo,no=new(t$2?Uint32Array:Array)(ro),io=1,ao=0,oo=2;io<=eo;){for(co=0;co<_a;++co)if(va[co]===io){for(so=0,uo=ao,fo=0;fo<io;++fo)so=so<<1|uo&1,uo>>=1;for(po=io<<16|co,fo=so;fo<ro;fo+=oo)no[fo]=po;++ao}++io,ao<<=1,oo<<=1}return[no,eo,to]}function w$3(va,_a){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=t$2?new Uint8Array(va):va,this.m=!1,this.i=y$3,this.r=!1,(_a||!(_a={}))&&(_a.index&&(this.a=_a.index),_a.bufferSize&&(this.h=_a.bufferSize),_a.bufferType&&(this.i=_a.bufferType),_a.resize&&(this.r=_a.resize)),this.i){case A$3:this.b=32768,this.c=new(t$2?Uint8Array:Array)(32768+this.h+258);break;case y$3:this.b=0,this.c=new(t$2?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var A$3=0,y$3=1,B$1={t:A$3,s:y$3};w$3.prototype.k=function(){for(;!this.m;){var va=C$2(this,3);switch(va&1&&(this.m=!0),va>>>=1,va){case 0:var _a=this.input,eo=this.a,to=this.c,ro=this.b,no=_a.length,io=l$3,ao=l$3,oo=to.length,so=l$3;if(this.d=this.f=0,eo+1>=no)throw Error("invalid uncompressed block header: LEN");if(io=_a[eo++]|_a[eo++]<<8,eo+1>=no)throw Error("invalid uncompressed block header: NLEN");if(ao=_a[eo++]|_a[eo++]<<8,io===~ao)throw Error("invalid uncompressed block header: length verify");if(eo+io>_a.length)throw Error("input buffer is broken");switch(this.i){case A$3:for(;ro+io>to.length;){if(so=oo-ro,io-=so,t$2)to.set(_a.subarray(eo,eo+so),ro),ro+=so,eo+=so;else for(;so--;)to[ro++]=_a[eo++];this.b=ro,to=this.e(),ro=this.b}break;case y$3:for(;ro+io>to.length;)to=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(t$2)to.set(_a.subarray(eo,eo+io),ro),ro+=io,eo+=io;else for(;io--;)to[ro++]=_a[eo++];this.a=eo,this.b=ro,this.c=to;break;case 1:this.j(ba,ca);break;case 2:for(var uo=C$2(this,5)+257,co=C$2(this,5)+1,fo=C$2(this,4)+4,po=new(t$2?Uint8Array:Array)(D$1.length),vo=l$3,go=l$3,mo=l$3,lo=l$3,ho=l$3,yo=l$3,Ao=l$3,To=l$3,Eo=l$3,To=0;To<fo;++To)po[D$1[To]]=C$2(this,3);if(!t$2)for(To=fo,fo=po.length;To<fo;++To)po[D$1[To]]=0;for(vo=v$3(po),lo=new(t$2?Uint8Array:Array)(uo+co),To=0,Eo=uo+co;To<Eo;)switch(ho=E$2(this,vo),ho){case 16:for(Ao=3+C$2(this,2);Ao--;)lo[To++]=yo;break;case 17:for(Ao=3+C$2(this,3);Ao--;)lo[To++]=0;yo=0;break;case 18:for(Ao=11+C$2(this,7);Ao--;)lo[To++]=0;yo=0;break;default:yo=lo[To++]=ho}go=v$3(t$2?lo.subarray(0,uo):lo.slice(0,uo)),mo=v$3(t$2?lo.subarray(uo):lo.slice(uo)),this.j(go,mo);break;default:throw Error("unknown BTYPE: "+va)}}return this.n()};var G$1=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D$1=t$2?new Uint16Array(G$1):G$1,H$1=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],I$1=t$2?new Uint16Array(H$1):H$1,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],K=t$2?new Uint8Array(J):J,L$1=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],da=t$2?new Uint16Array(L$1):L$1,ea=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N$1=t$2?new Uint8Array(ea):ea,O$1=new(t$2?Uint8Array:Array)(288),P$1,fa;P$1=0;for(fa=O$1.length;P$1<fa;++P$1)O$1[P$1]=143>=P$1?8:255>=P$1?9:279>=P$1?7:8;var ba=v$3(O$1),Q=new(t$2?Uint8Array:Array)(30),R$1,ga;R$1=0;for(ga=Q.length;R$1<ga;++R$1)Q[R$1]=5;var ca=v$3(Q);function C$2(va,_a){for(var eo=va.f,to=va.d,ro=va.input,no=va.a,io=ro.length,ao;to<_a;){if(no>=io)throw Error("input buffer is broken");eo|=ro[no++]<<to,to+=8}return ao=eo&(1<<_a)-1,va.f=eo>>>_a,va.d=to-_a,va.a=no,ao}function E$2(va,_a){for(var eo=va.f,to=va.d,ro=va.input,no=va.a,io=ro.length,ao=_a[0],oo=_a[1],so,uo;to<oo&&!(no>=io);)eo|=ro[no++]<<to,to+=8;if(so=ao[eo&(1<<oo)-1],uo=so>>>16,uo>to)throw Error("invalid code length: "+uo);return va.f=eo>>uo,va.d=to-uo,va.a=no,so&65535}w$3.prototype.j=function(va,_a){var eo=this.c,to=this.b;this.o=va;for(var ro=eo.length-258,no,io,ao,oo;(no=E$2(this,va))!==256;)if(256>no)to>=ro&&(this.b=to,eo=this.e(),to=this.b),eo[to++]=no;else for(io=no-257,oo=I$1[io],0<K[io]&&(oo+=C$2(this,K[io])),no=E$2(this,_a),ao=da[no],0<N$1[no]&&(ao+=C$2(this,N$1[no])),to>=ro&&(this.b=to,eo=this.e(),to=this.b);oo--;)eo[to]=eo[to++-ao];for(;8<=this.d;)this.d-=8,this.a--;this.b=to};w$3.prototype.w=function(va,_a){var eo=this.c,to=this.b;this.o=va;for(var ro=eo.length,no,io,ao,oo;(no=E$2(this,va))!==256;)if(256>no)to>=ro&&(eo=this.e(),ro=eo.length),eo[to++]=no;else for(io=no-257,oo=I$1[io],0<K[io]&&(oo+=C$2(this,K[io])),no=E$2(this,_a),ao=da[no],0<N$1[no]&&(ao+=C$2(this,N$1[no])),to+oo>ro&&(eo=this.e(),ro=eo.length);oo--;)eo[to]=eo[to++-ao];for(;8<=this.d;)this.d-=8,this.a--;this.b=to};w$3.prototype.e=function(){var va=new(t$2?Uint8Array:Array)(this.b-32768),_a=this.b-32768,eo,to,ro=this.c;if(t$2)va.set(ro.subarray(32768,va.length));else for(eo=0,to=va.length;eo<to;++eo)va[eo]=ro[eo+32768];if(this.g.push(va),this.l+=va.length,t$2)ro.set(ro.subarray(_a,_a+32768));else for(eo=0;32768>eo;++eo)ro[eo]=ro[_a+eo];return this.b=32768,ro};w$3.prototype.z=function(va){var _a,eo=this.input.length/this.a+1|0,to,ro,no,io=this.input,ao=this.c;return va&&(typeof va.p=="number"&&(eo=va.p),typeof va.u=="number"&&(eo+=va.u)),2>eo?(to=(io.length-this.a)/this.o[2],no=258*(to/2)|0,ro=no<ao.length?ao.length+no:ao.length<<1):ro=ao.length*eo,t$2?(_a=new Uint8Array(ro),_a.set(ao)):_a=ao,this.c=_a};w$3.prototype.n=function(){var va=0,_a=this.c,eo=this.g,to,ro=new(t$2?Uint8Array:Array)(this.l+(this.b-32768)),no,io,ao,oo;if(eo.length===0)return t$2?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(no=0,io=eo.length;no<io;++no)for(to=eo[no],ao=0,oo=to.length;ao<oo;++ao)ro[va++]=to[ao];for(no=32768,io=this.b;no<io;++no)ro[va++]=_a[no];return this.g=[],this.buffer=ro};w$3.prototype.v=function(){var va,_a=this.b;return t$2?this.r?(va=new Uint8Array(_a),va.set(this.c.subarray(0,_a))):va=this.c.subarray(0,_a):(this.c.length>_a&&(this.c.length=_a),va=this.c),this.buffer=va};function W$1(va,_a){var eo,to;switch(this.input=va,this.a=0,(_a||!(_a={}))&&(_a.index&&(this.a=_a.index),_a.verify&&(this.A=_a.verify)),eo=va[this.a++],to=va[this.a++],eo&15){case ha:this.method=ha;break;default:throw Error("unsupported compression method")}if(((eo<<8)+to)%31!==0)throw Error("invalid fcheck flag:"+((eo<<8)+to)%31);if(to&32)throw Error("fdict flag is not supported");this.q=new w$3(va,{index:this.a,bufferSize:_a.bufferSize,bufferType:_a.bufferType,resize:_a.resize})}W$1.prototype.k=function(){var va=this.input,_a,eo;if(_a=this.q.k(),this.a=this.q.a,this.A){eo=(va[this.a++]<<24|va[this.a++]<<16|va[this.a++]<<8|va[this.a++])>>>0;var to=_a;if(typeof to=="string"){var ro=to.split(""),no,io;for(no=0,io=ro.length;no<io;no++)ro[no]=(ro[no].charCodeAt(0)&255)>>>0;to=ro}for(var ao=1,oo=0,so=to.length,uo,co=0;0<so;){uo=1024<so?1024:so,so-=uo;do ao+=to[co++],oo+=ao;while(--uo);ao%=65521,oo%=65521}if(eo!==(oo<<16|ao)>>>0)throw Error("invalid adler-32 checksum")}return _a};var ha=8;r$3("Zlib.Inflate",W$1);r$3("Zlib.Inflate.prototype.decompress",W$1.prototype.k);var X={ADAPTIVE:B$1.s,BLOCK:B$1.t},Y,Z,$,ia;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(ia=Y.length;$<ia;++$)Z=Y[$],r$3("Zlib.Inflate.BufferType."+Z,X[Z]);var Zlib=mod.Zlib,NURBSUtils={findSpan:function(va,_a,eo){var to=eo.length-va-1;if(_a>=eo[to])return to-1;if(_a<=eo[va])return va;for(var ro=va,no=to,io=Math.floor((ro+no)/2);_a<eo[io]||_a>=eo[io+1];)_a<eo[io]?no=io:ro=io,io=Math.floor((ro+no)/2);return io},calcBasisFunctions:function(va,_a,eo,to){var ro=[],no=[],io=[];ro[0]=1;for(var ao=1;ao<=eo;++ao){no[ao]=_a-to[va+1-ao],io[ao]=to[va+ao]-_a;for(var oo=0,so=0;so<ao;++so){var uo=io[so+1],co=no[ao-so],fo=ro[so]/(uo+co);ro[so]=oo+uo*fo,oo=co*fo}ro[ao]=oo}return ro},calcBSplinePoint:function(va,_a,eo,to){for(var ro=this.findSpan(va,to,_a),no=this.calcBasisFunctions(ro,to,va,_a),io=new Vector4(0,0,0,0),ao=0;ao<=va;++ao){var oo=eo[ro-va+ao],so=no[ao],uo=oo.w*so;io.x+=oo.x*uo,io.y+=oo.y*uo,io.z+=oo.z*uo,io.w+=oo.w*so}return io},calcBasisFunctionDerivatives:function(va,_a,eo,to,ro){for(var no=[],io=0;io<=eo;++io)no[io]=0;for(var ao=[],io=0;io<=to;++io)ao[io]=no.slice(0);for(var oo=[],io=0;io<=eo;++io)oo[io]=no.slice(0);oo[0][0]=1;for(var so=no.slice(0),uo=no.slice(0),co=1;co<=eo;++co){so[co]=_a-ro[va+1-co],uo[co]=ro[va+co]-_a;for(var fo=0,Io=0;Io<co;++Io){var po=uo[Io+1],vo=so[co-Io];oo[co][Io]=po+vo;var go=oo[Io][co-1]/oo[co][Io];oo[Io][co]=fo+po*go,fo=vo*go}oo[co][co]=fo}for(var co=0;co<=eo;++co)ao[0][co]=oo[co][eo];for(var Io=0;Io<=eo;++Io){for(var mo=0,lo=1,ho=[],io=0;io<=eo;++io)ho[io]=no.slice(0);ho[0][0]=1;for(var yo=1;yo<=to;++yo){var Ao=0,Eo=Io-yo,To=eo-yo;Io>=yo&&(ho[lo][0]=ho[mo][0]/oo[To+1][Eo],Ao=ho[lo][0]*oo[Eo][To]);for(var No=Eo>=-1?1:-Eo,Co=Io-1<=To?yo-1:eo-Io,co=No;co<=Co;++co)ho[lo][co]=(ho[mo][co]-ho[mo][co-1])/oo[To+1][Eo+co],Ao+=ho[lo][co]*oo[Eo+co][To];Io<=To&&(ho[lo][yo]=-ho[mo][yo-1]/oo[To+1][Io],Ao+=ho[lo][yo]*oo[Io][To]),ao[yo][Io]=Ao;var co=mo;mo=lo,lo=co}}for(var Io=eo,yo=1;yo<=to;++yo){for(var co=0;co<=eo;++co)ao[yo][co]*=Io;Io*=eo-yo}return ao},calcBSplineDerivatives:function(va,_a,eo,to,ro){for(var no=ro<va?ro:va,io=[],ao=this.findSpan(va,to,_a),oo=this.calcBasisFunctionDerivatives(ao,to,va,no,_a),so=[],uo=0;uo<eo.length;++uo){var co=eo[uo].clone(),fo=co.w;co.x*=fo,co.y*=fo,co.z*=fo,so[uo]=co}for(var po=0;po<=no;++po){for(var co=so[ao-va].clone().multiplyScalar(oo[po][0]),vo=1;vo<=va;++vo)co.add(so[ao-va+vo].clone().multiplyScalar(oo[po][vo]));io[po]=co}for(var po=no+1;po<=ro+1;++po)io[po]=new Vector4(0,0,0);return io},calcKoverI:function(va,_a){for(var eo=1,to=2;to<=va;++to)eo*=to;for(var ro=1,to=2;to<=_a;++to)ro*=to;for(var to=2;to<=va-_a;++to)ro*=to;return eo/ro},calcRationalCurveDerivatives:function(va){for(var _a=va.length,eo=[],to=[],ro=0;ro<_a;++ro){var no=va[ro];eo[ro]=new Vector3(no.x,no.y,no.z),to[ro]=no.w}for(var io=[],ao=0;ao<_a;++ao){for(var oo=eo[ao].clone(),ro=1;ro<=ao;++ro)oo.sub(io[ao-ro].clone().multiplyScalar(this.calcKoverI(ao,ro)*to[ro]));io[ao]=oo.divideScalar(to[0])}return io},calcNURBSDerivatives:function(va,_a,eo,to,ro){var no=this.calcBSplineDerivatives(va,_a,eo,to,ro);return this.calcRationalCurveDerivatives(no)},calcSurfacePoint:function(va,_a,eo,to,ro,no,io,ao){for(var oo=this.findSpan(va,no,eo),so=this.findSpan(_a,io,to),uo=this.calcBasisFunctions(oo,no,va,eo),co=this.calcBasisFunctions(so,io,_a,to),fo=[],po=0;po<=_a;++po){fo[po]=new Vector4(0,0,0,0);for(var vo=0;vo<=va;++vo){var go=ro[oo-va+vo][so-_a+po].clone(),mo=go.w;go.x*=mo,go.y*=mo,go.z*=mo,fo[po].add(go.multiplyScalar(uo[vo]))}}for(var lo=new Vector4(0,0,0,0),po=0;po<=_a;++po)lo.add(fo[po].multiplyScalar(co[po]));lo.divideScalar(lo.w),ao.set(lo.x,lo.y,lo.z)}},NURBSCurve=function(va,_a,eo,to,ro){Curve.call(this),this.degree=va,this.knots=_a,this.controlPoints=[],this.startKnot=to||0,this.endKnot=ro||this.knots.length-1;for(var no=0;no<eo.length;++no){var io=eo[no];this.controlPoints[no]=new Vector4(io.x,io.y,io.z,io.w)}};NURBSCurve.prototype=Object.create(Curve.prototype);NURBSCurve.prototype.constructor=NURBSCurve;NURBSCurve.prototype.getPoint=function(va,_a){var eo=_a||new Vector3,to=this.knots[this.startKnot]+va*(this.knots[this.endKnot]-this.knots[this.startKnot]),ro=NURBSUtils.calcBSplinePoint(this.degree,this.knots,this.controlPoints,to);return ro.w!=1&&ro.divideScalar(ro.w),eo.set(ro.x,ro.y,ro.z)};NURBSCurve.prototype.getTangent=function(va,_a){var eo=_a||new Vector3,to=this.knots[0]+va*(this.knots[this.knots.length-1]-this.knots[0]),ro=NURBSUtils.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,to,1);return eo.copy(ro[1]).normalize(),eo};var FBXLoader=function(){var va,_a,eo;function to(Mo){Loader.call(this,Mo)}to.prototype=Object.assign(Object.create(Loader.prototype),{constructor:to,load:function(Mo,wo,xo,bo){var So=this,Do=So.path===""?LoaderUtils.extractUrlBase(Mo):So.path,Oo=new FileLoader(this.manager);Oo.setPath(So.path),Oo.setResponseType("arraybuffer"),Oo.load(Mo,function(Bo){try{wo(So.parse(Bo,Do))}catch($o){bo?bo($o):console.error($o),So.manager.itemError(Mo)}},xo,bo)},parse:function(Mo,wo){if(co(Mo))va=new oo().parse(Mo);else{var xo=To(Mo);if(!fo(xo))throw new Error("THREE.FBXLoader: Unknown format.");if(po(xo)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+po(xo));va=new ao().parse(xo)}var bo=new TextureLoader(this.manager).setPath(this.resourcePath||wo).setCrossOrigin(this.crossOrigin);return new ro(bo,this.manager).parse(va)}});function ro(Mo,wo){this.textureLoader=Mo,this.manager=wo}ro.prototype={constructor:ro,parse:function(){_a=this.parseConnections();var Mo=this.parseImages(),wo=this.parseTextures(Mo),xo=this.parseMaterials(wo),bo=this.parseDeformers(),So=new no().parse(bo);return this.parseScene(bo,So,xo),eo},parseConnections:function(){var Mo=new Map;if("Connections"in va){var wo=va.Connections.connections;wo.forEach(function(xo){var bo=xo[0],So=xo[1],Do=xo[2];Mo.has(bo)||Mo.set(bo,{parents:[],children:[]});var Oo={ID:So,relationship:Do};Mo.get(bo).parents.push(Oo),Mo.has(So)||Mo.set(So,{parents:[],children:[]});var Bo={ID:bo,relationship:Do};Mo.get(So).children.push(Bo)})}return Mo},parseImages:function(){var Mo={},wo={};if("Video"in va.Objects){var xo=va.Objects.Video;for(var bo in xo){var So=xo[bo],Do=parseInt(bo);if(Mo[Do]=So.RelativeFilename||So.Filename,"Content"in So){var Oo=So.Content instanceof ArrayBuffer&&So.Content.byteLength>0,Bo=typeof So.Content=="string"&&So.Content!=="";if(Oo||Bo){var $o=this.parseImage(xo[bo]);wo[So.RelativeFilename||So.Filename]=$o}}}}for(var Do in Mo){var Vo=Mo[Do];wo[Vo]!==void 0?Mo[Do]=wo[Vo]:Mo[Do]=Mo[Do].split("\\").pop()}return Mo},parseImage:function(Mo){var wo=Mo.Content,xo=Mo.RelativeFilename||Mo.Filename,bo=xo.slice(xo.lastIndexOf(".")+1).toLowerCase(),So;switch(bo){case"bmp":So="image/bmp";break;case"jpg":case"jpeg":So="image/jpeg";break;case"png":So="image/png";break;case"tif":So="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",xo),So="image/tga";break;default:console.warn('FBXLoader: Image type "'+bo+'" is not supported.');return}if(typeof wo=="string")return"data:"+So+";base64,"+wo;var Do=new Uint8Array(wo);return window.URL.createObjectURL(new Blob([Do],{type:So}))},parseTextures:function(Mo){var wo=new Map;if("Texture"in va.Objects){var xo=va.Objects.Texture;for(var bo in xo){var So=this.parseTexture(xo[bo],Mo);wo.set(parseInt(bo),So)}}return wo},parseTexture:function(Mo,wo){var xo=this.loadTexture(Mo,wo);xo.ID=Mo.id,xo.name=Mo.attrName;var bo=Mo.WrapModeU,So=Mo.WrapModeV,Do=bo!==void 0?bo.value:0,Oo=So!==void 0?So.value:0;if(xo.wrapS=Do===0?RepeatWrapping:ClampToEdgeWrapping,xo.wrapT=Oo===0?RepeatWrapping:ClampToEdgeWrapping,"Scaling"in Mo){var Bo=Mo.Scaling.value;xo.repeat.x=Bo[0],xo.repeat.y=Bo[1]}return xo},loadTexture:function(Mo,wo){var xo,bo=this.textureLoader.path,So=_a.get(Mo.id).children;So!==void 0&&So.length>0&&wo[So[0].ID]!==void 0&&(xo=wo[So[0].ID],(xo.indexOf("blob:")===0||xo.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));var Do,Oo=Mo.FileName.slice(-3).toLowerCase();if(Oo==="tga"){var Bo=this.manager.getHandler(".tga");Bo===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",Mo.RelativeFilename),Do=new Texture):Do=Bo.load(xo)}else Oo==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",Mo.RelativeFilename),Do=new Texture):Do=this.textureLoader.load(xo);return this.textureLoader.setPath(bo),Do},parseMaterials:function(Mo){var wo=new Map;if("Material"in va.Objects){var xo=va.Objects.Material;for(var bo in xo){var So=this.parseMaterial(xo[bo],Mo);So!==null&&wo.set(parseInt(bo),So)}}return wo},parseMaterial:function(Mo,wo){var xo=Mo.id,bo=Mo.attrName,So=Mo.ShadingModel;if(typeof So=="object"&&(So=So.value),!_a.has(xo))return null;var Do=this.parseParameters(Mo,wo,xo),Oo;switch(So.toLowerCase()){case"phong":Oo=new MeshPhongMaterial;break;case"lambert":Oo=new MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',So),Oo=new MeshPhongMaterial;break}return Oo.setValues(Do),Oo.name=bo,Oo},parseParameters:function(Mo,wo,xo){var bo={};Mo.BumpFactor&&(bo.bumpScale=Mo.BumpFactor.value),Mo.Diffuse?bo.color=new Color().fromArray(Mo.Diffuse.value):Mo.DiffuseColor&&Mo.DiffuseColor.type==="Color"&&(bo.color=new Color().fromArray(Mo.DiffuseColor.value)),Mo.DisplacementFactor&&(bo.displacementScale=Mo.DisplacementFactor.value),Mo.Emissive?bo.emissive=new Color().fromArray(Mo.Emissive.value):Mo.EmissiveColor&&Mo.EmissiveColor.type==="Color"&&(bo.emissive=new Color().fromArray(Mo.EmissiveColor.value)),Mo.EmissiveFactor&&(bo.emissiveIntensity=parseFloat(Mo.EmissiveFactor.value)),Mo.Opacity&&(bo.opacity=parseFloat(Mo.Opacity.value)),bo.opacity<1&&(bo.transparent=!0),Mo.ReflectionFactor&&(bo.reflectivity=Mo.ReflectionFactor.value),Mo.Shininess&&(bo.shininess=Mo.Shininess.value),Mo.Specular?bo.specular=new Color().fromArray(Mo.Specular.value):Mo.SpecularColor&&Mo.SpecularColor.type==="Color"&&(bo.specular=new Color().fromArray(Mo.SpecularColor.value));var So=this;return _a.get(xo).children.forEach(function(Do){var Oo=Do.relationship;switch(Oo){case"Bump":bo.bumpMap=So.getTexture(wo,Do.ID);break;case"Maya|TEX_ao_map":bo.aoMap=So.getTexture(wo,Do.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":bo.map=So.getTexture(wo,Do.ID),bo.map.encoding=sRGBEncoding;break;case"DisplacementColor":bo.displacementMap=So.getTexture(wo,Do.ID);break;case"EmissiveColor":bo.emissiveMap=So.getTexture(wo,Do.ID),bo.emissiveMap.encoding=sRGBEncoding;break;case"NormalMap":case"Maya|TEX_normal_map":bo.normalMap=So.getTexture(wo,Do.ID);break;case"ReflectionColor":bo.envMap=So.getTexture(wo,Do.ID),bo.envMap.mapping=EquirectangularReflectionMapping,bo.envMap.encoding=sRGBEncoding;break;case"SpecularColor":bo.specularMap=So.getTexture(wo,Do.ID),bo.specularMap.encoding=sRGBEncoding;break;case"TransparentColor":case"TransparencyFactor":bo.alphaMap=So.getTexture(wo,Do.ID),bo.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",Oo);break}}),bo},getTexture:function(Mo,wo){return"LayeredTexture"in va.Objects&&wo in va.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),wo=_a.get(wo).children[0].ID),Mo.get(wo)},parseDeformers:function(){var Mo={},wo={};if("Deformer"in va.Objects){var xo=va.Objects.Deformer;for(var bo in xo){var So=xo[bo],Do=_a.get(parseInt(bo));if(So.attrType==="Skin"){var Oo=this.parseSkeleton(Do,xo);Oo.ID=bo,Do.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),Oo.geometryID=Do.parents[0].ID,Mo[bo]=Oo}else if(So.attrType==="BlendShape"){var Bo={id:bo};Bo.rawTargets=this.parseMorphTargets(Do,xo),Bo.id=bo,Do.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),wo[bo]=Bo}}}return{skeletons:Mo,morphTargets:wo}},parseSkeleton:function(Mo,wo){var xo=[];return Mo.children.forEach(function(bo){var So=wo[bo.ID];if(So.attrType==="Cluster"){var Do={ID:bo.ID,indices:[],weights:[],transformLink:new Matrix4().fromArray(So.TransformLink.a)};"Indexes"in So&&(Do.indices=So.Indexes.a,Do.weights=So.Weights.a),xo.push(Do)}}),{rawBones:xo,bones:[]}},parseMorphTargets:function(Mo,wo){for(var xo=[],bo=0;bo<Mo.children.length;bo++){var So=Mo.children[bo],Do=wo[So.ID],Oo={name:Do.attrName,initialWeight:Do.DeformPercent,id:Do.id,fullWeights:Do.FullWeights.a};if(Do.attrType!=="BlendShapeChannel")return;Oo.geoID=_a.get(parseInt(So.ID)).children.filter(function(Bo){return Bo.relationship===void 0})[0].ID,xo.push(Oo)}return xo},parseScene:function(Mo,wo,xo){eo=new Group$1;var bo=this.parseModels(Mo.skeletons,wo,xo),So=va.Objects.Model,Do=this;bo.forEach(function(Bo){var $o=So[Bo.ID];Do.setLookAtProperties(Bo,$o);var Vo=_a.get(Bo.ID).parents;Vo.forEach(function(Ho){var Fo=bo.get(Ho.ID);Fo!==void 0&&Fo.add(Bo)}),Bo.parent===null&&eo.add(Bo)}),this.bindSkeleton(Mo.skeletons,wo,bo),this.createAmbientLight(),this.setupMorphMaterials(),eo.traverse(function(Bo){if(Bo.userData.transformData){Bo.parent&&(Bo.userData.transformData.parentMatrixWorld=Bo.parent.matrix);var $o=yo(Bo.userData.transformData);Bo.applyMatrix4($o)}});var Oo=new io().parse();eo.children.length===1&&eo.children[0].isGroup&&(eo.children[0].animations=Oo,eo=eo.children[0]),eo.animations=Oo},parseModels:function(Mo,wo,xo){var bo=new Map,So=va.Objects.Model;for(var Do in So){var Oo=parseInt(Do),Bo=So[Do],$o=_a.get(Oo),Vo=this.buildSkeleton($o,Mo,Oo,Bo.attrName);if(!Vo){switch(Bo.attrType){case"Camera":Vo=this.createCamera($o);break;case"Light":Vo=this.createLight($o);break;case"Mesh":Vo=this.createMesh($o,wo,xo);break;case"NurbsCurve":Vo=this.createCurve($o,wo);break;case"LimbNode":case"Root":Vo=new Bone;break;case"Null":default:Vo=new Group$1;break}Vo.name=Bo.attrName?PropertyBinding.sanitizeNodeName(Bo.attrName):"",Vo.ID=Oo}this.getTransformData(Vo,Bo),bo.set(Oo,Vo)}return bo},buildSkeleton:function(Mo,wo,xo,bo){var So=null;return Mo.parents.forEach(function(Do){for(var Oo in wo){var Bo=wo[Oo];Bo.rawBones.forEach(function($o,Vo){if($o.ID===Do.ID){var Ho=So;So=new Bone,So.matrixWorld.copy($o.transformLink),So.name=bo?PropertyBinding.sanitizeNodeName(bo):"",So.ID=xo,Bo.bones[Vo]=So,Ho!==null&&So.add(Ho)}})}}),So},createCamera:function(Mo){var wo,xo;if(Mo.children.forEach(function(Fo){var Ko=va.Objects.NodeAttribute[Fo.ID];Ko!==void 0&&(xo=Ko)}),xo===void 0)wo=new Object3D;else{var bo=0;xo.CameraProjectionType!==void 0&&xo.CameraProjectionType.value===1&&(bo=1);var So=1;xo.NearPlane!==void 0&&(So=xo.NearPlane.value/1e3);var Do=1e3;xo.FarPlane!==void 0&&(Do=xo.FarPlane.value/1e3);var Oo=window.innerWidth,Bo=window.innerHeight;xo.AspectWidth!==void 0&&xo.AspectHeight!==void 0&&(Oo=xo.AspectWidth.value,Bo=xo.AspectHeight.value);var $o=Oo/Bo,Vo=45;xo.FieldOfView!==void 0&&(Vo=xo.FieldOfView.value);var Ho=xo.FocalLength?xo.FocalLength.value:null;switch(bo){case 0:wo=new PerspectiveCamera(Vo,$o,So,Do),Ho!==null&&wo.setFocalLength(Ho);break;case 1:wo=new OrthographicCamera(-Oo/2,Oo/2,Bo/2,-Bo/2,So,Do);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+bo+"."),wo=new Object3D;break}}return wo},createLight:function(Mo){var wo,xo;if(Mo.children.forEach(function(Ho){var Fo=va.Objects.NodeAttribute[Ho.ID];Fo!==void 0&&(xo=Fo)}),xo===void 0)wo=new Object3D;else{var bo;xo.LightType===void 0?bo=0:bo=xo.LightType.value;var So=16777215;xo.Color!==void 0&&(So=new Color().fromArray(xo.Color.value));var Do=xo.Intensity===void 0?1:xo.Intensity.value/100;xo.CastLightOnObject!==void 0&&xo.CastLightOnObject.value===0&&(Do=0);var Oo=0;xo.FarAttenuationEnd!==void 0&&(xo.EnableFarAttenuation!==void 0&&xo.EnableFarAttenuation.value===0?Oo=0:Oo=xo.FarAttenuationEnd.value);var Bo=1;switch(bo){case 0:wo=new PointLight(So,Do,Oo,Bo);break;case 1:wo=new DirectionalLight(So,Do);break;case 2:var $o=Math.PI/3;xo.InnerAngle!==void 0&&($o=MathUtils.degToRad(xo.InnerAngle.value));var Vo=0;xo.OuterAngle!==void 0&&(Vo=MathUtils.degToRad(xo.OuterAngle.value),Vo=Math.max(Vo,1)),wo=new SpotLight(So,Do,Oo,$o,Vo,Bo);break;default:console.warn("THREE.FBXLoader: Unknown light type "+xo.LightType.value+", defaulting to a PointLight."),wo=new PointLight(So,Do);break}xo.CastShadows!==void 0&&xo.CastShadows.value===1&&(wo.castShadow=!0)}return wo},createMesh:function(Mo,wo,xo){var bo,So=null,Do=null,Oo=[];return Mo.children.forEach(function(Bo){wo.has(Bo.ID)&&(So=wo.get(Bo.ID)),xo.has(Bo.ID)&&Oo.push(xo.get(Bo.ID))}),Oo.length>1?Do=Oo:Oo.length>0?Do=Oo[0]:(Do=new MeshPhongMaterial({color:13421772}),Oo.push(Do)),"color"in So.attributes&&Oo.forEach(function(Bo){Bo.vertexColors=!0}),So.FBX_Deformer?(Oo.forEach(function(Bo){Bo.skinning=!0}),bo=new SkinnedMesh(So,Do),bo.normalizeSkinWeights()):bo=new Mesh(So,Do),bo},createCurve:function(Mo,wo){var xo=Mo.children.reduce(function(So,Do){return wo.has(Do.ID)&&(So=wo.get(Do.ID)),So},null),bo=new LineBasicMaterial({color:3342591,linewidth:1});return new Line(xo,bo)},getTransformData:function(Mo,wo){var xo={};"InheritType"in wo&&(xo.inheritType=parseInt(wo.InheritType.value)),"RotationOrder"in wo?xo.eulerOrder=Ao(wo.RotationOrder.value):xo.eulerOrder="ZYX","Lcl_Translation"in wo&&(xo.translation=wo.Lcl_Translation.value),"PreRotation"in wo&&(xo.preRotation=wo.PreRotation.value),"Lcl_Rotation"in wo&&(xo.rotation=wo.Lcl_Rotation.value),"PostRotation"in wo&&(xo.postRotation=wo.PostRotation.value),"Lcl_Scaling"in wo&&(xo.scale=wo.Lcl_Scaling.value),"ScalingOffset"in wo&&(xo.scalingOffset=wo.ScalingOffset.value),"ScalingPivot"in wo&&(xo.scalingPivot=wo.ScalingPivot.value),"RotationOffset"in wo&&(xo.rotationOffset=wo.RotationOffset.value),"RotationPivot"in wo&&(xo.rotationPivot=wo.RotationPivot.value),Mo.userData.transformData=xo},setLookAtProperties:function(Mo,wo){if("LookAtProperty"in wo){var xo=_a.get(Mo.ID).children;xo.forEach(function(bo){if(bo.relationship==="LookAtProperty"){var So=va.Objects.Model[bo.ID];if("Lcl_Translation"in So){var Do=So.Lcl_Translation.value;Mo.target!==void 0?(Mo.target.position.fromArray(Do),eo.add(Mo.target)):Mo.lookAt(new Vector3().fromArray(Do))}}})}},bindSkeleton:function(Mo,wo,xo){var bo=this.parsePoseNodes();for(var So in Mo){var Do=Mo[So],Oo=_a.get(parseInt(Do.ID)).parents;Oo.forEach(function(Bo){if(wo.has(Bo.ID)){var $o=Bo.ID,Vo=_a.get($o);Vo.parents.forEach(function(Ho){if(xo.has(Ho.ID)){var Fo=xo.get(Ho.ID);Fo.bind(new Skeleton(Do.bones),bo[Ho.ID])}})}})}},parsePoseNodes:function(){var Mo={};if("Pose"in va.Objects){var wo=va.Objects.Pose;for(var xo in wo)if(wo[xo].attrType==="BindPose"){var bo=wo[xo].PoseNode;Array.isArray(bo)?bo.forEach(function(So){Mo[So.Node]=new Matrix4().fromArray(So.Matrix.a)}):Mo[bo.Node]=new Matrix4().fromArray(bo.Matrix.a)}}return Mo},createAmbientLight:function(){if("GlobalSettings"in va&&"AmbientColor"in va.GlobalSettings){var Mo=va.GlobalSettings.AmbientColor.value,wo=Mo[0],xo=Mo[1],bo=Mo[2];if(wo!==0||xo!==0||bo!==0){var So=new Color(wo,xo,bo);eo.add(new AmbientLight(So,1))}}},setupMorphMaterials:function(){var Mo=this;eo.traverse(function(wo){wo.isMesh&&wo.geometry.morphAttributes.position&&wo.geometry.morphAttributes.position.length&&(Array.isArray(wo.material)?wo.material.forEach(function(xo,bo){Mo.setupMorphMaterial(wo,xo,bo)}):Mo.setupMorphMaterial(wo,wo.material))})},setupMorphMaterial:function(Mo,wo,xo){var bo=Mo.uuid,So=wo.uuid,Do=!1;if(eo.traverse(function(Bo){Bo.isMesh&&(Array.isArray(Bo.material)?Bo.material.forEach(function($o){$o.uuid===So&&Bo.uuid!==bo&&(Do=!0)}):Bo.material.uuid===So&&Bo.uuid!==bo&&(Do=!0))}),Do===!0){var Oo=wo.clone();Oo.morphTargets=!0,xo===void 0?Mo.material=Oo:Mo.material[xo]=Oo}else wo.morphTargets=!0}};function no(){}no.prototype={constructor:no,parse:function(Mo){var wo=new Map;if("Geometry"in va.Objects){var xo=va.Objects.Geometry;for(var bo in xo){var So=_a.get(parseInt(bo)),Do=this.parseGeometry(So,xo[bo],Mo);wo.set(parseInt(bo),Do)}}return wo},parseGeometry:function(Mo,wo,xo){switch(wo.attrType){case"Mesh":return this.parseMeshGeometry(Mo,wo,xo);case"NurbsCurve":return this.parseNurbsGeometry(wo)}},parseMeshGeometry:function(Mo,wo,xo){var bo=xo.skeletons,So=[],Do=Mo.parents.map(function(Ho){return va.Objects.Model[Ho.ID]});if(Do.length!==0){var Oo=Mo.children.reduce(function(Ho,Fo){return bo[Fo.ID]!==void 0&&(Ho=bo[Fo.ID]),Ho},null);Mo.children.forEach(function(Ho){xo.morphTargets[Ho.ID]!==void 0&&So.push(xo.morphTargets[Ho.ID])});var Bo=Do[0],$o={};"RotationOrder"in Bo&&($o.eulerOrder=Ao(Bo.RotationOrder.value)),"InheritType"in Bo&&($o.inheritType=parseInt(Bo.InheritType.value)),"GeometricTranslation"in Bo&&($o.translation=Bo.GeometricTranslation.value),"GeometricRotation"in Bo&&($o.rotation=Bo.GeometricRotation.value),"GeometricScaling"in Bo&&($o.scale=Bo.GeometricScaling.value);var Vo=yo($o);return this.genGeometry(wo,Oo,So,Vo)}},genGeometry:function(Mo,wo,xo,bo){var So=new BufferGeometry;Mo.attrName&&(So.name=Mo.attrName);var Do=this.parseGeoNode(Mo,wo),Oo=this.genBuffers(Do),Bo=new Float32BufferAttribute(Oo.vertex,3);if(Bo.applyMatrix4(bo),So.setAttribute("position",Bo),Oo.colors.length>0&&So.setAttribute("color",new Float32BufferAttribute(Oo.colors,3)),wo&&(So.setAttribute("skinIndex",new Uint16BufferAttribute(Oo.weightsIndices,4)),So.setAttribute("skinWeight",new Float32BufferAttribute(Oo.vertexWeights,4)),So.FBX_Deformer=wo),Oo.normal.length>0){var $o=new Matrix3().getNormalMatrix(bo),Vo=new Float32BufferAttribute(Oo.normal,3);Vo.applyNormalMatrix($o),So.setAttribute("normal",Vo)}if(Oo.uvs.forEach(function(au,Ks){var Gs="uv"+(Ks+1).toString();Ks===0&&(Gs="uv"),So.setAttribute(Gs,new Float32BufferAttribute(Oo.uvs[Ks],2))}),Do.material&&Do.material.mappingType!=="AllSame"){var Ho=Oo.materialIndex[0],Fo=0;if(Oo.materialIndex.forEach(function(au,Ks){au!==Ho&&(So.addGroup(Fo,Ks-Fo,Ho),Ho=au,Fo=Ks)}),So.groups.length>0){var Ko=So.groups[So.groups.length-1],$s=Ko.start+Ko.count;$s!==Oo.materialIndex.length&&So.addGroup($s,Oo.materialIndex.length-$s,Ho)}So.groups.length===0&&So.addGroup(0,Oo.materialIndex.length,Oo.materialIndex[0])}return this.addMorphTargets(So,Mo,xo,bo),So},parseGeoNode:function(Mo,wo){var xo={};if(xo.vertexPositions=Mo.Vertices!==void 0?Mo.Vertices.a:[],xo.vertexIndices=Mo.PolygonVertexIndex!==void 0?Mo.PolygonVertexIndex.a:[],Mo.LayerElementColor&&(xo.color=this.parseVertexColors(Mo.LayerElementColor[0])),Mo.LayerElementMaterial&&(xo.material=this.parseMaterialIndices(Mo.LayerElementMaterial[0])),Mo.LayerElementNormal&&(xo.normal=this.parseNormals(Mo.LayerElementNormal[0])),Mo.LayerElementUV){xo.uv=[];for(var bo=0;Mo.LayerElementUV[bo];)xo.uv.push(this.parseUVs(Mo.LayerElementUV[bo])),bo++}return xo.weightTable={},wo!==null&&(xo.skeleton=wo,wo.rawBones.forEach(function(So,Do){So.indices.forEach(function(Oo,Bo){xo.weightTable[Oo]===void 0&&(xo.weightTable[Oo]=[]),xo.weightTable[Oo].push({id:Do,weight:So.weights[Bo]})})})),xo},genBuffers:function(Mo){var wo={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},xo=0,bo=0,So=!1,Do=[],Oo=[],Bo=[],$o=[],Vo=[],Ho=[],Fo=this;return Mo.vertexIndices.forEach(function(Ko,$s){var au=!1;Ko<0&&(Ko=Ko^-1,au=!0);var Ks=[],Gs=[];if(Do.push(Ko*3,Ko*3+1,Ko*3+2),Mo.color){var qs=mo($s,xo,Ko,Mo.color);Bo.push(qs[0],qs[1],qs[2])}if(Mo.skeleton){if(Mo.weightTable[Ko]!==void 0&&Mo.weightTable[Ko].forEach(function(su){Gs.push(su.weight),Ks.push(su.id)}),Gs.length>4){So||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),So=!0);var lu=[0,0,0,0],ou=[0,0,0,0];Gs.forEach(function(su,gu){var Au=su,$u=Ks[gu];ou.forEach(function(ku,Uo,Yo){if(Au>ku){Yo[Uo]=Au,Au=ku;var mu=lu[Uo];lu[Uo]=$u,$u=mu}})}),Ks=lu,Gs=ou}for(;Gs.length<4;)Gs.push(0),Ks.push(0);for(var ru=0;ru<4;++ru)Vo.push(Gs[ru]),Ho.push(Ks[ru])}if(Mo.normal){var qs=mo($s,xo,Ko,Mo.normal);Oo.push(qs[0],qs[1],qs[2])}if(Mo.material&&Mo.material.mappingType!=="AllSame")var nu=mo($s,xo,Ko,Mo.material)[0];Mo.uv&&Mo.uv.forEach(function(su,gu){var Au=mo($s,xo,Ko,su);$o[gu]===void 0&&($o[gu]=[]),$o[gu].push(Au[0]),$o[gu].push(Au[1])}),bo++,au&&(Fo.genFace(wo,Mo,Do,nu,Oo,Bo,$o,Vo,Ho,bo),xo++,bo=0,Do=[],Oo=[],Bo=[],$o=[],Vo=[],Ho=[])}),wo},genFace:function(Mo,wo,xo,bo,So,Do,Oo,Bo,$o,Vo){for(var Ho=2;Ho<Vo;Ho++)Mo.vertex.push(wo.vertexPositions[xo[0]]),Mo.vertex.push(wo.vertexPositions[xo[1]]),Mo.vertex.push(wo.vertexPositions[xo[2]]),Mo.vertex.push(wo.vertexPositions[xo[(Ho-1)*3]]),Mo.vertex.push(wo.vertexPositions[xo[(Ho-1)*3+1]]),Mo.vertex.push(wo.vertexPositions[xo[(Ho-1)*3+2]]),Mo.vertex.push(wo.vertexPositions[xo[Ho*3]]),Mo.vertex.push(wo.vertexPositions[xo[Ho*3+1]]),Mo.vertex.push(wo.vertexPositions[xo[Ho*3+2]]),wo.skeleton&&(Mo.vertexWeights.push(Bo[0]),Mo.vertexWeights.push(Bo[1]),Mo.vertexWeights.push(Bo[2]),Mo.vertexWeights.push(Bo[3]),Mo.vertexWeights.push(Bo[(Ho-1)*4]),Mo.vertexWeights.push(Bo[(Ho-1)*4+1]),Mo.vertexWeights.push(Bo[(Ho-1)*4+2]),Mo.vertexWeights.push(Bo[(Ho-1)*4+3]),Mo.vertexWeights.push(Bo[Ho*4]),Mo.vertexWeights.push(Bo[Ho*4+1]),Mo.vertexWeights.push(Bo[Ho*4+2]),Mo.vertexWeights.push(Bo[Ho*4+3]),Mo.weightsIndices.push($o[0]),Mo.weightsIndices.push($o[1]),Mo.weightsIndices.push($o[2]),Mo.weightsIndices.push($o[3]),Mo.weightsIndices.push($o[(Ho-1)*4]),Mo.weightsIndices.push($o[(Ho-1)*4+1]),Mo.weightsIndices.push($o[(Ho-1)*4+2]),Mo.weightsIndices.push($o[(Ho-1)*4+3]),Mo.weightsIndices.push($o[Ho*4]),Mo.weightsIndices.push($o[Ho*4+1]),Mo.weightsIndices.push($o[Ho*4+2]),Mo.weightsIndices.push($o[Ho*4+3])),wo.color&&(Mo.colors.push(Do[0]),Mo.colors.push(Do[1]),Mo.colors.push(Do[2]),Mo.colors.push(Do[(Ho-1)*3]),Mo.colors.push(Do[(Ho-1)*3+1]),Mo.colors.push(Do[(Ho-1)*3+2]),Mo.colors.push(Do[Ho*3]),Mo.colors.push(Do[Ho*3+1]),Mo.colors.push(Do[Ho*3+2])),wo.material&&wo.material.mappingType!=="AllSame"&&(Mo.materialIndex.push(bo),Mo.materialIndex.push(bo),Mo.materialIndex.push(bo)),wo.normal&&(Mo.normal.push(So[0]),Mo.normal.push(So[1]),Mo.normal.push(So[2]),Mo.normal.push(So[(Ho-1)*3]),Mo.normal.push(So[(Ho-1)*3+1]),Mo.normal.push(So[(Ho-1)*3+2]),Mo.normal.push(So[Ho*3]),Mo.normal.push(So[Ho*3+1]),Mo.normal.push(So[Ho*3+2])),wo.uv&&wo.uv.forEach(function(Fo,Ko){Mo.uvs[Ko]===void 0&&(Mo.uvs[Ko]=[]),Mo.uvs[Ko].push(Oo[Ko][0]),Mo.uvs[Ko].push(Oo[Ko][1]),Mo.uvs[Ko].push(Oo[Ko][(Ho-1)*2]),Mo.uvs[Ko].push(Oo[Ko][(Ho-1)*2+1]),Mo.uvs[Ko].push(Oo[Ko][Ho*2]),Mo.uvs[Ko].push(Oo[Ko][Ho*2+1])})},addMorphTargets:function(Mo,wo,xo,bo){if(xo.length!==0){Mo.morphTargetsRelative=!0,Mo.morphAttributes.position=[];var So=this;xo.forEach(function(Do){Do.rawTargets.forEach(function(Oo){var Bo=va.Objects.Geometry[Oo.geoID];Bo!==void 0&&So.genMorphGeometry(Mo,wo,Bo,bo,Oo.name)})})}},genMorphGeometry:function(Mo,wo,xo,bo,So){for(var Do=wo.PolygonVertexIndex!==void 0?wo.PolygonVertexIndex.a:[],Oo=xo.Vertices!==void 0?xo.Vertices.a:[],Bo=xo.Indexes!==void 0?xo.Indexes.a:[],$o=Mo.attributes.position.count*3,Vo=new Float32Array($o),Ho=0;Ho<Bo.length;Ho++){var Fo=Bo[Ho]*3;Vo[Fo]=Oo[Ho*3],Vo[Fo+1]=Oo[Ho*3+1],Vo[Fo+2]=Oo[Ho*3+2]}var Ko={vertexIndices:Do,vertexPositions:Vo},$s=this.genBuffers(Ko),au=new Float32BufferAttribute($s.vertex,3);au.name=So||xo.attrName,au.applyMatrix4(bo),Mo.morphAttributes.position.push(au)},parseNormals:function(Mo){var wo=Mo.MappingInformationType,xo=Mo.ReferenceInformationType,bo=Mo.Normals.a,So=[];return xo==="IndexToDirect"&&("NormalIndex"in Mo?So=Mo.NormalIndex.a:"NormalsIndex"in Mo&&(So=Mo.NormalsIndex.a)),{dataSize:3,buffer:bo,indices:So,mappingType:wo,referenceType:xo}},parseUVs:function(Mo){var wo=Mo.MappingInformationType,xo=Mo.ReferenceInformationType,bo=Mo.UV.a,So=[];return xo==="IndexToDirect"&&(So=Mo.UVIndex.a),{dataSize:2,buffer:bo,indices:So,mappingType:wo,referenceType:xo}},parseVertexColors:function(Mo){var wo=Mo.MappingInformationType,xo=Mo.ReferenceInformationType,bo=Mo.Colors.a,So=[];return xo==="IndexToDirect"&&(So=Mo.ColorIndex.a),{dataSize:4,buffer:bo,indices:So,mappingType:wo,referenceType:xo}},parseMaterialIndices:function(Mo){var wo=Mo.MappingInformationType,xo=Mo.ReferenceInformationType;if(wo==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:xo};for(var bo=Mo.Materials.a,So=[],Do=0;Do<bo.length;++Do)So.push(Do);return{dataSize:1,buffer:bo,indices:So,mappingType:wo,referenceType:xo}},parseNurbsGeometry:function(Mo){if(NURBSCurve===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new BufferGeometry;var wo=parseInt(Mo.Order);if(isNaN(wo))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",Mo.Order,Mo.id),new BufferGeometry;for(var xo=wo-1,bo=Mo.KnotVector.a,So=[],Do=Mo.Points.a,Oo=0,Bo=Do.length;Oo<Bo;Oo+=4)So.push(new Vector4().fromArray(Do,Oo));var $o,Vo;if(Mo.Form==="Closed")So.push(So[0]);else if(Mo.Form==="Periodic"){$o=xo,Vo=bo.length-1-$o;for(var Oo=0;Oo<xo;++Oo)So.push(So[Oo])}var Ho=new NURBSCurve(xo,bo,So,$o,Vo),Fo=Ho.getPoints(So.length*7),Ko=new Float32Array(Fo.length*3);Fo.forEach(function(au,Ks){au.toArray(Ko,Ks*3)});var $s=new BufferGeometry;return $s.setAttribute("position",new BufferAttribute(Ko,3)),$s}};function io(){}io.prototype={constructor:io,parse:function(){var Mo=[],wo=this.parseClips();if(wo!==void 0)for(var xo in wo){var bo=wo[xo],So=this.addClip(bo);Mo.push(So)}return Mo},parseClips:function(){if(va.Objects.AnimationCurve!==void 0){var Mo=this.parseAnimationCurveNodes();this.parseAnimationCurves(Mo);var wo=this.parseAnimationLayers(Mo),xo=this.parseAnimStacks(wo);return xo}},parseAnimationCurveNodes:function(){var Mo=va.Objects.AnimationCurveNode,wo=new Map;for(var xo in Mo){var bo=Mo[xo];if(bo.attrName.match(/S|R|T|DeformPercent/)!==null){var So={id:bo.id,attr:bo.attrName,curves:{}};wo.set(So.id,So)}}return wo},parseAnimationCurves:function(Mo){var wo=va.Objects.AnimationCurve;for(var xo in wo){var bo={id:wo[xo].id,times:wo[xo].KeyTime.a.map(vo),values:wo[xo].KeyValueFloat.a},So=_a.get(bo.id);if(So!==void 0){var Do=So.parents[0].ID,Oo=So.parents[0].relationship;Oo.match(/X/)?Mo.get(Do).curves.x=bo:Oo.match(/Y/)?Mo.get(Do).curves.y=bo:Oo.match(/Z/)?Mo.get(Do).curves.z=bo:Oo.match(/d|DeformPercent/)&&Mo.has(Do)&&(Mo.get(Do).curves.morph=bo)}}},parseAnimationLayers:function(Mo){var wo=va.Objects.AnimationLayer,xo=new Map;for(var bo in wo){var So=[],Do=_a.get(parseInt(bo));if(Do!==void 0){var Oo=Do.children;Oo.forEach(function(Bo,$o){if(Mo.has(Bo.ID)){var Vo=Mo.get(Bo.ID);if(Vo.curves.x!==void 0||Vo.curves.y!==void 0||Vo.curves.z!==void 0){if(So[$o]===void 0){var Ho=_a.get(Bo.ID).parents.filter(function(Gs){return Gs.relationship!==void 0})[0].ID;if(Ho!==void 0){var Fo=va.Objects.Model[Ho.toString()];if(Fo===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",Bo);return}var Ko={modelName:Fo.attrName?PropertyBinding.sanitizeNodeName(Fo.attrName):"",ID:Fo.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};eo.traverse(function(Gs){Gs.ID===Fo.id&&(Ko.transform=Gs.matrix,Gs.userData.transformData&&(Ko.eulerOrder=Gs.userData.transformData.eulerOrder))}),Ko.transform||(Ko.transform=new Matrix4),"PreRotation"in Fo&&(Ko.preRotation=Fo.PreRotation.value),"PostRotation"in Fo&&(Ko.postRotation=Fo.PostRotation.value),So[$o]=Ko}}So[$o]&&(So[$o][Vo.attr]=Vo)}else if(Vo.curves.morph!==void 0){if(So[$o]===void 0){var $s=_a.get(Bo.ID).parents.filter(function(ou){return ou.relationship!==void 0})[0].ID,au=_a.get($s).parents[0].ID,Ks=_a.get(au).parents[0].ID,Ho=_a.get(Ks).parents[0].ID,Fo=va.Objects.Model[Ho],Ko={modelName:Fo.attrName?PropertyBinding.sanitizeNodeName(Fo.attrName):"",morphName:va.Objects.Deformer[$s].attrName};So[$o]=Ko}So[$o][Vo.attr]=Vo}}}),xo.set(parseInt(bo),So)}}return xo},parseAnimStacks:function(Mo){var wo=va.Objects.AnimationStack,xo={};for(var bo in wo){var So=_a.get(parseInt(bo)).children;So.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var Do=Mo.get(So[0].ID);xo[bo]={name:wo[bo].attrName,layer:Do}}return xo},addClip:function(Mo){var wo=[],xo=this;return Mo.layer.forEach(function(bo){wo=wo.concat(xo.generateTracks(bo))}),new AnimationClip(Mo.name,-1,wo)},generateTracks:function(Mo){var wo=[],xo=new Vector3,bo=new Quaternion,So=new Vector3;if(Mo.transform&&Mo.transform.decompose(xo,bo,So),xo=xo.toArray(),bo=new Euler().setFromQuaternion(bo,Mo.eulerOrder).toArray(),So=So.toArray(),Mo.T!==void 0&&Object.keys(Mo.T.curves).length>0){var Do=this.generateVectorTrack(Mo.modelName,Mo.T.curves,xo,"position");Do!==void 0&&wo.push(Do)}if(Mo.R!==void 0&&Object.keys(Mo.R.curves).length>0){var Oo=this.generateRotationTrack(Mo.modelName,Mo.R.curves,bo,Mo.preRotation,Mo.postRotation,Mo.eulerOrder);Oo!==void 0&&wo.push(Oo)}if(Mo.S!==void 0&&Object.keys(Mo.S.curves).length>0){var Bo=this.generateVectorTrack(Mo.modelName,Mo.S.curves,So,"scale");Bo!==void 0&&wo.push(Bo)}if(Mo.DeformPercent!==void 0){var $o=this.generateMorphTrack(Mo);$o!==void 0&&wo.push($o)}return wo},generateVectorTrack:function(Mo,wo,xo,bo){var So=this.getTimesForAllAxes(wo),Do=this.getKeyframeTrackValues(So,wo,xo);return new VectorKeyframeTrack(Mo+"."+bo,So,Do)},generateRotationTrack:function(Mo,wo,xo,bo,So,Do){wo.x!==void 0&&(this.interpolateRotations(wo.x),wo.x.values=wo.x.values.map(MathUtils.degToRad)),wo.y!==void 0&&(this.interpolateRotations(wo.y),wo.y.values=wo.y.values.map(MathUtils.degToRad)),wo.z!==void 0&&(this.interpolateRotations(wo.z),wo.z.values=wo.z.values.map(MathUtils.degToRad));var Oo=this.getTimesForAllAxes(wo),Bo=this.getKeyframeTrackValues(Oo,wo,xo);bo!==void 0&&(bo=bo.map(MathUtils.degToRad),bo.push(Do),bo=new Euler().fromArray(bo),bo=new Quaternion().setFromEuler(bo)),So!==void 0&&(So=So.map(MathUtils.degToRad),So.push(Do),So=new Euler().fromArray(So),So=new Quaternion().setFromEuler(So).inverse());for(var $o=new Quaternion,Vo=new Euler,Ho=[],Fo=0;Fo<Bo.length;Fo+=3)Vo.set(Bo[Fo],Bo[Fo+1],Bo[Fo+2],Do),$o.setFromEuler(Vo),bo!==void 0&&$o.premultiply(bo),So!==void 0&&$o.multiply(So),$o.toArray(Ho,Fo/3*4);return new QuaternionKeyframeTrack(Mo+".quaternion",Oo,Ho)},generateMorphTrack:function(Mo){var wo=Mo.DeformPercent.curves.morph,xo=wo.values.map(function(So){return So/100}),bo=eo.getObjectByName(Mo.modelName).morphTargetDictionary[Mo.morphName];return new NumberKeyframeTrack(Mo.modelName+".morphTargetInfluences["+bo+"]",wo.times,xo)},getTimesForAllAxes:function(Mo){var wo=[];return Mo.x!==void 0&&(wo=wo.concat(Mo.x.times)),Mo.y!==void 0&&(wo=wo.concat(Mo.y.times)),Mo.z!==void 0&&(wo=wo.concat(Mo.z.times)),wo=wo.sort(function(xo,bo){return xo-bo}).filter(function(xo,bo,So){return So.indexOf(xo)==bo}),wo},getKeyframeTrackValues:function(Mo,wo,xo){var bo=xo,So=[],Do=-1,Oo=-1,Bo=-1;return Mo.forEach(function($o){if(wo.x&&(Do=wo.x.times.indexOf($o)),wo.y&&(Oo=wo.y.times.indexOf($o)),wo.z&&(Bo=wo.z.times.indexOf($o)),Do!==-1){var Vo=wo.x.values[Do];So.push(Vo),bo[0]=Vo}else So.push(bo[0]);if(Oo!==-1){var Ho=wo.y.values[Oo];So.push(Ho),bo[1]=Ho}else So.push(bo[1]);if(Bo!==-1){var Fo=wo.z.values[Bo];So.push(Fo),bo[2]=Fo}else So.push(bo[2])}),So},interpolateRotations:function(Mo){for(var wo=1;wo<Mo.values.length;wo++){var xo=Mo.values[wo-1],bo=Mo.values[wo]-xo,So=Math.abs(bo);if(So>=180){for(var Do=So/180,Oo=bo/Do,Bo=xo+Oo,$o=Mo.times[wo-1],Vo=Mo.times[wo]-$o,Ho=Vo/Do,Fo=$o+Ho,Ko=[],$s=[];Fo<Mo.times[wo];)Ko.push(Fo),Fo+=Ho,$s.push(Bo),Bo+=Oo;Mo.times=Io(Mo.times,wo,Ko),Mo.values=Io(Mo.values,wo,$s)}}}};function ao(){}ao.prototype={constructor:ao,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(Mo){this.nodeStack.push(Mo),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(Mo,wo){this.currentProp=Mo,this.currentPropName=wo},parse:function(Mo){this.currentIndent=0,this.allNodes=new uo,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var wo=this,xo=Mo.split(/[\r\n]+/);return xo.forEach(function(bo,So){var Do=bo.match(/^[\s\t]*;/),Oo=bo.match(/^[\s\t]*$/);if(!(Do||Oo)){var Bo=bo.match("^\\t{"+wo.currentIndent+"}(\\w+):(.*){",""),$o=bo.match("^\\t{"+wo.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),Vo=bo.match("^\\t{"+(wo.currentIndent-1)+"}}");Bo?wo.parseNodeBegin(bo,Bo):$o?wo.parseNodeProperty(bo,$o,xo[++So]):Vo?wo.popStack():bo.match(/^[^\s\t}]/)&&wo.parseNodePropertyContinued(bo)}}),this.allNodes},parseNodeBegin:function(Mo,wo){var xo=wo[1].trim().replace(/^"/,"").replace(/"$/,""),bo=wo[2].split(",").map(function(Bo){return Bo.trim().replace(/^"/,"").replace(/"$/,"")}),So={name:xo},Do=this.parseNodeAttr(bo),Oo=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(xo,So):xo in Oo?(xo==="PoseNode"?Oo.PoseNode.push(So):Oo[xo].id!==void 0&&(Oo[xo]={},Oo[xo][Oo[xo].id]=Oo[xo]),Do.id!==""&&(Oo[xo][Do.id]=So)):typeof Do.id=="number"?(Oo[xo]={},Oo[xo][Do.id]=So):xo!=="Properties70"&&(xo==="PoseNode"?Oo[xo]=[So]:Oo[xo]=So),typeof Do.id=="number"&&(So.id=Do.id),Do.name!==""&&(So.attrName=Do.name),Do.type!==""&&(So.attrType=Do.type),this.pushStack(So)},parseNodeAttr:function(Mo){var wo=Mo[0];Mo[0]!==""&&(wo=parseInt(Mo[0]),isNaN(wo)&&(wo=Mo[0]));var xo="",bo="";return Mo.length>1&&(xo=Mo[1].replace(/^(\w+)::/,""),bo=Mo[2]),{id:wo,name:xo,type:bo}},parseNodeProperty:function(Mo,wo,xo){var bo=wo[1].replace(/^"/,"").replace(/"$/,"").trim(),So=wo[2].replace(/^"/,"").replace(/"$/,"").trim();bo==="Content"&&So===","&&(So=xo.replace(/"/g,"").replace(/,$/,"").trim());var Do=this.getCurrentNode(),Oo=Do.name;if(Oo==="Properties70"){this.parseNodeSpecialProperty(Mo,bo,So);return}if(bo==="C"){var Bo=So.split(",").slice(1),$o=parseInt(Bo[0]),Vo=parseInt(Bo[1]),Ho=So.split(",").slice(3);Ho=Ho.map(function(Fo){return Fo.trim().replace(/^"/,"")}),bo="connections",So=[$o,Vo],No(So,Ho),Do[bo]===void 0&&(Do[bo]=[])}bo==="Node"&&(Do.id=So),bo in Do&&Array.isArray(Do[bo])?Do[bo].push(So):bo!=="a"?Do[bo]=So:Do.a=So,this.setCurrentProp(Do,bo),bo==="a"&&So.slice(-1)!==","&&(Do.a=Eo(So))},parseNodePropertyContinued:function(Mo){var wo=this.getCurrentNode();wo.a+=Mo,Mo.slice(-1)!==","&&(wo.a=Eo(wo.a))},parseNodeSpecialProperty:function(Mo,wo,xo){var bo=xo.split('",').map(function(Vo){return Vo.trim().replace(/^\"/,"").replace(/\s/,"_")}),So=bo[0],Do=bo[1],Oo=bo[2],Bo=bo[3],$o=bo[4];switch(Do){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":$o=parseFloat($o);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":$o=Eo($o);break}this.getPrevNode()[So]={type:Do,type2:Oo,flag:Bo,value:$o},this.setCurrentProp(this.getPrevNode(),So)}};function oo(){}oo.prototype={constructor:oo,parse:function(Mo){var wo=new so(Mo);wo.skip(23);var xo=wo.getUint32();console.log("THREE.FBXLoader: FBX binary version: "+xo);for(var bo=new uo;!this.endOfContent(wo);){var So=this.parseNode(wo,xo);So!==null&&bo.add(So.name,So)}return bo},endOfContent:function(Mo){return Mo.size()%16===0?(Mo.getOffset()+160+16&-16)>=Mo.size():Mo.getOffset()+160+16>=Mo.size()},parseNode:function(Mo,wo){var xo={},bo=wo>=7500?Mo.getUint64():Mo.getUint32(),So=wo>=7500?Mo.getUint64():Mo.getUint32();wo>=7500?Mo.getUint64():Mo.getUint32();var Do=Mo.getUint8(),Oo=Mo.getString(Do);if(bo===0)return null;for(var Bo=[],$o=0;$o<So;$o++)Bo.push(this.parseProperty(Mo));var Vo=Bo.length>0?Bo[0]:"",Ho=Bo.length>1?Bo[1]:"",Fo=Bo.length>2?Bo[2]:"";for(xo.singleProperty=So===1&&Mo.getOffset()===bo;bo>Mo.getOffset();){var Ko=this.parseNode(Mo,wo);Ko!==null&&this.parseSubNode(Oo,xo,Ko)}return xo.propertyList=Bo,typeof Vo=="number"&&(xo.id=Vo),Ho!==""&&(xo.attrName=Ho),Fo!==""&&(xo.attrType=Fo),Oo!==""&&(xo.name=Oo),xo},parseSubNode:function(Mo,wo,xo){if(xo.singleProperty===!0){var bo=xo.propertyList[0];Array.isArray(bo)?(wo[xo.name]=xo,xo.a=bo):wo[xo.name]=bo}else if(Mo==="Connections"&&xo.name==="C"){var So=[];xo.propertyList.forEach(function(Fo,Ko){Ko!==0&&So.push(Fo)}),wo.connections===void 0&&(wo.connections=[]),wo.connections.push(So)}else if(xo.name==="Properties70"){var Do=Object.keys(xo);Do.forEach(function(Fo){wo[Fo]=xo[Fo]})}else if(Mo==="Properties70"&&xo.name==="P"){var Oo=xo.propertyList[0],Bo=xo.propertyList[1],$o=xo.propertyList[2],Vo=xo.propertyList[3],Ho;Oo.indexOf("Lcl ")===0&&(Oo=Oo.replace("Lcl ","Lcl_")),Bo.indexOf("Lcl ")===0&&(Bo=Bo.replace("Lcl ","Lcl_")),Bo==="Color"||Bo==="ColorRGB"||Bo==="Vector"||Bo==="Vector3D"||Bo.indexOf("Lcl_")===0?Ho=[xo.propertyList[4],xo.propertyList[5],xo.propertyList[6]]:Ho=xo.propertyList[4],wo[Oo]={type:Bo,type2:$o,flag:Vo,value:Ho}}else wo[xo.name]===void 0?typeof xo.id=="number"?(wo[xo.name]={},wo[xo.name][xo.id]=xo):wo[xo.name]=xo:xo.name==="PoseNode"?(Array.isArray(wo[xo.name])||(wo[xo.name]=[wo[xo.name]]),wo[xo.name].push(xo)):wo[xo.name][xo.id]===void 0&&(wo[xo.name][xo.id]=xo)},parseProperty:function(Mo){var wo=Mo.getString(1);switch(wo){case"C":return Mo.getBoolean();case"D":return Mo.getFloat64();case"F":return Mo.getFloat32();case"I":return Mo.getInt32();case"L":return Mo.getInt64();case"R":var xo=Mo.getUint32();return Mo.getArrayBuffer(xo);case"S":var xo=Mo.getUint32();return Mo.getString(xo);case"Y":return Mo.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var bo=Mo.getUint32(),So=Mo.getUint32(),Do=Mo.getUint32();if(So===0)switch(wo){case"b":case"c":return Mo.getBooleanArray(bo);case"d":return Mo.getFloat64Array(bo);case"f":return Mo.getFloat32Array(bo);case"i":return Mo.getInt32Array(bo);case"l":return Mo.getInt64Array(bo)}typeof Zlib>"u"&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var Oo=new Zlib.Inflate(new Uint8Array(Mo.getArrayBuffer(Do))),Bo=new so(Oo.decompress().buffer);switch(wo){case"b":case"c":return Bo.getBooleanArray(bo);case"d":return Bo.getFloat64Array(bo);case"f":return Bo.getFloat32Array(bo);case"i":return Bo.getInt32Array(bo);case"l":return Bo.getInt64Array(bo)}default:throw new Error("THREE.FBXLoader: Unknown property type "+wo)}}};function so(Mo,wo){this.dv=new DataView(Mo),this.offset=0,this.littleEndian=wo!==void 0?wo:!0}so.prototype={constructor:so,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(Mo){this.offset+=Mo},getBoolean:function(){return(this.getUint8()&1)===1},getBooleanArray:function(Mo){for(var wo=[],xo=0;xo<Mo;xo++)wo.push(this.getBoolean());return wo},getUint8:function(){var Mo=this.dv.getUint8(this.offset);return this.offset+=1,Mo},getInt16:function(){var Mo=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,Mo},getInt32:function(){var Mo=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,Mo},getInt32Array:function(Mo){for(var wo=[],xo=0;xo<Mo;xo++)wo.push(this.getInt32());return wo},getUint32:function(){var Mo=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,Mo},getInt64:function(){var Mo,wo;return this.littleEndian?(Mo=this.getUint32(),wo=this.getUint32()):(wo=this.getUint32(),Mo=this.getUint32()),wo&2147483648?(wo=~wo&4294967295,Mo=~Mo&4294967295,Mo===4294967295&&(wo=wo+1&4294967295),Mo=Mo+1&4294967295,-(wo*4294967296+Mo)):wo*4294967296+Mo},getInt64Array:function(Mo){for(var wo=[],xo=0;xo<Mo;xo++)wo.push(this.getInt64());return wo},getUint64:function(){var Mo,wo;return this.littleEndian?(Mo=this.getUint32(),wo=this.getUint32()):(wo=this.getUint32(),Mo=this.getUint32()),wo*4294967296+Mo},getFloat32:function(){var Mo=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,Mo},getFloat32Array:function(Mo){for(var wo=[],xo=0;xo<Mo;xo++)wo.push(this.getFloat32());return wo},getFloat64:function(){var Mo=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,Mo},getFloat64Array:function(Mo){for(var wo=[],xo=0;xo<Mo;xo++)wo.push(this.getFloat64());return wo},getArrayBuffer:function(Mo){var wo=this.dv.buffer.slice(this.offset,this.offset+Mo);return this.offset+=Mo,wo},getString:function(Mo){for(var wo=[],xo=0;xo<Mo;xo++)wo[xo]=this.getUint8();var bo=wo.indexOf(0);return bo>=0&&(wo=wo.slice(0,bo)),LoaderUtils.decodeText(new Uint8Array(wo))}};function uo(){}uo.prototype={constructor:uo,add:function(Mo,wo){this[Mo]=wo}};function co(Mo){var wo="Kaydara FBX Binary  \0";return Mo.byteLength>=wo.length&&wo===To(Mo,0,wo.length)}function fo(Mo){var wo=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],xo=0;function bo(Oo){var Bo=Mo[Oo-1];return Mo=Mo.slice(xo+Oo),xo++,Bo}for(var So=0;So<wo.length;++So){var Do=bo(1);if(Do===wo[So])return!1}return!0}function po(Mo){var wo=/FBXVersion: (\d+)/,xo=Mo.match(wo);if(xo){var bo=parseInt(xo[1]);return bo}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function vo(Mo){return Mo/46186158e3}var go=[];function mo(Mo,wo,xo,bo){var So;switch(bo.mappingType){case"ByPolygonVertex":So=Mo;break;case"ByPolygon":So=wo;break;case"ByVertice":So=xo;break;case"AllSame":So=bo.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+bo.mappingType)}bo.referenceType==="IndexToDirect"&&(So=bo.indices[So]);var Do=So*bo.dataSize,Oo=Do+bo.dataSize;return Co(go,bo.buffer,Do,Oo)}var lo=new Euler,ho=new Vector3;function yo(Mo){var wo=new Matrix4,xo=new Matrix4,bo=new Matrix4,So=new Matrix4,Do=new Matrix4,Oo=new Matrix4,Bo=new Matrix4,$o=new Matrix4,Vo=new Matrix4,Ho=new Matrix4,Fo=new Matrix4,Ko=Mo.inheritType?Mo.inheritType:0;if(Mo.translation&&wo.setPosition(ho.fromArray(Mo.translation)),Mo.preRotation){var $s=Mo.preRotation.map(MathUtils.degToRad);$s.push(Mo.eulerOrder),xo.makeRotationFromEuler(lo.fromArray($s))}if(Mo.rotation){var $s=Mo.rotation.map(MathUtils.degToRad);$s.push(Mo.eulerOrder),bo.makeRotationFromEuler(lo.fromArray($s))}if(Mo.postRotation){var $s=Mo.postRotation.map(MathUtils.degToRad);$s.push(Mo.eulerOrder),So.makeRotationFromEuler(lo.fromArray($s))}Mo.scale&&Do.scale(ho.fromArray(Mo.scale)),Mo.scalingOffset&&Bo.setPosition(ho.fromArray(Mo.scalingOffset)),Mo.scalingPivot&&Oo.setPosition(ho.fromArray(Mo.scalingPivot)),Mo.rotationOffset&&$o.setPosition(ho.fromArray(Mo.rotationOffset)),Mo.rotationPivot&&Vo.setPosition(ho.fromArray(Mo.rotationPivot)),Mo.parentMatrixWorld&&(Ho=Mo.parentMatrixWorld);var au=xo.multiply(bo).multiply(So),Ks=new Matrix4;Ho.extractRotation(Ks);var Gs=new Matrix4;Gs.copyPosition(Ho);var qs=new Matrix4;qs.getInverse(Ks).multiply(Ho);var lu=new Matrix4;if(Ko===0)lu.copy(Ks).multiply(au).multiply(qs).multiply(Do);else if(Ko===1)lu.copy(Ks).multiply(qs).multiply(au).multiply(Do);else{var ou=new Matrix4().getInverse(Do),ru=new Matrix4().multiply(qs).multiply(ou);lu.copy(Ks).multiply(au).multiply(ru).multiply(Do)}var nu=new Matrix4().getInverse(Vo),su=new Matrix4().getInverse(Oo),gu=new Matrix4;gu.copy(wo).multiply($o).multiply(Vo).multiply(xo).multiply(bo).multiply(So).multiply(nu).multiply(Bo).multiply(Oo).multiply(Do).multiply(su);var Au=new Matrix4().copyPosition(gu),$u=new Matrix4().copy(Ho).multiply(Au);return Fo.copyPosition($u),gu=new Matrix4().multiply(Fo).multiply(lu),gu}function Ao(Mo){Mo=Mo||0;var wo=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return Mo===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),wo[0]):wo[Mo]}function Eo(Mo){var wo=Mo.split(",").map(function(xo){return parseFloat(xo)});return wo}function To(Mo,wo,xo){return wo===void 0&&(wo=0),xo===void 0&&(xo=Mo.byteLength),LoaderUtils.decodeText(new Uint8Array(Mo,wo,xo))}function No(Mo,wo){for(var xo=0,bo=Mo.length,So=wo.length;xo<So;xo++,bo++)Mo[bo]=wo[xo]}function Co(Mo,wo,xo,bo){for(var So=xo,Do=0;So<bo;So++,Do++)Mo[Do]=wo[So];return Mo}function Io(Mo,wo,xo){return Mo.slice(0,wo).concat(xo).concat(Mo.slice(wo))}return to}(),Easing={Linear:{None:function(va){return va}},Quadratic:{In:function(va){return va*va},Out:function(va){return va*(2-va)},InOut:function(va){return(va*=2)<1?.5*va*va:-.5*(--va*(va-2)-1)}},Cubic:{In:function(va){return va*va*va},Out:function(va){return--va*va*va+1},InOut:function(va){return(va*=2)<1?.5*va*va*va:.5*((va-=2)*va*va+2)}},Quartic:{In:function(va){return va*va*va*va},Out:function(va){return 1- --va*va*va*va},InOut:function(va){return(va*=2)<1?.5*va*va*va*va:-.5*((va-=2)*va*va*va-2)}},Quintic:{In:function(va){return va*va*va*va*va},Out:function(va){return--va*va*va*va*va+1},InOut:function(va){return(va*=2)<1?.5*va*va*va*va*va:.5*((va-=2)*va*va*va*va+2)}},Sinusoidal:{In:function(va){return 1-Math.cos(va*Math.PI/2)},Out:function(va){return Math.sin(va*Math.PI/2)},InOut:function(va){return .5*(1-Math.cos(Math.PI*va))}},Exponential:{In:function(va){return va===0?0:Math.pow(1024,va-1)},Out:function(va){return va===1?1:1-Math.pow(2,-10*va)},InOut:function(va){return va===0?0:va===1?1:(va*=2)<1?.5*Math.pow(1024,va-1):.5*(-Math.pow(2,-10*(va-1))+2)}},Circular:{In:function(va){return 1-Math.sqrt(1-va*va)},Out:function(va){return Math.sqrt(1- --va*va)},InOut:function(va){return(va*=2)<1?-.5*(Math.sqrt(1-va*va)-1):.5*(Math.sqrt(1-(va-=2)*va)+1)}},Elastic:{In:function(va){return va===0?0:va===1?1:-Math.pow(2,10*(va-1))*Math.sin((va-1.1)*5*Math.PI)},Out:function(va){return va===0?0:va===1?1:Math.pow(2,-10*va)*Math.sin((va-.1)*5*Math.PI)+1},InOut:function(va){return va===0?0:va===1?1:(va*=2,va<1?-.5*Math.pow(2,10*(va-1))*Math.sin((va-1.1)*5*Math.PI):.5*Math.pow(2,-10*(va-1))*Math.sin((va-1.1)*5*Math.PI)+1)}},Back:{In:function(va){var _a=1.70158;return va*va*((_a+1)*va-_a)},Out:function(va){var _a=1.70158;return--va*va*((_a+1)*va+_a)+1},InOut:function(va){var _a=2.5949095;return(va*=2)<1?.5*(va*va*((_a+1)*va-_a)):.5*((va-=2)*va*((_a+1)*va+_a)+2)}},Bounce:{In:function(va){return 1-Easing.Bounce.Out(1-va)},Out:function(va){return va<1/2.75?7.5625*va*va:va<2/2.75?7.5625*(va-=1.5/2.75)*va+.75:va<2.5/2.75?7.5625*(va-=2.25/2.75)*va+.9375:7.5625*(va-=2.625/2.75)*va+.984375},InOut:function(va){return va<.5?Easing.Bounce.In(va*2)*.5:Easing.Bounce.Out(va*2-1)*.5+.5}}},now;typeof self>"u"&&typeof process<"u"&&process.hrtime?now=function(){var va=process.hrtime();return va[0]*1e3+va[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?now=self.performance.now.bind(self.performance):Date.now!==void 0?now=Date.now:now=function(){return new Date().getTime()};var now$1=now,Group=function(){function va(){this._tweens={},this._tweensAddedDuringUpdate={}}return va.prototype.getAll=function(){var _a=this;return Object.keys(this._tweens).map(function(eo){return _a._tweens[eo]})},va.prototype.removeAll=function(){this._tweens={}},va.prototype.add=function(_a){this._tweens[_a.getId()]=_a,this._tweensAddedDuringUpdate[_a.getId()]=_a},va.prototype.remove=function(_a){delete this._tweens[_a.getId()],delete this._tweensAddedDuringUpdate[_a.getId()]},va.prototype.update=function(_a,eo){_a===void 0&&(_a=now$1()),eo===void 0&&(eo=!1);var to=Object.keys(this._tweens);if(to.length===0)return!1;for(;to.length>0;){this._tweensAddedDuringUpdate={};for(var ro=0;ro<to.length;ro++){var no=this._tweens[to[ro]],io=!eo;no&&no.update(_a,io)===!1&&!eo&&delete this._tweens[to[ro]]}to=Object.keys(this._tweensAddedDuringUpdate)}return!0},va}(),Interpolation={Linear:function(va,_a){var eo=va.length-1,to=eo*_a,ro=Math.floor(to),no=Interpolation.Utils.Linear;return _a<0?no(va[0],va[1],to):_a>1?no(va[eo],va[eo-1],eo-to):no(va[ro],va[ro+1>eo?eo:ro+1],to-ro)},Bezier:function(va,_a){for(var eo=0,to=va.length-1,ro=Math.pow,no=Interpolation.Utils.Bernstein,io=0;io<=to;io++)eo+=ro(1-_a,to-io)*ro(_a,io)*va[io]*no(to,io);return eo},CatmullRom:function(va,_a){var eo=va.length-1,to=eo*_a,ro=Math.floor(to),no=Interpolation.Utils.CatmullRom;return va[0]===va[eo]?(_a<0&&(ro=Math.floor(to=eo*(1+_a))),no(va[(ro-1+eo)%eo],va[ro],va[(ro+1)%eo],va[(ro+2)%eo],to-ro)):_a<0?va[0]-(no(va[0],va[0],va[1],va[1],-to)-va[0]):_a>1?va[eo]-(no(va[eo],va[eo],va[eo-1],va[eo-1],to-eo)-va[eo]):no(va[ro?ro-1:0],va[ro],va[eo<ro+1?eo:ro+1],va[eo<ro+2?eo:ro+2],to-ro)},Utils:{Linear:function(va,_a,eo){return(_a-va)*eo+va},Bernstein:function(va,_a){var eo=Interpolation.Utils.Factorial;return eo(va)/eo(_a)/eo(va-_a)},Factorial:function(){var va=[1];return function(_a){var eo=1;if(va[_a])return va[_a];for(var to=_a;to>1;to--)eo*=to;return va[_a]=eo,eo}}(),CatmullRom:function(va,_a,eo,to,ro){var no=(eo-va)*.5,io=(to-_a)*.5,ao=ro*ro,oo=ro*ao;return(2*_a-2*eo+no+io)*oo+(-3*_a+3*eo-2*no-io)*ao+no*ro+_a}}},Sequence=function(){function va(){}return va.nextId=function(){return va._nextId++},va._nextId=0,va}(),mainGroup=new Group,Tween=function(){function va(_a,eo){eo===void 0&&(eo=mainGroup),this._object=_a,this._group=eo,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Easing.Linear.None,this._interpolationFunction=Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Sequence.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return va.prototype.getId=function(){return this._id},va.prototype.isPlaying=function(){return this._isPlaying},va.prototype.isPaused=function(){return this._isPaused},va.prototype.to=function(_a,eo){return this._valuesEnd=Object.create(_a),eo!==void 0&&(this._duration=eo),this},va.prototype.duration=function(_a){return this._duration=_a,this},va.prototype.start=function(_a){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var eo in this._valuesStartRepeat)this._swapEndStartRepeatValues(eo),this._valuesStart[eo]=this._valuesStartRepeat[eo]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=_a!==void 0?typeof _a=="string"?now$1()+parseFloat(_a):_a:now$1(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},va.prototype._setupProperties=function(_a,eo,to,ro){for(var no in to){var io=_a[no],ao=Array.isArray(io),oo=ao?"array":typeof io,so=!ao&&Array.isArray(to[no]);if(!(oo==="undefined"||oo==="function")){if(so){var uo=to[no];if(uo.length===0)continue;uo=uo.map(this._handleRelativeValue.bind(this,io)),to[no]=[io].concat(uo)}if((oo==="object"||ao)&&io&&!so){eo[no]=ao?[]:{};for(var co in io)eo[no][co]=io[co];ro[no]=ao?[]:{},this._setupProperties(io,eo[no],to[no],ro[no])}else typeof eo[no]>"u"&&(eo[no]=io),ao||(eo[no]*=1),so?ro[no]=to[no].slice().reverse():ro[no]=eo[no]||0}}},va.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},va.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},va.prototype.pause=function(_a){return _a===void 0&&(_a=now$1()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=_a,this._group&&this._group.remove(this),this)},va.prototype.resume=function(_a){return _a===void 0&&(_a=now$1()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=_a-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},va.prototype.stopChainedTweens=function(){for(var _a=0,eo=this._chainedTweens.length;_a<eo;_a++)this._chainedTweens[_a].stop();return this},va.prototype.group=function(_a){return this._group=_a,this},va.prototype.delay=function(_a){return this._delayTime=_a,this},va.prototype.repeat=function(_a){return this._initialRepeat=_a,this._repeat=_a,this},va.prototype.repeatDelay=function(_a){return this._repeatDelayTime=_a,this},va.prototype.yoyo=function(_a){return this._yoyo=_a,this},va.prototype.easing=function(_a){return this._easingFunction=_a,this},va.prototype.interpolation=function(_a){return this._interpolationFunction=_a,this},va.prototype.chain=function(){for(var _a=[],eo=0;eo<arguments.length;eo++)_a[eo]=arguments[eo];return this._chainedTweens=_a,this},va.prototype.onStart=function(_a){return this._onStartCallback=_a,this},va.prototype.onUpdate=function(_a){return this._onUpdateCallback=_a,this},va.prototype.onRepeat=function(_a){return this._onRepeatCallback=_a,this},va.prototype.onComplete=function(_a){return this._onCompleteCallback=_a,this},va.prototype.onStop=function(_a){return this._onStopCallback=_a,this},va.prototype.update=function(_a,eo){if(_a===void 0&&(_a=now$1()),eo===void 0&&(eo=!0),this._isPaused)return!0;var to,ro,no=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(_a>no)return!1;eo&&this.start(_a)}if(this._goToEnd=!1,_a<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),ro=(_a-this._startTime)/this._duration,ro=this._duration===0||ro>1?1:ro;var io=this._easingFunction(ro);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,io),this._onUpdateCallback&&this._onUpdateCallback(this._object,ro),ro===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(to in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[to]=="string"&&(this._valuesStartRepeat[to]=this._valuesStartRepeat[to]+parseFloat(this._valuesEnd[to])),this._yoyo&&this._swapEndStartRepeatValues(to),this._valuesStart[to]=this._valuesStartRepeat[to];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=_a+this._repeatDelayTime:this._startTime=_a+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var ao=0,oo=this._chainedTweens.length;ao<oo;ao++)this._chainedTweens[ao].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},va.prototype._updateProperties=function(_a,eo,to,ro){for(var no in to)if(eo[no]!==void 0){var io=eo[no]||0,ao=to[no],oo=Array.isArray(_a[no]),so=Array.isArray(ao),uo=!oo&&so;uo?_a[no]=this._interpolationFunction(ao,ro):typeof ao=="object"&&ao?this._updateProperties(_a[no],io,ao,ro):(ao=this._handleRelativeValue(io,ao),typeof ao=="number"&&(_a[no]=io+(ao-io)*ro))}},va.prototype._handleRelativeValue=function(_a,eo){return typeof eo!="string"?eo:eo.charAt(0)==="+"||eo.charAt(0)==="-"?_a+parseFloat(eo):parseFloat(eo)},va.prototype._swapEndStartRepeatValues=function(_a){var eo=this._valuesStartRepeat[_a],to=this._valuesEnd[_a];typeof to=="string"?this._valuesStartRepeat[_a]=this._valuesStartRepeat[_a]+parseFloat(to):this._valuesStartRepeat[_a]=this._valuesEnd[_a],this._valuesEnd[_a]=eo},va}(),VERSION="18.6.4",nextId=Sequence.nextId,TWEEN=mainGroup,getAll=TWEEN.getAll.bind(TWEEN),removeAll=TWEEN.removeAll.bind(TWEEN),add=TWEEN.add.bind(TWEEN),remove=TWEEN.remove.bind(TWEEN),update=TWEEN.update.bind(TWEEN),exports={Easing,Group,Interpolation,now:now$1,Sequence,nextId,Tween,VERSION,getAll,removeAll,add,remove,update},hammer={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(va){(function(_a,eo,to,ro){var no=["","webkit","Moz","MS","ms","o"],io=eo.createElement("div"),ao="function",oo=Math.round,so=Math.abs,uo=Date.now;function co(Po,ko,qo){return setTimeout(yo(Po,qo),ko)}function fo(Po,ko,qo){return Array.isArray(Po)?(po(Po,qo[ko],qo),!0):!1}function po(Po,ko,qo){var Ws;if(!!Po)if(Po.forEach)Po.forEach(ko,qo);else if(Po.length!==ro)for(Ws=0;Ws<Po.length;)ko.call(qo,Po[Ws],Ws,Po),Ws++;else for(Ws in Po)Po.hasOwnProperty(Ws)&&ko.call(qo,Po[Ws],Ws,Po)}function vo(Po,ko,qo){var Ws="DEPRECATED METHOD: "+ko+`
`+qo+` AT 
`;return function(){var hu=new Error("get-stack-trace"),xu=hu&&hu.stack?hu.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Hu=_a.console&&(_a.console.warn||_a.console.log);return Hu&&Hu.call(_a.console,Ws,xu),Po.apply(this,arguments)}}var go;typeof Object.assign!="function"?go=function(ko){if(ko===ro||ko===null)throw new TypeError("Cannot convert undefined or null to object");for(var qo=Object(ko),Ws=1;Ws<arguments.length;Ws++){var hu=arguments[Ws];if(hu!==ro&&hu!==null)for(var xu in hu)hu.hasOwnProperty(xu)&&(qo[xu]=hu[xu])}return qo}:go=Object.assign;var mo=vo(function(ko,qo,Ws){for(var hu=Object.keys(qo),xu=0;xu<hu.length;)(!Ws||Ws&&ko[hu[xu]]===ro)&&(ko[hu[xu]]=qo[hu[xu]]),xu++;return ko},"extend","Use `assign`."),lo=vo(function(ko,qo){return mo(ko,qo,!0)},"merge","Use `assign`.");function ho(Po,ko,qo){var Ws=ko.prototype,hu;hu=Po.prototype=Object.create(Ws),hu.constructor=Po,hu._super=Ws,qo&&go(hu,qo)}function yo(Po,ko){return function(){return Po.apply(ko,arguments)}}function Ao(Po,ko){return typeof Po==ao?Po.apply(ko&&ko[0]||ro,ko):Po}function Eo(Po,ko){return Po===ro?ko:Po}function To(Po,ko,qo){po(Mo(ko),function(Ws){Po.addEventListener(Ws,qo,!1)})}function No(Po,ko,qo){po(Mo(ko),function(Ws){Po.removeEventListener(Ws,qo,!1)})}function Co(Po,ko){for(;Po;){if(Po==ko)return!0;Po=Po.parentNode}return!1}function Io(Po,ko){return Po.indexOf(ko)>-1}function Mo(Po){return Po.trim().split(/\s+/g)}function wo(Po,ko,qo){if(Po.indexOf&&!qo)return Po.indexOf(ko);for(var Ws=0;Ws<Po.length;){if(qo&&Po[Ws][qo]==ko||!qo&&Po[Ws]===ko)return Ws;Ws++}return-1}function xo(Po){return Array.prototype.slice.call(Po,0)}function bo(Po,ko,qo){for(var Ws=[],hu=[],xu=0;xu<Po.length;){var Hu=ko?Po[xu][ko]:Po[xu];wo(hu,Hu)<0&&Ws.push(Po[xu]),hu[xu]=Hu,xu++}return qo&&(ko?Ws=Ws.sort(function(il,ol){return il[ko]>ol[ko]}):Ws=Ws.sort()),Ws}function So(Po,ko){for(var qo,Ws,hu=ko[0].toUpperCase()+ko.slice(1),xu=0;xu<no.length;){if(qo=no[xu],Ws=qo?qo+hu:ko,Ws in Po)return Ws;xu++}return ro}var Do=1;function Oo(){return Do++}function Bo(Po){var ko=Po.ownerDocument||Po;return ko.defaultView||ko.parentWindow||_a}var $o=/mobile|tablet|ip(ad|hone|od)|android/i,Vo="ontouchstart"in _a,Ho=So(_a,"PointerEvent")!==ro,Fo=Vo&&$o.test(navigator.userAgent),Ko="touch",$s="pen",au="mouse",Ks="kinect",Gs=25,qs=1,lu=2,ou=4,ru=8,nu=1,su=2,gu=4,Au=8,$u=16,ku=su|gu,Uo=Au|$u,Yo=ku|Uo,mu=["x","y"],pu=["clientX","clientY"];function Su(Po,ko){var qo=this;this.manager=Po,this.callback=ko,this.element=Po.element,this.target=Po.options.inputTarget,this.domHandler=function(Ws){Ao(Po.options.enable,[Po])&&qo.handler(Ws)},this.init()}Su.prototype={handler:function(){},init:function(){this.evEl&&To(this.element,this.evEl,this.domHandler),this.evTarget&&To(this.target,this.evTarget,this.domHandler),this.evWin&&To(Bo(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&No(this.element,this.evEl,this.domHandler),this.evTarget&&No(this.target,this.evTarget,this.domHandler),this.evWin&&No(Bo(this.element),this.evWin,this.domHandler)}};function _u(Po){var ko,qo=Po.options.inputClass;return qo?ko=qo:Ho?ko=fl:Fo?ko=yu:Vo?ko=Gu:ko=al,new ko(Po,bu)}function bu(Po,ko,qo){var Ws=qo.pointers.length,hu=qo.changedPointers.length,xu=ko&qs&&Ws-hu===0,Hu=ko&(ou|ru)&&Ws-hu===0;qo.isFirst=!!xu,qo.isFinal=!!Hu,xu&&(Po.session={}),qo.eventType=ko,Xu(Po,qo),Po.emit("hammer.input",qo),Po.recognize(qo),Po.session.prevInput=qo}function Xu(Po,ko){var qo=Po.session,Ws=ko.pointers,hu=Ws.length;qo.firstInput||(qo.firstInput=Mu(ko)),hu>1&&!qo.firstMultiple?qo.firstMultiple=Mu(ko):hu===1&&(qo.firstMultiple=!1);var xu=qo.firstInput,Hu=qo.firstMultiple,nl=Hu?Hu.center:xu.center,il=ko.center=Nu(Ws);ko.timeStamp=uo(),ko.deltaTime=ko.timeStamp-xu.timeStamp,ko.angle=Eu(nl,il),ko.distance=Jo(nl,il),Qu(qo,ko),ko.offsetDirection=du(ko.deltaX,ko.deltaY);var ol=wu(ko.deltaTime,ko.deltaX,ko.deltaY);ko.overallVelocityX=ol.x,ko.overallVelocityY=ol.y,ko.overallVelocity=so(ol.x)>so(ol.y)?ol.x:ol.y,ko.scale=Hu?Uu(Hu.pointers,Ws):1,ko.rotation=Hu?Du(Hu.pointers,Ws):0,ko.maxPointers=qo.prevInput?ko.pointers.length>qo.prevInput.maxPointers?ko.pointers.length:qo.prevInput.maxPointers:ko.pointers.length,ju(qo,ko);var vl=Po.element;Co(ko.srcEvent.target,vl)&&(vl=ko.srcEvent.target),ko.target=vl}function Qu(Po,ko){var qo=ko.center,Ws=Po.offsetDelta||{},hu=Po.prevDelta||{},xu=Po.prevInput||{};(ko.eventType===qs||xu.eventType===ou)&&(hu=Po.prevDelta={x:xu.deltaX||0,y:xu.deltaY||0},Ws=Po.offsetDelta={x:qo.x,y:qo.y}),ko.deltaX=hu.x+(qo.x-Ws.x),ko.deltaY=hu.y+(qo.y-Ws.y)}function ju(Po,ko){var qo=Po.lastInterval||ko,Ws=ko.timeStamp-qo.timeStamp,hu,xu,Hu,nl;if(ko.eventType!=ru&&(Ws>Gs||qo.velocity===ro)){var il=ko.deltaX-qo.deltaX,ol=ko.deltaY-qo.deltaY,vl=wu(Ws,il,ol);xu=vl.x,Hu=vl.y,hu=so(vl.x)>so(vl.y)?vl.x:vl.y,nl=du(il,ol),Po.lastInterval=ko}else hu=qo.velocity,xu=qo.velocityX,Hu=qo.velocityY,nl=qo.direction;ko.velocity=hu,ko.velocityX=xu,ko.velocityY=Hu,ko.direction=nl}function Mu(Po){for(var ko=[],qo=0;qo<Po.pointers.length;)ko[qo]={clientX:oo(Po.pointers[qo].clientX),clientY:oo(Po.pointers[qo].clientY)},qo++;return{timeStamp:uo(),pointers:ko,center:Nu(ko),deltaX:Po.deltaX,deltaY:Po.deltaY}}function Nu(Po){var ko=Po.length;if(ko===1)return{x:oo(Po[0].clientX),y:oo(Po[0].clientY)};for(var qo=0,Ws=0,hu=0;hu<ko;)qo+=Po[hu].clientX,Ws+=Po[hu].clientY,hu++;return{x:oo(qo/ko),y:oo(Ws/ko)}}function wu(Po,ko,qo){return{x:ko/Po||0,y:qo/Po||0}}function du(Po,ko){return Po===ko?nu:so(Po)>=so(ko)?Po<0?su:gu:ko<0?Au:$u}function Jo(Po,ko,qo){qo||(qo=mu);var Ws=ko[qo[0]]-Po[qo[0]],hu=ko[qo[1]]-Po[qo[1]];return Math.sqrt(Ws*Ws+hu*hu)}function Eu(Po,ko,qo){qo||(qo=mu);var Ws=ko[qo[0]]-Po[qo[0]],hu=ko[qo[1]]-Po[qo[1]];return Math.atan2(hu,Ws)*180/Math.PI}function Du(Po,ko){return Eu(ko[1],ko[0],pu)+Eu(Po[1],Po[0],pu)}function Uu(Po,ko){return Jo(ko[0],ko[1],pu)/Jo(Po[0],Po[1],pu)}var Tu={mousedown:qs,mousemove:lu,mouseup:ou},Ru="mousedown",Ju="mousemove mouseup";function al(){this.evEl=Ru,this.evWin=Ju,this.pressed=!1,Su.apply(this,arguments)}ho(al,Su,{handler:function(ko){var qo=Tu[ko.type];qo&qs&&ko.button===0&&(this.pressed=!0),qo&lu&&ko.which!==1&&(qo=ou),!!this.pressed&&(qo&ou&&(this.pressed=!1),this.callback(this.manager,qo,{pointers:[ko],changedPointers:[ko],pointerType:au,srcEvent:ko}))}});var dl={pointerdown:qs,pointermove:lu,pointerup:ou,pointercancel:ru,pointerout:ru},zu={2:Ko,3:$s,4:au,5:Ks},hl="pointerdown",pl="pointermove pointerup pointercancel";_a.MSPointerEvent&&!_a.PointerEvent&&(hl="MSPointerDown",pl="MSPointerMove MSPointerUp MSPointerCancel");function fl(){this.evEl=hl,this.evWin=pl,Su.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}ho(fl,Su,{handler:function(ko){var qo=this.store,Ws=!1,hu=ko.type.toLowerCase().replace("ms",""),xu=dl[hu],Hu=zu[ko.pointerType]||ko.pointerType,nl=Hu==Ko,il=wo(qo,ko.pointerId,"pointerId");xu&qs&&(ko.button===0||nl)?il<0&&(qo.push(ko),il=qo.length-1):xu&(ou|ru)&&(Ws=!0),!(il<0)&&(qo[il]=ko,this.callback(this.manager,xu,{pointers:qo,changedPointers:[ko],pointerType:Hu,srcEvent:ko}),Ws&&qo.splice(il,1))}});var ml={touchstart:qs,touchmove:lu,touchend:ou,touchcancel:ru},ll="touchstart",wl="touchstart touchmove touchend touchcancel";function Go(){this.evTarget=ll,this.evWin=wl,this.started=!1,Su.apply(this,arguments)}ho(Go,Su,{handler:function(ko){var qo=ml[ko.type];if(qo===qs&&(this.started=!0),!!this.started){var Ws=iu.call(this,ko,qo);qo&(ou|ru)&&Ws[0].length-Ws[1].length===0&&(this.started=!1),this.callback(this.manager,qo,{pointers:Ws[0],changedPointers:Ws[1],pointerType:Ko,srcEvent:ko})}}});function iu(Po,ko){var qo=xo(Po.touches),Ws=xo(Po.changedTouches);return ko&(ou|ru)&&(qo=bo(qo.concat(Ws),"identifier",!0)),[qo,Ws]}var tu={touchstart:qs,touchmove:lu,touchend:ou,touchcancel:ru},uu="touchstart touchmove touchend touchcancel";function yu(){this.evTarget=uu,this.targetIds={},Su.apply(this,arguments)}ho(yu,Su,{handler:function(ko){var qo=tu[ko.type],Ws=Vu.call(this,ko,qo);!Ws||this.callback(this.manager,qo,{pointers:Ws[0],changedPointers:Ws[1],pointerType:Ko,srcEvent:ko})}});function Vu(Po,ko){var qo=xo(Po.touches),Ws=this.targetIds;if(ko&(qs|lu)&&qo.length===1)return Ws[qo[0].identifier]=!0,[qo,qo];var hu,xu,Hu=xo(Po.changedTouches),nl=[],il=this.target;if(xu=qo.filter(function(ol){return Co(ol.target,il)}),ko===qs)for(hu=0;hu<xu.length;)Ws[xu[hu].identifier]=!0,hu++;for(hu=0;hu<Hu.length;)Ws[Hu[hu].identifier]&&nl.push(Hu[hu]),ko&(ou|ru)&&delete Ws[Hu[hu].identifier],hu++;if(!!nl.length)return[bo(xu.concat(nl),"identifier",!0),nl]}var Bu=2500,Ou=25;function Gu(){Su.apply(this,arguments);var Po=yo(this.handler,this);this.touch=new yu(this.manager,Po),this.mouse=new al(this.manager,Po),this.primaryTouch=null,this.lastTouches=[]}ho(Gu,Su,{handler:function(ko,qo,Ws){var hu=Ws.pointerType==Ko,xu=Ws.pointerType==au;if(!(xu&&Ws.sourceCapabilities&&Ws.sourceCapabilities.firesTouchEvents)){if(hu)Yu.call(this,qo,Ws);else if(xu&&Ro.call(this,Ws))return;this.callback(ko,qo,Ws)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Yu(Po,ko){Po&qs?(this.primaryTouch=ko.changedPointers[0].identifier,sl.call(this,ko)):Po&(ou|ru)&&sl.call(this,ko)}function sl(Po){var ko=Po.changedPointers[0];if(ko.identifier===this.primaryTouch){var qo={x:ko.clientX,y:ko.clientY};this.lastTouches.push(qo);var Ws=this.lastTouches,hu=function(){var xu=Ws.indexOf(qo);xu>-1&&Ws.splice(xu,1)};setTimeout(hu,Bu)}}function Ro(Po){for(var ko=Po.srcEvent.clientX,qo=Po.srcEvent.clientY,Ws=0;Ws<this.lastTouches.length;Ws++){var hu=this.lastTouches[Ws],xu=Math.abs(ko-hu.x),Hu=Math.abs(qo-hu.y);if(xu<=Ou&&Hu<=Ou)return!0}return!1}var Qo=So(io.style,"touchAction"),Zo=Qo!==ro,Xs="compute",cu="auto",Pu="manipulation",Iu="none",ul="pan-x",Cu="pan-y",cl=Tl();function Ml(Po,ko){this.manager=Po,this.set(ko)}Ml.prototype={set:function(Po){Po==Xs&&(Po=this.compute()),Zo&&this.manager.element.style&&cl[Po]&&(this.manager.element.style[Qo]=Po),this.actions=Po.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Po=[];return po(this.manager.recognizers,function(ko){Ao(ko.options.enable,[ko])&&(Po=Po.concat(ko.getTouchAction()))}),bl(Po.join(" "))},preventDefaults:function(Po){var ko=Po.srcEvent,qo=Po.offsetDirection;if(this.manager.session.prevented){ko.preventDefault();return}var Ws=this.actions,hu=Io(Ws,Iu)&&!cl[Iu],xu=Io(Ws,Cu)&&!cl[Cu],Hu=Io(Ws,ul)&&!cl[ul];if(hu){var nl=Po.pointers.length===1,il=Po.distance<2,ol=Po.deltaTime<250;if(nl&&il&&ol)return}if(!(Hu&&xu)&&(hu||xu&&qo&ku||Hu&&qo&Uo))return this.preventSrc(ko)},preventSrc:function(Po){this.manager.session.prevented=!0,Po.preventDefault()}};function bl(Po){if(Io(Po,Iu))return Iu;var ko=Io(Po,ul),qo=Io(Po,Cu);return ko&&qo?Iu:ko||qo?ko?ul:Cu:Io(Po,Pu)?Pu:cu}function Tl(){if(!Zo)return!1;var Po={},ko=_a.CSS&&_a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(qo){Po[qo]=ko?_a.CSS.supports("touch-action",qo):!0}),Po}var El=1,xl=2,_l=4,Al=8,el=Al,gl=16,rl=32;function tl(Po){this.options=go({},this.defaults,Po||{}),this.id=Oo(),this.manager=null,this.options.enable=Eo(this.options.enable,!0),this.state=El,this.simultaneous={},this.requireFail=[]}tl.prototype={defaults:{},set:function(Po){return go(this.options,Po),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Po){if(fo(Po,"recognizeWith",this))return this;var ko=this.simultaneous;return Po=zo(Po,this),ko[Po.id]||(ko[Po.id]=Po,Po.recognizeWith(this)),this},dropRecognizeWith:function(Po){return fo(Po,"dropRecognizeWith",this)?this:(Po=zo(Po,this),delete this.simultaneous[Po.id],this)},requireFailure:function(Po){if(fo(Po,"requireFailure",this))return this;var ko=this.requireFail;return Po=zo(Po,this),wo(ko,Po)===-1&&(ko.push(Po),Po.requireFailure(this)),this},dropRequireFailure:function(Po){if(fo(Po,"dropRequireFailure",this))return this;Po=zo(Po,this);var ko=wo(this.requireFail,Po);return ko>-1&&this.requireFail.splice(ko,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Po){return!!this.simultaneous[Po.id]},emit:function(Po){var ko=this,qo=this.state;function Ws(hu){ko.manager.emit(hu,Po)}qo<Al&&Ws(ko.options.event+_o(qo)),Ws(ko.options.event),Po.additionalEvent&&Ws(Po.additionalEvent),qo>=Al&&Ws(ko.options.event+_o(qo))},tryEmit:function(Po){if(this.canEmit())return this.emit(Po);this.state=rl},canEmit:function(){for(var Po=0;Po<this.requireFail.length;){if(!(this.requireFail[Po].state&(rl|El)))return!1;Po++}return!0},recognize:function(Po){var ko=go({},Po);if(!Ao(this.options.enable,[this,ko])){this.reset(),this.state=rl;return}this.state&(el|gl|rl)&&(this.state=El),this.state=this.process(ko),this.state&(xl|_l|Al|gl)&&this.tryEmit(ko)},process:function(Po){},getTouchAction:function(){},reset:function(){}};function _o(Po){return Po&gl?"cancel":Po&Al?"end":Po&_l?"move":Po&xl?"start":""}function Lo(Po){return Po==$u?"down":Po==Au?"up":Po==su?"left":Po==gu?"right":""}function zo(Po,ko){var qo=ko.manager;return qo?qo.get(Po):Po}function jo(){tl.apply(this,arguments)}ho(jo,tl,{defaults:{pointers:1},attrTest:function(Po){var ko=this.options.pointers;return ko===0||Po.pointers.length===ko},process:function(Po){var ko=this.state,qo=Po.eventType,Ws=ko&(xl|_l),hu=this.attrTest(Po);return Ws&&(qo&ru||!hu)?ko|gl:Ws||hu?qo&ou?ko|Al:ko&xl?ko|_l:xl:rl}});function Wo(){jo.apply(this,arguments),this.pX=null,this.pY=null}ho(Wo,jo,{defaults:{event:"pan",threshold:10,pointers:1,direction:Yo},getTouchAction:function(){var Po=this.options.direction,ko=[];return Po&ku&&ko.push(Cu),Po&Uo&&ko.push(ul),ko},directionTest:function(Po){var ko=this.options,qo=!0,Ws=Po.distance,hu=Po.direction,xu=Po.deltaX,Hu=Po.deltaY;return hu&ko.direction||(ko.direction&ku?(hu=xu===0?nu:xu<0?su:gu,qo=xu!=this.pX,Ws=Math.abs(Po.deltaX)):(hu=Hu===0?nu:Hu<0?Au:$u,qo=Hu!=this.pY,Ws=Math.abs(Po.deltaY))),Po.direction=hu,qo&&Ws>ko.threshold&&hu&ko.direction},attrTest:function(Po){return jo.prototype.attrTest.call(this,Po)&&(this.state&xl||!(this.state&xl)&&this.directionTest(Po))},emit:function(Po){this.pX=Po.deltaX,this.pY=Po.deltaY;var ko=Lo(Po.direction);ko&&(Po.additionalEvent=this.options.event+ko),this._super.emit.call(this,Po)}});function Xo(){jo.apply(this,arguments)}ho(Xo,jo,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Iu]},attrTest:function(Po){return this._super.attrTest.call(this,Po)&&(Math.abs(Po.scale-1)>this.options.threshold||this.state&xl)},emit:function(Po){if(Po.scale!==1){var ko=Po.scale<1?"in":"out";Po.additionalEvent=this.options.event+ko}this._super.emit.call(this,Po)}});function Zs(){tl.apply(this,arguments),this._timer=null,this._input=null}ho(Zs,tl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[cu]},process:function(Po){var ko=this.options,qo=Po.pointers.length===ko.pointers,Ws=Po.distance<ko.threshold,hu=Po.deltaTime>ko.time;if(this._input=Po,!Ws||!qo||Po.eventType&(ou|ru)&&!hu)this.reset();else if(Po.eventType&qs)this.reset(),this._timer=co(function(){this.state=el,this.tryEmit()},ko.time,this);else if(Po.eventType&ou)return el;return rl},reset:function(){clearTimeout(this._timer)},emit:function(Po){this.state===el&&(Po&&Po.eventType&ou?this.manager.emit(this.options.event+"up",Po):(this._input.timeStamp=uo(),this.manager.emit(this.options.event,this._input)))}});function fu(){jo.apply(this,arguments)}ho(fu,jo,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Iu]},attrTest:function(Po){return this._super.attrTest.call(this,Po)&&(Math.abs(Po.rotation)>this.options.threshold||this.state&xl)}});function vu(){jo.apply(this,arguments)}ho(vu,jo,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ku|Uo,pointers:1},getTouchAction:function(){return Wo.prototype.getTouchAction.call(this)},attrTest:function(Po){var ko=this.options.direction,qo;return ko&(ku|Uo)?qo=Po.overallVelocity:ko&ku?qo=Po.overallVelocityX:ko&Uo&&(qo=Po.overallVelocityY),this._super.attrTest.call(this,Po)&&ko&Po.offsetDirection&&Po.distance>this.options.threshold&&Po.maxPointers==this.options.pointers&&so(qo)>this.options.velocity&&Po.eventType&ou},emit:function(Po){var ko=Lo(Po.offsetDirection);ko&&this.manager.emit(this.options.event+ko,Po),this.manager.emit(this.options.event,Po)}});function Js(){tl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}ho(Js,tl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Pu]},process:function(Po){var ko=this.options,qo=Po.pointers.length===ko.pointers,Ws=Po.distance<ko.threshold,hu=Po.deltaTime<ko.time;if(this.reset(),Po.eventType&qs&&this.count===0)return this.failTimeout();if(Ws&&hu&&qo){if(Po.eventType!=ou)return this.failTimeout();var xu=this.pTime?Po.timeStamp-this.pTime<ko.interval:!0,Hu=!this.pCenter||Jo(this.pCenter,Po.center)<ko.posThreshold;this.pTime=Po.timeStamp,this.pCenter=Po.center,!Hu||!xu?this.count=1:this.count+=1,this._input=Po;var nl=this.count%ko.taps;if(nl===0)return this.hasRequireFailures()?(this._timer=co(function(){this.state=el,this.tryEmit()},ko.interval,this),xl):el}return rl},failTimeout:function(){return this._timer=co(function(){this.state=rl},this.options.interval,this),rl},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==el&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function eu(Po,ko){return ko=ko||{},ko.recognizers=Eo(ko.recognizers,eu.defaults.preset),new Wu(Po,ko)}eu.VERSION="2.0.7",eu.defaults={domEvents:!1,touchAction:Xs,enable:!0,inputTarget:null,inputClass:null,preset:[[fu,{enable:!1}],[Xo,{enable:!1},["rotate"]],[vu,{direction:ku}],[Wo,{direction:ku},["swipe"]],[Js],[Js,{event:"doubletap",taps:2},["tap"]],[Zs]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Lu=1,Fu=2;function Wu(Po,ko){this.options=go({},eu.defaults,ko||{}),this.options.inputTarget=this.options.inputTarget||Po,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Po,this.input=_u(this),this.touchAction=new Ml(this,this.options.touchAction),qu(this,!0),po(this.options.recognizers,function(qo){var Ws=this.add(new qo[0](qo[1]));qo[2]&&Ws.recognizeWith(qo[2]),qo[3]&&Ws.requireFailure(qo[3])},this)}Wu.prototype={set:function(Po){return go(this.options,Po),Po.touchAction&&this.touchAction.update(),Po.inputTarget&&(this.input.destroy(),this.input.target=Po.inputTarget,this.input.init()),this},stop:function(Po){this.session.stopped=Po?Fu:Lu},recognize:function(Po){var ko=this.session;if(!ko.stopped){this.touchAction.preventDefaults(Po);var qo,Ws=this.recognizers,hu=ko.curRecognizer;(!hu||hu&&hu.state&el)&&(hu=ko.curRecognizer=null);for(var xu=0;xu<Ws.length;)qo=Ws[xu],ko.stopped!==Fu&&(!hu||qo==hu||qo.canRecognizeWith(hu))?qo.recognize(Po):qo.reset(),!hu&&qo.state&(xl|_l|Al)&&(hu=ko.curRecognizer=qo),xu++}},get:function(Po){if(Po instanceof tl)return Po;for(var ko=this.recognizers,qo=0;qo<ko.length;qo++)if(ko[qo].options.event==Po)return ko[qo];return null},add:function(Po){if(fo(Po,"add",this))return this;var ko=this.get(Po.options.event);return ko&&this.remove(ko),this.recognizers.push(Po),Po.manager=this,this.touchAction.update(),Po},remove:function(Po){if(fo(Po,"remove",this))return this;if(Po=this.get(Po),Po){var ko=this.recognizers,qo=wo(ko,Po);qo!==-1&&(ko.splice(qo,1),this.touchAction.update())}return this},on:function(Po,ko){if(Po!==ro&&ko!==ro){var qo=this.handlers;return po(Mo(Po),function(Ws){qo[Ws]=qo[Ws]||[],qo[Ws].push(ko)}),this}},off:function(Po,ko){if(Po!==ro){var qo=this.handlers;return po(Mo(Po),function(Ws){ko?qo[Ws]&&qo[Ws].splice(wo(qo[Ws],ko),1):delete qo[Ws]}),this}},emit:function(Po,ko){this.options.domEvents&&Ku(Po,ko);var qo=this.handlers[Po]&&this.handlers[Po].slice();if(!(!qo||!qo.length)){ko.type=Po,ko.preventDefault=function(){ko.srcEvent.preventDefault()};for(var Ws=0;Ws<qo.length;)qo[Ws](ko),Ws++}},destroy:function(){this.element&&qu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function qu(Po,ko){var qo=Po.element;if(!!qo.style){var Ws;po(Po.options.cssProps,function(hu,xu){Ws=So(qo.style,xu),ko?(Po.oldCssProps[Ws]=qo.style[Ws],qo.style[Ws]=hu):qo.style[Ws]=Po.oldCssProps[Ws]||""}),ko||(Po.oldCssProps={})}}function Ku(Po,ko){var qo=eo.createEvent("Event");qo.initEvent(Po,!0,!0),qo.gesture=ko,ko.target.dispatchEvent(qo)}go(eu,{INPUT_START:qs,INPUT_MOVE:lu,INPUT_END:ou,INPUT_CANCEL:ru,STATE_POSSIBLE:El,STATE_BEGAN:xl,STATE_CHANGED:_l,STATE_ENDED:Al,STATE_RECOGNIZED:el,STATE_CANCELLED:gl,STATE_FAILED:rl,DIRECTION_NONE:nu,DIRECTION_LEFT:su,DIRECTION_RIGHT:gu,DIRECTION_UP:Au,DIRECTION_DOWN:$u,DIRECTION_HORIZONTAL:ku,DIRECTION_VERTICAL:Uo,DIRECTION_ALL:Yo,Manager:Wu,Input:Su,TouchAction:Ml,TouchInput:yu,MouseInput:al,PointerEventInput:fl,TouchMouseInput:Gu,SingleTouchInput:Go,Recognizer:tl,AttrRecognizer:jo,Tap:Js,Pan:Wo,Swipe:vu,Pinch:Xo,Rotate:fu,Press:Zs,on:To,off:No,each:po,merge:lo,extend:mo,assign:go,inherit:ho,bindFn:yo,prefixed:So});var Zu=typeof _a<"u"?_a:typeof self<"u"?self:{};Zu.Hammer=eu,typeof ro=="function"&&ro.amd?ro(function(){return eu}):va.exports?va.exports=eu:_a[to]=eu})(window,document,"Hammer")})(hammer);var react={},useFiveState,useFiveModelReadyState,useFiveEventCallback,unsafe__useFiveInstance,createFiveProvider,FiveCanvas;Object.defineProperty(react,"__esModule",{value:!0});var e$2=tslib.exports,t$1=react$1.exports,n$3=require$$2$1,r$2=five;function o(va){if(va&&va.__esModule)return va;var _a=Object.create(null);return va&&Object.keys(va).forEach(function(eo){if(eo!=="default"){var to=Object.getOwnPropertyDescriptor(va,eo);Object.defineProperty(_a,eo,to.get?to:{enumerable:!0,get:function(){return va[eo]}})}}),_a.default=va,Object.freeze(_a)}var u$1=o(t$1),i=o(n$3),a=[],f$3=u$1.createContext(null);function s(){var va=u$1.useContext(f$3);if(!va)throw new Error("FiveProvider never found.");return va.five}function c$2(){var va=u$1.useContext(f$3);if(!va)throw new Error("FiveProvider never found.");return va.loadWork}var l$2={display:"inline-block",overflow:"hidden"};function d$2(va,_a){var eo=s(),to=[eo];_a!==void 0&&(to=to.concat(_a)),u$1.useLayoutEffect(function(){return va(eo.scene)},to)}var v$2=d$2;function p$3(va){return e$2.__assign({},va.state)}function h$3(va){var _a=va.camera.getWorldDirection(new i.Vector3);return new i.Raycaster(va.camera.position,_a)}function m$3(va){return va.camera.getWorldDirection(new i.Vector3)}function y$2(va){return va.model.empty?"Empty":"Loaded"}function S(va,_a){return _a.indexOf(va)>=0}function g$3(va,_a){for(var eo=0,to=Object.keys(_a);eo<to.length;eo++){var ro=to[eo];_a[ro]!==void 0&&(va[ro]=_a[ro])}}function C$1(va,_a){if(S("loadWork",_a))return va}function b$2(va,_a){if(S("setState",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.setState.apply(va,eo)}}function w$2(va,_a){if(S("on",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.on.apply(va,eo)}}function E$1(va,_a){if(S("on",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.once.apply(va,eo)}}function k$2(va,_a){if(S("off",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.off.apply(va,eo)}}function x$2(va,_a){if(S("intersectRaycaster",_a))return function(){for(var eo,to=[],ro=0;ro<arguments.length;ro++)to[ro]=arguments[ro];return(eo=va.model).intersectRaycaster.apply(eo,to)}}function L(va,_a){if(S("project2d",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.project2d.apply(va,eo)}}function F$1(va,_a){if(S("updateCamera",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.updateCamera.apply(va,eo)}}function _$1(va,_a){if(S("initBasisLoader",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.initBasisLoader.apply(va,eo)}}function P(va,_a){if(S("getPixels",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.getPixels.apply(va,eo)}}function R(va,_a){if(S("render",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.render.apply(va,eo)}}function V(va,_a){if(S("needsRender",_a))return function(){va.needsRender=!0}}function M(va,_a){if(S("preloadPano",_a))return function(){for(var eo=[],to=0;to<arguments.length;to++)eo[to]=arguments[to];return va.preloadPano.apply(va,eo)}}function W(va,_a){if(S("showFloor",_a))return function(eo){typeof eo=="number"?va.model.show(eo):va.model.show()}}function O(va,_a){if(S("toggleHelperVisible",_a))return function(eo){va.helperVisible=eo}}function j(va,_a){for(var eo={},to=_a.length,ro=-1;++ro<to;){var no=_a[ro];no in va&&(eo[no]=va[no])}return eo}function N(va,_a){for(var eo=0;eo<va.length;eo++)for(var to=0;to<_a.length;to++)if(va[eo]===_a[to])return!0;return!1}var A$2=function(){function va(_a,eo){this.values=_a,this.listeners=[],this.onValuesChange=eo}return va.prototype.on=function(_a,eo){var to=this,ro=[_a,eo];return this.listeners.push(ro),function(){var no=to.listeners.indexOf(ro);no>=0&&to.listeners.splice(no,1)}},va.prototype.getValues=function(_a){return j(this.values,_a)},va.prototype.setValues=function(_a,eo){var to,ro,no=[];for(var io in eo)_a.indexOf(io)>=0&&(to=eo[io],ro=this.values[io],!(typeof to=="number"&&typeof ro=="number"&&isNaN(to)&&isNaN(ro)||to===ro))&&no.push(io);if(no.length!==0){for(var ao=e$2.__assign({},this.values),oo=0,so=no;oo<so.length;oo++){var uo=so[oo];this.values[uo]=eo[uo]}this.onValuesChange&&this.onValuesChange(this.values,ao);for(var co=0,fo=this.listeners;co<fo.length;co++){var po=fo[co],vo=po[0],go=po[1];if(N(vo,no)){var mo=j(ao,vo);go(j(this.values,vo),mo)}}}},va}();FiveCanvas=react.FiveCanvas=function(va){var _a=va.width,eo=va.height,to=s(),ro=u$1.createRef(),no=e$2.__assign({width:_a,height:eo},l$2);return u$1.useLayoutEffect(function(){if(ro.current&&to.renderer){if(to.renderer.domElement.parentNode!==null&&to.renderer.domElement.parentNode!==ro.current)throw new Error("There are more than 2 fiveCanvas in this context.");to.renderer.domElement.parentNode!==ro.current&&ro.current.appendChild(to.renderer.domElement),to.camera.aspect=_a/eo,to.camera.updateProjectionMatrix(),to.renderer.setSize(_a,eo),to.needsRender=!0}},[_a,eo,ro.current]),u$1.createElement("div",{ref:ro,style:no})},react.INJECTION_PROPNAME="$five",react.Store=A$2,react.createFiveFeature=function(){for(var va=[],_a=0;_a<arguments.length;_a++)va[_a]=arguments[_a];return va},createFiveProvider=react.createFiveProvider=function(va){return va===void 0&&(va={}),function(_a){function eo(to){var ro,no=_a.call(this,to)||this,io=function(ao){var oo=ao===void 0?{}:ao,so=oo.backgroundColor,uo=so===void 0?1579548:so,co=oo.backgroundAlpha,fo=co===void 0?1:co,po=oo.pixelRatio,vo=po===void 0?1:po;if(typeof window<"u"){var go=a.shift();return go||((go=new i.WebGLRenderer({antialias:!1,alpha:!0})).outputEncoding=i.sRGBEncoding),go.setPixelRatio(vo),go.setClearColor(uo,fo),go.autoClear=!0,go}}({pixelRatio:r$2.getViewportScale()===1?window.devicePixelRatio:1});return no.five=new r$2.Five(e$2.__assign({renderer:io},va)),(to.work||to.initialWork)&&no.five.load(to.work||to.initialWork,to.initialState,void 0,(ro=to.initialUserAction)===null||ro===void 0||ro),no.five.on("load",function(){var ao;no.props.onWorkChange&&no.props.onWorkChange((ao=no.five)===null||ao===void 0?void 0:ao.work)}),no.five.on("stateChange",function(ao,oo){no.props.onStateChange&&no.props.onStateChange(ao,oo)}),no.five.on("currentStateChange",function(ao,oo){no.props.onCurrentStateChange&&no.props.onCurrentStateChange(ao,oo)}),no.five.on("error",function(ao){no.props.onError?no.props.onError(ao):console.warn(ao.message)}),no}return e$2.__extends(eo,_a),eo.prototype.loadWork=function(to,ro,no,io){if(io===void 0&&(io=!0),this.props.work)throw new Error("props 'work' is set in fiveProvider, if you need modify work internal, use 'initialWork' instead.");return this.five.load(to,ro,no,io)},eo.prototype.shouldComponentUpdate=function(to){var ro,no;return to.work&&to.work!==((ro=this.five)===null||ro===void 0?void 0:ro.work)&&((no=this.five)===null||no===void 0||no.load(to.work,to.initialState)),!0},eo.prototype.componentWillUnmount=function(){var to;this.five&&(this.five.dispose(),(to=this.five.renderer)&&a.indexOf(to)===-1&&a.push(to),delete this.five)},eo.prototype.render=function(){var to=this;return u$1.createElement(f$3.Provider,{value:{five:this.five,loadWork:function(){for(var ro=[],no=0;no<arguments.length;no++)ro[no]=arguments[no];return to.loadWork.apply(to,ro)}}},this.props.children)},eo}(u$1.Component)},react.createStore=function(va){var _a=u$1.createContext(null);return{useStore:function(eo){var to=u$1.useContext(_a);if(to===null)throw new Error("StoreProvider never found.");var ro=u$1.useRef(!0),no=u$1.useState(to.getValues(eo)),io=no[0],ao=no[1],oo=e$2.__spreadArray([to],eo,!0);return u$1.useLayoutEffect(function(){return ro.current?ro.current=!1:ao(to.getValues(eo)),to.on(eo,function(so){return ao(so)})},oo),[io,u$1.useCallback(function(so){return to.setValues(eo,so)},oo)]},useStoreSetter:function(eo){var to=u$1.useContext(_a);if(to===null)throw new Error("StoreProvider never found.");return u$1.useCallback(function(ro){return to.setValues(eo,ro)},e$2.__spreadArray([to],eo,!0))},watchStore:function(eo,to,ro){var no=u$1.useContext(_a);if(no===null)throw new Error("StoreProvider never found.");var io=e$2.__spreadArray([no],eo,!0);ro!==void 0&&(io=io.concat(ro)),u$1.useLayoutEffect(function(){return no.on(eo,to)},io)},useStoreAction:function(eo){var to=u$1.useContext(_a);if(to===null)throw new Error("StoreProvider never found.");return u$1.useCallback(function(){for(var ro=[],no=0;no<arguments.length;no++)ro[no]=arguments[no];var io=va[eo],ao=io[0],oo=io.slice(1),so=function(){return to.getValues(oo)},uo=function(co){return to.setValues(oo,co)};return ao.apply(void 0,e$2.__spreadArray([so,uo],ro,!1))},[])},StoreProvider:function(eo){function to(ro){var no=eo.call(this,ro)||this;return no.store=new A$2(ro.initialValue,function(){for(var io,ao=[],oo=0;oo<arguments.length;oo++)ao[oo]=arguments[oo];no.props.onValuesChange&&(io=no.props).onValuesChange.apply(io,ao)}),no}return e$2.__extends(to,eo),to.prototype.shouldComponentUpdate=function(ro){return ro.children!==this.props.children},to.prototype.render=function(){return u$1.createElement(_a.Provider,{value:this.store},this.props.children)},to}(u$1.Component)}},unsafe__useFiveInstance=react.unsafe__useFiveInstance=function(){return s()},react.useFiveAction=function(){var va=s();return{updateCamera:u$1.useCallback(function(_a,eo){return va.updateCamera(_a,eo)},[va]),initBasisLoader:u$1.useCallback(function(_a){return va.initBasisLoader(_a)},[va]),getPixels:u$1.useCallback(function(_a,eo,to,ro,no){return va.getPixels(_a,eo,to,ro,no)},[va]),render:u$1.useCallback(function(_a){return va.render(_a)},[va]),needsRender:u$1.useCallback(function(){return va.needsRender=!0},[va]),preloadPano:u$1.useCallback(function(_a,eo){return va.preloadPano(_a,eo)},[va])}},react.useFiveCameraDirection=function(){var va=s(),_a=u$1.useState(function(){return m$3(va)}),eo=_a[0],to=_a[1];return u$1.useLayoutEffect(function(){return va.on("cameraUpdate",function(){return to(m$3(va))})},[va]),eo},react.useFiveCameraRaycaster=function(){var va=s(),_a=u$1.useState(function(){return h$3(va)}),eo=_a[0],to=_a[1];return u$1.useLayoutEffect(function(){return va.on("cameraUpdate",function(){return to(h$3(va))})},[va]),eo},react.useFiveCurrentObserver=function(){var va=s(),_a=u$1.useState(function(){return va.getCurrentState()}),eo=_a[0],to=_a[1];return u$1.useLayoutEffect(function(){return va.on("currentStateChange",function(){return to(va.getCurrentState())})},[va]),va.work?va.work.observers[eo.panoIndex]:null},react.useFiveCurrentState=function(){var va=s(),_a=u$1.useState(function(){return va.getCurrentState()}),eo=_a[0],to=_a[1],ro=u$1.useCallback(function(no,io,ao){io===void 0&&(io=!1),ao===void 0&&(ao=!0);var oo=typeof no=="function"?no(va.getCurrentState()):no;va.setState(oo,io,ao)},[va]);return u$1.useLayoutEffect(function(){return va.on("currentStateChange",function(){return to(va.getCurrentState())})},[va]),[eo,ro]},useFiveEventCallback=react.useFiveEventCallback=function(va,_a,eo){var to=s(),ro=[to,va];eo!==void 0&&(ro=ro.concat(eo)),u$1.useLayoutEffect(function(){return to.on(va,_a)},ro)},react.useFiveFloor=function(){var va=s(),_a=u$1.useState(va.model.shownFloor),eo=_a[0],to=_a[1],ro=u$1.useState(va.model.floorLength),no=ro[0],io=ro[1],ao=u$1.useCallback(function(oo){typeof oo=="number"?va.model.show(oo):va.model.show()},[va]);return u$1.useLayoutEffect(function(){var oo=[];return oo.push(va.on("modelShownFloorChange",function(){return to(va.model.shownFloor)})),oo.push(va.on("modelLoaded",function(){return io(va.model.floorLength)})),function(){for(var so;so=oo.shift();)so()}},[va]),[eo,no,ao]},react.useFiveHelper=function(){var va=s(),_a=u$1.useState(va.helperVisible),eo=_a[0],to=_a[1],ro=u$1.useCallback(function(no){va.helperVisible=no},[va]);return u$1.useLayoutEffect(function(){return va.on("helpersVisibleChange",function(no){return to(no)})},[va]),[eo,ro]},react.useFiveModelIntersectRaycaster=function(){var va=s();return u$1.useCallback(function(_a){return va.model.intersectRaycaster(_a)},[va])},useFiveModelReadyState=react.useFiveModelReadyState=function(){var va=s(),_a=u$1.useState(function(){return y$2(va)}),eo=_a[0],to=_a[1];return u$1.useLayoutEffect(function(){return va.on("modelLoaded",function(){return to(y$2(va))})},[va]),eo},react.useFiveProject2d=function(){var va=s(),_a=u$1.useState(function(){return Symbol()});_a[0];var eo=_a[1];return u$1.useLayoutEffect(function(){return va.on("cameraUpdate",function(){return eo(Symbol())})},[va]),u$1.useCallback(function(to,ro){return va.project2d(to,ro)},[va])},react.useFiveScene=v$2,react.useFiveSceneEffect=d$2,useFiveState=react.useFiveState=function(){var va=s(),_a=u$1.useState(function(){return p$3(va)}),eo=_a[0],to=_a[1],ro=u$1.useCallback(function(no,io,ao){io===void 0&&(io=!1),ao===void 0&&(ao=!0);var oo=typeof no=="function"?no(va.getCurrentState()):no;va.setState(oo,io,ao)},[va]);return u$1.useLayoutEffect(function(){return va.on("stateChange",function(){return to(p$3(va))})},[va]),[eo,ro]},react.useFiveWork=function(){var va=s(),_a=c$2(),eo=u$1.useState(function(){return va.work}),to=eo[0],ro=eo[1];return u$1.useLayoutEffect(function(){return va.on("load",function(){return ro(va.work)})},[va]),[to,_a]},react.withFive=function(va){return function(_a){return u$1.forwardRef(function(eo,to){var ro=s(),no=c$2(),io=function(qs,lu){return[S("unsafe__fiveInstance",lu)?qs:void 0]}(ro,va)[0],ao=function(qs,lu){var ou=S("state",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return e$2.__assign({},qs.state)},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("stateChange",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),oo=ao[0],so=ao[1],uo=function(qs,lu){var ou=S("currentState",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.getCurrentState()},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("currentStateChange",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),co=uo[0],fo=uo[1],po=function(qs,lu){var ou=S("currentObserver",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.getCurrentState()},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("currentStateChange",function(){return su(Symbol())})},[qs]),[gu?qs.work?qs.work.observers[gu.panoIndex]:null:void 0,nu]}(ro,va),vo=po[0],go=po[1],mo=function(qs,lu){var ou=S("work",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.work},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("load",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),lo=mo[0],ho=mo[1],yo=function(qs,lu){var ou=S("model",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.model},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("modelLoaded",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),Ao=yo[0],Eo=yo[1],To=function(qs,lu){return[S("scene",lu)?qs.scene:void 0]}(ro,va)[0],No=function(qs,lu){var ou=S("cameraDirection",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.camera.getWorldDirection(new i.Vector3)},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("cameraUpdate",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),Co=No[0],Io=No[1],Mo=function(qs,lu){var ou=S("cameraRaycaster",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou){var Au=qs.camera.getWorldDirection(new i.Vector3);return new i.Raycaster(qs.camera.position,Au)}},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("cameraUpdate",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),wo=Mo[0],xo=Mo[1],bo=function(qs,lu){var ou=S("modelReadyState",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.model.empty?"Empty":"Loaded"},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("modelLoaded",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),So=bo[0],Do=bo[1],Oo=function(qs,lu){var ou=S("shownFloor",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.model.shownFloor},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("modelShownFloorChange",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),Bo=Oo[0],$o=Oo[1],Vo=function(qs,lu){var ou=S("totalFloorLength",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.model.hasFloors()},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("modelLoaded",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),Ho=Vo[0],Fo=Vo[1],Ko=function(qs,lu){var ou=S("helperVisible",lu),ru=u$1.useState(Symbol()),nu=ru[0],su=ru[1],gu=u$1.useMemo(function(){if(ou)return qs.helperVisible},[qs,nu]);return u$1.useLayoutEffect(function(){if(ou)return qs.on("helpersVisibleChange",function(){return su(Symbol())})},[qs]),[gu,nu]}(ro,va),$s=Ko[0],au=Ko[1],Ks=u$1.useMemo(function(){var qs={};return g$3(qs,{setState:b$2(ro,va),loadWork:C$1(no,va),on:w$2(ro,va),once:E$1(ro,va),off:k$2(ro,va),intersectRaycaster:x$2(ro,va),project2d:L(ro,va),updateCamera:F$1(ro,va),initBasisLoader:_$1(ro,va),getPixels:P(ro,va),render:R(ro,va),needsRender:V(ro,va),preloadPano:M(ro,va),showFloor:W(ro,va),toggleHelperVisible:O(ro,va)}),qs},[ro,no]),Gs=u$1.useMemo(function(){var qs=e$2.__assign({},Ks);return g$3(qs,{unsafe__fiveInstance:io,state:oo,currentState:co,currentObserver:vo,work:lo,model:Ao,scene:To,cameraDirection:Co,cameraRaycaster:wo,modelReadyState:So,shownFloor:Bo,totalFloorLength:Ho,helperVisible:$s}),qs},[ro,Ks,so,fo,go,ho,Eo,Io,xo,Do,$o,Fo,au]);return u$1.createElement(_a,e$2.__assign({ref:to,$five:Gs},eo))})}};const common={black:"#000",white:"#fff"};var common$1=common;const red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var red$1=red;const purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var purple$1=purple;const blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var blue$1=blue;const lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var lightBlue$1=lightBlue;const green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var green$1=green;const orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var orange$1=orange;const grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var grey$1=grey;function _extends(){return _extends=Object.assign||function(va){for(var _a=1;_a<arguments.length;_a++){var eo=arguments[_a];for(var to in eo)Object.prototype.hasOwnProperty.call(eo,to)&&(va[to]=eo[to])}return va},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(va,_a){if(va==null)return{};var eo={},to=Object.keys(va),ro,no;for(no=0;no<to.length;no++)ro=to[no],!(_a.indexOf(ro)>=0)&&(eo[ro]=va[ro]);return eo}function memoize$1(va){var _a=Object.create(null);return function(eo){return _a[eo]===void 0&&(_a[eo]=va(eo)),_a[eo]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(va){return reactPropsRegex.test(va)||va.charCodeAt(0)===111&&va.charCodeAt(1)===110&&va.charCodeAt(2)<91});function sheetForTag(va){if(va.sheet)return va.sheet;for(var _a=0;_a<document.styleSheets.length;_a++)if(document.styleSheets[_a].ownerNode===va)return document.styleSheets[_a]}function createStyleElement(va){var _a=document.createElement("style");return _a.setAttribute("data-emotion",va.key),va.nonce!==void 0&&_a.setAttribute("nonce",va.nonce),_a.appendChild(document.createTextNode("")),_a.setAttribute("data-s",""),_a}var StyleSheet=function(){function va(eo){var to=this;this._insertTag=function(ro){var no;to.tags.length===0?to.insertionPoint?no=to.insertionPoint.nextSibling:to.prepend?no=to.container.firstChild:no=to.before:no=to.tags[to.tags.length-1].nextSibling,to.container.insertBefore(ro,no),to.tags.push(ro)},this.isSpeedy=eo.speedy===void 0?!0:eo.speedy,this.tags=[],this.ctr=0,this.nonce=eo.nonce,this.key=eo.key,this.container=eo.container,this.prepend=eo.prepend,this.insertionPoint=eo.insertionPoint,this.before=null}var _a=va.prototype;return _a.hydrate=function(to){to.forEach(this._insertTag)},_a.insert=function(to){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var ro=this.tags[this.tags.length-1];if(this.isSpeedy){var no=sheetForTag(ro);try{no.insertRule(to,no.cssRules.length)}catch{}}else ro.appendChild(document.createTextNode(to));this.ctr++},_a.flush=function(){this.tags.forEach(function(to){return to.parentNode&&to.parentNode.removeChild(to)}),this.tags=[],this.ctr=0},va}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(va,_a){return(((_a<<2^charat(va,0))<<2^charat(va,1))<<2^charat(va,2))<<2^charat(va,3)}function trim(va){return va.trim()}function match(va,_a){return(va=_a.exec(va))?va[0]:va}function replace(va,_a,eo){return va.replace(_a,eo)}function indexof(va,_a){return va.indexOf(_a)}function charat(va,_a){return va.charCodeAt(_a)|0}function substr(va,_a,eo){return va.slice(_a,eo)}function strlen(va){return va.length}function sizeof(va){return va.length}function append(va,_a){return _a.push(va),va}function combine(va,_a){return va.map(_a).join("")}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(va,_a,eo,to,ro,no,io){return{value:va,root:_a,parent:eo,type:to,props:ro,children:no,line,column,length:io,return:""}}function copy(va,_a){return assign(node("",null,null,"",null,null,0),va,{length:-va.length},_a)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(va,_a){return substr(characters,va,_a)}function token(va){switch(va){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(va){return line=column=1,length=strlen(characters=va),position$1=0,[]}function dealloc(va){return characters="",va}function delimit(va){return trim(slice(position$1-1,delimiter(va===91?va+2:va===40?va+1:va)))}function whitespace(va){for(;(character=peek())&&character<33;)next();return token(va)>2||token(character)>3?"":" "}function escaping(va,_a){for(;--_a&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(va,caret()+(_a<6&&peek()==32&&next()==32))}function delimiter(va){for(;next();)switch(character){case va:return position$1;case 34:case 39:va!==34&&va!==39&&delimiter(character);break;case 40:va===41&&delimiter(va);break;case 92:next();break}return position$1}function commenter(va,_a){for(;next()&&va+character!==47+10;)if(va+character===42+42&&peek()===47)break;return"/*"+slice(_a,position$1-1)+"*"+from(va===47?va:next())}function identifier(va){for(;!token(peek());)next();return slice(va,position$1)}function compile(va){return dealloc(parse("",null,null,null,[""],va=alloc(va),0,[0],va))}function parse(va,_a,eo,to,ro,no,io,ao,oo){for(var so=0,uo=0,co=io,fo=0,po=0,vo=0,go=1,mo=1,lo=1,ho=0,yo="",Ao=ro,Eo=no,To=to,No=yo;mo;)switch(vo=ho,ho=next()){case 40:if(vo!=108&&No.charCodeAt(co-1)==58){indexof(No+=replace(delimit(ho),"&","&\f"),"&\f")!=-1&&(lo=-1);break}case 34:case 39:case 91:No+=delimit(ho);break;case 9:case 10:case 13:case 32:No+=whitespace(vo);break;case 92:No+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),_a,eo),oo);break;default:No+="/"}break;case 123*go:ao[so++]=strlen(No)*lo;case 125*go:case 59:case 0:switch(ho){case 0:case 125:mo=0;case 59+uo:po>0&&strlen(No)-co&&append(po>32?declaration(No+";",to,eo,co-1):declaration(replace(No," ","")+";",to,eo,co-2),oo);break;case 59:No+=";";default:if(append(To=ruleset(No,_a,eo,so,uo,ro,ao,yo,Ao=[],Eo=[],co),no),ho===123)if(uo===0)parse(No,_a,To,To,Ao,no,co,ao,Eo);else switch(fo){case 100:case 109:case 115:parse(va,To,To,to&&append(ruleset(va,To,To,0,0,ro,ao,yo,ro,Ao=[],co),Eo),ro,Eo,co,ao,to?Ao:Eo);break;default:parse(No,To,To,To,[""],Eo,0,ao,Eo)}}so=uo=po=0,go=lo=1,yo=No="",co=io;break;case 58:co=1+strlen(No),po=vo;default:if(go<1){if(ho==123)--go;else if(ho==125&&go++==0&&prev()==125)continue}switch(No+=from(ho),ho*go){case 38:lo=uo>0?1:(No+="\f",-1);break;case 44:ao[so++]=(strlen(No)-1)*lo,lo=1;break;case 64:peek()===45&&(No+=delimit(next())),fo=peek(),uo=co=strlen(yo=No+=identifier(caret())),ho++;break;case 45:vo===45&&strlen(No)==2&&(go=0)}}return no}function ruleset(va,_a,eo,to,ro,no,io,ao,oo,so,uo){for(var co=ro-1,fo=ro===0?no:[""],po=sizeof(fo),vo=0,go=0,mo=0;vo<to;++vo)for(var lo=0,ho=substr(va,co+1,co=abs(go=io[vo])),yo=va;lo<po;++lo)(yo=trim(go>0?fo[lo]+" "+ho:replace(ho,/&\f/g,fo[lo])))&&(oo[mo++]=yo);return node(va,_a,eo,ro===0?RULESET:ao,oo,so,uo)}function comment(va,_a,eo){return node(va,_a,eo,COMMENT,from(char()),substr(va,2,-2),0)}function declaration(va,_a,eo,to){return node(va,_a,eo,DECLARATION,substr(va,0,to),substr(va,to+1,-1),to)}function prefix(va,_a){switch(hash(va,_a)){case 5103:return WEBKIT+"print-"+va+va;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+va+va;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+va+MOZ+va+MS+va+va;case 6828:case 4268:return WEBKIT+va+MS+va+va;case 6165:return WEBKIT+va+MS+"flex-"+va+va;case 5187:return WEBKIT+va+replace(va,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+va;case 5443:return WEBKIT+va+MS+"flex-item-"+replace(va,/flex-|-self/,"")+va;case 4675:return WEBKIT+va+MS+"flex-line-pack"+replace(va,/align-content|flex-|-self/,"")+va;case 5548:return WEBKIT+va+MS+replace(va,"shrink","negative")+va;case 5292:return WEBKIT+va+MS+replace(va,"basis","preferred-size")+va;case 6060:return WEBKIT+"box-"+replace(va,"-grow","")+WEBKIT+va+MS+replace(va,"grow","positive")+va;case 4554:return WEBKIT+replace(va,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+va;case 6187:return replace(replace(replace(va,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),va,"")+va;case 5495:case 3959:return replace(va,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(va,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+va+va;case 4095:case 3583:case 4068:case 2532:return replace(va,/(.+)-inline(.+)/,WEBKIT+"$1$2")+va;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(va)-1-_a>6)switch(charat(va,_a+1)){case 109:if(charat(va,_a+4)!==45)break;case 102:return replace(va,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(va,_a+3)==108?"$3":"$2-$3"))+va;case 115:return~indexof(va,"stretch")?prefix(replace(va,"stretch","fill-available"),_a)+va:va}break;case 4949:if(charat(va,_a+1)!==115)break;case 6444:switch(charat(va,strlen(va)-3-(~indexof(va,"!important")&&10))){case 107:return replace(va,":",":"+WEBKIT)+va;case 101:return replace(va,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(va,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+va}break;case 5936:switch(charat(va,_a+11)){case 114:return WEBKIT+va+MS+replace(va,/[svh]\w+-[tblr]{2}/,"tb")+va;case 108:return WEBKIT+va+MS+replace(va,/[svh]\w+-[tblr]{2}/,"tb-rl")+va;case 45:return WEBKIT+va+MS+replace(va,/[svh]\w+-[tblr]{2}/,"lr")+va}return WEBKIT+va+MS+va+va}return va}function serialize(va,_a){for(var eo="",to=sizeof(va),ro=0;ro<to;ro++)eo+=_a(va[ro],ro,va,_a)||"";return eo}function stringify(va,_a,eo,to){switch(va.type){case IMPORT:case DECLARATION:return va.return=va.return||va.value;case COMMENT:return"";case KEYFRAMES:return va.return=va.value+"{"+serialize(va.children,to)+"}";case RULESET:va.value=va.props.join(",")}return strlen(eo=serialize(va.children,to))?va.return=va.value+"{"+eo+"}":""}function middleware(va){var _a=sizeof(va);return function(eo,to,ro,no){for(var io="",ao=0;ao<_a;ao++)io+=va[ao](eo,to,ro,no)||"";return io}}function rulesheet(va){return function(_a){_a.root||(_a=_a.return)&&va(_a)}}function prefixer(va,_a,eo,to){if(va.length>-1&&!va.return)switch(va.type){case DECLARATION:va.return=prefix(va.value,va.length);break;case KEYFRAMES:return serialize([copy(va,{value:replace(va.value,"@","@"+WEBKIT)})],to);case RULESET:if(va.length)return combine(va.props,function(ro){switch(match(ro,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(va,{props:[replace(ro,/:(read-\w+)/,":"+MOZ+"$1")]})],to);case"::placeholder":return serialize([copy(va,{props:[replace(ro,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(va,{props:[replace(ro,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(va,{props:[replace(ro,/:(plac\w+)/,MS+"input-$1")]})],to)}return""})}}var identifierWithPointTracking=function va(_a,eo,to){for(var ro=0,no=0;ro=no,no=peek(),ro===38&&no===12&&(eo[to]=1),!token(no);)next();return slice(_a,position$1)},toRules=function va(_a,eo){var to=-1,ro=44;do switch(token(ro)){case 0:ro===38&&peek()===12&&(eo[to]=1),_a[to]+=identifierWithPointTracking(position$1-1,eo,to);break;case 2:_a[to]+=delimit(ro);break;case 4:if(ro===44){_a[++to]=peek()===58?"&\f":"",eo[to]=_a[to].length;break}default:_a[to]+=from(ro)}while(ro=next());return _a},getRules=function va(_a,eo){return dealloc(toRules(alloc(_a),eo))},fixedElements=new WeakMap,compat=function va(_a){if(!(_a.type!=="rule"||!_a.parent||_a.length<1)){for(var eo=_a.value,to=_a.parent,ro=_a.column===to.column&&_a.line===to.line;to.type!=="rule";)if(to=to.parent,!to)return;if(!(_a.props.length===1&&eo.charCodeAt(0)!==58&&!fixedElements.get(to))&&!ro){fixedElements.set(_a,!0);for(var no=[],io=getRules(eo,no),ao=to.props,oo=0,so=0;oo<io.length;oo++)for(var uo=0;uo<ao.length;uo++,so++)_a.props[so]=no[oo]?io[oo].replace(/&\f/g,ao[uo]):ao[uo]+" "+io[oo]}}},removeLabel=function va(_a){if(_a.type==="decl"){var eo=_a.value;eo.charCodeAt(0)===108&&eo.charCodeAt(2)===98&&(_a.return="",_a.value="")}},defaultStylisPlugins=[prefixer],createCache=function va(_a){var eo=_a.key;if(eo==="css"){var to=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(to,function(go){var mo=go.getAttribute("data-emotion");mo.indexOf(" ")!==-1&&(document.head.appendChild(go),go.setAttribute("data-s",""))})}var ro=_a.stylisPlugins||defaultStylisPlugins,no={},io,ao=[];io=_a.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+eo+' "]'),function(go){for(var mo=go.getAttribute("data-emotion").split(" "),lo=1;lo<mo.length;lo++)no[mo[lo]]=!0;ao.push(go)});var oo,so=[compat,removeLabel];{var uo,co=[stringify,rulesheet(function(go){uo.insert(go)})],fo=middleware(so.concat(ro,co)),po=function(mo){return serialize(compile(mo),fo)};oo=function(mo,lo,ho,yo){uo=ho,po(mo?mo+"{"+lo.styles+"}":lo.styles),yo&&(vo.inserted[lo.name]=!0)}}var vo={key:eo,sheet:new StyleSheet({key:eo,container:io,nonce:_a.nonce,speedy:_a.speedy,prepend:_a.prepend,insertionPoint:_a.insertionPoint}),nonce:_a.nonce,inserted:no,registered:{},insert:oo};return vo.sheet.hydrate(ao),vo},reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$2=b$1?Symbol.for("react.strict_mode"):60108,g$2=b$1?Symbol.for("react.profiler"):60114,h$2=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l$1=b$1?Symbol.for("react.async_mode"):60111,m$2=b$1?Symbol.for("react.concurrent_mode"):60111,n$2=b$1?Symbol.for("react.forward_ref"):60112,p$2=b$1?Symbol.for("react.suspense"):60113,q$2=b$1?Symbol.for("react.suspense_list"):60120,r$1=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(va){if(typeof va=="object"&&va!==null){var _a=va.$$typeof;switch(_a){case c$1:switch(va=va.type,va){case l$1:case m$2:case e$1:case g$2:case f$2:case p$2:return va;default:switch(va=va&&va.$$typeof,va){case k$1:case n$2:case t:case r$1:case h$2:return va;default:return _a}}case d$1:return _a}}}function A$1(va){return z$1(va)===m$2}reactIs_production_min$1.AsyncMode=l$1;reactIs_production_min$1.ConcurrentMode=m$2;reactIs_production_min$1.ContextConsumer=k$1;reactIs_production_min$1.ContextProvider=h$2;reactIs_production_min$1.Element=c$1;reactIs_production_min$1.ForwardRef=n$2;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$1;reactIs_production_min$1.Profiler=g$2;reactIs_production_min$1.StrictMode=f$2;reactIs_production_min$1.Suspense=p$2;reactIs_production_min$1.isAsyncMode=function(va){return A$1(va)||z$1(va)===l$1};reactIs_production_min$1.isConcurrentMode=A$1;reactIs_production_min$1.isContextConsumer=function(va){return z$1(va)===k$1};reactIs_production_min$1.isContextProvider=function(va){return z$1(va)===h$2};reactIs_production_min$1.isElement=function(va){return typeof va=="object"&&va!==null&&va.$$typeof===c$1};reactIs_production_min$1.isForwardRef=function(va){return z$1(va)===n$2};reactIs_production_min$1.isFragment=function(va){return z$1(va)===e$1};reactIs_production_min$1.isLazy=function(va){return z$1(va)===t};reactIs_production_min$1.isMemo=function(va){return z$1(va)===r$1};reactIs_production_min$1.isPortal=function(va){return z$1(va)===d$1};reactIs_production_min$1.isProfiler=function(va){return z$1(va)===g$2};reactIs_production_min$1.isStrictMode=function(va){return z$1(va)===f$2};reactIs_production_min$1.isSuspense=function(va){return z$1(va)===p$2};reactIs_production_min$1.isValidElementType=function(va){return typeof va=="string"||typeof va=="function"||va===e$1||va===m$2||va===g$2||va===f$2||va===p$2||va===q$2||typeof va=="object"&&va!==null&&(va.$$typeof===t||va.$$typeof===r$1||va.$$typeof===h$2||va.$$typeof===k$1||va.$$typeof===n$2||va.$$typeof===w$1||va.$$typeof===x$1||va.$$typeof===y$1||va.$$typeof===v$1)};reactIs_production_min$1.typeOf=z$1;reactIs$1.exports=reactIs_production_min$1;var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(va,_a,eo){var to="";return eo.split(" ").forEach(function(ro){va[ro]!==void 0?_a.push(va[ro]+";"):to+=ro+" "}),to}var registerStyles=function va(_a,eo,to){var ro=_a.key+"-"+eo.name;(to===!1||isBrowser===!1)&&_a.registered[ro]===void 0&&(_a.registered[ro]=eo.styles)},insertStyles=function va(_a,eo,to){registerStyles(_a,eo,to);var ro=_a.key+"-"+eo.name;if(_a.inserted[eo.name]===void 0){var no=eo;do _a.insert(eo===no?"."+ro:"",no,_a.sheet,!0),no=no.next;while(no!==void 0)}};function murmur2(va){for(var _a=0,eo,to=0,ro=va.length;ro>=4;++to,ro-=4)eo=va.charCodeAt(to)&255|(va.charCodeAt(++to)&255)<<8|(va.charCodeAt(++to)&255)<<16|(va.charCodeAt(++to)&255)<<24,eo=(eo&65535)*1540483477+((eo>>>16)*59797<<16),eo^=eo>>>24,_a=(eo&65535)*1540483477+((eo>>>16)*59797<<16)^(_a&65535)*1540483477+((_a>>>16)*59797<<16);switch(ro){case 3:_a^=(va.charCodeAt(to+2)&255)<<16;case 2:_a^=(va.charCodeAt(to+1)&255)<<8;case 1:_a^=va.charCodeAt(to)&255,_a=(_a&65535)*1540483477+((_a>>>16)*59797<<16)}return _a^=_a>>>13,_a=(_a&65535)*1540483477+((_a>>>16)*59797<<16),((_a^_a>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function va(_a){return _a.charCodeAt(1)===45},isProcessableValue=function va(_a){return _a!=null&&typeof _a!="boolean"},processStyleName=memoize$1(function(va){return isCustomProperty(va)?va:va.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function va(_a,eo){switch(_a){case"animation":case"animationName":if(typeof eo=="string")return eo.replace(animationRegex,function(to,ro,no){return cursor={name:ro,styles:no,next:cursor},ro})}return unitlessKeys[_a]!==1&&!isCustomProperty(_a)&&typeof eo=="number"&&eo!==0?eo+"px":eo};function handleInterpolation(va,_a,eo){if(eo==null)return"";if(eo.__emotion_styles!==void 0)return eo;switch(typeof eo){case"boolean":return"";case"object":{if(eo.anim===1)return cursor={name:eo.name,styles:eo.styles,next:cursor},eo.name;if(eo.styles!==void 0){var to=eo.next;if(to!==void 0)for(;to!==void 0;)cursor={name:to.name,styles:to.styles,next:cursor},to=to.next;var ro=eo.styles+";";return ro}return createStringFromObject(va,_a,eo)}case"function":{if(va!==void 0){var no=cursor,io=eo(va);return cursor=no,handleInterpolation(va,_a,io)}break}}if(_a==null)return eo;var ao=_a[eo];return ao!==void 0?ao:eo}function createStringFromObject(va,_a,eo){var to="";if(Array.isArray(eo))for(var ro=0;ro<eo.length;ro++)to+=handleInterpolation(va,_a,eo[ro])+";";else for(var no in eo){var io=eo[no];if(typeof io!="object")_a!=null&&_a[io]!==void 0?to+=no+"{"+_a[io]+"}":isProcessableValue(io)&&(to+=processStyleName(no)+":"+processStyleValue(no,io)+";");else if(Array.isArray(io)&&typeof io[0]=="string"&&(_a==null||_a[io[0]]===void 0))for(var ao=0;ao<io.length;ao++)isProcessableValue(io[ao])&&(to+=processStyleName(no)+":"+processStyleValue(no,io[ao])+";");else{var oo=handleInterpolation(va,_a,io);switch(no){case"animation":case"animationName":{to+=processStyleName(no)+":"+oo+";";break}default:to+=no+"{"+oo+"}"}}}return to}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function va(_a,eo,to){if(_a.length===1&&typeof _a[0]=="object"&&_a[0]!==null&&_a[0].styles!==void 0)return _a[0];var ro=!0,no="";cursor=void 0;var io=_a[0];io==null||io.raw===void 0?(ro=!1,no+=handleInterpolation(to,eo,io)):no+=io[0];for(var ao=1;ao<_a.length;ao++)no+=handleInterpolation(to,eo,_a[ao]),ro&&(no+=io[ao]);labelPattern.lastIndex=0;for(var oo="",so;(so=labelPattern.exec(no))!==null;)oo+="-"+so[1];var uo=murmur2(no)+oo;return{name:uo,styles:no,next:cursor}},EmotionCacheContext=react$1.exports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function va(_a){return react$1.exports.forwardRef(function(eo,to){var ro=react$1.exports.useContext(EmotionCacheContext);return _a(eo,ro,to)})},ThemeContext$2=react$1.exports.createContext({});React$1["useInsertionEffect"]&&React$1["useInsertionEffect"];React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:react$1.exports.useLayoutEffect;function css(){for(var va=arguments.length,_a=new Array(va),eo=0;eo<va;eo++)_a[eo]=arguments[eo];return serializeStyles(_a)}var keyframes=function va(){var _a=css.apply(void 0,arguments),eo="animation-"+_a.name;return{name:eo,styles:"@keyframes "+eo+"{"+_a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function va(_a){return _a!=="theme"},getDefaultShouldForwardProp=function va(_a){return typeof _a=="string"&&_a.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function va(_a,eo,to){var ro;if(eo){var no=eo.shouldForwardProp;ro=_a.__emotion_forwardProp&&no?function(io){return _a.__emotion_forwardProp(io)&&no(io)}:no}return typeof ro!="function"&&to&&(ro=_a.__emotion_forwardProp),ro},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:function va(_a){_a()};function useInsertionEffectMaybe(va){useInsertionEffect(va)}var Insertion=function va(_a){var eo=_a.cache,to=_a.serialized,ro=_a.isStringTag;return registerStyles(eo,to,ro),useInsertionEffectMaybe(function(){return insertStyles(eo,to,ro)}),null},createStyled$1=function va(_a,eo){var to=_a.__emotion_real===_a,ro=to&&_a.__emotion_base||_a,no,io;eo!==void 0&&(no=eo.label,io=eo.target);var ao=composeShouldForwardProps(_a,eo,to),oo=ao||getDefaultShouldForwardProp(ro),so=!oo("as");return function(){var uo=arguments,co=to&&_a.__emotion_styles!==void 0?_a.__emotion_styles.slice(0):[];if(no!==void 0&&co.push("label:"+no+";"),uo[0]==null||uo[0].raw===void 0)co.push.apply(co,uo);else{co.push(uo[0][0]);for(var fo=uo.length,po=1;po<fo;po++)co.push(uo[po],uo[0][po])}var vo=withEmotionCache(function(go,mo,lo){var ho=so&&go.as||ro,yo="",Ao=[],Eo=go;if(go.theme==null){Eo={};for(var To in go)Eo[To]=go[To];Eo.theme=react$1.exports.useContext(ThemeContext$2)}typeof go.className=="string"?yo=getRegisteredStyles(mo.registered,Ao,go.className):go.className!=null&&(yo=go.className+" ");var No=serializeStyles(co.concat(Ao),mo.registered,Eo);yo+=mo.key+"-"+No.name,io!==void 0&&(yo+=" "+io);var Co=so&&ao===void 0?getDefaultShouldForwardProp(ho):oo,Io={};for(var Mo in go)so&&Mo==="as"||Co(Mo)&&(Io[Mo]=go[Mo]);return Io.className=yo,Io.ref=lo,react$1.exports.createElement(react$1.exports.Fragment,null,react$1.exports.createElement(Insertion,{cache:mo,serialized:No,isStringTag:typeof ho=="string"}),react$1.exports.createElement(ho,Io))});return vo.displayName=no!==void 0?no:"Styled("+(typeof ro=="string"?ro:ro.displayName||ro.name||"Component")+")",vo.defaultProps=_a.defaultProps,vo.__emotion_real=vo,vo.__emotion_base=ro,vo.__emotion_styles=co,vo.__emotion_forwardProp=ao,Object.defineProperty(vo,"toString",{value:function(){return"."+io}}),vo.withComponent=function(go,mo){return va(go,_extends({},eo,mo,{shouldForwardProp:composeShouldForwardProps(vo,mo,!0)})).apply(void 0,co)},vo}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(va){newStyled[va]=newStyled(va)});var emStyled=newStyled,jsxRuntime$1={exports:{}},reactJsxRuntime_production_min={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=react$1.exports,g$1=60103;reactJsxRuntime_production_min.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var h$1=Symbol.for;g$1=h$1("react.element"),reactJsxRuntime_production_min.Fragment=h$1("react.fragment")}var m$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n$1=Object.prototype.hasOwnProperty,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(va,_a,eo){var to,ro={},no=null,io=null;eo!==void 0&&(no=""+eo),_a.key!==void 0&&(no=""+_a.key),_a.ref!==void 0&&(io=_a.ref);for(to in _a)n$1.call(_a,to)&&!p$1.hasOwnProperty(to)&&(ro[to]=_a[to]);if(va&&va.defaultProps)for(to in _a=va.defaultProps,_a)ro[to]===void 0&&(ro[to]=_a[to]);return{$$typeof:g$1,type:va,key:no,ref:io,props:ro,_owner:m$1.current}}reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime$1.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime$1.exports.jsx,jsxs=jsxRuntime$1.exports.jsxs,Fragment=jsxRuntime$1.exports.Fragment;var jsxRuntime=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",jsx,jsxs,Fragment});/** @license MUI v5.4.2
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(va,_a){return emStyled(va,_a)}function isPlainObject(va){return va!==null&&typeof va=="object"&&va.constructor===Object}function deepmerge(va,_a,eo={clone:!0}){const to=eo.clone?_extends({},va):va;return isPlainObject(va)&&isPlainObject(_a)&&Object.keys(_a).forEach(ro=>{ro!=="__proto__"&&(isPlainObject(_a[ro])&&ro in va&&isPlainObject(va[ro])?to[ro]=deepmerge(va[ro],_a[ro],eo):to[ro]=_a[ro])}),to}function formatMuiErrorMessage(va){let _a="https://mui.com/production-error/?code="+va;for(let eo=1;eo<arguments.length;eo+=1)_a+="&args[]="+encodeURIComponent(arguments[eo]);return"Minified MUI error #"+va+"; visit "+_a+" for the full message."}var reactIs_production_min={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=60103,c=60106,d=60107,e=60108,f=60114,g=60109,h=60110,k=60112,l=60113,m=60120,n=60115,p=60116,q=60121,r=60122,u=60117,v=60129,w=60131;if(typeof Symbol=="function"&&Symbol.for){var x=Symbol.for;b=x("react.element"),c=x("react.portal"),d=x("react.fragment"),e=x("react.strict_mode"),f=x("react.profiler"),g=x("react.provider"),h=x("react.context"),k=x("react.forward_ref"),l=x("react.suspense"),m=x("react.suspense_list"),n=x("react.memo"),p=x("react.lazy"),q=x("react.block"),r=x("react.server.block"),u=x("react.fundamental"),v=x("react.debug_trace_mode"),w=x("react.legacy_hidden")}function y(va){if(typeof va=="object"&&va!==null){var _a=va.$$typeof;switch(_a){case b:switch(va=va.type,va){case d:case f:case e:case l:case m:return va;default:switch(va=va&&va.$$typeof,va){case h:case k:case p:case n:case g:return va;default:return _a}}case c:return _a}}}var z=g,A=b,B=k,C=d,D=p,E=n,F=c,G=f,H=e,I=l;reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=z;reactIs_production_min.Element=A;reactIs_production_min.ForwardRef=B;reactIs_production_min.Fragment=C;reactIs_production_min.Lazy=D;reactIs_production_min.Memo=E;reactIs_production_min.Portal=F;reactIs_production_min.Profiler=G;reactIs_production_min.StrictMode=H;reactIs_production_min.Suspense=I;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(va){return y(va)===h};reactIs_production_min.isContextProvider=function(va){return y(va)===g};reactIs_production_min.isElement=function(va){return typeof va=="object"&&va!==null&&va.$$typeof===b};reactIs_production_min.isForwardRef=function(va){return y(va)===k};reactIs_production_min.isFragment=function(va){return y(va)===d};reactIs_production_min.isLazy=function(va){return y(va)===p};reactIs_production_min.isMemo=function(va){return y(va)===n};reactIs_production_min.isPortal=function(va){return y(va)===c};reactIs_production_min.isProfiler=function(va){return y(va)===f};reactIs_production_min.isStrictMode=function(va){return y(va)===e};reactIs_production_min.isSuspense=function(va){return y(va)===l};reactIs_production_min.isValidElementType=function(va){return typeof va=="string"||typeof va=="function"||va===d||va===f||va===v||va===e||va===l||va===m||va===w||typeof va=="object"&&va!==null&&(va.$$typeof===p||va.$$typeof===n||va.$$typeof===g||va.$$typeof===h||va.$$typeof===k||va.$$typeof===u||va.$$typeof===q||va[0]===r)};reactIs_production_min.typeOf=y;function capitalize(va){if(typeof va!="string")throw new Error(formatMuiErrorMessage(7));return va.charAt(0).toUpperCase()+va.slice(1)}function createChainedFunction(...va){return va.reduce((_a,eo)=>eo==null?_a:function(...ro){_a.apply(this,ro),eo.apply(this,ro)},()=>{})}function debounce(va,_a=166){let eo;function to(...ro){const no=()=>{va.apply(this,ro)};clearTimeout(eo),eo=setTimeout(no,_a)}return to.clear=()=>{clearTimeout(eo)},to}function deprecatedPropType(va,_a){return()=>null}function isMuiElement(va,_a){return react$1.exports.isValidElement(va)&&_a.indexOf(va.type.muiName)!==-1}function ownerDocument(va){return va&&va.ownerDocument||document}function ownerWindow(va){return ownerDocument(va).defaultView||window}function requirePropFactory(va,_a){return()=>null}function setRef(va,_a){typeof va=="function"?va(_a):va&&(va.current=_a)}const useEnhancedEffect=typeof window<"u"?react$1.exports.useLayoutEffect:react$1.exports.useEffect;var useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(va){const[_a,eo]=react$1.exports.useState(va),to=va||_a;return react$1.exports.useEffect(()=>{_a==null&&(globalId+=1,eo(`mui-${globalId}`))},[_a]),to}const maybeReactUseId=React$1["useId"];function useId(va){if(maybeReactUseId!==void 0){const _a=maybeReactUseId();return va??_a}return useGlobalId(va)}function unsupportedProp(va,_a,eo,to,ro){return null}function useControlled({controlled:va,default:_a,name:eo,state:to="value"}){const{current:ro}=react$1.exports.useRef(va!==void 0),[no,io]=react$1.exports.useState(_a),ao=ro?va:no,oo=react$1.exports.useCallback(so=>{ro||io(so)},[]);return[ao,oo]}function useEventCallback(va){const _a=react$1.exports.useRef(va);return useEnhancedEffect$1(()=>{_a.current=va}),react$1.exports.useCallback((...eo)=>(0,_a.current)(...eo),[])}function useForkRef(va,_a){return react$1.exports.useMemo(()=>va==null&&_a==null?null:eo=>{setRef(va,eo),setRef(_a,eo)},[va,_a])}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(va){const{type:_a,tagName:eo}=va;return!!(eo==="INPUT"&&inputTypesWhitelist[_a]&&!va.readOnly||eo==="TEXTAREA"&&!va.readOnly||va.isContentEditable)}function handleKeyDown(va){va.metaKey||va.altKey||va.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(va){va.addEventListener("keydown",handleKeyDown,!0),va.addEventListener("mousedown",handlePointerDown,!0),va.addEventListener("pointerdown",handlePointerDown,!0),va.addEventListener("touchstart",handlePointerDown,!0),va.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(va){const{target:_a}=va;try{return _a.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(_a)}function useIsFocusVisible(){const va=react$1.exports.useCallback(ro=>{ro!=null&&prepare(ro.ownerDocument)},[]),_a=react$1.exports.useRef(!1);function eo(){return _a.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),_a.current=!1,!0):!1}function to(ro){return isFocusVisible(ro)?(_a.current=!0,!0):!1}return{isFocusVisibleRef:_a,onFocus:to,onBlur:eo,ref:va}}function resolveProps(va,_a){const eo=_extends({},_a);return Object.keys(va).forEach(to=>{eo[to]===void 0&&(eo[to]=va[to])}),eo}function merge(va,_a){return _a?deepmerge(va,_a,{clone:!1}):va}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:va=>`@media (min-width:${values$1[va]}px)`};function handleBreakpoints(va,_a,eo){const to=va.theme||{};if(Array.isArray(_a)){const no=to.breakpoints||defaultBreakpoints;return _a.reduce((io,ao,oo)=>(io[no.up(no.keys[oo])]=eo(_a[oo]),io),{})}if(typeof _a=="object"){const no=to.breakpoints||defaultBreakpoints;return Object.keys(_a).reduce((io,ao)=>{if(Object.keys(no.values||values$1).indexOf(ao)!==-1){const oo=no.up(ao);io[oo]=eo(_a[ao],ao)}else{const oo=ao;io[oo]=_a[oo]}return io},{})}return eo(_a)}function createEmptyBreakpointObject(va={}){var _a;return(va==null||(_a=va.keys)==null?void 0:_a.reduce((to,ro)=>{const no=va.up(ro);return to[no]={},to},{}))||{}}function removeUnusedBreakpoints(va,_a){return va.reduce((eo,to)=>{const ro=eo[to];return(!ro||Object.keys(ro).length===0)&&delete eo[to],eo},_a)}function getPath(va,_a){return!_a||typeof _a!="string"?null:_a.split(".").reduce((eo,to)=>eo&&eo[to]?eo[to]:null,va)}function getValue$1(va,_a,eo,to=eo){let ro;return typeof va=="function"?ro=va(eo):Array.isArray(va)?ro=va[eo]||to:ro=getPath(va,eo)||to,_a&&(ro=_a(ro)),ro}function style$1(va){const{prop:_a,cssProperty:eo=va.prop,themeKey:to,transform:ro}=va,no=io=>{if(io[_a]==null)return null;const ao=io[_a],oo=io.theme,so=getPath(oo,to)||{};return handleBreakpoints(io,ao,co=>{let fo=getValue$1(so,ro,co);return co===fo&&typeof co=="string"&&(fo=getValue$1(so,ro,`${_a}${co==="default"?"":capitalize(co)}`,co)),eo===!1?fo:{[eo]:fo}})};return no.propTypes={},no.filterProps=[_a],no}function compose(...va){const _a=va.reduce((to,ro)=>(ro.filterProps.forEach(no=>{to[no]=ro}),to),{}),eo=to=>Object.keys(to).reduce((ro,no)=>_a[no]?merge(ro,_a[no](to)):ro,{});return eo.propTypes={},eo.filterProps=va.reduce((to,ro)=>to.concat(ro.filterProps),[]),eo}function memoize(va){const _a={};return eo=>(_a[eo]===void 0&&(_a[eo]=va(eo)),_a[eo])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(va=>{if(va.length>2)if(aliases[va])va=aliases[va];else return[va];const[_a,eo]=va.split(""),to=properties[_a],ro=directions[eo]||"";return Array.isArray(ro)?ro.map(no=>to+no):[to+ro]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],spacingKeys=[...marginKeys,...paddingKeys];function createUnaryUnit(va,_a,eo,to){const ro=getPath(va,_a)||eo;return typeof ro=="number"?no=>typeof no=="string"?no:ro*no:Array.isArray(ro)?no=>typeof no=="string"?no:ro[no]:typeof ro=="function"?ro:()=>{}}function createUnarySpacing(va){return createUnaryUnit(va,"spacing",8)}function getValue(va,_a){if(typeof _a=="string"||_a==null)return _a;const eo=Math.abs(_a),to=va(eo);return _a>=0?to:typeof to=="number"?-to:`-${to}`}function getStyleFromPropValue(va,_a){return eo=>va.reduce((to,ro)=>(to[ro]=getValue(_a,eo),to),{})}function resolveCssProperty(va,_a,eo,to){if(_a.indexOf(eo)===-1)return null;const ro=getCssProperties(eo),no=getStyleFromPropValue(ro,to),io=va[eo];return handleBreakpoints(va,io,no)}function style(va,_a){const eo=createUnarySpacing(va.theme);return Object.keys(va).map(to=>resolveCssProperty(va,_a,to,eo)).reduce(merge,{})}function spacing(va){return style(va,spacingKeys)}spacing.propTypes={};spacing.filterProps=spacingKeys;function getBorder(va){return typeof va!="number"?va:`${va}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:getBorder}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:getBorder}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:getBorder}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:getBorder}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:getBorder}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=va=>{if(va.borderRadius!==void 0&&va.borderRadius!==null){const _a=createUnaryUnit(va.theme,"shape.borderRadius",4),eo=to=>({borderRadius:getValue(_a,to)});return handleBreakpoints(va,va.borderRadius,eo)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];const borders=compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);var borders$1=borders;const displayPrint=style$1({prop:"displayPrint",cssProperty:!1,transform:va=>({"@media print":{display:va}})}),displayRaw=style$1({prop:"display"}),overflow=style$1({prop:"overflow"}),textOverflow=style$1({prop:"textOverflow"}),visibility=style$1({prop:"visibility"}),whiteSpace=style$1({prop:"whiteSpace"});var display=compose(displayPrint,displayRaw,overflow,textOverflow,visibility,whiteSpace);const flexBasis=style$1({prop:"flexBasis"}),flexDirection=style$1({prop:"flexDirection"}),flexWrap=style$1({prop:"flexWrap"}),justifyContent=style$1({prop:"justifyContent"}),alignItems=style$1({prop:"alignItems"}),alignContent=style$1({prop:"alignContent"}),order=style$1({prop:"order"}),flex=style$1({prop:"flex"}),flexGrow=style$1({prop:"flexGrow"}),flexShrink=style$1({prop:"flexShrink"}),alignSelf=style$1({prop:"alignSelf"}),justifyItems=style$1({prop:"justifyItems"}),justifySelf=style$1({prop:"justifySelf"}),flexbox=compose(flexBasis,flexDirection,flexWrap,justifyContent,alignItems,alignContent,order,flex,flexGrow,flexShrink,alignSelf,justifyItems,justifySelf);var flexbox$1=flexbox;const gap=va=>{if(va.gap!==void 0&&va.gap!==null){const _a=createUnaryUnit(va.theme,"spacing",8),eo=to=>({gap:getValue(_a,to)});return handleBreakpoints(va,va.gap,eo)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=va=>{if(va.columnGap!==void 0&&va.columnGap!==null){const _a=createUnaryUnit(va.theme,"spacing",8),eo=to=>({columnGap:getValue(_a,to)});return handleBreakpoints(va,va.columnGap,eo)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=va=>{if(va.rowGap!==void 0&&va.rowGap!==null){const _a=createUnaryUnit(va.theme,"spacing",8),eo=to=>({rowGap:getValue(_a,to)});return handleBreakpoints(va,va.rowGap,eo)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"}),grid=compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);var grid$1=grid;const color=style$1({prop:"color",themeKey:"palette"}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette"}),palette=compose(color,bgcolor,backgroundColor);var palette$1=palette;const position=style$1({prop:"position"}),zIndex$2=style$1({prop:"zIndex",themeKey:"zIndex"}),top=style$1({prop:"top"}),right=style$1({prop:"right"}),bottom=style$1({prop:"bottom"}),left=style$1({prop:"left"});var positions=compose(position,zIndex$2,top,right,bottom,left);const boxShadow=style$1({prop:"boxShadow",themeKey:"shadows"});var shadows$2=boxShadow;function transform(va){return va<=1&&va!==0?`${va*100}%`:va}const width=style$1({prop:"width",transform}),maxWidth=va=>{if(va.maxWidth!==void 0&&va.maxWidth!==null){const _a=eo=>{var to,ro,no;return{maxWidth:((to=va.theme)==null||(ro=to.breakpoints)==null||(no=ro.values)==null?void 0:no[eo])||values$1[eo]||transform(eo)}};return handleBreakpoints(va,va.maxWidth,_a)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform}),height=style$1({prop:"height",transform}),maxHeight=style$1({prop:"maxHeight",transform}),minHeight=style$1({prop:"minHeight",transform});style$1({prop:"size",cssProperty:"width",transform});style$1({prop:"size",cssProperty:"height",transform});const boxSizing=style$1({prop:"boxSizing"}),sizing=compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);var sizing$1=sizing;const fontFamily=style$1({prop:"fontFamily",themeKey:"typography"}),fontSize=style$1({prop:"fontSize",themeKey:"typography"}),fontStyle=style$1({prop:"fontStyle",themeKey:"typography"}),fontWeight=style$1({prop:"fontWeight",themeKey:"typography"}),letterSpacing=style$1({prop:"letterSpacing"}),textTransform=style$1({prop:"textTransform"}),lineHeight=style$1({prop:"lineHeight"}),textAlign=style$1({prop:"textAlign"}),typographyVariant=style$1({prop:"typography",cssProperty:!1,themeKey:"typography"}),typography=compose(typographyVariant,fontFamily,fontSize,fontStyle,fontWeight,letterSpacing,lineHeight,textAlign,textTransform);var typography$1=typography;const filterPropsMapping={borders:borders$1.filterProps,display:display.filterProps,flexbox:flexbox$1.filterProps,grid:grid$1.filterProps,positions:positions.filterProps,palette:palette$1.filterProps,shadows:shadows$2.filterProps,sizing:sizing$1.filterProps,spacing:spacing.filterProps,typography:typography$1.filterProps},styleFunctionMapping={borders:borders$1,display,flexbox:flexbox$1,grid:grid$1,positions,palette:palette$1,shadows:shadows$2,sizing:sizing$1,spacing,typography:typography$1},propToStyleFunction=Object.keys(filterPropsMapping).reduce((va,_a)=>(filterPropsMapping[_a].forEach(eo=>{va[eo]=styleFunctionMapping[_a]}),va),{});function objectsHaveSameKeys(...va){const _a=va.reduce((to,ro)=>to.concat(Object.keys(ro)),[]),eo=new Set(_a);return va.every(to=>eo.size===Object.keys(to).length)}function callIfFn(va,_a){return typeof va=="function"?va(_a):va}function unstable_createStyleFunctionSx(va=styleFunctionMapping){const _a=Object.keys(va).reduce((ro,no)=>(va[no].filterProps.forEach(io=>{ro[io]=va[no]}),ro),{});function eo(ro,no,io){const ao={[ro]:no,theme:io},oo=_a[ro];return oo?oo(ao):{[ro]:no}}function to(ro){const{sx:no,theme:io={}}=ro||{};if(!no)return null;function ao(oo){let so=oo;if(typeof oo=="function")so=oo(io);else if(typeof oo!="object")return oo;if(!so)return null;const uo=createEmptyBreakpointObject(io.breakpoints),co=Object.keys(uo);let fo=uo;return Object.keys(so).forEach(po=>{const vo=callIfFn(so[po],io);if(vo!=null)if(typeof vo=="object")if(_a[po])fo=merge(fo,eo(po,vo,io));else{const go=handleBreakpoints({theme:io},vo,mo=>({[po]:mo}));objectsHaveSameKeys(go,vo)?fo[po]=to({sx:vo,theme:io}):fo=merge(fo,go)}else fo=merge(fo,eo(po,vo,io))}),removeUnusedBreakpoints(co,fo)}return Array.isArray(no)?no.map(ao):ao(no)}return to}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];var defaultStyleFunctionSx=styleFunctionSx;const _excluded$h=["sx"],splitProps=va=>{const _a={systemProps:{},otherProps:{}};return Object.keys(va).forEach(eo=>{propToStyleFunction[eo]?_a.systemProps[eo]=va[eo]:_a.otherProps[eo]=va[eo]}),_a};function extendSxProp(va){const{sx:_a}=va,eo=_objectWithoutPropertiesLoose(va,_excluded$h),{systemProps:to,otherProps:ro}=splitProps(eo);let no;return Array.isArray(_a)?no=[to,..._a]:typeof _a=="function"?no=(...io)=>{const ao=_a(...io);return isPlainObject(ao)?_extends({},to,ao):to}:no=_extends({},to,_a),_extends({},ro,{sx:no})}function toVal(va){var _a,eo,to="";if(typeof va=="string"||typeof va=="number")to+=va;else if(typeof va=="object")if(Array.isArray(va))for(_a=0;_a<va.length;_a++)va[_a]&&(eo=toVal(va[_a]))&&(to&&(to+=" "),to+=eo);else for(_a in va)va[_a]&&(to&&(to+=" "),to+=_a);return to}function clsx(){for(var va=0,_a,eo,to="";va<arguments.length;)(_a=arguments[va++])&&(eo=toVal(_a))&&(to&&(to+=" "),to+=eo);return to}const _excluded$g=["values","unit","step"],sortBreakpointsValues=va=>{const _a=Object.keys(va).map(eo=>({key:eo,val:va[eo]}))||[];return _a.sort((eo,to)=>eo.val-to.val),_a.reduce((eo,to)=>_extends({},eo,{[to.key]:to.val}),{})};function createBreakpoints(va){const{values:_a={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:eo="px",step:to=5}=va,ro=_objectWithoutPropertiesLoose(va,_excluded$g),no=sortBreakpointsValues(_a),io=Object.keys(no);function ao(fo){return`@media (min-width:${typeof _a[fo]=="number"?_a[fo]:fo}${eo})`}function oo(fo){return`@media (max-width:${(typeof _a[fo]=="number"?_a[fo]:fo)-to/100}${eo})`}function so(fo,po){const vo=io.indexOf(po);return`@media (min-width:${typeof _a[fo]=="number"?_a[fo]:fo}${eo}) and (max-width:${(vo!==-1&&typeof _a[io[vo]]=="number"?_a[io[vo]]:po)-to/100}${eo})`}function uo(fo){return io.indexOf(fo)+1<io.length?so(fo,io[io.indexOf(fo)+1]):ao(fo)}function co(fo){const po=io.indexOf(fo);return po===0?ao(io[1]):po===io.length-1?oo(io[po]):so(fo,io[io.indexOf(fo)+1]).replace("@media","@media not all and")}return _extends({keys:io,values:no,up:ao,down:oo,between:so,only:uo,not:co,unit:eo},ro)}const shape={borderRadius:4};var shape$1=shape;function createSpacing(va=8){if(va.mui)return va;const _a=createUnarySpacing({spacing:va}),eo=(...to)=>(to.length===0?[1]:to).map(no=>{const io=_a(no);return typeof io=="number"?`${io}px`:io}).join(" ");return eo.mui=!0,eo}const _excluded$f=["breakpoints","palette","spacing","shape"];function createTheme$1(va={},..._a){const{breakpoints:eo={},palette:to={},spacing:ro,shape:no={}}=va,io=_objectWithoutPropertiesLoose(va,_excluded$f),ao=createBreakpoints(eo),oo=createSpacing(ro);let so=deepmerge({breakpoints:ao,direction:"ltr",components:{},palette:_extends({mode:"light"},to),spacing:oo,shape:_extends({},shape$1,no)},io);return so=_a.reduce((uo,co)=>deepmerge(uo,co),so),so}const ThemeContext=react$1.exports.createContext(null);var ThemeContext$1=ThemeContext;function useTheme$2(){return react$1.exports.useContext(ThemeContext$1)}function isObjectEmpty(va){return Object.keys(va).length===0}function useTheme$1(va=null){const _a=useTheme$2();return!_a||isObjectEmpty(_a)?va:_a}const systemDefaultTheme$1=createTheme$1();function useTheme(va=systemDefaultTheme$1){return useTheme$1(va)}const _excluded$e=["className","component"];function createBox(va={}){const{defaultTheme:_a,defaultClassName:eo="MuiBox-root",generateClassName:to,styleFunctionSx:ro=defaultStyleFunctionSx}=va,no=styled$2("div")(ro);return react$1.exports.forwardRef(function(oo,so){const uo=useTheme(_a),co=extendSxProp(oo),{className:fo,component:po="div"}=co,vo=_objectWithoutPropertiesLoose(co,_excluded$e);return jsx(no,_extends({as:po,ref:so,className:clsx(fo,to?to(eo):eo),theme:uo},vo))})}const _excluded$d=["variant"];function isEmpty$1(va){return va.length===0}function propsToClassKey(va){const{variant:_a}=va,eo=_objectWithoutPropertiesLoose(va,_excluded$d);let to=_a||"";return Object.keys(eo).sort().forEach(ro=>{ro==="color"?to+=isEmpty$1(to)?va[ro]:capitalize(va[ro]):to+=`${isEmpty$1(to)?ro:capitalize(ro)}${capitalize(va[ro].toString())}`}),to}const _excluded$c=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2=["theme"],_excluded3=["theme"];function isEmpty(va){return Object.keys(va).length===0}const getStyleOverrides=(va,_a)=>_a.components&&_a.components[va]&&_a.components[va].styleOverrides?_a.components[va].styleOverrides:null,getVariantStyles=(va,_a)=>{let eo=[];_a&&_a.components&&_a.components[va]&&_a.components[va].variants&&(eo=_a.components[va].variants);const to={};return eo.forEach(ro=>{const no=propsToClassKey(ro.props);to[no]=ro.style}),to},variantsResolver=(va,_a,eo,to)=>{var ro,no;const{ownerState:io={}}=va,ao=[],oo=eo==null||(ro=eo.components)==null||(no=ro[to])==null?void 0:no.variants;return oo&&oo.forEach(so=>{let uo=!0;Object.keys(so.props).forEach(co=>{io[co]!==so.props[co]&&va[co]!==so.props[co]&&(uo=!1)}),uo&&ao.push(_a[propsToClassKey(so.props)])}),ao};function shouldForwardProp(va){return va!=="ownerState"&&va!=="theme"&&va!=="sx"&&va!=="as"}const systemDefaultTheme=createTheme$1();function createStyled(va={}){const{defaultTheme:_a=systemDefaultTheme,rootShouldForwardProp:eo=shouldForwardProp,slotShouldForwardProp:to=shouldForwardProp,styleFunctionSx:ro=defaultStyleFunctionSx}=va;return(no,io={})=>{const{name:ao,slot:oo,skipVariantsResolver:so,skipSx:uo,overridesResolver:co}=io,fo=_objectWithoutPropertiesLoose(io,_excluded$c),po=so!==void 0?so:oo&&oo!=="Root"||!1,vo=uo||!1;let go,mo=shouldForwardProp;oo==="Root"?mo=eo:oo&&(mo=to);const lo=styled$2(no,_extends({shouldForwardProp:mo,label:go},fo)),ho=(yo,...Ao)=>{const Eo=Ao?Ao.map(Io=>typeof Io=="function"&&Io.__emotion_real!==Io?Mo=>{let{theme:wo}=Mo,xo=_objectWithoutPropertiesLoose(Mo,_excluded2);return Io(_extends({theme:isEmpty(wo)?_a:wo},xo))}:Io):[];let To=yo;ao&&co&&Eo.push(Io=>{const Mo=isEmpty(Io.theme)?_a:Io.theme,wo=getStyleOverrides(ao,Mo);if(wo){const xo={};return Object.entries(wo).forEach(([bo,So])=>{xo[bo]=typeof So=="function"?So(Io):So}),co(Io,xo)}return null}),ao&&!po&&Eo.push(Io=>{const Mo=isEmpty(Io.theme)?_a:Io.theme;return variantsResolver(Io,getVariantStyles(ao,Mo),Mo,ao)}),vo||Eo.push(Io=>{const Mo=isEmpty(Io.theme)?_a:Io.theme;return ro(_extends({},Io,{theme:Mo}))});const No=Eo.length-Ao.length;if(Array.isArray(yo)&&No>0){const Io=new Array(No).fill("");To=[...yo,...Io],To.raw=[...yo.raw,...Io]}else typeof yo=="function"&&(To=Io=>{let{theme:Mo}=Io,wo=_objectWithoutPropertiesLoose(Io,_excluded3);return yo(_extends({theme:isEmpty(Mo)?_a:Mo},wo))});return lo(To,...Eo)};return lo.withConfig&&(ho.withConfig=lo.withConfig),ho}}function getThemeProps(va){const{theme:_a,name:eo,props:to}=va;return!_a||!_a.components||!_a.components[eo]||!_a.components[eo].defaultProps?to:resolveProps(_a.components[eo].defaultProps,to)}function useThemeProps$1({props:va,name:_a,defaultTheme:eo}){const to=useTheme(eo);return getThemeProps({theme:to,name:_a,props:va})}function clamp(va,_a=0,eo=1){return Math.min(Math.max(_a,va),eo)}function hexToRgb(va){va=va.substr(1);const _a=new RegExp(`.{1,${va.length>=6?2:1}}`,"g");let eo=va.match(_a);return eo&&eo[0].length===1&&(eo=eo.map(to=>to+to)),eo?`rgb${eo.length===4?"a":""}(${eo.map((to,ro)=>ro<3?parseInt(to,16):Math.round(parseInt(to,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(va){if(va.type)return va;if(va.charAt(0)==="#")return decomposeColor(hexToRgb(va));const _a=va.indexOf("("),eo=va.substring(0,_a);if(["rgb","rgba","hsl","hsla","color"].indexOf(eo)===-1)throw new Error(formatMuiErrorMessage(9,va));let to=va.substring(_a+1,va.length-1),ro;if(eo==="color"){if(to=to.split(" "),ro=to.shift(),to.length===4&&to[3].charAt(0)==="/"&&(to[3]=to[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(ro)===-1)throw new Error(formatMuiErrorMessage(10,ro))}else to=to.split(",");return to=to.map(no=>parseFloat(no)),{type:eo,values:to,colorSpace:ro}}function recomposeColor(va){const{type:_a,colorSpace:eo}=va;let{values:to}=va;return _a.indexOf("rgb")!==-1?to=to.map((ro,no)=>no<3?parseInt(ro,10):ro):_a.indexOf("hsl")!==-1&&(to[1]=`${to[1]}%`,to[2]=`${to[2]}%`),_a.indexOf("color")!==-1?to=`${eo} ${to.join(" ")}`:to=`${to.join(", ")}`,`${_a}(${to})`}function hslToRgb(va){va=decomposeColor(va);const{values:_a}=va,eo=_a[0],to=_a[1]/100,ro=_a[2]/100,no=to*Math.min(ro,1-ro),io=(so,uo=(so+eo/30)%12)=>ro-no*Math.max(Math.min(uo-3,9-uo,1),-1);let ao="rgb";const oo=[Math.round(io(0)*255),Math.round(io(8)*255),Math.round(io(4)*255)];return va.type==="hsla"&&(ao+="a",oo.push(_a[3])),recomposeColor({type:ao,values:oo})}function getLuminance(va){va=decomposeColor(va);let _a=va.type==="hsl"?decomposeColor(hslToRgb(va)).values:va.values;return _a=_a.map(eo=>(va.type!=="color"&&(eo/=255),eo<=.03928?eo/12.92:((eo+.055)/1.055)**2.4)),Number((.2126*_a[0]+.7152*_a[1]+.0722*_a[2]).toFixed(3))}function getContrastRatio(va,_a){const eo=getLuminance(va),to=getLuminance(_a);return(Math.max(eo,to)+.05)/(Math.min(eo,to)+.05)}function alpha(va,_a){return va=decomposeColor(va),_a=clamp(_a),(va.type==="rgb"||va.type==="hsl")&&(va.type+="a"),va.type==="color"?va.values[3]=`/${_a}`:va.values[3]=_a,recomposeColor(va)}function darken(va,_a){if(va=decomposeColor(va),_a=clamp(_a),va.type.indexOf("hsl")!==-1)va.values[2]*=1-_a;else if(va.type.indexOf("rgb")!==-1||va.type.indexOf("color")!==-1)for(let eo=0;eo<3;eo+=1)va.values[eo]*=1-_a;return recomposeColor(va)}function lighten(va,_a){if(va=decomposeColor(va),_a=clamp(_a),va.type.indexOf("hsl")!==-1)va.values[2]+=(100-va.values[2])*_a;else if(va.type.indexOf("rgb")!==-1)for(let eo=0;eo<3;eo+=1)va.values[eo]+=(255-va.values[eo])*_a;else if(va.type.indexOf("color")!==-1)for(let eo=0;eo<3;eo+=1)va.values[eo]+=(1-va.values[eo])*_a;return recomposeColor(va)}function composeClasses(va,_a,eo){const to={};return Object.keys(va).forEach(ro=>{to[ro]=va[ro].reduce((no,io)=>(io&&(eo&&eo[io]&&no.push(eo[io]),no.push(_a(io))),no),[]).join(" ")}),to}const defaultGenerator=va=>va,createClassNameGenerator=()=>{let va=defaultGenerator;return{configure(_a){va=_a},generate(_a){return va(_a)},reset(){va=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();var ClassNameGenerator$1=ClassNameGenerator;const globalStateClassesMapping={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function generateUtilityClass(va,_a){return globalStateClassesMapping[_a]||`${ClassNameGenerator$1.generate(va)}-${_a}`}function generateUtilityClasses(va,_a){const eo={};return _a.forEach(to=>{eo[to]=generateUtilityClass(va,to)}),eo}function createMixins(va,_a,eo){return _extends({toolbar:{minHeight:56,[`${va.up("xs")} and (orientation: landscape)`]:{minHeight:48},[va.up("sm")]:{minHeight:64}}},eo)}const _excluded$b=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(va,_a,eo,to){const ro=to.light||to,no=to.dark||to*1.5;va[_a]||(va.hasOwnProperty(eo)?va[_a]=va[eo]:_a==="light"?va.light=lighten(va.main,ro):_a==="dark"&&(va.dark=darken(va.main,no)))}function getDefaultPrimary(va="light"){return va==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(va="light"){return va==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(va="light"){return va==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(va="light"){return va==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(va="light"){return va==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(va="light"){return va==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(va){const{mode:_a="light",contrastThreshold:eo=3,tonalOffset:to=.2}=va,ro=_objectWithoutPropertiesLoose(va,_excluded$b),no=va.primary||getDefaultPrimary(_a),io=va.secondary||getDefaultSecondary(_a),ao=va.error||getDefaultError(_a),oo=va.info||getDefaultInfo(_a),so=va.success||getDefaultSuccess(_a),uo=va.warning||getDefaultWarning(_a);function co(go){return getContrastRatio(go,dark.text.primary)>=eo?dark.text.primary:light.text.primary}const fo=({color:go,name:mo,mainShade:lo=500,lightShade:ho=300,darkShade:yo=700})=>{if(go=_extends({},go),!go.main&&go[lo]&&(go.main=go[lo]),!go.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,mo?` (${mo})`:"",lo));if(typeof go.main!="string")throw new Error(formatMuiErrorMessage(12,mo?` (${mo})`:"",JSON.stringify(go.main)));return addLightOrDark(go,"light",ho,to),addLightOrDark(go,"dark",yo,to),go.contrastText||(go.contrastText=co(go.main)),go},po={dark,light};return deepmerge(_extends({common:common$1,mode:_a,primary:fo({color:no,name:"primary"}),secondary:fo({color:io,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:fo({color:ao,name:"error"}),warning:fo({color:uo,name:"warning"}),info:fo({color:oo,name:"info"}),success:fo({color:so,name:"success"}),grey:grey$1,contrastThreshold:eo,getContrastText:co,augmentColor:fo,tonalOffset:to},po[_a]),ro)}const _excluded$a=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(va){return Math.round(va*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(va,_a){const eo=typeof _a=="function"?_a(va):_a,{fontFamily:to=defaultFontFamily,fontSize:ro=14,fontWeightLight:no=300,fontWeightRegular:io=400,fontWeightMedium:ao=500,fontWeightBold:oo=700,htmlFontSize:so=16,allVariants:uo,pxToRem:co}=eo,fo=_objectWithoutPropertiesLoose(eo,_excluded$a),po=ro/14,vo=co||(lo=>`${lo/so*po}rem`),go=(lo,ho,yo,Ao,Eo)=>_extends({fontFamily:to,fontWeight:lo,fontSize:vo(ho),lineHeight:yo},to===defaultFontFamily?{letterSpacing:`${round(Ao/ho)}em`}:{},Eo,uo),mo={h1:go(no,96,1.167,-1.5),h2:go(no,60,1.2,-.5),h3:go(io,48,1.167,0),h4:go(io,34,1.235,.25),h5:go(io,24,1.334,0),h6:go(ao,20,1.6,.15),subtitle1:go(io,16,1.75,.15),subtitle2:go(ao,14,1.57,.1),body1:go(io,16,1.5,.15),body2:go(io,14,1.43,.15),button:go(ao,14,1.75,.4,caseAllCaps),caption:go(io,12,1.66,.4),overline:go(io,12,2.66,1,caseAllCaps)};return deepmerge(_extends({htmlFontSize:so,pxToRem:vo,fontFamily:to,fontSize:ro,fontWeightLight:no,fontWeightRegular:io,fontWeightMedium:ao,fontWeightBold:oo},mo),fo,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...va){return[`${va[0]}px ${va[1]}px ${va[2]}px ${va[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${va[4]}px ${va[5]}px ${va[6]}px ${va[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${va[8]}px ${va[9]}px ${va[10]}px ${va[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];var shadows$1=shadows;const _excluded$9=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(va){return`${Math.round(va)}ms`}function getAutoHeightDuration(va){if(!va)return 0;const _a=va/36;return Math.round((4+15*_a**.25+_a/5)*10)}function createTransitions(va){const _a=_extends({},easing,va.easing),eo=_extends({},duration,va.duration);return _extends({getAutoHeightDuration,create:(ro=["all"],no={})=>{const{duration:io=eo.standard,easing:ao=_a.easeInOut,delay:oo=0}=no;return _objectWithoutPropertiesLoose(no,_excluded$9),(Array.isArray(ro)?ro:[ro]).map(so=>`${so} ${typeof io=="string"?io:formatMs(io)} ${ao} ${typeof oo=="string"?oo:formatMs(oo)}`).join(",")}},va,{easing:_a,duration:eo})}const zIndex={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var zIndex$1=zIndex;const _excluded$8=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(va={},..._a){const{mixins:eo={},palette:to={},transitions:ro={},typography:no={}}=va,io=_objectWithoutPropertiesLoose(va,_excluded$8),ao=createPalette(to),oo=createTheme$1(va);let so=deepmerge(oo,{mixins:createMixins(oo.breakpoints,oo.spacing,eo),palette:ao,shadows:shadows$1.slice(),typography:createTypography(ao,no),transitions:createTransitions(ro),zIndex:_extends({},zIndex$1)});return so=deepmerge(so,io),so=_a.reduce((uo,co)=>deepmerge(uo,co),so),so}const defaultTheme$1=createTheme();var defaultTheme$2=defaultTheme$1;function useThemeProps({props:va,name:_a}){return useThemeProps$1({props:va,name:_a,defaultTheme:defaultTheme$2})}const rootShouldForwardProp=va=>shouldForwardProp(va)&&va!=="classes",styled=createStyled({defaultTheme:defaultTheme$2,rootShouldForwardProp});var styled$1=styled;function getSvgIconUtilityClass(va){return generateUtilityClass("MuiSvgIcon",va)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$7=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$6=va=>{const{color:_a,fontSize:eo,classes:to}=va,ro={root:["root",_a!=="inherit"&&`color${capitalize(_a)}`,`fontSize${capitalize(eo)}`]};return composeClasses(ro,getSvgIconUtilityClass,to)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(va,_a)=>{const{ownerState:eo}=va;return[_a.root,eo.color!=="inherit"&&_a[`color${capitalize(eo.color)}`],_a[`fontSize${capitalize(eo.fontSize)}`]]}})(({theme:va,ownerState:_a})=>{var eo,to,ro,no,io,ao,oo,so,uo,co,fo,po,vo,go,mo,lo,ho;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(eo=va.transitions)==null||(to=eo.create)==null?void 0:to.call(eo,"fill",{duration:(ro=va.transitions)==null||(no=ro.duration)==null?void 0:no.shorter}),fontSize:{inherit:"inherit",small:((io=va.typography)==null||(ao=io.pxToRem)==null?void 0:ao.call(io,20))||"1.25rem",medium:((oo=va.typography)==null||(so=oo.pxToRem)==null?void 0:so.call(oo,24))||"1.5rem",large:((uo=va.typography)==null||(co=uo.pxToRem)==null?void 0:co.call(uo,35))||"2.1875"}[_a.fontSize],color:(fo=(po=va.palette)==null||(vo=po[_a.color])==null?void 0:vo.main)!=null?fo:{action:(go=va.palette)==null||(mo=go.action)==null?void 0:mo.active,disabled:(lo=va.palette)==null||(ho=lo.action)==null?void 0:ho.disabled,inherit:void 0}[_a.color]}}),SvgIcon=react$1.exports.forwardRef(function va(_a,eo){const to=useThemeProps({props:_a,name:"MuiSvgIcon"}),{children:ro,className:no,color:io="inherit",component:ao="svg",fontSize:oo="medium",htmlColor:so,inheritViewBox:uo=!1,titleAccess:co,viewBox:fo="0 0 24 24"}=to,po=_objectWithoutPropertiesLoose(to,_excluded$7),vo=_extends({},to,{color:io,component:ao,fontSize:oo,inheritViewBox:uo,viewBox:fo}),go={};uo||(go.viewBox=fo);const mo=useUtilityClasses$6(vo);return jsxs(SvgIconRoot,_extends({as:ao,className:clsx(mo.root,no),ownerState:vo,focusable:"false",color:so,"aria-hidden":co?void 0:!0,role:co?"img":void 0,ref:eo},go,po,{children:[ro,co?jsx("title",{children:co}):null]}))});SvgIcon.muiName="SvgIcon";var SvgIcon$1=SvgIcon;function createSvgIcon$1(va,_a){const eo=(to,ro)=>jsx(SvgIcon$1,_extends({"data-testid":`${_a}Icon`,ref:ro},to,{children:va}));return eo.muiName=SvgIcon$1.muiName,react$1.exports.memo(react$1.exports.forwardRef(eo))}var utils=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible,unstable_ClassNameGenerator:ClassNameGenerator$1});function _setPrototypeOf(va,_a){return _setPrototypeOf=Object.setPrototypeOf||function(to,ro){return to.__proto__=ro,to},_setPrototypeOf(va,_a)}function _inheritsLoose(va,_a){va.prototype=Object.create(_a.prototype),va.prototype.constructor=va,_setPrototypeOf(va,_a)}var TransitionGroupContext=React.createContext(null);function _assertThisInitialized(va){if(va===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return va}function getChildMapping(va,_a){var eo=function(no){return _a&&react$1.exports.isValidElement(no)?_a(no):no},to=Object.create(null);return va&&react$1.exports.Children.map(va,function(ro){return ro}).forEach(function(ro){to[ro.key]=eo(ro)}),to}function mergeChildMappings(va,_a){va=va||{},_a=_a||{};function eo(uo){return uo in _a?_a[uo]:va[uo]}var to=Object.create(null),ro=[];for(var no in va)no in _a?ro.length&&(to[no]=ro,ro=[]):ro.push(no);var io,ao={};for(var oo in _a){if(to[oo])for(io=0;io<to[oo].length;io++){var so=to[oo][io];ao[to[oo][io]]=eo(so)}ao[oo]=eo(oo)}for(io=0;io<ro.length;io++)ao[ro[io]]=eo(ro[io]);return ao}function getProp(va,_a,eo){return eo[_a]!=null?eo[_a]:va.props[_a]}function getInitialChildMapping(va,_a){return getChildMapping(va.children,function(eo){return react$1.exports.cloneElement(eo,{onExited:_a.bind(null,eo),in:!0,appear:getProp(eo,"appear",va),enter:getProp(eo,"enter",va),exit:getProp(eo,"exit",va)})})}function getNextChildMapping(va,_a,eo){var to=getChildMapping(va.children),ro=mergeChildMappings(_a,to);return Object.keys(ro).forEach(function(no){var io=ro[no];if(!!react$1.exports.isValidElement(io)){var ao=no in _a,oo=no in to,so=_a[no],uo=react$1.exports.isValidElement(so)&&!so.props.in;oo&&(!ao||uo)?ro[no]=react$1.exports.cloneElement(io,{onExited:eo.bind(null,io),in:!0,exit:getProp(io,"exit",va),enter:getProp(io,"enter",va)}):!oo&&ao&&!uo?ro[no]=react$1.exports.cloneElement(io,{in:!1}):oo&&ao&&react$1.exports.isValidElement(so)&&(ro[no]=react$1.exports.cloneElement(io,{onExited:eo.bind(null,io),in:so.props.in,exit:getProp(io,"exit",va),enter:getProp(io,"enter",va)}))}}),ro}var values=Object.values||function(va){return Object.keys(va).map(function(_a){return va[_a]})},defaultProps={component:"div",childFactory:function va(_a){return _a}},TransitionGroup=function(va){_inheritsLoose(_a,va);function _a(to,ro){var no;no=va.call(this,to,ro)||this;var io=no.handleExited.bind(_assertThisInitialized(no));return no.state={contextValue:{isMounting:!0},handleExited:io,firstRender:!0},no}var eo=_a.prototype;return eo.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},eo.componentWillUnmount=function(){this.mounted=!1},_a.getDerivedStateFromProps=function(ro,no){var io=no.children,ao=no.handleExited,oo=no.firstRender;return{children:oo?getInitialChildMapping(ro,ao):getNextChildMapping(ro,io,ao),firstRender:!1}},eo.handleExited=function(ro,no){var io=getChildMapping(this.props.children);ro.key in io||(ro.props.onExited&&ro.props.onExited(no),this.mounted&&this.setState(function(ao){var oo=_extends({},ao.children);return delete oo[ro.key],{children:oo}}))},eo.render=function(){var ro=this.props,no=ro.component,io=ro.childFactory,ao=_objectWithoutPropertiesLoose(ro,["component","childFactory"]),oo=this.state.contextValue,so=values(this.state.children).map(io);return delete ao.appear,delete ao.enter,delete ao.exit,no===null?React.createElement(TransitionGroupContext.Provider,{value:oo},so):React.createElement(TransitionGroupContext.Provider,{value:oo},React.createElement(no,ao,so))},_a}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;var TransitionGroup$1=TransitionGroup;function getPaperUtilityClass(va){return generateUtilityClass("MuiPaper",va)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$6=["className","component","elevation","square","variant"],getOverlayAlpha=va=>{let _a;return va<1?_a=5.11916*va**2:_a=4.5*Math.log(va+1)+2,(_a/100).toFixed(2)},useUtilityClasses$5=va=>{const{square:_a,elevation:eo,variant:to,classes:ro}=va,no={root:["root",to,!_a&&"rounded",to==="elevation"&&`elevation${eo}`]};return composeClasses(no,getPaperUtilityClass,ro)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(va,_a)=>{const{ownerState:eo}=va;return[_a.root,_a[eo.variant],!eo.square&&_a.rounded,eo.variant==="elevation"&&_a[`elevation${eo.elevation}`]]}})(({theme:va,ownerState:_a})=>_extends({backgroundColor:va.palette.background.paper,color:va.palette.text.primary,transition:va.transitions.create("box-shadow")},!_a.square&&{borderRadius:va.shape.borderRadius},_a.variant==="outlined"&&{border:`1px solid ${va.palette.divider}`},_a.variant==="elevation"&&_extends({boxShadow:va.shadows[_a.elevation]},va.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha(_a.elevation))}, ${alpha("#fff",getOverlayAlpha(_a.elevation))})`}))),Paper=react$1.exports.forwardRef(function va(_a,eo){const to=useThemeProps({props:_a,name:"MuiPaper"}),{className:ro,component:no="div",elevation:io=1,square:ao=!1,variant:oo="elevation"}=to,so=_objectWithoutPropertiesLoose(to,_excluded$6),uo=_extends({},to,{component:no,elevation:io,square:ao,variant:oo}),co=useUtilityClasses$5(uo);return jsx(PaperRoot,_extends({as:no,ownerState:uo,className:clsx(co.root,ro),ref:eo},so))});var Paper$1=Paper;function Ripple(va){const{className:_a,classes:eo,pulsate:to=!1,rippleX:ro,rippleY:no,rippleSize:io,in:ao,onExited:oo,timeout:so}=va,[uo,co]=react$1.exports.useState(!1),fo=clsx(_a,eo.ripple,eo.rippleVisible,to&&eo.ripplePulsate),po={width:io,height:io,top:-(io/2)+no,left:-(io/2)+ro},vo=clsx(eo.child,uo&&eo.childLeaving,to&&eo.childPulsate);return!ao&&!uo&&co(!0),react$1.exports.useEffect(()=>{if(!ao&&oo!=null){const go=setTimeout(oo,so);return()=>{clearTimeout(go)}}},[oo,ao,so]),jsx("span",{className:fo,style:po,children:jsx("span",{className:vo})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var touchRippleClasses$1=touchRippleClasses;const _excluded$5=["center","classes","className"];let _=va=>va,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:va})=>va.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:va})=>va.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:va})=>va.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:va})=>va.transitions.easing.easeInOut),TouchRipple=react$1.exports.forwardRef(function va(_a,eo){const to=useThemeProps({props:_a,name:"MuiTouchRipple"}),{center:ro=!1,classes:no={},className:io}=to,ao=_objectWithoutPropertiesLoose(to,_excluded$5),[oo,so]=react$1.exports.useState([]),uo=react$1.exports.useRef(0),co=react$1.exports.useRef(null);react$1.exports.useEffect(()=>{co.current&&(co.current(),co.current=null)},[oo]);const fo=react$1.exports.useRef(!1),po=react$1.exports.useRef(null),vo=react$1.exports.useRef(null),go=react$1.exports.useRef(null);react$1.exports.useEffect(()=>()=>{clearTimeout(po.current)},[]);const mo=react$1.exports.useCallback(Ao=>{const{pulsate:Eo,rippleX:To,rippleY:No,rippleSize:Co,cb:Io}=Ao;so(Mo=>[...Mo,jsx(TouchRippleRipple,{classes:{ripple:clsx(no.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(no.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(no.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(no.child,touchRippleClasses$1.child),childLeaving:clsx(no.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(no.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:Eo,rippleX:To,rippleY:No,rippleSize:Co},uo.current)]),uo.current+=1,co.current=Io},[no]),lo=react$1.exports.useCallback((Ao={},Eo={},To)=>{const{pulsate:No=!1,center:Co=ro||Eo.pulsate,fakeElement:Io=!1}=Eo;if(Ao.type==="mousedown"&&fo.current){fo.current=!1;return}Ao.type==="touchstart"&&(fo.current=!0);const Mo=Io?null:go.current,wo=Mo?Mo.getBoundingClientRect():{width:0,height:0,left:0,top:0};let xo,bo,So;if(Co||Ao.clientX===0&&Ao.clientY===0||!Ao.clientX&&!Ao.touches)xo=Math.round(wo.width/2),bo=Math.round(wo.height/2);else{const{clientX:Do,clientY:Oo}=Ao.touches?Ao.touches[0]:Ao;xo=Math.round(Do-wo.left),bo=Math.round(Oo-wo.top)}if(Co)So=Math.sqrt((2*wo.width**2+wo.height**2)/3),So%2===0&&(So+=1);else{const Do=Math.max(Math.abs((Mo?Mo.clientWidth:0)-xo),xo)*2+2,Oo=Math.max(Math.abs((Mo?Mo.clientHeight:0)-bo),bo)*2+2;So=Math.sqrt(Do**2+Oo**2)}Ao.touches?vo.current===null&&(vo.current=()=>{mo({pulsate:No,rippleX:xo,rippleY:bo,rippleSize:So,cb:To})},po.current=setTimeout(()=>{vo.current&&(vo.current(),vo.current=null)},DELAY_RIPPLE)):mo({pulsate:No,rippleX:xo,rippleY:bo,rippleSize:So,cb:To})},[ro,mo]),ho=react$1.exports.useCallback(()=>{lo({},{pulsate:!0})},[lo]),yo=react$1.exports.useCallback((Ao,Eo)=>{if(clearTimeout(po.current),Ao.type==="touchend"&&vo.current){vo.current(),vo.current=null,po.current=setTimeout(()=>{yo(Ao,Eo)});return}vo.current=null,so(To=>To.length>0?To.slice(1):To),co.current=Eo},[]);return react$1.exports.useImperativeHandle(eo,()=>({pulsate:ho,start:lo,stop:yo}),[ho,lo,yo]),jsx(TouchRippleRoot,_extends({className:clsx(no.root,touchRippleClasses$1.root,io),ref:go},ao,{children:jsx(TransitionGroup$1,{component:null,exit:!0,children:oo})}))});var TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(va){return generateUtilityClass("MuiButtonBase",va)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]);var buttonBaseClasses$1=buttonBaseClasses;const _excluded$4=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$4=va=>{const{disabled:_a,focusVisible:eo,focusVisibleClassName:to,classes:ro}=va,io=composeClasses({root:["root",_a&&"disabled",eo&&"focusVisible"]},getButtonBaseUtilityClass,ro);return eo&&to&&(io.root+=` ${to}`),io},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(va,_a)=>_a.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=react$1.exports.forwardRef(function va(_a,eo){const to=useThemeProps({props:_a,name:"MuiButtonBase"}),{action:ro,centerRipple:no=!1,children:io,className:ao,component:oo="button",disabled:so=!1,disableRipple:uo=!1,disableTouchRipple:co=!1,focusRipple:fo=!1,LinkComponent:po="a",onBlur:vo,onClick:go,onContextMenu:mo,onDragLeave:lo,onFocus:ho,onFocusVisible:yo,onKeyDown:Ao,onKeyUp:Eo,onMouseDown:To,onMouseLeave:No,onMouseUp:Co,onTouchEnd:Io,onTouchMove:Mo,onTouchStart:wo,tabIndex:xo=0,TouchRippleProps:bo,touchRippleRef:So,type:Do}=to,Oo=_objectWithoutPropertiesLoose(to,_excluded$4),Bo=react$1.exports.useRef(null),$o=react$1.exports.useRef(null),Vo=useForkRef($o,So),{isFocusVisibleRef:Ho,onFocus:Fo,onBlur:Ko,ref:$s}=useIsFocusVisible(),[au,Ks]=react$1.exports.useState(!1);so&&au&&Ks(!1),react$1.exports.useImperativeHandle(ro,()=>({focusVisible:()=>{Ks(!0),Bo.current.focus()}}),[]),react$1.exports.useEffect(()=>{au&&fo&&!uo&&$o.current.pulsate()},[uo,fo,au]);function Gs(du,Jo,Eu=co){return useEventCallback(Du=>(Jo&&Jo(Du),!Eu&&$o.current&&$o.current[du](Du),!0))}const qs=Gs("start",To),lu=Gs("stop",mo),ou=Gs("stop",lo),ru=Gs("stop",Co),nu=Gs("stop",du=>{au&&du.preventDefault(),No&&No(du)}),su=Gs("start",wo),gu=Gs("stop",Io),Au=Gs("stop",Mo),$u=Gs("stop",du=>{Ko(du),Ho.current===!1&&Ks(!1),vo&&vo(du)},!1),ku=useEventCallback(du=>{Bo.current||(Bo.current=du.currentTarget),Fo(du),Ho.current===!0&&(Ks(!0),yo&&yo(du)),ho&&ho(du)}),Uo=()=>{const du=Bo.current;return oo&&oo!=="button"&&!(du.tagName==="A"&&du.href)},Yo=react$1.exports.useRef(!1),mu=useEventCallback(du=>{fo&&!Yo.current&&au&&$o.current&&du.key===" "&&(Yo.current=!0,$o.current.stop(du,()=>{$o.current.start(du)})),du.target===du.currentTarget&&Uo()&&du.key===" "&&du.preventDefault(),Ao&&Ao(du),du.target===du.currentTarget&&Uo()&&du.key==="Enter"&&!so&&(du.preventDefault(),go&&go(du))}),pu=useEventCallback(du=>{fo&&du.key===" "&&$o.current&&au&&!du.defaultPrevented&&(Yo.current=!1,$o.current.stop(du,()=>{$o.current.pulsate(du)})),Eo&&Eo(du),go&&du.target===du.currentTarget&&Uo()&&du.key===" "&&!du.defaultPrevented&&go(du)});let Su=oo;Su==="button"&&(Oo.href||Oo.to)&&(Su=po);const _u={};Su==="button"?(_u.type=Do===void 0?"button":Do,_u.disabled=so):(!Oo.href&&!Oo.to&&(_u.role="button"),so&&(_u["aria-disabled"]=so));const bu=useForkRef($s,Bo),Xu=useForkRef(eo,bu),[Qu,ju]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{ju(!0)},[]);const Mu=Qu&&!uo&&!so,Nu=_extends({},to,{centerRipple:no,component:oo,disabled:so,disableRipple:uo,disableTouchRipple:co,focusRipple:fo,tabIndex:xo,focusVisible:au}),wu=useUtilityClasses$4(Nu);return jsxs(ButtonBaseRoot,_extends({as:Su,className:clsx(wu.root,ao),ownerState:Nu,onBlur:$u,onClick:go,onContextMenu:lu,onFocus:ku,onKeyDown:mu,onKeyUp:pu,onMouseDown:qs,onMouseLeave:nu,onMouseUp:ru,onDragLeave:ou,onTouchEnd:gu,onTouchMove:Au,onTouchStart:su,ref:Xu,tabIndex:so?-1:xo,type:Do},_u,Oo,{children:[io,Mu?jsx(TouchRipple$1,_extends({ref:Vo,center:no},bo)):null]}))});var ButtonBase$1=ButtonBase;function getBottomNavigationUtilityClass(va){return generateUtilityClass("MuiBottomNavigation",va)}generateUtilityClasses("MuiBottomNavigation",["root"]);const _excluded$3=["children","className","component","onChange","showLabels","value"],useUtilityClasses$3=va=>{const{classes:_a}=va;return composeClasses({root:["root"]},getBottomNavigationUtilityClass,_a)},BottomNavigationRoot=styled$1("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(va,_a)=>_a.root})(({theme:va})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:va.palette.background.paper})),BottomNavigation=react$1.exports.forwardRef(function va(_a,eo){const to=useThemeProps({props:_a,name:"MuiBottomNavigation"}),{children:ro,className:no,component:io="div",onChange:ao,showLabels:oo=!1,value:so}=to,uo=_objectWithoutPropertiesLoose(to,_excluded$3),co=_extends({},to,{component:io,showLabels:oo}),fo=useUtilityClasses$3(co);return jsx(BottomNavigationRoot,_extends({as:io,className:clsx(fo.root,no),ref:eo,ownerState:co},uo,{children:react$1.exports.Children.map(ro,(po,vo)=>{if(!react$1.exports.isValidElement(po))return null;const go=po.props.value===void 0?vo:po.props.value;return react$1.exports.cloneElement(po,{selected:go===so,showLabel:po.props.showLabel!==void 0?po.props.showLabel:oo,value:go,onChange:ao})})}))});var BottomNavigation$1=BottomNavigation;function getBottomNavigationActionUtilityClass(va){return generateUtilityClass("MuiBottomNavigationAction",va)}const bottomNavigationActionClasses=generateUtilityClasses("MuiBottomNavigationAction",["root","iconOnly","selected","label"]);var bottomNavigationActionClasses$1=bottomNavigationActionClasses;const _excluded$2=["className","icon","label","onChange","onClick","selected","showLabel","value"],useUtilityClasses$2=va=>{const{classes:_a,showLabel:eo,selected:to}=va;return composeClasses({root:["root",!eo&&!to&&"iconOnly",to&&"selected"],label:["label",!eo&&!to&&"iconOnly",to&&"selected"]},getBottomNavigationActionUtilityClass,_a)},BottomNavigationActionRoot=styled$1(ButtonBase$1,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(va,_a)=>{const{ownerState:eo}=va;return[_a.root,!eo.showLabel&&!eo.selected&&_a.iconOnly]}})(({theme:va,ownerState:_a})=>_extends({transition:va.transitions.create(["color","padding-top"],{duration:va.transitions.duration.short}),padding:"6px 12px 8px",minWidth:80,maxWidth:168,color:va.palette.text.secondary,flexDirection:"column",flex:"1"},!_a.showLabel&&!_a.selected&&{paddingTop:16},{[`&.${bottomNavigationActionClasses$1.selected}`]:{paddingTop:6,color:va.palette.primary.main}})),BottomNavigationActionLabel=styled$1("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(va,_a)=>_a.label})(({theme:va,ownerState:_a})=>_extends({fontFamily:va.typography.fontFamily,fontSize:va.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!_a.showLabel&&!_a.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${bottomNavigationActionClasses$1.selected}`]:{fontSize:va.typography.pxToRem(14)}})),BottomNavigationAction=react$1.exports.forwardRef(function va(_a,eo){const to=useThemeProps({props:_a,name:"MuiBottomNavigationAction"}),{className:ro,icon:no,label:io,onChange:ao,onClick:oo,value:so}=to,uo=_objectWithoutPropertiesLoose(to,_excluded$2),co=to,fo=useUtilityClasses$2(co),po=vo=>{ao&&ao(vo,so),oo&&oo(vo)};return jsxs(BottomNavigationActionRoot,_extends({ref:eo,className:clsx(fo.root,ro),focusRipple:!0,onClick:po,ownerState:co},uo,{children:[no,jsx(BottomNavigationActionLabel,{className:fo.label,ownerState:co,children:io})]}))});var BottomNavigationAction$1=BottomNavigationAction;const defaultTheme=createTheme(),Box=createBox({defaultTheme,defaultClassName:"MuiBox-root",generateClassName:ClassNameGenerator$1.generate});var Box$1=Box;function getButtonUtilityClass(va){return generateUtilityClass("MuiButton",va)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var buttonClasses$1=buttonClasses;const ButtonGroupContext=react$1.exports.createContext({});var ButtonGroupContext$1=ButtonGroupContext;const _excluded$1=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$1=va=>{const{color:_a,disableElevation:eo,fullWidth:to,size:ro,variant:no,classes:io}=va,ao={root:["root",no,`${no}${capitalize(_a)}`,`size${capitalize(ro)}`,`${no}Size${capitalize(ro)}`,_a==="inherit"&&"colorInherit",eo&&"disableElevation",to&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(ro)}`],endIcon:["endIcon",`iconSize${capitalize(ro)}`]},oo=composeClasses(ao,getButtonUtilityClass,io);return _extends({},io,oo)},commonIconStyles=va=>_extends({},va.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},va.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},va.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:va=>rootShouldForwardProp(va)||va==="classes",name:"MuiButton",slot:"Root",overridesResolver:(va,_a)=>{const{ownerState:eo}=va;return[_a.root,_a[eo.variant],_a[`${eo.variant}${capitalize(eo.color)}`],_a[`size${capitalize(eo.size)}`],_a[`${eo.variant}Size${capitalize(eo.size)}`],eo.color==="inherit"&&_a.colorInherit,eo.disableElevation&&_a.disableElevation,eo.fullWidth&&_a.fullWidth]}})(({theme:va,ownerState:_a})=>_extends({},va.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:va.shape.borderRadius,transition:va.transitions.create(["background-color","box-shadow","border-color","color"],{duration:va.transitions.duration.short}),"&:hover":_extends({textDecoration:"none",backgroundColor:alpha(va.palette.text.primary,va.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},_a.variant==="text"&&_a.color!=="inherit"&&{backgroundColor:alpha(va.palette[_a.color].main,va.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},_a.variant==="outlined"&&_a.color!=="inherit"&&{border:`1px solid ${va.palette[_a.color].main}`,backgroundColor:alpha(va.palette[_a.color].main,va.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},_a.variant==="contained"&&{backgroundColor:va.palette.grey.A100,boxShadow:va.shadows[4],"@media (hover: none)":{boxShadow:va.shadows[2],backgroundColor:va.palette.grey[300]}},_a.variant==="contained"&&_a.color!=="inherit"&&{backgroundColor:va.palette[_a.color].dark,"@media (hover: none)":{backgroundColor:va.palette[_a.color].main}}),"&:active":_extends({},_a.variant==="contained"&&{boxShadow:va.shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends({},_a.variant==="contained"&&{boxShadow:va.shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends({color:va.palette.action.disabled},_a.variant==="outlined"&&{border:`1px solid ${va.palette.action.disabledBackground}`},_a.variant==="outlined"&&_a.color==="secondary"&&{border:`1px solid ${va.palette.action.disabled}`},_a.variant==="contained"&&{color:va.palette.action.disabled,boxShadow:va.shadows[0],backgroundColor:va.palette.action.disabledBackground})},_a.variant==="text"&&{padding:"6px 8px"},_a.variant==="text"&&_a.color!=="inherit"&&{color:va.palette[_a.color].main},_a.variant==="outlined"&&{padding:"5px 15px",border:`1px solid ${va.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},_a.variant==="outlined"&&_a.color!=="inherit"&&{color:va.palette[_a.color].main,border:`1px solid ${alpha(va.palette[_a.color].main,.5)}`},_a.variant==="contained"&&{color:va.palette.getContrastText(va.palette.grey[300]),backgroundColor:va.palette.grey[300],boxShadow:va.shadows[2]},_a.variant==="contained"&&_a.color!=="inherit"&&{color:va.palette[_a.color].contrastText,backgroundColor:va.palette[_a.color].main},_a.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},_a.size==="small"&&_a.variant==="text"&&{padding:"4px 5px",fontSize:va.typography.pxToRem(13)},_a.size==="large"&&_a.variant==="text"&&{padding:"8px 11px",fontSize:va.typography.pxToRem(15)},_a.size==="small"&&_a.variant==="outlined"&&{padding:"3px 9px",fontSize:va.typography.pxToRem(13)},_a.size==="large"&&_a.variant==="outlined"&&{padding:"7px 21px",fontSize:va.typography.pxToRem(15)},_a.size==="small"&&_a.variant==="contained"&&{padding:"4px 10px",fontSize:va.typography.pxToRem(13)},_a.size==="large"&&_a.variant==="contained"&&{padding:"8px 22px",fontSize:va.typography.pxToRem(15)},_a.fullWidth&&{width:"100%"}),({ownerState:va})=>va.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(va,_a)=>{const{ownerState:eo}=va;return[_a.startIcon,_a[`iconSize${capitalize(eo.size)}`]]}})(({ownerState:va})=>_extends({display:"inherit",marginRight:8,marginLeft:-4},va.size==="small"&&{marginLeft:-2},commonIconStyles(va))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(va,_a)=>{const{ownerState:eo}=va;return[_a.endIcon,_a[`iconSize${capitalize(eo.size)}`]]}})(({ownerState:va})=>_extends({display:"inherit",marginRight:-4,marginLeft:8},va.size==="small"&&{marginRight:-2},commonIconStyles(va))),Button=react$1.exports.forwardRef(function va(_a,eo){const to=react$1.exports.useContext(ButtonGroupContext$1),ro=resolveProps(to,_a),no=useThemeProps({props:ro,name:"MuiButton"}),{children:io,color:ao="primary",component:oo="button",className:so,disabled:uo=!1,disableElevation:co=!1,disableFocusRipple:fo=!1,endIcon:po,focusVisibleClassName:vo,fullWidth:go=!1,size:mo="medium",startIcon:lo,type:ho,variant:yo="text"}=no,Ao=_objectWithoutPropertiesLoose(no,_excluded$1),Eo=_extends({},no,{color:ao,component:oo,disabled:uo,disableElevation:co,disableFocusRipple:fo,fullWidth:go,size:mo,type:ho,variant:yo}),To=useUtilityClasses$1(Eo),No=lo&&jsx(ButtonStartIcon,{className:To.startIcon,ownerState:Eo,children:lo}),Co=po&&jsx(ButtonEndIcon,{className:To.endIcon,ownerState:Eo,children:po});return jsxs(ButtonRoot,_extends({ownerState:Eo,className:clsx(so,to.className),component:oo,disabled:uo,focusRipple:!fo,focusVisibleClassName:clsx(To.focusVisible,vo),ref:eo,type:ho},Ao,{classes:To,children:[No,io,Co]}))});var Button$1=Button;function getButtonGroupUtilityClass(va){return generateUtilityClass("MuiButtonGroup",va)}const buttonGroupClasses=generateUtilityClasses("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]);var buttonGroupClasses$1=buttonGroupClasses;const _excluded=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],overridesResolver=(va,_a)=>{const{ownerState:eo}=va;return[{[`& .${buttonGroupClasses$1.grouped}`]:_a.grouped},{[`& .${buttonGroupClasses$1.grouped}`]:_a[`grouped${capitalize(eo.orientation)}`]},{[`& .${buttonGroupClasses$1.grouped}`]:_a[`grouped${capitalize(eo.variant)}`]},{[`& .${buttonGroupClasses$1.grouped}`]:_a[`grouped${capitalize(eo.variant)}${capitalize(eo.orientation)}`]},{[`& .${buttonGroupClasses$1.grouped}`]:_a[`grouped${capitalize(eo.variant)}${capitalize(eo.color)}`]},_a.root,_a[eo.variant],eo.disableElevation===!0&&_a.disableElevation,eo.fullWidth&&_a.fullWidth,eo.orientation==="vertical"&&_a.vertical]},useUtilityClasses=va=>{const{classes:_a,color:eo,disabled:to,disableElevation:ro,fullWidth:no,orientation:io,variant:ao}=va,oo={root:["root",ao,io==="vertical"&&"vertical",no&&"fullWidth",ro&&"disableElevation"],grouped:["grouped",`grouped${capitalize(io)}`,`grouped${capitalize(ao)}`,`grouped${capitalize(ao)}${capitalize(io)}`,`grouped${capitalize(ao)}${capitalize(eo)}`,to&&"disabled"]};return composeClasses(oo,getButtonGroupUtilityClass,_a)},ButtonGroupRoot=styled$1("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver})(({theme:va,ownerState:_a})=>_extends({display:"inline-flex",borderRadius:va.shape.borderRadius},_a.variant==="contained"&&{boxShadow:va.shadows[2]},_a.disableElevation&&{boxShadow:"none"},_a.fullWidth&&{width:"100%"},_a.orientation==="vertical"&&{flexDirection:"column"},{[`& .${buttonGroupClasses$1.grouped}`]:_extends({minWidth:40,"&:not(:first-of-type)":_extends({},_a.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},_a.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},_a.variant==="outlined"&&_a.orientation==="horizontal"&&{marginLeft:-1},_a.variant==="outlined"&&_a.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":_extends({},_a.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},_a.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},_a.variant==="text"&&_a.orientation==="horizontal"&&{borderRight:`1px solid ${va.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},_a.variant==="text"&&_a.orientation==="vertical"&&{borderBottom:`1px solid ${va.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},_a.variant==="text"&&_a.color!=="inherit"&&{borderColor:alpha(va.palette[_a.color].main,.5)},_a.variant==="outlined"&&_a.orientation==="horizontal"&&{borderRightColor:"transparent"},_a.variant==="outlined"&&_a.orientation==="vertical"&&{borderBottomColor:"transparent"},_a.variant==="contained"&&_a.orientation==="horizontal"&&{borderRight:`1px solid ${va.palette.grey[400]}`,[`&.${buttonGroupClasses$1.disabled}`]:{borderRight:`1px solid ${va.palette.action.disabled}`}},_a.variant==="contained"&&_a.orientation==="vertical"&&{borderBottom:`1px solid ${va.palette.grey[400]}`,[`&.${buttonGroupClasses$1.disabled}`]:{borderBottom:`1px solid ${va.palette.action.disabled}`}},_a.variant==="contained"&&_a.color!=="inherit"&&{borderColor:va.palette[_a.color].dark},{"&:hover":_extends({},_a.variant==="outlined"&&_a.orientation==="horizontal"&&{borderRightColor:"currentColor"},_a.variant==="outlined"&&_a.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":_extends({},_a.variant==="contained"&&{boxShadow:"none"})},_a.variant==="contained"&&{boxShadow:"none"})})),ButtonGroup=react$1.exports.forwardRef(function va(_a,eo){const to=useThemeProps({props:_a,name:"MuiButtonGroup"}),{children:ro,className:no,color:io="primary",component:ao="div",disabled:oo=!1,disableElevation:so=!1,disableFocusRipple:uo=!1,disableRipple:co=!1,fullWidth:fo=!1,orientation:po="horizontal",size:vo="medium",variant:go="outlined"}=to,mo=_objectWithoutPropertiesLoose(to,_excluded),lo=_extends({},to,{color:io,component:ao,disabled:oo,disableElevation:so,disableFocusRipple:uo,disableRipple:co,fullWidth:fo,orientation:po,size:vo,variant:go}),ho=useUtilityClasses(lo),yo=react$1.exports.useMemo(()=>({className:ho.grouped,color:io,disabled:oo,disableElevation:so,disableFocusRipple:uo,disableRipple:co,fullWidth:fo,size:vo,variant:go}),[io,oo,so,uo,co,fo,vo,go,ho.grouped]);return jsx(ButtonGroupRoot,_extends({as:ao,role:"group",className:clsx(ho.root,no),ref:eo,ownerState:lo},mo,{children:jsx(ButtonGroupContext$1.Provider,{value:yo,children:ro})}))});var ButtonGroup$1=ButtonGroup,DirectionsWalk={},interopRequireDefault={exports:{}};(function(va){function _a(eo){return eo&&eo.__esModule?eo:{default:eo}}va.exports=_a,va.exports.__esModule=!0,va.exports.default=va.exports})(interopRequireDefault);var createSvgIcon={},require$$0=getAugmentedNamespace(utils);(function(va){Object.defineProperty(va,"__esModule",{value:!0}),Object.defineProperty(va,"default",{enumerable:!0,get:function(){return _a.createSvgIcon}});var _a=require$$0})(createSvgIcon);var require$$2=getAugmentedNamespace(jsxRuntime),_interopRequireDefault$1=interopRequireDefault.exports;Object.defineProperty(DirectionsWalk,"__esModule",{value:!0});var default_1$1=DirectionsWalk.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(createSvgIcon),_jsxRuntime$1=require$$2,_default$1=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9 7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"}),"DirectionsWalk");default_1$1=DirectionsWalk.default=_default$1;var ViewInAr={},_interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(ViewInAr,"__esModule",{value:!0});var default_1=ViewInAr.default=void 0,_createSvgIcon=_interopRequireDefault(createSvgIcon),_jsxRuntime=require$$2,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"m18.25 7.6-5.5-3.18c-.46-.27-1.04-.27-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3zM7 14.96v-4.62l4 2.32v4.61l-4-2.31zm5-4.03L8 8.61l4-2.31 4 2.31-4 2.32zm1 6.34v-4.61l4-2.32v4.62l-4 2.31zM7 2H3.5C2.67 2 2 2.67 2 3.5V7h2V4h3V2zm10 0h3.5c.83 0 1.5.67 1.5 1.5V7h-2V4h-3V2zM7 22H3.5c-.83 0-1.5-.67-1.5-1.5V17h2v3h3v2zm10 0h3.5c.83 0 1.5-.67 1.5-1.5V17h-2v3h-3v2z"}),"ViewInAr");default_1=ViewInAr.default=_default;export{HtmlTag as $,AmbientLight as A,Box$1 as B,Color as C,DirectionalLight as D,assign$1 as E,Five as F,Group$1 as G,create_component as H,mount_component as I,get_spread_update as J,transition_in as K,transition_out as L,Mesh as M,destroy_component as N,Object3D as O,PerspectiveCamera as P,empty as Q,ReactDOM as R,Scene as S,TextureLoader as T,group_outros as U,Vector3 as V,WebGLRenderer as W,check_outros as X,add_render_callback as Y,add_resize_listener as Z,src_url_equal as _,unsafe__useFiveInstance as a,svg_element as a0,listen as a1,outro_and_destroy_block as a2,Vector2 as a3,binding_callbacks as a4,text as a5,toggle_class as a6,set_data as a7,Raycaster as a8,useFiveEventCallback as a9,CircleGeometry as aA,Paper$1 as aa,BottomNavigation$1 as ab,BottomNavigationAction$1 as ac,default_1$1 as ad,default_1 as ae,destroy_each as af,create_in_transition as ag,identity as ah,fade as ai,Matrix4 as aj,Euler as ak,FBXLoader as al,DoubleSide as am,AdditiveBlending as an,MeshBasicMaterial as ao,CanvasTexture as ap,AnimationMixer as aq,CSS3DRenderer as ar,CSS3DObject as as,PlaneGeometry as at,Tween as au,Easing as av,ButtonGroup$1 as aw,Button$1 as ax,Subscribe as ay,THREE as az,useFiveModelReadyState as b,createFiveProvider as c,jsxs as d,FiveCanvas as e,exports as f,SvelteComponent as g,safe_not_equal as h,init as i,jsx as j,element as k,attr as l,set_style as m,insert as n,append$1 as o,parseWork as p,noop$1 as q,react$1 as r,sRGBEncoding as s,detach as t,useFiveState as u,onMount as v,onDestroy as w,space as x,update_keyed_each as y,destroy_block as z};
