import{u as m,D as p}from"./useFetchDatas-f7287a8d.js";import{r,u as h,a as w,b as F,aN as P,F as s,j as e,aO as b,d as f,aP as L,aQ as u,aR as _,aS as x,c as S,p as R,e as M,B as E,aM as O}from"./vendor-0279cb68.js";import{a as A}from"./index.es-7421fa40.js";import{g as D}from"./getInitialParamFromUrl-141e6748.js";function d(){return{width:window.innerWidth,height:window.innerHeight}}function z(){const[t,a]=r.exports.useState(d);return r.exports.useEffect(()=>{const o=()=>a(d());return window.addEventListener("resize",o,!1),()=>window.removeEventListener("resize",o,!1)}),t}const B=t=>{const[a,o]=h(),l=w(),v=F(),n=m(p.MODEL_ROOM_LABEL_PLUGIN_DATA);return r.exports.useEffect(()=>{const i=document.querySelector(".plugin-full-screen-container");i&&l.plugins.modelRoomLabelPlugin.appendTo(i)},[]),P("modelLoaded",()=>{!n||(l.plugins.modelRoomLabelPlugin.load(n),o({mode:s.Mode.Floorplan}))},[n]),v!=="Loaded"?null:e(b,{sx:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"transparent"},className:"model-roomlabel-plugin-show",children:f(L,{showLabels:!0,value:a.mode,onChange:(i,g)=>{o({mode:g})},children:[e(u,{label:"\u5168\u666F\u6F2B\u6E38",icon:e(_,{}),value:s.Mode.Panorama}),e(u,{label:"\u7A7A\u95F4\u603B\u89C8",icon:e(x,{}),value:s.Mode.Floorplan})]})})},N={},c=D(),y=JSON.stringify(c)!=="{}"?c:N,W=S({imageOptions:{size:512},textureOptions:{size:512},plugins:[[A,"modelRoomLabelPlugin",{...y}]]}),k=()=>{const t=z(),a=m(p.WORK);return a&&f(W,{initialWork:R(a),ref:o=>Object.assign(window,{$five:o?.five}),children:[e(M,{...t}),e(E,{className:"plugin-full-screen-container",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),e(B,{})]})};O.render(e(k,{}),document.querySelector("#app"));
