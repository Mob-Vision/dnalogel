import{u as a,D as r}from"./useFetchDatas-f7287a8d.js";import{r as i,a as u,aN as c,c as d,d as l,p,j as t,e as f,B as m,aM as v}from"./vendor-0279cb68.js";import{f as w}from"./index.es-7421fa40.js";function o(){return{width:window.innerWidth,height:window.innerHeight}}function _(){const[s,e]=i.exports.useState(o);return i.exports.useEffect(()=>{const n=()=>e(o());return window.addEventListener("resize",n,!1),()=>window.removeEventListener("resize",n,!1)}),s}const g=()=>{const s=u(),e=a(r.FLOOR_PLAN_SERVER_PLUGIN_DATA);return c("modelLoaded",async()=>{if(!e||JSON.stringify(e)==="{}")return;const n=e?.computed_data?.entrance?.north_rad;await s.plugins.panoCompassPlugin.load({north_rad:n})},[e]),null},h=d({imageOptions:{size:512},textureOptions:{size:512},onlyRenderIfNeeds:!0,plugins:[[w,"panoCompassPlugin",{}]]}),P=()=>{const s=_(),e=a(r.WORK);return e&&l(h,{initialWork:p(e),ref:n=>Object.assign(window,{$five:n?.five}),children:[t(f,{...s}),t(m,{className:"plugin-full-screen-container",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),t(g,{})]})};v.render(t(P,{}),document.querySelector("#app"));
