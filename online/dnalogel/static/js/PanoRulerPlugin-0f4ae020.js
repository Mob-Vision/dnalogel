import{u as l,D as d}from"./useFetchDatas-f7287a8d.js";import{r as o,b as m,a as v,aN as R,j as a,B as _,aO as g,aU as x,c as w,d as b,p as h,e as P,aM as E}from"./vendor-0279cb68.js";import{g as F}from"./index.es-7421fa40.js";function u(){return{width:window.innerWidth,height:window.innerHeight}}function A(){const[r,n]=o.exports.useState(u);return o.exports.useEffect(()=>{const t=()=>n(u());return window.addEventListener("resize",t,!1),()=>window.removeEventListener("resize",t,!1)}),r}const D=r=>{const n=m(),e=v().plugins.panoRulerPlugin,s=l(d.PANO_RULER_PLUGIN_SERVER_DATA,"pWLy9nekmQdMXqja"),[c,i]=o.exports.useState(e.state.enable);R("modelLoaded",async()=>{!s.pano_ruler_data.roomInfo||!s.pano_ruler_data.roomRules||(await e.load(s.pano_ruler_data.roomInfo,s.pano_ruler_data.roomRules,{distanceText:f=>`\u7EA6 ${f.toFixed(1)}\u7C73`}),e.enable(),i(e.state.enable))},[s]);const p=()=>{e[e.state.enable?"disable":"enable"](),i(e.state.enable)};return n!=="Loaded"?null:a(_,{children:a(g,{sx:{position:"fixed",top:"10px",right:"10px",backgroundColor:"transparent"},children:a(x,{onClick:p,children:c?"\u5173\u95ED\u6807\u5C3A":"\u5F00\u542F\u6807\u5C3A"})})})},k=w({imageOptions:{size:512},textureOptions:{size:512},onlyRenderIfNeeds:!0,plugins:[[F,"panoRulerPlugin",{}]]}),y=()=>{const r=A(),n=l(d.WORK,"pWLy9nekmQdMXqja");return n&&b(k,{initialWork:h(n),ref:t=>Object.assign(window,{$five:t?.five}),children:[a(P,{...r}),a(D,{})]})};E.render(a(y,{}),document.querySelector("#app"));
