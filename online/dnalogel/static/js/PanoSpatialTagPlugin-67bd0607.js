import{u as m,D as g}from"./useFetchDatas-f7287a8d.js";import{r,u as b,a as u,b as P,F as s,j as a,B as S,c as y,d as M,p as F,e as z,f as _}from"./vendor-0279cb68.js";import{i as k,M as T}from"./index.es-7421fa40.js";import{g as D}from"./getInitialParamFromUrl-141e6748.js";function l(){return{width:window.innerWidth,height:window.innerHeight}}function E(){const[e,t]=r.exports.useState(l);return r.exports.useEffect(()=>{const i=()=>t(l());return window.addEventListener("resize",i,!1),()=>window.removeEventListener("resize",i,!1)}),e}const j=()=>{const[e,t]=b(),i=u(),n=r.exports.useRef(null),o=P();return r.exports.useEffect(()=>{!n.current||e.mode!==s.Mode.Panorama||i.plugins.modelViewPlugin.appendTo(n.current,{width:90,height:120})},[e.mode,o]),e.mode!==s.Mode.Panorama||o!=="Loaded"?null:a(S,{onClick:()=>t({mode:"Floorplan"}),sx:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"60px",right:"20px",padding:"10px",width:"110px",height:"140px",boxSizing:"border-box",backgroundColor:"rgba(0, 0, 0, .2)"},ref:n})},W=()=>{const e=u(),t=m(g.MODEL_TAG,"81gmMq5eXl5I9y7JMk");return r.exports.useEffect(()=>{if(!t)return;const i=t.map(n=>{const{id:o,position:c,normal:f,weight:v,name:h,price:w,brand:x}=n;return{id:o,position:c,normal:f,weight:v,replacement:{name:h,price:w,brand:x}}});e.plugins.panoSpatialTagPlugin.load({points:i,template:`
            <div class="tag-wrapper" style="pointer-events: auto;">
              <%if (brand) {%><div style="background:url('//vrlab-static.ljcdn.com/release/web/brand_bg.15e354d0.png') no-repeat;background-size:100% 100%;box-shadow: 0 -0.625rem 0.625rem 0 rgba(0, 0, 0, 0.1);
                border-radius: 0.0625rem;overflow: hidden;font-size: 0.6875rem;padding:0.125rem;width:max-content;margin-bottom:0.375rem;line-height:1;">
                <%= brand %>
              </div><% } %>
              <div style="max-width:7rem;overflow:hidden;white-space: nowrap;text-overflow: ellipsis;line-height:1;margin-bottom:0.375rem;"><%= name %></div>
              <%if (price) {%><div style="display:flex;align-items:center;font-family: Helvetica;font-size: 0.9375rem;font-weight:600;line-height:1;color: #ffdda1;text-shadow: 0 0.125rem 0.5rem rgba(0, 0, 0, 0.1);">
                <svg height="12" viewBox="0 0 10 12" width="10" xmlns="http://www.w3.org/2000/svg">
                  <path d="m6.30970149 6.49402985h1.82910448v1.2761194h-2.12686567v3.50223885h-2.45298508v-3.50223885h-2.12686567v-1.2761194h1.82910448l-3.26119403-6.49402985h2.60895522l2.16940299 5.3738806 2.2119403-5.3738806h2.50970149z" fill="#ffdda1" transform="translate(.182 .682)"/>
                </svg>
                <span><%= price %></span>
              </div>
              <% } %>
            </div>`,events:{"tag-wrapper":n=>{e.plugins.panoSpatialTagPlugin.fold(n)}}})},[t]),null},I={},d=D(),p=JSON.stringify(d)!=="{}"?d:I,R=y({plugins:[[k,"panoSpatialTagPlugin",{...p}],[T,"modelViewPlugin",{...p}]]}),A=()=>{const e=E(),t=m(g.WORK,"81gmMq5eXl5I9y7JMk");return t&&M(R,{initialWork:F(t),ref:i=>Object.assign(window,{$five:i?.five}),children:[a(z,{...e}),a(W,{}),a(j,{})]})};_.exports.render(a(A,{}),document.querySelector("#app"));
