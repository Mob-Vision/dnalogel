import{u as d,D as c}from"./useFetchDatas-f7287a8d.js";import{r as t,u as m,a as g,F as s,j as a,B as P,c as v,d as x,p as F,e as w,aM as h}from"./vendor-0279cb68.js";import{P as R}from"./index.es-7421fa40.js";import{g as S}from"./getInitialParamFromUrl-141e6748.js";function p(){return{width:window.innerWidth,height:window.innerHeight}}function _(){const[n,o]=t.exports.useState(p);return t.exports.useEffect(()=>{const e=()=>o(p());return window.addEventListener("resize",e,!1),()=>window.removeEventListener("resize",e,!1)}),n}const E=()=>{const[n,o]=m(),e=d(c.FLOOR_PLAN_SERVER_PLUGIN_DATA),r=t.exports.useRef(null),[f,i]=t.exports.useState(!1),l=g().plugins.panoFloorplanRadarPlugin;return t.exports.useEffect(()=>{!r.current||n.mode!==s.Mode.Panorama||l.appendTo(r.current)},[]),t.exports.useEffect(()=>{!e||JSON.stringify(e)==="{}"||l.load(e)},[e]),t.exports.useEffect(()=>{n.mode===s.Mode.Panorama?i(!0):i(!1)},[n.mode]),a(P,{onClick:()=>o({mode:s.Mode.Floorplan}),sx:{display:`${f?"flex":"none"}`,justifyContent:"center",alignItems:"center",position:"absolute",top:"60px",right:"20px",padding:"10px",width:"90px",height:"120px",backgroundColor:"rgba(0, 0, 0, .2)"},ref:r})},O={},u=S(),D=JSON.stringify(u)!=="{}"?u:O,z=v({imageOptions:{size:512},textureOptions:{size:512},plugins:[[R,"panoFloorplanRadarPlugin",{...D}]]}),b=()=>{const n=_(),o=d(c.WORK);return o&&x(z,{initialWork:F(o),ref:e=>Object.assign(window,{$five:e?.five}),children:[a(w,{...n}),a(E,{})]})};h.render(a(b,{}),document.querySelector("#app"));
