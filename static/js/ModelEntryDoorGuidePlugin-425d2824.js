import{u as c,D as m}from"./useFetchDatas-f7287a8d.js";import{r as s,u as p,a as D,b as P,aN as E,F as a,j as e,aO as F,d as f,aP as _,aQ as l,aR as w,aS as b,c as h,p as x,e as y,f as S}from"./vendor-0279cb68.js";import{c as O}from"./index.es-7421fa40.js";import{g as A}from"./getInitialParamFromUrl-141e6748.js";function u(){return{width:window.innerWidth,height:window.innerHeight}}function M(){const[n,o]=s.exports.useState(u);return s.exports.useEffect(()=>{const i=()=>o(u());return window.addEventListener("resize",i,!1),()=>window.removeEventListener("resize",i,!1)}),n}const G=()=>{const[n,o]=p(),i=D(),v=P(),t=c(m.MODEL_ENTRY_DOOR_GUIDE_PLUGIN_SERVER_DATA);return E("modelLoaded",async()=>{if(!t||JSON.stringify(t)==="{}")return;const r={fbx_url:"//vrlab-image4.ljcdn.com/release/web/entryDoorMini/Anim_Door1.fbx",position:t?.position,rad:t?.rad};await i.plugins.modelEntryDoorGuidePlugin.load(r),o({mode:a.Mode.Floorplan,fov:80,latitude:-.06631286321852166,longitude:2.424613849671955,panoIndex:0}),i.plugins.modelEntryDoorGuidePlugin.enable({animationEnable:!1})},[t]),v!=="Loaded"?null:e(F,{sx:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"transparent"},children:f(_,{showLabels:!0,value:n.mode,onChange:(r,g)=>{o({mode:g})},children:[e(l,{label:"\u5168\u666F\u6F2B\u6E38",icon:e(w,{}),value:a.Mode.Panorama}),e(l,{label:"\u7A7A\u95F4\u603B\u89C8",icon:e(b,{}),value:a.Mode.Floorplan})]})})},R={},d=A(),z=JSON.stringify(d)!=="{}"?d:R,L=h({imageOptions:{size:512},textureOptions:{size:512},plugins:[[O,"modelEntryDoorGuidePlugin",{...z}]]}),N=()=>{const n=M(),o=c(m.WORK);return o&&f(L,{initialWork:x(o),ref:i=>Object.assign(window,{$five:i?.five}),children:[e(y,{...n}),e(G,{})]})};S.exports.render(e(N,{}),document.querySelector("#app"));
